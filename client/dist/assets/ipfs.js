var Ipfs=function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=807)}([function(module,exports,__webpack_require__){"use strict";(function(Buffer,global){function typedArraySupport(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()&&"function"==typeof arr.subarray&&0===arr.subarray(1,1).byteLength}catch(e){return!1}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(that=new Uint8Array(length),that.__proto__=Buffer.prototype):(null===that&&(that=new Buffer(length)),that.length=length),that}function Buffer(arg,encodingOrOffset,length){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(arg,encodingOrOffset,length);if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}function from(that,value,encodingOrOffset,length){if("number"==typeof value)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer?fromArrayBuffer(that,value,encodingOrOffset,length):"string"==typeof value?fromString(that,value,encodingOrOffset):fromObject(that,value)}function assertSize(size){if("number"!=typeof size)throw new TypeError('"size" argument must be a number')}function alloc(that,size,fill,encoding){return assertSize(size),size<=0?createBuffer(that,size):void 0!==fill?"string"==typeof encoding?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill):createBuffer(that,size)}function allocUnsafe(that,size){if(assertSize(size),that=createBuffer(that,size<0?0:0|checked(size)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;i<size;++i)that[i]=0;return that}function fromString(that,string,encoding){if("string"==typeof encoding&&""!==encoding||(encoding="utf8"),!Buffer.isEncoding(encoding))throw new TypeError('"encoding" must be a valid string encoding');var length=0|byteLength(string,encoding);that=createBuffer(that,length);var actual=that.write(string,encoding);return actual!==length&&(that=that.slice(0,actual)),that}function fromArrayLike(that,array){var length=0|checked(array.length);that=createBuffer(that,length);for(var i=0;i<length;i+=1)that[i]=255&array[i];return that}function fromArrayBuffer(that,array,byteOffset,length){if(array.byteLength,byteOffset<0||array.byteLength<byteOffset)throw new RangeError("'offset' is out of bounds");if(array.byteLength<byteOffset+(length||0))throw new RangeError("'length' is out of bounds");return array=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length),Buffer.TYPED_ARRAY_SUPPORT?(that=array,that.__proto__=Buffer.prototype):that=fromArrayLike(that,array),that}function fromObject(that,obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length);return that=createBuffer(that,len),0===that.length?that:(obj.copy(that,0,0,len),that)}if(obj){if("undefined"!=typeof ArrayBuffer&&obj.buffer instanceof ArrayBuffer||"length"in obj)return"number"!=typeof obj.length||isnan(obj.length)?createBuffer(that,0):fromArrayLike(that,obj);if("Buffer"===obj.type&&isArray(obj.data))return fromArrayLike(that,obj.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(length){if(length>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|length}function SlowBuffer(length){return+length!=length&&(length=0),Buffer.alloc(+length)}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer))return string.byteLength;"string"!=typeof string&&(string=""+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":case void 0:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function slowToString(encoding,start,end){var loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length)return"";if((void 0===end||end>this.length)&&(end=this.length),end<=0)return"";if(end>>>=0,start>>>=0,end<=start)return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),byteOffset=+byteOffset,isNaN(byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val=255&val,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}var indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&(encoding=String(encoding).toLowerCase(),"ucs2"===encoding||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,foundIndex===-1?0:i-foundIndex)){if(foundIndex===-1&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else foundIndex!==-1&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length),length>remaining&&(length=remaining)):length=remaining;var strLen=string.length;if(strLen%2!==0)throw new TypeError("Invalid hex string");length>strLen/2&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:secondByte=buf[i+1],128===(192&secondByte)&&(tempCodePoint=(31&firstByte)<<6|63&secondByte,tempCodePoint>127&&(codePoint=tempCodePoint));break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128===(192&secondByte)&&128===(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte,tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint));break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128===(192&secondByte)&&128===(192&thirdByte)&&128===(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte,tempCodePoint>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint))}}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return decodeCodePointsArray(res)}function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,codePoints);for(var res="",i=0;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out="",i=start;i<end;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function objectWriteUInt16(buf,value,offset,littleEndian){value<0&&(value=65535+value+1);for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){value<0&&(value=4294967295+value+1);for(var i=0,j=Math.min(buf.length-offset,4);i<j;++i)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}function base64clean(str){if(str=stringtrim(str).replace(INVALID_BASE64_RE,""),str.length<2)return"";for(;str.length%4!==0;)str+="=";return str}function stringtrim(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}function toHex(n){return n<16?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){units=units||1/0;for(var codePoint,length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if(codePoint=string.charCodeAt(i),codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}function utf16leToBytes(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}function isnan(val){return val!==val}var base64=__webpack_require__(378),ieee754=__webpack_require__(649),isArray=__webpack_require__(34);exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:typedArraySupport(),exports.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(arr){return arr.__proto__=Buffer.prototype,arr},Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(size,fill,encoding){return alloc(null,size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)},Buffer.isBuffer=function(b){return!(null==b||!b._isBuffer)},Buffer.compare=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(len%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(len%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(len%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){var length=0|this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString("hex",0,max).match(/.{2}/g).join(" "),this.length>max&&(str+=" ... ")),"<Buffer "+str+">"},Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target))throw new TypeError("Argument must be a Buffer");if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(start>>>=0,end>>>=0,thisStart>>>=0,thisEnd>>>=0,this===target)return 0;for(var x=thisEnd-thisStart,y=end-start,len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return this.indexOf(val,byteOffset,encoding)!==-1},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset=0|offset,isFinite(length)?(length=0|length,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(start,end){var len=this.length;start=~~start,end=void 0===end?len:~~end,start<0?(start+=len,start<0&&(start=0)):start>len&&(start=len),end<0?(end+=len,end<0&&(end=0)):end>len&&(end=len),end<start&&(end=start);var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT)newBuf=this.subarray(start,end),newBuf.__proto__=Buffer.prototype;else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,(void 0));for(var i=0;i<sliceLen;++i)newBuf[i]=this[i+start]}return newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),128&this[offset]?(255-this[offset]+1)*-1:this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,byteLength=0|byteLength,!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,byteLength=0|byteLength,!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&start<targetStart&&targetStart<end)for(i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<len;++i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),1===val.length){var code=val.charCodeAt(0);code<256&&(val=code)}if(void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding)}else"number"==typeof val&&(val=255&val);if(start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0);var i;if("number"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString()),len=bytes.length;for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g}).call(exports,__webpack_require__(0).Buffer,__webpack_require__(9))},function(module,exports,__webpack_require__){var global=__webpack_require__(11),core=__webpack_require__(45),hide=__webpack_require__(30),redefine=__webpack_require__(31),ctx=__webpack_require__(46),PROTOTYPE="prototype",$export=function(type,name,source){var key,own,out,exp,IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,target=IS_GLOBAL?global:IS_STATIC?global[name]||(global[name]={}):(global[name]||{})[PROTOTYPE],exports=IS_GLOBAL?core:core[name]||(core[name]={}),expProto=exports[PROTOTYPE]||(exports[PROTOTYPE]={});
IS_GLOBAL&&(source=name);for(key in source)own=!IS_FORCED&&target&&void 0!==target[key],out=(own?target:source)[key],exp=IS_BIND&&own?ctx(out,global):IS_PROTO&&"function"==typeof out?ctx(Function.call,out):out,target&&redefine(target,key,out,type&$export.U),exports[key]!=out&&hide(exports,key,exp),IS_PROTO&&expProto[key]!=out&&(expProto[key]=out)};global.core=core,$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export},function(module,exports){"function"==typeof Object.create?module.exports=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},function(module,exports){function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,runClearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var cachedSetTimeout,cachedClearTimeout,process=module.exports={};!function(){try{cachedSetTimeout=setTimeout}catch(e){cachedSetTimeout=function(){throw new Error("setTimeout is not defined")}}try{cachedClearTimeout=clearTimeout}catch(e){cachedClearTimeout=function(){throw new Error("clearTimeout is not defined")}}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},function(module,exports,__webpack_require__){(function(Buffer){function isArray(arg){return Array.isArray?Array.isArray(arg):"[object Array]"===objectToString(arg)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return"[object Date]"===objectToString(d)}function isError(e){return"[object Error]"===objectToString(e)||e instanceof Error}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||"undefined"==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=Buffer.isBuffer}).call(exports,__webpack_require__(0).Buffer)},function(module,exports){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(er=arguments[1],er instanceof Error)throw er;var err=new Error('Uncaught, unspecified "error" event. ('+er+")");throw err.context=er,err}if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1),handler.apply(this,args)}else if(isObject(handler))for(args=Array.prototype.slice.call(arguments,1),listeners=handler.slice(),len=listeners.length,i=0;i<len;i++)listeners[i].apply(this,args);return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned&&(m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),"function"==typeof console.trace&&console.trace())),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i-- >0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(position<0)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else if(listeners)for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;if(evlistener)return evlistener.length}return 0},EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)}},function(module,exports,__webpack_require__){function Stream(){EE.call(this)}module.exports=Stream;var EE=__webpack_require__(5).EventEmitter,inherits=__webpack_require__(2);inherits(Stream,EE),Stream.Readable=__webpack_require__(772),Stream.Writable=__webpack_require__(774),Stream.Duplex=__webpack_require__(770),Stream.Transform=__webpack_require__(773),Stream.PassThrough=__webpack_require__(771),Stream.Stream=Stream,Stream.prototype.pipe=function(dest,options){function ondata(chunk){dest.writable&&!1===dest.write(chunk)&&source.pause&&source.pause()}function ondrain(){source.readable&&source.resume&&source.resume()}function onend(){didOnEnd||(didOnEnd=!0,dest.end())}function onclose(){didOnEnd||(didOnEnd=!0,"function"==typeof dest.destroy&&dest.destroy())}function onerror(er){if(cleanup(),0===EE.listenerCount(this,"error"))throw er}function cleanup(){source.removeListener("data",ondata),dest.removeListener("drain",ondrain),source.removeListener("end",onend),source.removeListener("close",onclose),source.removeListener("error",onerror),dest.removeListener("error",onerror),source.removeListener("end",cleanup),source.removeListener("close",cleanup),dest.removeListener("close",cleanup)}var source=this;source.on("data",ondata),dest.on("drain",ondrain),dest._isStdio||options&&options.end===!1||(source.on("end",onend),source.on("close",onclose));var didOnEnd=!1;return source.on("error",onerror),dest.on("error",onerror),source.on("end",cleanup),source.on("close",cleanup),dest.on("close",cleanup),dest.emit("pipe",source),dest}},function(module,exports,__webpack_require__){"use strict";(function(process){function nextTick(fn,arg1,arg2,arg3){if("function"!=typeof fn)throw new TypeError('"callback" argument must be a function');var args,i,len=arguments.length;switch(len){case 0:case 1:return process.nextTick(fn);case 2:return process.nextTick(function(){fn.call(null,arg1)});case 3:return process.nextTick(function(){fn.call(null,arg1,arg2)});case 4:return process.nextTick(function(){fn.call(null,arg1,arg2,arg3)});default:for(args=new Array(len-1),i=0;i<args.length;)args[i++]=arguments[i];return process.nextTick(function(){fn.apply(null,args)})}}!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?module.exports=nextTick:module.exports=process.nextTick}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){var isObject=__webpack_require__(15);module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},function(module,exports){var g;g=function(){return this}();try{g=g||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(g=window)}module.exports=g},function(module,exports,__webpack_require__){function useColors(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function formatArgs(){var args=arguments,useColors=this.useColors;if(args[0]=(useColors?"%c":"")+this.namespace+(useColors?" %c":" ")+args[0]+(useColors?"%c ":" ")+"+"+exports.humanize(this.diff),!useColors)return args;var c="color: "+this.color;args=[args[0],c,"color: inherit"].concat(Array.prototype.slice.call(args,1));var index=0,lastC=0;return args[0].replace(/%[a-z%]/g,function(match){"%%"!==match&&(index++,"%c"===match&&(lastC=index))}),args.splice(lastC,0,c),args}function log(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(namespaces){try{null==namespaces?exports.storage.removeItem("debug"):exports.storage.debug=namespaces}catch(e){}}function load(){var r;try{r=exports.storage.debug}catch(e){}return r}function localstorage(){try{return window.localStorage}catch(e){}}exports=module.exports=__webpack_require__(581),exports.log=log,exports.formatArgs=formatArgs,exports.save=save,exports.load=load,exports.useColors=useColors,exports.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:localstorage(),exports.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],exports.formatters.j=function(v){return JSON.stringify(v)},exports.enable(load())},function(module,exports){var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global)},function(module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return!0}}},function(module,exports,__webpack_require__){function assertEncoding(encoding){if(encoding&&!isBufferEncoding(encoding))throw new Error("Unknown encoding: "+encoding)}function passThroughWrite(buffer){return buffer.toString(this.encoding)}function utf16DetectIncompleteChar(buffer){this.charReceived=buffer.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(buffer){this.charReceived=buffer.length%3,this.charLength=this.charReceived?3:0}var Buffer=__webpack_require__(0).Buffer,isBufferEncoding=Buffer.isEncoding||function(encoding){switch(encoding&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},StringDecoder=exports.StringDecoder=function(encoding){switch(this.encoding=(encoding||"utf8").toLowerCase().replace(/[-_]/,""),assertEncoding(encoding),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:return void(this.write=passThroughWrite)}this.charBuffer=new Buffer(6),this.charReceived=0,this.charLength=0};StringDecoder.prototype.write=function(buffer){for(var charStr="";this.charLength;){var available=buffer.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:buffer.length;if(buffer.copy(this.charBuffer,this.charReceived,0,available),this.charReceived+=available,this.charReceived<this.charLength)return"";buffer=buffer.slice(available,buffer.length),charStr=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var charCode=charStr.charCodeAt(charStr.length-1);if(!(charCode>=55296&&charCode<=56319)){if(this.charReceived=this.charLength=0,0===buffer.length)return charStr;break}this.charLength+=this.surrogateSize,charStr=""}this.detectIncompleteChar(buffer);var end=buffer.length;this.charLength&&(buffer.copy(this.charBuffer,0,buffer.length-this.charReceived,end),end-=this.charReceived),charStr+=buffer.toString(this.encoding,0,end);var end=charStr.length-1,charCode=charStr.charCodeAt(end);if(charCode>=55296&&charCode<=56319){var size=this.surrogateSize;return this.charLength+=size,this.charReceived+=size,this.charBuffer.copy(this.charBuffer,size,0,size),buffer.copy(this.charBuffer,0,0,size),charStr.substring(0,end)}return charStr},StringDecoder.prototype.detectIncompleteChar=function(buffer){for(var i=buffer.length>=3?3:buffer.length;i>0;i--){var c=buffer[buffer.length-i];if(1==i&&c>>5==6){this.charLength=2;break}if(i<=2&&c>>4==14){this.charLength=3;break}if(i<=3&&c>>3==30){this.charLength=4;break}}this.charReceived=i},StringDecoder.prototype.end=function(buffer){var res="";if(buffer&&buffer.length&&(res=this.write(buffer)),this.charReceived){var cr=this.charReceived,buf=this.charBuffer,enc=this.encoding;res+=buf.slice(0,cr).toString(enc)}return res}},function(module,exports,__webpack_require__){(function(global,process){function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};return array.forEach(function(val,idx){hash[val]=!0}),hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=formatPrimitive(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=arrayToHash(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var base="",array=!1,braces=["{","}"];if(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0===keys.length&&(!array||0==value.length))return braces[0]+base+braces[1];if(recurseTimes<0)return isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special");ctx.seen.push(value);var output;return output=array?formatArray(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}return isNumber(value)?ctx.stylize(""+value,"number"):isBoolean(value)?ctx.stylize(""+value,"boolean"):isNull(value)?ctx.stylize("null","null"):void 0}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;i<l;++i)hasOwnProperty(value,String(i))?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0)):output.push("");return keys.forEach(function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if(desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]},desc.get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1),str.indexOf("\n")>-1&&(str=array?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n"))):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\d+$/))return str;name=JSON.stringify(""+key),name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=ctx.stylize(name,"string"))}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0,length=output.reduce(function(prev,cur){return numLinesEst++,cur.indexOf("\n")>=0&&numLinesEst++,prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);return length>60?braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||"undefined"==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}function timestamp(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}for(var i=1,args=arguments,len=args.length,str=String(f).replace(formatRegExp,function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];i<len;x=args[++i])str+=isNull(x)||!isObject(x)?" "+x:" "+inspect(x);return str},exports.deprecate=function(fn,msg){function deprecated(){if(!warned){if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(process.noDeprecation===!0)return fn;var warned=!1;return deprecated};var debugEnviron,debugs={};exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=__webpack_require__(783);var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=__webpack_require__(2),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}}).call(exports,__webpack_require__(9),__webpack_require__(3))},function(module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},function(module,exports,__webpack_require__){var store=__webpack_require__(122)("wks"),uid=__webpack_require__(63),Symbol=__webpack_require__(11).Symbol,USE_SYMBOL="function"==typeof Symbol,$exports=module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&Symbol[name]||(USE_SYMBOL?Symbol:uid)("Symbol."+name))};$exports.store=store},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(12)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(module,exports,__webpack_require__){var anObject=__webpack_require__(8),IE8_DOM_DEFINE=__webpack_require__(223),toPrimitive=__webpack_require__(43),dP=Object.defineProperty;exports.f=__webpack_require__(17)?Object.defineProperty:function(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");return"value"in Attributes&&(O[P]=Attributes.value),O}},function(module,exports,__webpack_require__){(function(module){!function(module,exports){"use strict";function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")}function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}function BN(number,base,endian){return BN.isBN(number)?number:(this.negative=0,this.words=null,this.length=0,this.red=null,void(null!==number&&("le"!==base&&"be"!==base||(endian=base,base=10),this._init(number||0,base||10,endian||"be"))))}function parseHex(str,start,end){for(var r=0,len=Math.min(str.length,end),i=start;i<len;i++){var c=str.charCodeAt(i)-48;r<<=4,r|=c>=49&&c<=54?c-49+10:c>=17&&c<=22?c-17+10:15&c}return r}function parseBase(str,start,end,mul){for(var r=0,len=Math.min(str.length,end),i=start;i<len;i++){var c=str.charCodeAt(i)-48;r*=mul,r+=c>=49?c-49+10:c>=17?c-17+10:c}return r}function toBitArray(num){for(var w=new Array(num.bitLength()),bit=0;bit<w.length;bit++){var off=bit/26|0,wbit=bit%26;w[bit]=(num.words[off]&1<<wbit)>>>wbit}return w}function smallMulTo(self,num,out){out.negative=num.negative^self.negative;var len=self.length+num.length|0;out.length=len,len=len-1|0;var a=0|self.words[0],b=0|num.words[0],r=a*b,lo=67108863&r,carry=r/67108864|0;out.words[0]=lo;for(var k=1;k<len;k++){for(var ncarry=carry>>>26,rword=67108863&carry,maxJ=Math.min(k,num.length-1),j=Math.max(0,k-self.length+1);j<=maxJ;j++){var i=k-j|0;a=0|self.words[i],b=0|num.words[j],r=a*b+rword,ncarry+=r/67108864|0,rword=67108863&r}out.words[k]=0|rword,carry=0|ncarry}return 0!==carry?out.words[k]=0|carry:out.length--,out.strip()}function bigMulTo(self,num,out){out.negative=num.negative^self.negative,out.length=self.length+num.length;for(var carry=0,hncarry=0,k=0;k<out.length-1;k++){var ncarry=hncarry;hncarry=0;for(var rword=67108863&carry,maxJ=Math.min(k,num.length-1),j=Math.max(0,k-self.length+1);j<=maxJ;j++){var i=k-j,a=0|self.words[i],b=0|num.words[j],r=a*b,lo=67108863&r;ncarry=ncarry+(r/67108864|0)|0,lo=lo+rword|0,rword=67108863&lo,ncarry=ncarry+(lo>>>26)|0,hncarry+=ncarry>>>26,ncarry&=67108863}out.words[k]=rword,carry=ncarry,ncarry=hncarry}return 0!==carry?out.words[k]=carry:out.length--,out.strip()}function jumboMulTo(self,num,out){var fftm=new FFTM;return fftm.mulp(self,num,out)}function FFTM(x,y){this.x=x,this.y=y}function MPrime(name,p){this.name=name,this.p=new BN(p,16),this.n=this.p.bitLength(),this.k=new BN(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(m){if("string"==typeof m){var prime=BN._prime(m);this.m=prime.p,this.prime=prime}else assert(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}function Mont(m){Red.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new BN(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}"object"==typeof module?module.exports=BN:exports.BN=BN,BN.BN=BN,BN.wordSize=26;var Buffer;try{Buffer=__webpack_require__(0).Buffer}catch(e){}BN.isBN=function(num){return num instanceof BN||null!==num&&"object"==typeof num&&num.constructor.wordSize===BN.wordSize&&Array.isArray(num.words)},BN.max=function(left,right){return left.cmp(right)>0?left:right},BN.min=function(left,right){return left.cmp(right)<0?left:right},BN.prototype._init=function(number,base,endian){if("number"==typeof number)return this._initNumber(number,base,endian);if("object"==typeof number)return this._initArray(number,base,endian);"hex"===base&&(base=16),assert(base===(0|base)&&base>=2&&base<=36),number=number.toString().replace(/\s+/g,"");var start=0;"-"===number[0]&&start++,16===base?this._parseHex(number,start):this._parseBase(number,base,start),"-"===number[0]&&(this.negative=1),this.strip(),"le"===endian&&this._initArray(this.toArray(),base,endian)},BN.prototype._initNumber=function(number,base,endian){number<0&&(this.negative=1,number=-number),number<67108864?(this.words=[67108863&number],this.length=1):number<4503599627370496?(this.words=[67108863&number,number/67108864&67108863],this.length=2):(assert(number<9007199254740992),this.words=[67108863&number,number/67108864&67108863,1],this.length=3),"le"===endian&&this._initArray(this.toArray(),base,endian)},BN.prototype._initArray=function(number,base,endian){if(assert("number"==typeof number.length),number.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(number.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var j,w,off=0;if("be"===endian)for(i=number.length-1,j=0;i>=0;i-=3)w=number[i]|number[i-1]<<8|number[i-2]<<16,
this.words[j]|=w<<off&67108863,this.words[j+1]=w>>>26-off&67108863,off+=24,off>=26&&(off-=26,j++);else if("le"===endian)for(i=0,j=0;i<number.length;i+=3)w=number[i]|number[i+1]<<8|number[i+2]<<16,this.words[j]|=w<<off&67108863,this.words[j+1]=w>>>26-off&67108863,off+=24,off>=26&&(off-=26,j++);return this.strip()},BN.prototype._parseHex=function(number,start){this.length=Math.ceil((number.length-start)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var j,w,off=0;for(i=number.length-6,j=0;i>=start;i-=6)w=parseHex(number,i,i+6),this.words[j]|=w<<off&67108863,this.words[j+1]|=w>>>26-off&4194303,off+=24,off>=26&&(off-=26,j++);i+6!==start&&(w=parseHex(number,start,i+6),this.words[j]|=w<<off&67108863,this.words[j+1]|=w>>>26-off&4194303),this.strip()},BN.prototype._parseBase=function(number,base,start){this.words=[0],this.length=1;for(var limbLen=0,limbPow=1;limbPow<=67108863;limbPow*=base)limbLen++;limbLen--,limbPow=limbPow/base|0;for(var total=number.length-start,mod=total%limbLen,end=Math.min(total,total-mod)+start,word=0,i=start;i<end;i+=limbLen)word=parseBase(number,i,i+limbLen,base),this.imuln(limbPow),this.words[0]+word<67108864?this.words[0]+=word:this._iaddn(word);if(0!==mod){var pow=1;for(word=parseBase(number,i,number.length,base),i=0;i<mod;i++)pow*=base;this.imuln(pow),this.words[0]+word<67108864?this.words[0]+=word:this._iaddn(word)}},BN.prototype.copy=function(dest){dest.words=new Array(this.length);for(var i=0;i<this.length;i++)dest.words[i]=this.words[i];dest.length=this.length,dest.negative=this.negative,dest.red=this.red},BN.prototype.clone=function(){var r=new BN(null);return this.copy(r),r},BN.prototype._expand=function(size){for(;this.length<size;)this.words[this.length++]=0;return this},BN.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},BN.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var zeros=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],groupSizes=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],groupBases=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function(base,padding){base=base||10,padding=0|padding||1;var out;if(16===base||"hex"===base){out="";for(var off=0,carry=0,i=0;i<this.length;i++){var w=this.words[i],word=(16777215&(w<<off|carry)).toString(16);carry=w>>>24-off&16777215,out=0!==carry||i!==this.length-1?zeros[6-word.length]+word+out:word+out,off+=2,off>=26&&(off-=26,i--)}for(0!==carry&&(out=carry.toString(16)+out);out.length%padding!==0;)out="0"+out;return 0!==this.negative&&(out="-"+out),out}if(base===(0|base)&&base>=2&&base<=36){var groupSize=groupSizes[base],groupBase=groupBases[base];out="";var c=this.clone();for(c.negative=0;!c.isZero();){var r=c.modn(groupBase).toString(base);c=c.idivn(groupBase),out=c.isZero()?r+out:zeros[groupSize-r.length]+r+out}for(this.isZero()&&(out="0"+out);out.length%padding!==0;)out="0"+out;return 0!==this.negative&&(out="-"+out),out}assert(!1,"Base should be between 2 and 36")},BN.prototype.toNumber=function(){var ret=this.words[0];return 2===this.length?ret+=67108864*this.words[1]:3===this.length&&1===this.words[2]?ret+=4503599627370496+67108864*this.words[1]:this.length>2&&assert(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-ret:ret},BN.prototype.toJSON=function(){return this.toString(16)},BN.prototype.toBuffer=function(endian,length){return assert("undefined"!=typeof Buffer),this.toArrayLike(Buffer,endian,length)},BN.prototype.toArray=function(endian,length){return this.toArrayLike(Array,endian,length)},BN.prototype.toArrayLike=function(ArrayType,endian,length){var byteLength=this.byteLength(),reqLength=length||Math.max(1,byteLength);assert(byteLength<=reqLength,"byte array longer than desired length"),assert(reqLength>0,"Requested array length <= 0"),this.strip();var b,i,littleEndian="le"===endian,res=new ArrayType(reqLength),q=this.clone();if(littleEndian){for(i=0;!q.isZero();i++)b=q.andln(255),q.iushrn(8),res[i]=b;for(;i<reqLength;i++)res[i]=0}else{for(i=0;i<reqLength-byteLength;i++)res[i]=0;for(i=0;!q.isZero();i++)b=q.andln(255),q.iushrn(8),res[reqLength-i-1]=b}return res},Math.clz32?BN.prototype._countBits=function(w){return 32-Math.clz32(w)}:BN.prototype._countBits=function(w){var t=w,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},BN.prototype._zeroBits=function(w){if(0===w)return 26;var t=w,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},BN.prototype.bitLength=function(){var w=this.words[this.length-1],hi=this._countBits(w);return 26*(this.length-1)+hi},BN.prototype.zeroBits=function(){if(this.isZero())return 0;for(var r=0,i=0;i<this.length;i++){var b=this._zeroBits(this.words[i]);if(r+=b,26!==b)break}return r},BN.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},BN.prototype.toTwos=function(width){return 0!==this.negative?this.abs().inotn(width).iaddn(1):this.clone()},BN.prototype.fromTwos=function(width){return this.testn(width-1)?this.notn(width).iaddn(1).ineg():this.clone()},BN.prototype.isNeg=function(){return 0!==this.negative},BN.prototype.neg=function(){return this.clone().ineg()},BN.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},BN.prototype.iuor=function(num){for(;this.length<num.length;)this.words[this.length++]=0;for(var i=0;i<num.length;i++)this.words[i]=this.words[i]|num.words[i];return this.strip()},BN.prototype.ior=function(num){return assert(0===(this.negative|num.negative)),this.iuor(num)},BN.prototype.or=function(num){return this.length>num.length?this.clone().ior(num):num.clone().ior(this)},BN.prototype.uor=function(num){return this.length>num.length?this.clone().iuor(num):num.clone().iuor(this)},BN.prototype.iuand=function(num){var b;b=this.length>num.length?num:this;for(var i=0;i<b.length;i++)this.words[i]=this.words[i]&num.words[i];return this.length=b.length,this.strip()},BN.prototype.iand=function(num){return assert(0===(this.negative|num.negative)),this.iuand(num)},BN.prototype.and=function(num){return this.length>num.length?this.clone().iand(num):num.clone().iand(this)},BN.prototype.uand=function(num){return this.length>num.length?this.clone().iuand(num):num.clone().iuand(this)},BN.prototype.iuxor=function(num){var a,b;this.length>num.length?(a=this,b=num):(a=num,b=this);for(var i=0;i<b.length;i++)this.words[i]=a.words[i]^b.words[i];if(this!==a)for(;i<a.length;i++)this.words[i]=a.words[i];return this.length=a.length,this.strip()},BN.prototype.ixor=function(num){return assert(0===(this.negative|num.negative)),this.iuxor(num)},BN.prototype.xor=function(num){return this.length>num.length?this.clone().ixor(num):num.clone().ixor(this)},BN.prototype.uxor=function(num){return this.length>num.length?this.clone().iuxor(num):num.clone().iuxor(this)},BN.prototype.inotn=function(width){assert("number"==typeof width&&width>=0);var bytesNeeded=0|Math.ceil(width/26),bitsLeft=width%26;this._expand(bytesNeeded),bitsLeft>0&&bytesNeeded--;for(var i=0;i<bytesNeeded;i++)this.words[i]=67108863&~this.words[i];return bitsLeft>0&&(this.words[i]=~this.words[i]&67108863>>26-bitsLeft),this.strip()},BN.prototype.notn=function(width){return this.clone().inotn(width)},BN.prototype.setn=function(bit,val){assert("number"==typeof bit&&bit>=0);var off=bit/26|0,wbit=bit%26;return this._expand(off+1),val?this.words[off]=this.words[off]|1<<wbit:this.words[off]=this.words[off]&~(1<<wbit),this.strip()},BN.prototype.iadd=function(num){var r;if(0!==this.negative&&0===num.negative)return this.negative=0,r=this.isub(num),this.negative^=1,this._normSign();if(0===this.negative&&0!==num.negative)return num.negative=0,r=this.isub(num),num.negative=1,r._normSign();var a,b;this.length>num.length?(a=this,b=num):(a=num,b=this);for(var carry=0,i=0;i<b.length;i++)r=(0|a.words[i])+(0|b.words[i])+carry,this.words[i]=67108863&r,carry=r>>>26;for(;0!==carry&&i<a.length;i++)r=(0|a.words[i])+carry,this.words[i]=67108863&r,carry=r>>>26;if(this.length=a.length,0!==carry)this.words[this.length]=carry,this.length++;else if(a!==this)for(;i<a.length;i++)this.words[i]=a.words[i];return this},BN.prototype.add=function(num){var res;return 0!==num.negative&&0===this.negative?(num.negative=0,res=this.sub(num),num.negative^=1,res):0===num.negative&&0!==this.negative?(this.negative=0,res=num.sub(this),this.negative=1,res):this.length>num.length?this.clone().iadd(num):num.clone().iadd(this)},BN.prototype.isub=function(num){if(0!==num.negative){num.negative=0;var r=this.iadd(num);return num.negative=1,r._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(num),this.negative=1,this._normSign();var cmp=this.cmp(num);if(0===cmp)return this.negative=0,this.length=1,this.words[0]=0,this;var a,b;cmp>0?(a=this,b=num):(a=num,b=this);for(var carry=0,i=0;i<b.length;i++)r=(0|a.words[i])-(0|b.words[i])+carry,carry=r>>26,this.words[i]=67108863&r;for(;0!==carry&&i<a.length;i++)r=(0|a.words[i])+carry,carry=r>>26,this.words[i]=67108863&r;if(0===carry&&i<a.length&&a!==this)for(;i<a.length;i++)this.words[i]=a.words[i];return this.length=Math.max(this.length,i),a!==this&&(this.negative=1),this.strip()},BN.prototype.sub=function(num){return this.clone().isub(num)};var comb10MulTo=function(self,num,out){var lo,mid,hi,a=self.words,b=num.words,o=out.words,c=0,a0=0|a[0],al0=8191&a0,ah0=a0>>>13,a1=0|a[1],al1=8191&a1,ah1=a1>>>13,a2=0|a[2],al2=8191&a2,ah2=a2>>>13,a3=0|a[3],al3=8191&a3,ah3=a3>>>13,a4=0|a[4],al4=8191&a4,ah4=a4>>>13,a5=0|a[5],al5=8191&a5,ah5=a5>>>13,a6=0|a[6],al6=8191&a6,ah6=a6>>>13,a7=0|a[7],al7=8191&a7,ah7=a7>>>13,a8=0|a[8],al8=8191&a8,ah8=a8>>>13,a9=0|a[9],al9=8191&a9,ah9=a9>>>13,b0=0|b[0],bl0=8191&b0,bh0=b0>>>13,b1=0|b[1],bl1=8191&b1,bh1=b1>>>13,b2=0|b[2],bl2=8191&b2,bh2=b2>>>13,b3=0|b[3],bl3=8191&b3,bh3=b3>>>13,b4=0|b[4],bl4=8191&b4,bh4=b4>>>13,b5=0|b[5],bl5=8191&b5,bh5=b5>>>13,b6=0|b[6],bl6=8191&b6,bh6=b6>>>13,b7=0|b[7],bl7=8191&b7,bh7=b7>>>13,b8=0|b[8],bl8=8191&b8,bh8=b8>>>13,b9=0|b[9],bl9=8191&b9,bh9=b9>>>13;out.negative=self.negative^num.negative,out.length=19,lo=Math.imul(al0,bl0),mid=Math.imul(al0,bh0),mid=mid+Math.imul(ah0,bl0)|0,hi=Math.imul(ah0,bh0);var w0=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w0>>>26)|0,w0&=67108863,lo=Math.imul(al1,bl0),mid=Math.imul(al1,bh0),mid=mid+Math.imul(ah1,bl0)|0,hi=Math.imul(ah1,bh0),lo=lo+Math.imul(al0,bl1)|0,mid=mid+Math.imul(al0,bh1)|0,mid=mid+Math.imul(ah0,bl1)|0,hi=hi+Math.imul(ah0,bh1)|0;var w1=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w1>>>26)|0,w1&=67108863,lo=Math.imul(al2,bl0),mid=Math.imul(al2,bh0),mid=mid+Math.imul(ah2,bl0)|0,hi=Math.imul(ah2,bh0),lo=lo+Math.imul(al1,bl1)|0,mid=mid+Math.imul(al1,bh1)|0,mid=mid+Math.imul(ah1,bl1)|0,hi=hi+Math.imul(ah1,bh1)|0,lo=lo+Math.imul(al0,bl2)|0,mid=mid+Math.imul(al0,bh2)|0,mid=mid+Math.imul(ah0,bl2)|0,hi=hi+Math.imul(ah0,bh2)|0;var w2=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w2>>>26)|0,w2&=67108863,lo=Math.imul(al3,bl0),mid=Math.imul(al3,bh0),mid=mid+Math.imul(ah3,bl0)|0,hi=Math.imul(ah3,bh0),lo=lo+Math.imul(al2,bl1)|0,mid=mid+Math.imul(al2,bh1)|0,mid=mid+Math.imul(ah2,bl1)|0,hi=hi+Math.imul(ah2,bh1)|0,lo=lo+Math.imul(al1,bl2)|0,mid=mid+Math.imul(al1,bh2)|0,mid=mid+Math.imul(ah1,bl2)|0,hi=hi+Math.imul(ah1,bh2)|0,lo=lo+Math.imul(al0,bl3)|0,mid=mid+Math.imul(al0,bh3)|0,mid=mid+Math.imul(ah0,bl3)|0,hi=hi+Math.imul(ah0,bh3)|0;var w3=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w3>>>26)|0,w3&=67108863,lo=Math.imul(al4,bl0),mid=Math.imul(al4,bh0),mid=mid+Math.imul(ah4,bl0)|0,hi=Math.imul(ah4,bh0),lo=lo+Math.imul(al3,bl1)|0,mid=mid+Math.imul(al3,bh1)|0,mid=mid+Math.imul(ah3,bl1)|0,hi=hi+Math.imul(ah3,bh1)|0,lo=lo+Math.imul(al2,bl2)|0,mid=mid+Math.imul(al2,bh2)|0,mid=mid+Math.imul(ah2,bl2)|0,hi=hi+Math.imul(ah2,bh2)|0,lo=lo+Math.imul(al1,bl3)|0,mid=mid+Math.imul(al1,bh3)|0,mid=mid+Math.imul(ah1,bl3)|0,hi=hi+Math.imul(ah1,bh3)|0,lo=lo+Math.imul(al0,bl4)|0,mid=mid+Math.imul(al0,bh4)|0,mid=mid+Math.imul(ah0,bl4)|0,hi=hi+Math.imul(ah0,bh4)|0;var w4=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w4>>>26)|0,w4&=67108863,lo=Math.imul(al5,bl0),mid=Math.imul(al5,bh0),mid=mid+Math.imul(ah5,bl0)|0,hi=Math.imul(ah5,bh0),lo=lo+Math.imul(al4,bl1)|0,mid=mid+Math.imul(al4,bh1)|0,mid=mid+Math.imul(ah4,bl1)|0,hi=hi+Math.imul(ah4,bh1)|0,lo=lo+Math.imul(al3,bl2)|0,mid=mid+Math.imul(al3,bh2)|0,mid=mid+Math.imul(ah3,bl2)|0,hi=hi+Math.imul(ah3,bh2)|0,lo=lo+Math.imul(al2,bl3)|0,mid=mid+Math.imul(al2,bh3)|0,mid=mid+Math.imul(ah2,bl3)|0,hi=hi+Math.imul(ah2,bh3)|0,lo=lo+Math.imul(al1,bl4)|0,mid=mid+Math.imul(al1,bh4)|0,mid=mid+Math.imul(ah1,bl4)|0,hi=hi+Math.imul(ah1,bh4)|0,lo=lo+Math.imul(al0,bl5)|0,mid=mid+Math.imul(al0,bh5)|0,mid=mid+Math.imul(ah0,bl5)|0,hi=hi+Math.imul(ah0,bh5)|0;var w5=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w5>>>26)|0,w5&=67108863,lo=Math.imul(al6,bl0),mid=Math.imul(al6,bh0),mid=mid+Math.imul(ah6,bl0)|0,hi=Math.imul(ah6,bh0),lo=lo+Math.imul(al5,bl1)|0,mid=mid+Math.imul(al5,bh1)|0,mid=mid+Math.imul(ah5,bl1)|0,hi=hi+Math.imul(ah5,bh1)|0,lo=lo+Math.imul(al4,bl2)|0,mid=mid+Math.imul(al4,bh2)|0,mid=mid+Math.imul(ah4,bl2)|0,hi=hi+Math.imul(ah4,bh2)|0,lo=lo+Math.imul(al3,bl3)|0,mid=mid+Math.imul(al3,bh3)|0,mid=mid+Math.imul(ah3,bl3)|0,hi=hi+Math.imul(ah3,bh3)|0,lo=lo+Math.imul(al2,bl4)|0,mid=mid+Math.imul(al2,bh4)|0,mid=mid+Math.imul(ah2,bl4)|0,hi=hi+Math.imul(ah2,bh4)|0,lo=lo+Math.imul(al1,bl5)|0,mid=mid+Math.imul(al1,bh5)|0,mid=mid+Math.imul(ah1,bl5)|0,hi=hi+Math.imul(ah1,bh5)|0,lo=lo+Math.imul(al0,bl6)|0,mid=mid+Math.imul(al0,bh6)|0,mid=mid+Math.imul(ah0,bl6)|0,hi=hi+Math.imul(ah0,bh6)|0;var w6=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w6>>>26)|0,w6&=67108863,lo=Math.imul(al7,bl0),mid=Math.imul(al7,bh0),mid=mid+Math.imul(ah7,bl0)|0,hi=Math.imul(ah7,bh0),lo=lo+Math.imul(al6,bl1)|0,mid=mid+Math.imul(al6,bh1)|0,mid=mid+Math.imul(ah6,bl1)|0,hi=hi+Math.imul(ah6,bh1)|0,lo=lo+Math.imul(al5,bl2)|0,mid=mid+Math.imul(al5,bh2)|0,mid=mid+Math.imul(ah5,bl2)|0,hi=hi+Math.imul(ah5,bh2)|0,lo=lo+Math.imul(al4,bl3)|0,mid=mid+Math.imul(al4,bh3)|0,mid=mid+Math.imul(ah4,bl3)|0,hi=hi+Math.imul(ah4,bh3)|0,lo=lo+Math.imul(al3,bl4)|0,mid=mid+Math.imul(al3,bh4)|0,mid=mid+Math.imul(ah3,bl4)|0,hi=hi+Math.imul(ah3,bh4)|0,lo=lo+Math.imul(al2,bl5)|0,mid=mid+Math.imul(al2,bh5)|0,mid=mid+Math.imul(ah2,bl5)|0,hi=hi+Math.imul(ah2,bh5)|0,lo=lo+Math.imul(al1,bl6)|0,mid=mid+Math.imul(al1,bh6)|0,mid=mid+Math.imul(ah1,bl6)|0,hi=hi+Math.imul(ah1,bh6)|0,lo=lo+Math.imul(al0,bl7)|0,mid=mid+Math.imul(al0,bh7)|0,mid=mid+Math.imul(ah0,bl7)|0,hi=hi+Math.imul(ah0,bh7)|0;var w7=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w7>>>26)|0,w7&=67108863,lo=Math.imul(al8,bl0),mid=Math.imul(al8,bh0),mid=mid+Math.imul(ah8,bl0)|0,hi=Math.imul(ah8,bh0),lo=lo+Math.imul(al7,bl1)|0,mid=mid+Math.imul(al7,bh1)|0,mid=mid+Math.imul(ah7,bl1)|0,hi=hi+Math.imul(ah7,bh1)|0,lo=lo+Math.imul(al6,bl2)|0,mid=mid+Math.imul(al6,bh2)|0,mid=mid+Math.imul(ah6,bl2)|0,hi=hi+Math.imul(ah6,bh2)|0,lo=lo+Math.imul(al5,bl3)|0,mid=mid+Math.imul(al5,bh3)|0,mid=mid+Math.imul(ah5,bl3)|0,hi=hi+Math.imul(ah5,bh3)|0,lo=lo+Math.imul(al4,bl4)|0,mid=mid+Math.imul(al4,bh4)|0,mid=mid+Math.imul(ah4,bl4)|0,hi=hi+Math.imul(ah4,bh4)|0,lo=lo+Math.imul(al3,bl5)|0,mid=mid+Math.imul(al3,bh5)|0,mid=mid+Math.imul(ah3,bl5)|0,hi=hi+Math.imul(ah3,bh5)|0,lo=lo+Math.imul(al2,bl6)|0,mid=mid+Math.imul(al2,bh6)|0,mid=mid+Math.imul(ah2,bl6)|0,hi=hi+Math.imul(ah2,bh6)|0,lo=lo+Math.imul(al1,bl7)|0,mid=mid+Math.imul(al1,bh7)|0,mid=mid+Math.imul(ah1,bl7)|0,hi=hi+Math.imul(ah1,bh7)|0,lo=lo+Math.imul(al0,bl8)|0,mid=mid+Math.imul(al0,bh8)|0,mid=mid+Math.imul(ah0,bl8)|0,hi=hi+Math.imul(ah0,bh8)|0;var w8=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w8>>>26)|0,w8&=67108863,lo=Math.imul(al9,bl0),mid=Math.imul(al9,bh0),mid=mid+Math.imul(ah9,bl0)|0,hi=Math.imul(ah9,bh0),lo=lo+Math.imul(al8,bl1)|0,mid=mid+Math.imul(al8,bh1)|0,mid=mid+Math.imul(ah8,bl1)|0,hi=hi+Math.imul(ah8,bh1)|0,lo=lo+Math.imul(al7,bl2)|0,mid=mid+Math.imul(al7,bh2)|0,mid=mid+Math.imul(ah7,bl2)|0,hi=hi+Math.imul(ah7,bh2)|0,lo=lo+Math.imul(al6,bl3)|0,mid=mid+Math.imul(al6,bh3)|0,mid=mid+Math.imul(ah6,bl3)|0,hi=hi+Math.imul(ah6,bh3)|0,lo=lo+Math.imul(al5,bl4)|0,mid=mid+Math.imul(al5,bh4)|0,mid=mid+Math.imul(ah5,bl4)|0,hi=hi+Math.imul(ah5,bh4)|0,lo=lo+Math.imul(al4,bl5)|0,mid=mid+Math.imul(al4,bh5)|0,mid=mid+Math.imul(ah4,bl5)|0,hi=hi+Math.imul(ah4,bh5)|0,lo=lo+Math.imul(al3,bl6)|0,mid=mid+Math.imul(al3,bh6)|0,mid=mid+Math.imul(ah3,bl6)|0,hi=hi+Math.imul(ah3,bh6)|0,lo=lo+Math.imul(al2,bl7)|0,mid=mid+Math.imul(al2,bh7)|0,mid=mid+Math.imul(ah2,bl7)|0,hi=hi+Math.imul(ah2,bh7)|0,lo=lo+Math.imul(al1,bl8)|0,mid=mid+Math.imul(al1,bh8)|0,mid=mid+Math.imul(ah1,bl8)|0,hi=hi+Math.imul(ah1,bh8)|0,lo=lo+Math.imul(al0,bl9)|0,mid=mid+Math.imul(al0,bh9)|0,mid=mid+Math.imul(ah0,bl9)|0,hi=hi+Math.imul(ah0,bh9)|0;var w9=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w9>>>26)|0,w9&=67108863,lo=Math.imul(al9,bl1),mid=Math.imul(al9,bh1),mid=mid+Math.imul(ah9,bl1)|0,hi=Math.imul(ah9,bh1),lo=lo+Math.imul(al8,bl2)|0,mid=mid+Math.imul(al8,bh2)|0,mid=mid+Math.imul(ah8,bl2)|0,hi=hi+Math.imul(ah8,bh2)|0,lo=lo+Math.imul(al7,bl3)|0,mid=mid+Math.imul(al7,bh3)|0,mid=mid+Math.imul(ah7,bl3)|0,hi=hi+Math.imul(ah7,bh3)|0,lo=lo+Math.imul(al6,bl4)|0,mid=mid+Math.imul(al6,bh4)|0,mid=mid+Math.imul(ah6,bl4)|0,hi=hi+Math.imul(ah6,bh4)|0,lo=lo+Math.imul(al5,bl5)|0,mid=mid+Math.imul(al5,bh5)|0,mid=mid+Math.imul(ah5,bl5)|0,hi=hi+Math.imul(ah5,bh5)|0,lo=lo+Math.imul(al4,bl6)|0,mid=mid+Math.imul(al4,bh6)|0,mid=mid+Math.imul(ah4,bl6)|0,hi=hi+Math.imul(ah4,bh6)|0,lo=lo+Math.imul(al3,bl7)|0,mid=mid+Math.imul(al3,bh7)|0,mid=mid+Math.imul(ah3,bl7)|0,hi=hi+Math.imul(ah3,bh7)|0,lo=lo+Math.imul(al2,bl8)|0,mid=mid+Math.imul(al2,bh8)|0,mid=mid+Math.imul(ah2,bl8)|0,hi=hi+Math.imul(ah2,bh8)|0,lo=lo+Math.imul(al1,bl9)|0,mid=mid+Math.imul(al1,bh9)|0,mid=mid+Math.imul(ah1,bl9)|0,hi=hi+Math.imul(ah1,bh9)|0;var w10=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w10>>>26)|0,w10&=67108863,lo=Math.imul(al9,bl2),mid=Math.imul(al9,bh2),mid=mid+Math.imul(ah9,bl2)|0,hi=Math.imul(ah9,bh2),lo=lo+Math.imul(al8,bl3)|0,mid=mid+Math.imul(al8,bh3)|0,mid=mid+Math.imul(ah8,bl3)|0,hi=hi+Math.imul(ah8,bh3)|0,lo=lo+Math.imul(al7,bl4)|0,mid=mid+Math.imul(al7,bh4)|0,mid=mid+Math.imul(ah7,bl4)|0,hi=hi+Math.imul(ah7,bh4)|0,lo=lo+Math.imul(al6,bl5)|0,mid=mid+Math.imul(al6,bh5)|0,mid=mid+Math.imul(ah6,bl5)|0,hi=hi+Math.imul(ah6,bh5)|0,lo=lo+Math.imul(al5,bl6)|0,mid=mid+Math.imul(al5,bh6)|0,mid=mid+Math.imul(ah5,bl6)|0,hi=hi+Math.imul(ah5,bh6)|0,lo=lo+Math.imul(al4,bl7)|0,mid=mid+Math.imul(al4,bh7)|0,mid=mid+Math.imul(ah4,bl7)|0,hi=hi+Math.imul(ah4,bh7)|0,lo=lo+Math.imul(al3,bl8)|0,mid=mid+Math.imul(al3,bh8)|0,mid=mid+Math.imul(ah3,bl8)|0,hi=hi+Math.imul(ah3,bh8)|0,lo=lo+Math.imul(al2,bl9)|0,mid=mid+Math.imul(al2,bh9)|0,mid=mid+Math.imul(ah2,bl9)|0,hi=hi+Math.imul(ah2,bh9)|0;var w11=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w11>>>26)|0,w11&=67108863,lo=Math.imul(al9,bl3),mid=Math.imul(al9,bh3),mid=mid+Math.imul(ah9,bl3)|0,hi=Math.imul(ah9,bh3),lo=lo+Math.imul(al8,bl4)|0,mid=mid+Math.imul(al8,bh4)|0,mid=mid+Math.imul(ah8,bl4)|0,hi=hi+Math.imul(ah8,bh4)|0,lo=lo+Math.imul(al7,bl5)|0,mid=mid+Math.imul(al7,bh5)|0,mid=mid+Math.imul(ah7,bl5)|0,hi=hi+Math.imul(ah7,bh5)|0,lo=lo+Math.imul(al6,bl6)|0,mid=mid+Math.imul(al6,bh6)|0,mid=mid+Math.imul(ah6,bl6)|0,hi=hi+Math.imul(ah6,bh6)|0,lo=lo+Math.imul(al5,bl7)|0,mid=mid+Math.imul(al5,bh7)|0,mid=mid+Math.imul(ah5,bl7)|0,hi=hi+Math.imul(ah5,bh7)|0,lo=lo+Math.imul(al4,bl8)|0,mid=mid+Math.imul(al4,bh8)|0,mid=mid+Math.imul(ah4,bl8)|0,hi=hi+Math.imul(ah4,bh8)|0,lo=lo+Math.imul(al3,bl9)|0,mid=mid+Math.imul(al3,bh9)|0,mid=mid+Math.imul(ah3,bl9)|0,hi=hi+Math.imul(ah3,bh9)|0;var w12=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w12>>>26)|0,w12&=67108863,lo=Math.imul(al9,bl4),mid=Math.imul(al9,bh4),mid=mid+Math.imul(ah9,bl4)|0,hi=Math.imul(ah9,bh4),lo=lo+Math.imul(al8,bl5)|0,mid=mid+Math.imul(al8,bh5)|0,mid=mid+Math.imul(ah8,bl5)|0,hi=hi+Math.imul(ah8,bh5)|0,lo=lo+Math.imul(al7,bl6)|0,mid=mid+Math.imul(al7,bh6)|0,mid=mid+Math.imul(ah7,bl6)|0,hi=hi+Math.imul(ah7,bh6)|0,lo=lo+Math.imul(al6,bl7)|0,mid=mid+Math.imul(al6,bh7)|0,mid=mid+Math.imul(ah6,bl7)|0,hi=hi+Math.imul(ah6,bh7)|0,lo=lo+Math.imul(al5,bl8)|0,mid=mid+Math.imul(al5,bh8)|0,mid=mid+Math.imul(ah5,bl8)|0,hi=hi+Math.imul(ah5,bh8)|0,lo=lo+Math.imul(al4,bl9)|0,mid=mid+Math.imul(al4,bh9)|0,mid=mid+Math.imul(ah4,bl9)|0,hi=hi+Math.imul(ah4,bh9)|0;var w13=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w13>>>26)|0,w13&=67108863,lo=Math.imul(al9,bl5),mid=Math.imul(al9,bh5),mid=mid+Math.imul(ah9,bl5)|0,hi=Math.imul(ah9,bh5),lo=lo+Math.imul(al8,bl6)|0,mid=mid+Math.imul(al8,bh6)|0,mid=mid+Math.imul(ah8,bl6)|0,hi=hi+Math.imul(ah8,bh6)|0,lo=lo+Math.imul(al7,bl7)|0,mid=mid+Math.imul(al7,bh7)|0,mid=mid+Math.imul(ah7,bl7)|0,hi=hi+Math.imul(ah7,bh7)|0,lo=lo+Math.imul(al6,bl8)|0,mid=mid+Math.imul(al6,bh8)|0,mid=mid+Math.imul(ah6,bl8)|0,hi=hi+Math.imul(ah6,bh8)|0,lo=lo+Math.imul(al5,bl9)|0,mid=mid+Math.imul(al5,bh9)|0,mid=mid+Math.imul(ah5,bl9)|0,hi=hi+Math.imul(ah5,bh9)|0;var w14=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w14>>>26)|0,w14&=67108863,lo=Math.imul(al9,bl6),mid=Math.imul(al9,bh6),mid=mid+Math.imul(ah9,bl6)|0,hi=Math.imul(ah9,bh6),lo=lo+Math.imul(al8,bl7)|0,mid=mid+Math.imul(al8,bh7)|0,mid=mid+Math.imul(ah8,bl7)|0,hi=hi+Math.imul(ah8,bh7)|0,lo=lo+Math.imul(al7,bl8)|0,mid=mid+Math.imul(al7,bh8)|0,mid=mid+Math.imul(ah7,bl8)|0,hi=hi+Math.imul(ah7,bh8)|0,lo=lo+Math.imul(al6,bl9)|0,mid=mid+Math.imul(al6,bh9)|0,mid=mid+Math.imul(ah6,bl9)|0,hi=hi+Math.imul(ah6,bh9)|0;var w15=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w15>>>26)|0,w15&=67108863,lo=Math.imul(al9,bl7),mid=Math.imul(al9,bh7),mid=mid+Math.imul(ah9,bl7)|0,hi=Math.imul(ah9,bh7),lo=lo+Math.imul(al8,bl8)|0,mid=mid+Math.imul(al8,bh8)|0,mid=mid+Math.imul(ah8,bl8)|0,hi=hi+Math.imul(ah8,bh8)|0,lo=lo+Math.imul(al7,bl9)|0,mid=mid+Math.imul(al7,bh9)|0,mid=mid+Math.imul(ah7,bl9)|0,hi=hi+Math.imul(ah7,bh9)|0;var w16=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w16>>>26)|0,w16&=67108863,lo=Math.imul(al9,bl8),mid=Math.imul(al9,bh8),mid=mid+Math.imul(ah9,bl8)|0,hi=Math.imul(ah9,bh8),lo=lo+Math.imul(al8,bl9)|0,mid=mid+Math.imul(al8,bh9)|0,mid=mid+Math.imul(ah8,bl9)|0,hi=hi+Math.imul(ah8,bh9)|0;var w17=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w17>>>26)|0,w17&=67108863,lo=Math.imul(al9,bl9),mid=Math.imul(al9,bh9),mid=mid+Math.imul(ah9,bl9)|0,hi=Math.imul(ah9,bh9);var w18=(c+lo|0)+((8191&mid)<<13)|0;return c=(hi+(mid>>>13)|0)+(w18>>>26)|0,w18&=67108863,o[0]=w0,o[1]=w1,o[2]=w2,o[3]=w3,o[4]=w4,o[5]=w5,o[6]=w6,o[7]=w7,o[8]=w8,o[9]=w9,o[10]=w10,o[11]=w11,o[12]=w12,o[13]=w13,o[14]=w14,o[15]=w15,o[16]=w16,o[17]=w17,o[18]=w18,0!==c&&(o[19]=c,out.length++),out};Math.imul||(comb10MulTo=smallMulTo),BN.prototype.mulTo=function(num,out){var res,len=this.length+num.length;return res=10===this.length&&10===num.length?comb10MulTo(this,num,out):len<63?smallMulTo(this,num,out):len<1024?bigMulTo(this,num,out):jumboMulTo(this,num,out)},FFTM.prototype.makeRBT=function(N){for(var t=new Array(N),l=BN.prototype._countBits(N)-1,i=0;i<N;i++)t[i]=this.revBin(i,l,N);return t},FFTM.prototype.revBin=function(x,l,N){if(0===x||x===N-1)return x;for(var rb=0,i=0;i<l;i++)rb|=(1&x)<<l-i-1,x>>=1;return rb},FFTM.prototype.permute=function(rbt,rws,iws,rtws,itws,N){for(var i=0;i<N;i++)rtws[i]=rws[rbt[i]],itws[i]=iws[rbt[i]]},FFTM.prototype.transform=function(rws,iws,rtws,itws,N,rbt){this.permute(rbt,rws,iws,rtws,itws,N);for(var s=1;s<N;s<<=1)for(var l=s<<1,rtwdf=Math.cos(2*Math.PI/l),itwdf=Math.sin(2*Math.PI/l),p=0;p<N;p+=l)for(var rtwdf_=rtwdf,itwdf_=itwdf,j=0;j<s;j++){var re=rtws[p+j],ie=itws[p+j],ro=rtws[p+j+s],io=itws[p+j+s],rx=rtwdf_*ro-itwdf_*io;io=rtwdf_*io+itwdf_*ro,ro=rx,rtws[p+j]=re+ro,itws[p+j]=ie+io,rtws[p+j+s]=re-ro,itws[p+j+s]=ie-io,j!==l&&(rx=rtwdf*rtwdf_-itwdf*itwdf_,itwdf_=rtwdf*itwdf_+itwdf*rtwdf_,rtwdf_=rx)}},FFTM.prototype.guessLen13b=function(n,m){var N=1|Math.max(m,n),odd=1&N,i=0;for(N=N/2|0;N;N>>>=1)i++;return 1<<i+1+odd},FFTM.prototype.conjugate=function(rws,iws,N){if(!(N<=1))for(var i=0;i<N/2;i++){var t=rws[i];rws[i]=rws[N-i-1],rws[N-i-1]=t,t=iws[i],iws[i]=-iws[N-i-1],iws[N-i-1]=-t}},FFTM.prototype.normalize13b=function(ws,N){for(var carry=0,i=0;i<N/2;i++){var w=8192*Math.round(ws[2*i+1]/N)+Math.round(ws[2*i]/N)+carry;ws[i]=67108863&w,carry=w<67108864?0:w/67108864|0}return ws},FFTM.prototype.convert13b=function(ws,len,rws,N){for(var carry=0,i=0;i<len;i++)carry+=0|ws[i],rws[2*i]=8191&carry,carry>>>=13,rws[2*i+1]=8191&carry,carry>>>=13;for(i=2*len;i<N;++i)rws[i]=0;assert(0===carry),assert(0===(carry&-8192))},FFTM.prototype.stub=function(N){for(var ph=new Array(N),i=0;i<N;i++)ph[i]=0;return ph},FFTM.prototype.mulp=function(x,y,out){var N=2*this.guessLen13b(x.length,y.length),rbt=this.makeRBT(N),_=this.stub(N),rws=new Array(N),rwst=new Array(N),iwst=new Array(N),nrws=new Array(N),nrwst=new Array(N),niwst=new Array(N),rmws=out.words;rmws.length=N,this.convert13b(x.words,x.length,rws,N),this.convert13b(y.words,y.length,nrws,N),this.transform(rws,_,rwst,iwst,N,rbt),this.transform(nrws,_,nrwst,niwst,N,rbt);for(var i=0;i<N;i++){var rx=rwst[i]*nrwst[i]-iwst[i]*niwst[i];iwst[i]=rwst[i]*niwst[i]+iwst[i]*nrwst[i],rwst[i]=rx}return this.conjugate(rwst,iwst,N),this.transform(rwst,iwst,rmws,_,N,rbt),this.conjugate(rmws,_,N),this.normalize13b(rmws,N),out.negative=x.negative^y.negative,out.length=x.length+y.length,out.strip()},BN.prototype.mul=function(num){var out=new BN(null);return out.words=new Array(this.length+num.length),this.mulTo(num,out)},BN.prototype.mulf=function(num){var out=new BN(null);return out.words=new Array(this.length+num.length),jumboMulTo(this,num,out)},BN.prototype.imul=function(num){return this.clone().mulTo(num,this)},BN.prototype.imuln=function(num){assert("number"==typeof num),assert(num<67108864);for(var carry=0,i=0;i<this.length;i++){var w=(0|this.words[i])*num,lo=(67108863&w)+(67108863&carry);carry>>=26,carry+=w/67108864|0,carry+=lo>>>26,this.words[i]=67108863&lo}return 0!==carry&&(this.words[i]=carry,this.length++),this},BN.prototype.muln=function(num){return this.clone().imuln(num)},BN.prototype.sqr=function(){return this.mul(this)},BN.prototype.isqr=function(){return this.imul(this.clone())},BN.prototype.pow=function(num){var w=toBitArray(num);if(0===w.length)return new BN(1);for(var res=this,i=0;i<w.length&&0===w[i];i++,res=res.sqr());if(++i<w.length)for(var q=res.sqr();i<w.length;i++,q=q.sqr())0!==w[i]&&(res=res.mul(q));return res},BN.prototype.iushln=function(bits){assert("number"==typeof bits&&bits>=0);var i,r=bits%26,s=(bits-r)/26,carryMask=67108863>>>26-r<<26-r;if(0!==r){var carry=0;for(i=0;i<this.length;i++){var newCarry=this.words[i]&carryMask,c=(0|this.words[i])-newCarry<<r;this.words[i]=c|carry,carry=newCarry>>>26-r}carry&&(this.words[i]=carry,this.length++)}if(0!==s){for(i=this.length-1;i>=0;i--)this.words[i+s]=this.words[i];for(i=0;i<s;i++)this.words[i]=0;this.length+=s}return this.strip()},BN.prototype.ishln=function(bits){return assert(0===this.negative),this.iushln(bits)},BN.prototype.iushrn=function(bits,hint,extended){assert("number"==typeof bits&&bits>=0);var h;h=hint?(hint-hint%26)/26:0;var r=bits%26,s=Math.min((bits-r)/26,this.length),mask=67108863^67108863>>>r<<r,maskedWords=extended;if(h-=s,h=Math.max(0,h),maskedWords){for(var i=0;i<s;i++)maskedWords.words[i]=this.words[i];maskedWords.length=s}if(0===s);else if(this.length>s)for(this.length-=s,i=0;i<this.length;i++)this.words[i]=this.words[i+s];else this.words[0]=0,this.length=1;var carry=0;for(i=this.length-1;i>=0&&(0!==carry||i>=h);i--){var word=0|this.words[i];this.words[i]=carry<<26-r|word>>>r,carry=word&mask}return maskedWords&&0!==carry&&(maskedWords.words[maskedWords.length++]=carry),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},BN.prototype.ishrn=function(bits,hint,extended){return assert(0===this.negative),this.iushrn(bits,hint,extended)},BN.prototype.shln=function(bits){return this.clone().ishln(bits)},BN.prototype.ushln=function(bits){return this.clone().iushln(bits)},BN.prototype.shrn=function(bits){return this.clone().ishrn(bits)},BN.prototype.ushrn=function(bits){return this.clone().iushrn(bits)},BN.prototype.testn=function(bit){assert("number"==typeof bit&&bit>=0);var r=bit%26,s=(bit-r)/26,q=1<<r;if(this.length<=s)return!1;var w=this.words[s];return!!(w&q)},BN.prototype.imaskn=function(bits){assert("number"==typeof bits&&bits>=0);var r=bits%26,s=(bits-r)/26;if(assert(0===this.negative,"imaskn works only with positive numbers"),this.length<=s)return this;if(0!==r&&s++,this.length=Math.min(s,this.length),0!==r){var mask=67108863^67108863>>>r<<r;this.words[this.length-1]&=mask}return this.strip()},BN.prototype.maskn=function(bits){return this.clone().imaskn(bits)},BN.prototype.iaddn=function(num){return assert("number"==typeof num),assert(num<67108864),num<0?this.isubn(-num):0!==this.negative?1===this.length&&(0|this.words[0])<num?(this.words[0]=num-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(num),this.negative=1,this):this._iaddn(num)},BN.prototype._iaddn=function(num){this.words[0]+=num;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},BN.prototype.isubn=function(num){if(assert("number"==typeof num),assert(num<67108864),num<0)return this.iaddn(-num);if(0!==this.negative)return this.negative=0,this.iaddn(num),this.negative=1,this;if(this.words[0]-=num,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this.strip()},BN.prototype.addn=function(num){return this.clone().iaddn(num)},BN.prototype.subn=function(num){return this.clone().isubn(num)},BN.prototype.iabs=function(){return this.negative=0,this},BN.prototype.abs=function(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function(num,mul,shift){var i,len=num.length+shift;this._expand(len);var w,carry=0;for(i=0;i<num.length;i++){w=(0|this.words[i+shift])+carry;var right=(0|num.words[i])*mul;w-=67108863&right,carry=(w>>26)-(right/67108864|0),this.words[i+shift]=67108863&w}for(;i<this.length-shift;i++)w=(0|this.words[i+shift])+carry,carry=w>>26,this.words[i+shift]=67108863&w;if(0===carry)return this.strip();for(assert(carry===-1),carry=0,i=0;i<this.length;i++)w=-(0|this.words[i])+carry,carry=w>>26,this.words[i]=67108863&w;return this.negative=1,this.strip()},BN.prototype._wordDiv=function(num,mode){var shift=this.length-num.length,a=this.clone(),b=num,bhi=0|b.words[b.length-1],bhiBits=this._countBits(bhi);shift=26-bhiBits,0!==shift&&(b=b.ushln(shift),a.iushln(shift),bhi=0|b.words[b.length-1]);var q,m=a.length-b.length;if("mod"!==mode){q=new BN(null),q.length=m+1,q.words=new Array(q.length);for(var i=0;i<q.length;i++)q.words[i]=0}var diff=a.clone()._ishlnsubmul(b,1,m);0===diff.negative&&(a=diff,q&&(q.words[m]=1));for(var j=m-1;j>=0;j--){var qj=67108864*(0|a.words[b.length+j])+(0|a.words[b.length+j-1]);for(qj=Math.min(qj/bhi|0,67108863),a._ishlnsubmul(b,qj,j);0!==a.negative;)qj--,a.negative=0,
a._ishlnsubmul(b,1,j),a.isZero()||(a.negative^=1);q&&(q.words[j]=qj)}return q&&q.strip(),a.strip(),"div"!==mode&&0!==shift&&a.iushrn(shift),{div:q||null,mod:a}},BN.prototype.divmod=function(num,mode,positive){if(assert(!num.isZero()),this.isZero())return{div:new BN(0),mod:new BN(0)};var div,mod,res;return 0!==this.negative&&0===num.negative?(res=this.neg().divmod(num,mode),"mod"!==mode&&(div=res.div.neg()),"div"!==mode&&(mod=res.mod.neg(),positive&&0!==mod.negative&&mod.iadd(num)),{div:div,mod:mod}):0===this.negative&&0!==num.negative?(res=this.divmod(num.neg(),mode),"mod"!==mode&&(div=res.div.neg()),{div:div,mod:res.mod}):0!==(this.negative&num.negative)?(res=this.neg().divmod(num.neg(),mode),"div"!==mode&&(mod=res.mod.neg(),positive&&0!==mod.negative&&mod.isub(num)),{div:res.div,mod:mod}):num.length>this.length||this.cmp(num)<0?{div:new BN(0),mod:this}:1===num.length?"div"===mode?{div:this.divn(num.words[0]),mod:null}:"mod"===mode?{div:null,mod:new BN(this.modn(num.words[0]))}:{div:this.divn(num.words[0]),mod:new BN(this.modn(num.words[0]))}:this._wordDiv(num,mode)},BN.prototype.div=function(num){return this.divmod(num,"div",!1).div},BN.prototype.mod=function(num){return this.divmod(num,"mod",!1).mod},BN.prototype.umod=function(num){return this.divmod(num,"mod",!0).mod},BN.prototype.divRound=function(num){var dm=this.divmod(num);if(dm.mod.isZero())return dm.div;var mod=0!==dm.div.negative?dm.mod.isub(num):dm.mod,half=num.ushrn(1),r2=num.andln(1),cmp=mod.cmp(half);return cmp<0||1===r2&&0===cmp?dm.div:0!==dm.div.negative?dm.div.isubn(1):dm.div.iaddn(1)},BN.prototype.modn=function(num){assert(num<=67108863);for(var p=(1<<26)%num,acc=0,i=this.length-1;i>=0;i--)acc=(p*acc+(0|this.words[i]))%num;return acc},BN.prototype.idivn=function(num){assert(num<=67108863);for(var carry=0,i=this.length-1;i>=0;i--){var w=(0|this.words[i])+67108864*carry;this.words[i]=w/num|0,carry=w%num}return this.strip()},BN.prototype.divn=function(num){return this.clone().idivn(num)},BN.prototype.egcd=function(p){assert(0===p.negative),assert(!p.isZero());var x=this,y=p.clone();x=0!==x.negative?x.umod(p):x.clone();for(var A=new BN(1),B=new BN(0),C=new BN(0),D=new BN(1),g=0;x.isEven()&&y.isEven();)x.iushrn(1),y.iushrn(1),++g;for(var yp=y.clone(),xp=x.clone();!x.isZero();){for(var i=0,im=1;0===(x.words[0]&im)&&i<26;++i,im<<=1);if(i>0)for(x.iushrn(i);i-- >0;)(A.isOdd()||B.isOdd())&&(A.iadd(yp),B.isub(xp)),A.iushrn(1),B.iushrn(1);for(var j=0,jm=1;0===(y.words[0]&jm)&&j<26;++j,jm<<=1);if(j>0)for(y.iushrn(j);j-- >0;)(C.isOdd()||D.isOdd())&&(C.iadd(yp),D.isub(xp)),C.iushrn(1),D.iushrn(1);x.cmp(y)>=0?(x.isub(y),A.isub(C),B.isub(D)):(y.isub(x),C.isub(A),D.isub(B))}return{a:C,b:D,gcd:y.iushln(g)}},BN.prototype._invmp=function(p){assert(0===p.negative),assert(!p.isZero());var a=this,b=p.clone();a=0!==a.negative?a.umod(p):a.clone();for(var x1=new BN(1),x2=new BN(0),delta=b.clone();a.cmpn(1)>0&&b.cmpn(1)>0;){for(var i=0,im=1;0===(a.words[0]&im)&&i<26;++i,im<<=1);if(i>0)for(a.iushrn(i);i-- >0;)x1.isOdd()&&x1.iadd(delta),x1.iushrn(1);for(var j=0,jm=1;0===(b.words[0]&jm)&&j<26;++j,jm<<=1);if(j>0)for(b.iushrn(j);j-- >0;)x2.isOdd()&&x2.iadd(delta),x2.iushrn(1);a.cmp(b)>=0?(a.isub(b),x1.isub(x2)):(b.isub(a),x2.isub(x1))}var res;return res=0===a.cmpn(1)?x1:x2,res.cmpn(0)<0&&res.iadd(p),res},BN.prototype.gcd=function(num){if(this.isZero())return num.abs();if(num.isZero())return this.abs();var a=this.clone(),b=num.clone();a.negative=0,b.negative=0;for(var shift=0;a.isEven()&&b.isEven();shift++)a.iushrn(1),b.iushrn(1);for(;;){for(;a.isEven();)a.iushrn(1);for(;b.isEven();)b.iushrn(1);var r=a.cmp(b);if(r<0){var t=a;a=b,b=t}else if(0===r||0===b.cmpn(1))break;a.isub(b)}return b.iushln(shift)},BN.prototype.invm=function(num){return this.egcd(num).a.umod(num)},BN.prototype.isEven=function(){return 0===(1&this.words[0])},BN.prototype.isOdd=function(){return 1===(1&this.words[0])},BN.prototype.andln=function(num){return this.words[0]&num},BN.prototype.bincn=function(bit){assert("number"==typeof bit);var r=bit%26,s=(bit-r)/26,q=1<<r;if(this.length<=s)return this._expand(s+1),this.words[s]|=q,this;for(var carry=q,i=s;0!==carry&&i<this.length;i++){var w=0|this.words[i];w+=carry,carry=w>>>26,w&=67108863,this.words[i]=w}return 0!==carry&&(this.words[i]=carry,this.length++),this},BN.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},BN.prototype.cmpn=function(num){var negative=num<0;if(0!==this.negative&&!negative)return-1;if(0===this.negative&&negative)return 1;this.strip();var res;if(this.length>1)res=1;else{negative&&(num=-num),assert(num<=67108863,"Number is too big");var w=0|this.words[0];res=w===num?0:w<num?-1:1}return 0!==this.negative?0|-res:res},BN.prototype.cmp=function(num){if(0!==this.negative&&0===num.negative)return-1;if(0===this.negative&&0!==num.negative)return 1;var res=this.ucmp(num);return 0!==this.negative?0|-res:res},BN.prototype.ucmp=function(num){if(this.length>num.length)return 1;if(this.length<num.length)return-1;for(var res=0,i=this.length-1;i>=0;i--){var a=0|this.words[i],b=0|num.words[i];if(a!==b){a<b?res=-1:a>b&&(res=1);break}}return res},BN.prototype.gtn=function(num){return 1===this.cmpn(num)},BN.prototype.gt=function(num){return 1===this.cmp(num)},BN.prototype.gten=function(num){return this.cmpn(num)>=0},BN.prototype.gte=function(num){return this.cmp(num)>=0},BN.prototype.ltn=function(num){return this.cmpn(num)===-1},BN.prototype.lt=function(num){return this.cmp(num)===-1},BN.prototype.lten=function(num){return this.cmpn(num)<=0},BN.prototype.lte=function(num){return this.cmp(num)<=0},BN.prototype.eqn=function(num){return 0===this.cmpn(num)},BN.prototype.eq=function(num){return 0===this.cmp(num)},BN.red=function(num){return new Red(num)},BN.prototype.toRed=function(ctx){return assert(!this.red,"Already a number in reduction context"),assert(0===this.negative,"red works only with positives"),ctx.convertTo(this)._forceRed(ctx)},BN.prototype.fromRed=function(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function(ctx){return this.red=ctx,this},BN.prototype.forceRed=function(ctx){return assert(!this.red,"Already a number in reduction context"),this._forceRed(ctx)},BN.prototype.redAdd=function(num){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,num)},BN.prototype.redIAdd=function(num){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,num)},BN.prototype.redSub=function(num){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,num)},BN.prototype.redISub=function(num){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,num)},BN.prototype.redShl=function(num){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,num)},BN.prototype.redMul=function(num){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,num),this.red.mul(this,num)},BN.prototype.redIMul=function(num){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,num),this.red.imul(this,num)},BN.prototype.redSqr=function(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function(num){return assert(this.red&&!num.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,num)};var primes={k256:null,p224:null,p192:null,p25519:null};MPrime.prototype._tmp=function(){var tmp=new BN(null);return tmp.words=new Array(Math.ceil(this.n/13)),tmp},MPrime.prototype.ireduce=function(num){var rlen,r=num;do this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),rlen=r.bitLength();while(rlen>this.n);var cmp=rlen<this.n?-1:r.ucmp(this.p);return 0===cmp?(r.words[0]=0,r.length=1):cmp>0?r.isub(this.p):r.strip(),r},MPrime.prototype.split=function(input,out){input.iushrn(this.n,0,out)},MPrime.prototype.imulK=function(num){return num.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function(input,output){for(var mask=4194303,outLen=Math.min(input.length,9),i=0;i<outLen;i++)output.words[i]=input.words[i];if(output.length=outLen,input.length<=9)return input.words[0]=0,void(input.length=1);var prev=input.words[9];for(output.words[output.length++]=prev&mask,i=10;i<input.length;i++){var next=0|input.words[i];input.words[i-10]=(next&mask)<<4|prev>>>22,prev=next}prev>>>=22,input.words[i-10]=prev,0===prev&&input.length>10?input.length-=10:input.length-=9},K256.prototype.imulK=function(num){num.words[num.length]=0,num.words[num.length+1]=0,num.length+=2;for(var lo=0,i=0;i<num.length;i++){var w=0|num.words[i];lo+=977*w,num.words[i]=67108863&lo,lo=64*w+(lo/67108864|0)}return 0===num.words[num.length-1]&&(num.length--,0===num.words[num.length-1]&&num.length--),num},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function(num){for(var carry=0,i=0;i<num.length;i++){var hi=19*(0|num.words[i])+carry,lo=67108863&hi;hi>>>=26,num.words[i]=lo,carry=hi}return 0!==carry&&(num.words[num.length++]=carry),num},BN._prime=function prime(name){if(primes[name])return primes[name];var prime;if("k256"===name)prime=new K256;else if("p224"===name)prime=new P224;else if("p192"===name)prime=new P192;else{if("p25519"!==name)throw new Error("Unknown prime "+name);prime=new P25519}return primes[name]=prime,prime},Red.prototype._verify1=function(a){assert(0===a.negative,"red works only with positives"),assert(a.red,"red works only with red numbers")},Red.prototype._verify2=function(a,b){assert(0===(a.negative|b.negative),"red works only with positives"),assert(a.red&&a.red===b.red,"red works only with red numbers")},Red.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Red.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Red.prototype.add=function(a,b){this._verify2(a,b);var res=a.add(b);return res.cmp(this.m)>=0&&res.isub(this.m),res._forceRed(this)},Red.prototype.iadd=function(a,b){this._verify2(a,b);var res=a.iadd(b);return res.cmp(this.m)>=0&&res.isub(this.m),res},Red.prototype.sub=function(a,b){this._verify2(a,b);var res=a.sub(b);return res.cmpn(0)<0&&res.iadd(this.m),res._forceRed(this)},Red.prototype.isub=function(a,b){this._verify2(a,b);var res=a.isub(b);return res.cmpn(0)<0&&res.iadd(this.m),res},Red.prototype.shl=function(a,num){return this._verify1(a),this.imod(a.ushln(num))},Red.prototype.imul=function(a,b){return this._verify2(a,b),this.imod(a.imul(b))},Red.prototype.mul=function(a,b){return this._verify2(a,b),this.imod(a.mul(b))},Red.prototype.isqr=function(a){return this.imul(a,a.clone())},Red.prototype.sqr=function(a){return this.mul(a,a)},Red.prototype.sqrt=function(a){if(a.isZero())return a.clone();var mod3=this.m.andln(3);if(assert(mod3%2===1),3===mod3){var pow=this.m.add(new BN(1)).iushrn(2);return this.pow(a,pow)}for(var q=this.m.subn(1),s=0;!q.isZero()&&0===q.andln(1);)s++,q.iushrn(1);assert(!q.isZero());var one=new BN(1).toRed(this),nOne=one.redNeg(),lpow=this.m.subn(1).iushrn(1),z=this.m.bitLength();for(z=new BN(2*z*z).toRed(this);0!==this.pow(z,lpow).cmp(nOne);)z.redIAdd(nOne);for(var c=this.pow(z,q),r=this.pow(a,q.addn(1).iushrn(1)),t=this.pow(a,q),m=s;0!==t.cmp(one);){for(var tmp=t,i=0;0!==tmp.cmp(one);i++)tmp=tmp.redSqr();assert(i<m);var b=this.pow(c,new BN(1).iushln(m-i-1));r=r.redMul(b),c=b.redSqr(),t=t.redMul(c),m=i}return r},Red.prototype.invm=function(a){var inv=a._invmp(this.m);return 0!==inv.negative?(inv.negative=0,this.imod(inv).redNeg()):this.imod(inv)},Red.prototype.pow=function(a,num){if(num.isZero())return new BN(1);if(0===num.cmpn(1))return a.clone();var windowSize=4,wnd=new Array(1<<windowSize);wnd[0]=new BN(1).toRed(this),wnd[1]=a;for(var i=2;i<wnd.length;i++)wnd[i]=this.mul(wnd[i-1],a);var res=wnd[0],current=0,currentLen=0,start=num.bitLength()%26;for(0===start&&(start=26),i=num.length-1;i>=0;i--){for(var word=num.words[i],j=start-1;j>=0;j--){var bit=word>>j&1;res!==wnd[0]&&(res=this.sqr(res)),0!==bit||0!==current?(current<<=1,current|=bit,currentLen++,(currentLen===windowSize||0===i&&0===j)&&(res=this.mul(res,wnd[current]),currentLen=0,current=0)):currentLen=0}start=26}return res},Red.prototype.convertTo=function(num){var r=num.umod(this.m);return r===num?r.clone():r},Red.prototype.convertFrom=function(num){var res=num.clone();return res.red=null,res},BN.mont=function(num){return new Mont(num)},inherits(Mont,Red),Mont.prototype.convertTo=function(num){return this.imod(num.ushln(this.shift))},Mont.prototype.convertFrom=function(num){var r=this.imod(num.mul(this.rinv));return r.red=null,r},Mont.prototype.imul=function(a,b){if(a.isZero()||b.isZero())return a.words[0]=0,a.length=1,a;var t=a.imul(b),c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=t.isub(c).iushrn(this.shift),res=u;return u.cmp(this.m)>=0?res=u.isub(this.m):u.cmpn(0)<0&&(res=u.iadd(this.m)),res._forceRed(this)},Mont.prototype.mul=function(a,b){if(a.isZero()||b.isZero())return new BN(0)._forceRed(this);var t=a.mul(b),c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=t.isub(c).iushrn(this.shift),res=u;return u.cmp(this.m)>=0?res=u.isub(this.m):u.cmpn(0)<0&&(res=u.iadd(this.m)),res._forceRed(this)},Mont.prototype.invm=function(a){var res=this.imod(a._invmp(this.m).mul(this.r2));return res._forceRed(this)}}("undefined"==typeof module||module,this)}).call(exports,__webpack_require__(53)(module))},function(module,exports,__webpack_require__){"use strict";(function(global){var buffer=__webpack_require__(0),Buffer=buffer.Buffer,SlowBuffer=buffer.SlowBuffer,MAX_LEN=buffer.kMaxLength||2147483647;exports.alloc=function(size,fill,encoding){if("function"==typeof Buffer.alloc)return Buffer.alloc(size,fill,encoding);if("number"==typeof encoding)throw new TypeError("encoding must not be number");if("number"!=typeof size)throw new TypeError("size must be a number");if(size>MAX_LEN)throw new RangeError("size is too large");var enc=encoding,_fill=fill;void 0===_fill&&(enc=void 0,_fill=0);var buf=new Buffer(size);if("string"==typeof _fill)for(var fillBuf=new Buffer(_fill,enc),flen=fillBuf.length,i=-1;++i<size;)buf[i]=fillBuf[i%flen];else buf.fill(_fill);return buf},exports.allocUnsafe=function(size){if("function"==typeof Buffer.allocUnsafe)return Buffer.allocUnsafe(size);if("number"!=typeof size)throw new TypeError("size must be a number");if(size>MAX_LEN)throw new RangeError("size is too large");return new Buffer(size)},exports.from=function(value,encodingOrOffset,length){if("function"==typeof Buffer.from&&(!global.Uint8Array||Uint8Array.from!==Buffer.from))return Buffer.from(value,encodingOrOffset,length);if("number"==typeof value)throw new TypeError('"value" argument must not be a number');if("string"==typeof value)return new Buffer(value,encodingOrOffset);if("undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer){var offset=encodingOrOffset;if(1===arguments.length)return new Buffer(value);"undefined"==typeof offset&&(offset=0);var len=length;if("undefined"==typeof len&&(len=value.byteLength-offset),offset>=value.byteLength)throw new RangeError("'offset' is out of bounds");if(len>value.byteLength-offset)throw new RangeError("'length' is out of bounds");return new Buffer(value.slice(offset,offset+len))}if(Buffer.isBuffer(value)){var out=new Buffer(value.length);return value.copy(out,0,0,value.length),out}if(value){if(Array.isArray(value)||"undefined"!=typeof ArrayBuffer&&value.buffer instanceof ArrayBuffer||"length"in value)return new Buffer(value);if("Buffer"===value.type&&Array.isArray(value.data))return new Buffer(value.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},exports.allocUnsafeSlow=function(size){if("function"==typeof Buffer.allocUnsafeSlow)return Buffer.allocUnsafeSlow(size);if("number"!=typeof size)throw new TypeError("size must be a number");if(size>=MAX_LEN)throw new RangeError("size is too large");return new SlowBuffer(size)}}).call(exports,__webpack_require__(9))},function(module,exports,__webpack_require__){(function(setImmediate,clearImmediate){function Timeout(id,clearFn){this._id=id,this._clearFn=clearFn}var nextTick=__webpack_require__(3).nextTick,apply=Function.prototype.apply,slice=Array.prototype.slice,immediateIds={},nextImmediateId=0;exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(timeout){timeout.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId),item._idleTimeout=msecs},exports.unenroll=function(item){clearTimeout(item._idleTimeoutId),item._idleTimeout=-1},exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;msecs>=0&&(item._idleTimeoutId=setTimeout(function(){item._onTimeout&&item._onTimeout()},msecs))},exports.setImmediate="function"==typeof setImmediate?setImmediate:function(fn){var id=nextImmediateId++,args=!(arguments.length<2)&&slice.call(arguments,1);return immediateIds[id]=!0,nextTick(function(){immediateIds[id]&&(args?fn.apply(null,args):fn.call(null),exports.clearImmediate(id))}),id},exports.clearImmediate="function"==typeof clearImmediate?clearImmediate:function(id){delete immediateIds[id]}}).call(exports,__webpack_require__(21).setImmediate,__webpack_require__(21).clearImmediate)},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(52),min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0}},function(module,exports,__webpack_require__){var defined=__webpack_require__(39);module.exports=function(it){return Object(defined(it))}},function(module,exports,__webpack_require__){"use strict";var elliptic=exports;elliptic.version=__webpack_require__(319).version,elliptic.utils=__webpack_require__(607),elliptic.rand=__webpack_require__(203),elliptic.hmacDRBG=__webpack_require__(605),elliptic.curve=__webpack_require__(124),elliptic.curves=__webpack_require__(598),elliptic.ec=__webpack_require__(599),elliptic.eddsa=__webpack_require__(602)},function(module,exports,__webpack_require__){"use strict";var transport=exports;transport.utils=__webpack_require__(766),transport.protocol={},transport.protocol.base=__webpack_require__(183),transport.protocol.spdy=__webpack_require__(306),transport.protocol.http2=__webpack_require__(135),transport.Window=__webpack_require__(767),transport.Priority=__webpack_require__(751),transport.Stream=__webpack_require__(765).Stream,transport.Connection=__webpack_require__(750).Connection,transport.connection=transport.Connection},function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},function(module,exports,__webpack_require__){"use strict";(function(Buffer){var bs58=__webpack_require__(54),cs=__webpack_require__(701);exports.toHexString=function(m){if(!Buffer.isBuffer(m))throw new Error("must be passed a buffer");return m.toString("hex")},exports.fromHexString=function(s){return new Buffer(s,"hex")},exports.toB58String=function(m){if(!Buffer.isBuffer(m))throw new Error("must be passed a buffer");return bs58.encode(m)},exports.fromB58String=function(s){var encoded=s;return Buffer.isBuffer(s)&&(encoded=s.toString()),new Buffer(bs58.decode(encoded))},exports.decode=function(buf){exports.validate(buf);var code=buf[0];return{code:code,name:cs.codes[code],length:buf[1],digest:buf.slice(2)}},exports.encode=function(digest,code,length){if(!digest||!code)throw new Error("multihash encode requires at least two args: digest, code");var hashfn=exports.coerceCode(code);if(!Buffer.isBuffer(digest))throw new Error("digest should be a Buffer");if(null==length&&(length=digest.length),length&&digest.length!==length)throw new Error("digest length should be equal to specified length.");if(length>127)throw new Error("multihash does not yet support digest lengths greater than 127 bytes.");return Buffer.concat([new Buffer([hashfn,length]),digest])},exports.coerceCode=function(name){var code=name;if("string"==typeof name){if(!cs.names[name])throw new Error("Unrecognized hash function named: "+name);code=cs.names[name]}if("number"!=typeof code)throw new Error("Hash function code should be a number. Got: "+code);if(!cs.codes[code]&&!exports.isAppCode(code))throw new Error("Unrecognized function code: "+code);return code},exports.isAppCode=function(code){return code>0&&code<16},exports.isValidCode=function(code){return!!exports.isAppCode(code)||!!cs.codes[code]},exports.validate=function(multihash){if(!Buffer.isBuffer(multihash))throw new Error("multihash must be a Buffer");if(multihash.length<3)throw new Error("multihash too short. must be > 3 bytes.");if(multihash.length>129)throw new Error("multihash too long. must be < 129 bytes.");var code=multihash[0];if(!exports.isValidCode(code))throw new Error("multihash unknown function code: 0x"+code.toString(16));if(multihash.slice(2).length!==multihash[1])throw new Error("multihash length inconsistent: 0x"+multihash.toString("hex"))}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";(function(global){function compare(a,b){if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0}function isBuffer(b){return global.Buffer&&"function"==typeof global.Buffer.isBuffer?global.Buffer.isBuffer(b):!(null==b||!b._isBuffer)}function pToString(obj){return Object.prototype.toString.call(obj)}function isView(arrbuf){return!isBuffer(arrbuf)&&("function"==typeof global.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(arrbuf):!!arrbuf&&(arrbuf instanceof DataView||!!(arrbuf.buffer&&arrbuf.buffer instanceof ArrayBuffer))))}function getName(func){if(util.isFunction(func)){if(functionsHaveNames)return func.name;var str=func.toString(),match=str.match(regex);return match&&match[1]}}function truncate(s,n){return"string"==typeof s?s.length<n?s:s.slice(0,n):s}function inspect(something){if(functionsHaveNames||!util.isFunction(something))return util.inspect(something);var rawname=getName(something),name=rawname?": "+rawname:"";return"[Function"+name+"]"}function getMessage(self){return truncate(inspect(self.actual),128)+" "+self.operator+" "+truncate(inspect(self.expected),128)}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}function ok(value,message){value||fail(value,!0,message,"==",assert.ok)}function _deepEqual(actual,expected,strict,memos){if(actual===expected)return!0;if(isBuffer(actual)&&isBuffer(expected))return 0===compare(actual,expected);if(util.isDate(actual)&&util.isDate(expected))return actual.getTime()===expected.getTime();if(util.isRegExp(actual)&&util.isRegExp(expected))return actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase;if(null!==actual&&"object"==typeof actual||null!==expected&&"object"==typeof expected){if(isView(actual)&&isView(expected)&&pToString(actual)===pToString(expected)&&!(actual instanceof Float32Array||actual instanceof Float64Array))return 0===compare(new Uint8Array(actual.buffer),new Uint8Array(expected.buffer));if(isBuffer(actual)!==isBuffer(expected))return!1;memos=memos||{actual:[],expected:[]};var actualIndex=memos.actual.indexOf(actual);return actualIndex!==-1&&actualIndex===memos.expected.indexOf(expected)||(memos.actual.push(actual),memos.expected.push(expected),objEquiv(actual,expected,strict,memos))}return strict?actual===expected:actual==expected}function isArguments(object){return"[object Arguments]"==Object.prototype.toString.call(object)}function objEquiv(a,b,strict,actualVisitedObjects){if(null===a||void 0===a||null===b||void 0===b)return!1;if(util.isPrimitive(a)||util.isPrimitive(b))return a===b;if(strict&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return!1;var aIsArgs=isArguments(a),bIsArgs=isArguments(b);if(aIsArgs&&!bIsArgs||!aIsArgs&&bIsArgs)return!1;if(aIsArgs)return a=pSlice.call(a),b=pSlice.call(b),_deepEqual(a,b,strict);var key,i,ka=objectKeys(a),kb=objectKeys(b);if(ka.length!==kb.length)return!1;for(ka.sort(),kb.sort(),i=ka.length-1;i>=0;i--)if(ka[i]!==kb[i])return!1;for(i=ka.length-1;i>=0;i--)if(key=ka[i],!_deepEqual(a[key],b[key],strict,actualVisitedObjects))return!1;return!0}function notDeepStrictEqual(actual,expected,message){_deepEqual(actual,expected,!0)&&fail(actual,expected,message,"notDeepStrictEqual",notDeepStrictEqual)}function expectedException(actual,expected){if(!actual||!expected)return!1;if("[object RegExp]"==Object.prototype.toString.call(expected))return expected.test(actual);try{if(actual instanceof expected)return!0}catch(e){}return!Error.isPrototypeOf(expected)&&expected.call({},actual)===!0}function _tryBlock(block){var error;try{block()}catch(e){error=e}return error}function _throws(shouldThrow,block,expected,message){var actual;if("function"!=typeof block)throw new TypeError('"block" argument must be a function');"string"==typeof expected&&(message=expected,expected=null),actual=_tryBlock(block),message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:"."),shouldThrow&&!actual&&fail(actual,expected,"Missing expected exception"+message);var userProvidedMessage="string"==typeof message,isUnwantedException=!shouldThrow&&util.isError(actual),isUnexpectedException=!shouldThrow&&actual&&!expected;if((isUnwantedException&&userProvidedMessage&&expectedException(actual,expected)||isUnexpectedException)&&fail(actual,expected,"Got unwanted exception"+message),shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual)throw actual}var util=__webpack_require__(14),hasOwn=Object.prototype.hasOwnProperty,pSlice=Array.prototype.slice,functionsHaveNames=function(){return"foo"===function(){}.name}(),assert=module.exports=ok,regex=/\s*function\s+([^\(\s]*)\s*/;assert.AssertionError=function(options){this.name="AssertionError",this.actual=options.actual,this.expected=options.expected,this.operator=options.operator,options.message?(this.message=options.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var stackStartFunction=options.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,stackStartFunction);else{var err=new Error;if(err.stack){var out=err.stack,fn_name=getName(stackStartFunction),idx=out.indexOf("\n"+fn_name);if(idx>=0){var next_line=out.indexOf("\n",idx+1);out=out.substring(next_line+1)}this.stack=out}}},util.inherits(assert.AssertionError,Error),assert.fail=fail,assert.ok=ok,assert.equal=function(actual,expected,message){actual!=expected&&fail(actual,expected,message,"==",assert.equal)},assert.notEqual=function(actual,expected,message){actual==expected&&fail(actual,expected,message,"!=",assert.notEqual)},assert.deepEqual=function(actual,expected,message){_deepEqual(actual,expected,!1)||fail(actual,expected,message,"deepEqual",assert.deepEqual)},assert.deepStrictEqual=function(actual,expected,message){_deepEqual(actual,expected,!0)||fail(actual,expected,message,"deepStrictEqual",assert.deepStrictEqual)},assert.notDeepEqual=function(actual,expected,message){_deepEqual(actual,expected,!1)&&fail(actual,expected,message,"notDeepEqual",assert.notDeepEqual)},assert.notDeepStrictEqual=notDeepStrictEqual,assert.strictEqual=function(actual,expected,message){actual!==expected&&fail(actual,expected,message,"===",assert.strictEqual)},assert.notStrictEqual=function(actual,expected,message){actual===expected&&fail(actual,expected,message,"!==",assert.notStrictEqual)},assert.throws=function(block,error,message){_throws(!0,block,error,message)},assert.doesNotThrow=function(block,error,message){_throws(!1,block,error,message)},assert.ifError=function(err){if(err)throw err};var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)hasOwn.call(obj,key)&&keys.push(key);return keys}}).call(exports,__webpack_require__(9))},function(module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it}},function(module,exports,__webpack_require__){var dP=__webpack_require__(18),createDesc=__webpack_require__(51);module.exports=__webpack_require__(17)?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){return object[key]=value,object}},function(module,exports,__webpack_require__){var global=__webpack_require__(11),hide=__webpack_require__(30),has=__webpack_require__(26),SRC=__webpack_require__(63)("src"),TO_STRING="toString",$toString=Function[TO_STRING],TPL=(""+$toString).split(TO_STRING);__webpack_require__(45).inspectSource=function(it){return $toString.call(it)},(module.exports=function(O,key,val,safe){var isFunction="function"==typeof val;isFunction&&(has(val,"name")||hide(val,"name",key)),O[key]!==val&&(isFunction&&(has(val,SRC)||hide(val,SRC,O[key]?""+O[key]:TPL.join(String(key)))),O===global?O[key]=val:safe?O[key]?O[key]=val:hide(O,key,val):(delete O[key],hide(O,key,val)))})(Function.prototype,TO_STRING,function(){return"function"==typeof this&&this[SRC]||$toString.call(this)})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),fails=__webpack_require__(12),defined=__webpack_require__(39),quot=/"/g,createHTML=function(string,tag,attribute,value){var S=String(defined(string)),p1="<"+tag;return""!==attribute&&(p1+=" "+attribute+'="'+String(value).replace(quot,"&quot;")+'"'),p1+">"+S+"</"+tag+">"};module.exports=function(NAME,exec){var O={};O[NAME]=exec(createHTML),$export($export.P+$export.F*fails(function(){var test=""[NAME]('"');return test!==test.toLowerCase()||test.split('"').length>3}),"String",O)}},function(module,exports,__webpack_require__){var IObject=__webpack_require__(96),defined=__webpack_require__(39);module.exports=function(it){return IObject(defined(it))}},function(module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},function(module,exports,__webpack_require__){var pIE=__webpack_require__(97),createDesc=__webpack_require__(51),toIObject=__webpack_require__(33),toPrimitive=__webpack_require__(43),has=__webpack_require__(26),IE8_DOM_DEFINE=__webpack_require__(223),gOPD=Object.getOwnPropertyDescriptor;exports.f=__webpack_require__(17)?gOPD:function(O,P){if(O=toIObject(O),P=toPrimitive(P,!0),IE8_DOM_DEFINE)try{return gOPD(O,P)}catch(e){}if(has(O,P))return createDesc(!pIE.f.call(O,P),O[P])}},function(module,exports,__webpack_require__){var has=__webpack_require__(26),toObject=__webpack_require__(23),IE_PROTO=__webpack_require__(155)("IE_PROTO"),ObjectProto=Object.prototype;module.exports=Object.getPrototypeOf||function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectProto:null;
}},function(module,exports,__webpack_require__){(function(global){function deprecate(fn,msg){function deprecated(){if(!warned){if(config("throwDeprecation"))throw new Error(msg);config("traceDeprecation")?console.trace(msg):console.warn(msg),warned=!0}return fn.apply(this,arguments)}if(config("noDeprecation"))return fn;var warned=!1;return deprecated}function config(name){try{if(!global.localStorage)return!1}catch(_){return!1}var val=global.localStorage[name];return null!=val&&"true"===String(val).toLowerCase()}module.exports=deprecate}).call(exports,__webpack_require__(9))},function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},function(module,exports){module.exports=function(it){if(void 0==it)throw TypeError("Can't call method on  "+it);return it}},function(module,exports,__webpack_require__){var fails=__webpack_require__(12);module.exports=function(method,arg){return!!method&&fails(function(){arg?method.call(null,function(){},1):method.call(null)})}},function(module,exports,__webpack_require__){var ctx=__webpack_require__(46),IObject=__webpack_require__(96),toObject=__webpack_require__(23),toLength=__webpack_require__(22),asc=__webpack_require__(399);module.exports=function(TYPE,$create){var IS_MAP=1==TYPE,IS_FILTER=2==TYPE,IS_SOME=3==TYPE,IS_EVERY=4==TYPE,IS_FIND_INDEX=6==TYPE,NO_HOLES=5==TYPE||IS_FIND_INDEX,create=$create||asc;return function($this,callbackfn,that){for(var val,res,O=toObject($this),self=IObject(O),f=ctx(callbackfn,that,3),length=toLength(self.length),index=0,result=IS_MAP?create($this,length):IS_FILTER?create($this,0):void 0;length>index;index++)if((NO_HOLES||index in self)&&(val=self[index],res=f(val,index,O),TYPE))if(IS_MAP)result[index]=res;else if(res)switch(TYPE){case 3:return!0;case 5:return val;case 6:return index;case 2:result.push(val)}else if(IS_EVERY)return!1;return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:result}}},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),core=__webpack_require__(45),fails=__webpack_require__(12);module.exports=function(KEY,exec){var fn=(core.Object||{})[KEY]||Object[KEY],exp={};exp[KEY]=exec(fn),$export($export.S+$export.F*fails(function(){fn(1)}),"Object",exp)}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(15);module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;if("function"==typeof(fn=it.valueOf)&&!isObject(val=fn.call(it)))return val;if(!S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},function(module,exports,__webpack_require__){(function(process){function normalizeArray(parts,allowAboveRoot){for(var up=0,i=parts.length-1;i>=0;i--){var last=parts[i];"."===last?parts.splice(i,1):".."===last?(parts.splice(i,1),up++):up&&(parts.splice(i,1),up--)}if(allowAboveRoot)for(;up--;up)parts.unshift("..");return parts}function filter(xs,f){if(xs.filter)return xs.filter(f);for(var res=[],i=0;i<xs.length;i++)f(xs[i],i,xs)&&res.push(xs[i]);return res}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,splitPath=function(filename){return splitPathRe.exec(filename).slice(1)};exports.resolve=function(){for(var resolvedPath="",resolvedAbsolute=!1,i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if("string"!=typeof path)throw new TypeError("Arguments to path.resolve must be strings");path&&(resolvedPath=path+"/"+resolvedPath,resolvedAbsolute="/"===path.charAt(0))}return resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/"),(resolvedAbsolute?"/":"")+resolvedPath||"."},exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash="/"===substr(path,-1);return path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/"),path||isAbsolute||(path="."),path&&trailingSlash&&(path+="/"),(isAbsolute?"/":"")+path},exports.isAbsolute=function(path){return"/"===path.charAt(0)},exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){if("string"!=typeof p)throw new TypeError("Arguments to path.join must be strings");return p}).join("/"))},exports.relative=function(from,to){function trim(arr){for(var start=0;start<arr.length&&""===arr[start];start++);for(var end=arr.length-1;end>=0&&""===arr[end];end--);return start>end?[]:arr.slice(start,end-start+1)}from=exports.resolve(from).substr(1),to=exports.resolve(to).substr(1);for(var fromParts=trim(from.split("/")),toParts=trim(to.split("/")),length=Math.min(fromParts.length,toParts.length),samePartsLength=length,i=0;i<length;i++)if(fromParts[i]!==toParts[i]){samePartsLength=i;break}for(var outputParts=[],i=samePartsLength;i<fromParts.length;i++)outputParts.push("..");return outputParts=outputParts.concat(toParts.slice(samePartsLength)),outputParts.join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(path){var result=splitPath(path),root=result[0],dir=result[1];return root||dir?(dir&&(dir=dir.substr(0,dir.length-1)),root+dir):"."},exports.basename=function(path,ext){var f=splitPath(path)[2];return ext&&f.substr(-1*ext.length)===ext&&(f=f.substr(0,f.length-ext.length)),f},exports.extname=function(path){return splitPath(path)[3]};var substr="b"==="ab".substr(-1)?function(str,start,len){return str.substr(start,len)}:function(str,start,len){return start<0&&(start=str.length+start),str.substr(start,len)}}).call(exports,__webpack_require__(3))},function(module,exports){var core=module.exports={version:"2.4.0"};"number"==typeof __e&&(__e=core)},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(29);module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},function(module,exports,__webpack_require__){var Map=__webpack_require__(239),$export=__webpack_require__(1),shared=__webpack_require__(122)("metadata"),store=shared.store||(shared.store=new(__webpack_require__(242))),getOrCreateMetadataMap=function(target,targetKey,create){var targetMetadata=store.get(target);if(!targetMetadata){if(!create)return;store.set(target,targetMetadata=new Map)}var keyMetadata=targetMetadata.get(targetKey);if(!keyMetadata){if(!create)return;targetMetadata.set(targetKey,keyMetadata=new Map)}return keyMetadata},ordinaryHasOwnMetadata=function(MetadataKey,O,P){var metadataMap=getOrCreateMetadataMap(O,P,!1);return void 0!==metadataMap&&metadataMap.has(MetadataKey)},ordinaryGetOwnMetadata=function(MetadataKey,O,P){var metadataMap=getOrCreateMetadataMap(O,P,!1);return void 0===metadataMap?void 0:metadataMap.get(MetadataKey)},ordinaryDefineOwnMetadata=function(MetadataKey,MetadataValue,O,P){getOrCreateMetadataMap(O,P,!0).set(MetadataKey,MetadataValue)},ordinaryOwnMetadataKeys=function(target,targetKey){var metadataMap=getOrCreateMetadataMap(target,targetKey,!1),keys=[];return metadataMap&&metadataMap.forEach(function(_,key){keys.push(key)}),keys},toMetaKey=function(it){return void 0===it||"symbol"==typeof it?it:String(it)},exp=function(O){$export($export.S,"Reflect",O)};module.exports={store:store,map:getOrCreateMetadataMap,has:ordinaryHasOwnMetadata,get:ordinaryGetOwnMetadata,set:ordinaryDefineOwnMetadata,keys:ordinaryOwnMetadataKeys,key:toMetaKey,exp:exp}},function(module,exports,__webpack_require__){"use strict";if(__webpack_require__(17)){var LIBRARY=__webpack_require__(56),global=__webpack_require__(11),fails=__webpack_require__(12),$export=__webpack_require__(1),$typed=__webpack_require__(123),$buffer=__webpack_require__(162),ctx=__webpack_require__(46),anInstance=__webpack_require__(55),propertyDesc=__webpack_require__(51),hide=__webpack_require__(30),redefineAll=__webpack_require__(60),toInteger=__webpack_require__(52),toLength=__webpack_require__(22),toIndex=__webpack_require__(62),toPrimitive=__webpack_require__(43),has=__webpack_require__(26),same=__webpack_require__(236),classof=__webpack_require__(95),isObject=__webpack_require__(15),toObject=__webpack_require__(23),isArrayIter=__webpack_require__(147),create=__webpack_require__(57),getPrototypeOf=__webpack_require__(36),gOPN=__webpack_require__(58).f,getIterFn=__webpack_require__(164),uid=__webpack_require__(63),wks=__webpack_require__(16),createArrayMethod=__webpack_require__(41),createArrayIncludes=__webpack_require__(113),speciesConstructor=__webpack_require__(156),ArrayIterators=__webpack_require__(165),Iterators=__webpack_require__(71),$iterDetect=__webpack_require__(119),setSpecies=__webpack_require__(61),arrayFill=__webpack_require__(140),arrayCopyWithin=__webpack_require__(216),$DP=__webpack_require__(18),$GOPD=__webpack_require__(35),dP=$DP.f,gOPD=$GOPD.f,RangeError=global.RangeError,TypeError=global.TypeError,Uint8Array=global.Uint8Array,ARRAY_BUFFER="ArrayBuffer",SHARED_BUFFER="Shared"+ARRAY_BUFFER,BYTES_PER_ELEMENT="BYTES_PER_ELEMENT",PROTOTYPE="prototype",ArrayProto=Array[PROTOTYPE],$ArrayBuffer=$buffer.ArrayBuffer,$DataView=$buffer.DataView,arrayForEach=createArrayMethod(0),arrayFilter=createArrayMethod(2),arraySome=createArrayMethod(3),arrayEvery=createArrayMethod(4),arrayFind=createArrayMethod(5),arrayFindIndex=createArrayMethod(6),arrayIncludes=createArrayIncludes(!0),arrayIndexOf=createArrayIncludes(!1),arrayValues=ArrayIterators.values,arrayKeys=ArrayIterators.keys,arrayEntries=ArrayIterators.entries,arrayLastIndexOf=ArrayProto.lastIndexOf,arrayReduce=ArrayProto.reduce,arrayReduceRight=ArrayProto.reduceRight,arrayJoin=ArrayProto.join,arraySort=ArrayProto.sort,arraySlice=ArrayProto.slice,arrayToString=ArrayProto.toString,arrayToLocaleString=ArrayProto.toLocaleString,ITERATOR=wks("iterator"),TAG=wks("toStringTag"),TYPED_CONSTRUCTOR=uid("typed_constructor"),DEF_CONSTRUCTOR=uid("def_constructor"),ALL_CONSTRUCTORS=$typed.CONSTR,TYPED_ARRAY=$typed.TYPED,VIEW=$typed.VIEW,WRONG_LENGTH="Wrong length!",$map=createArrayMethod(1,function(O,length){return allocate(speciesConstructor(O,O[DEF_CONSTRUCTOR]),length)}),LITTLE_ENDIAN=fails(function(){return 1===new Uint8Array(new Uint16Array([1]).buffer)[0]}),FORCED_SET=!!Uint8Array&&!!Uint8Array[PROTOTYPE].set&&fails(function(){new Uint8Array(1).set({})}),strictToLength=function(it,SAME){if(void 0===it)throw TypeError(WRONG_LENGTH);var number=+it,length=toLength(it);if(SAME&&!same(number,length))throw RangeError(WRONG_LENGTH);return length},toOffset=function(it,BYTES){var offset=toInteger(it);if(offset<0||offset%BYTES)throw RangeError("Wrong offset!");return offset},validate=function(it){if(isObject(it)&&TYPED_ARRAY in it)return it;throw TypeError(it+" is not a typed array!")},allocate=function(C,length){if(!(isObject(C)&&TYPED_CONSTRUCTOR in C))throw TypeError("It is not a typed array constructor!");return new C(length)},speciesFromList=function(O,list){return fromList(speciesConstructor(O,O[DEF_CONSTRUCTOR]),list)},fromList=function(C,list){for(var index=0,length=list.length,result=allocate(C,length);length>index;)result[index]=list[index++];return result},addGetter=function(it,key,internal){dP(it,key,{get:function(){return this._d[internal]}})},$from=function(source){var i,length,values,result,step,iterator,O=toObject(source),aLen=arguments.length,mapfn=aLen>1?arguments[1]:void 0,mapping=void 0!==mapfn,iterFn=getIterFn(O);if(void 0!=iterFn&&!isArrayIter(iterFn)){for(iterator=iterFn.call(O),values=[],i=0;!(step=iterator.next()).done;i++)values.push(step.value);O=values}for(mapping&&aLen>2&&(mapfn=ctx(mapfn,arguments[2],2)),i=0,length=toLength(O.length),result=allocate(this,length);length>i;i++)result[i]=mapping?mapfn(O[i],i):O[i];return result},$of=function(){for(var index=0,length=arguments.length,result=allocate(this,length);length>index;)result[index]=arguments[index++];return result},TO_LOCALE_BUG=!!Uint8Array&&fails(function(){arrayToLocaleString.call(new Uint8Array(1))}),$toLocaleString=function(){return arrayToLocaleString.apply(TO_LOCALE_BUG?arraySlice.call(validate(this)):validate(this),arguments)},proto={copyWithin:function(target,start){return arrayCopyWithin.call(validate(this),target,start,arguments.length>2?arguments[2]:void 0)},every:function(callbackfn){return arrayEvery(validate(this),callbackfn,arguments.length>1?arguments[1]:void 0)},fill:function(value){return arrayFill.apply(validate(this),arguments)},filter:function(callbackfn){return speciesFromList(this,arrayFilter(validate(this),callbackfn,arguments.length>1?arguments[1]:void 0))},find:function(predicate){return arrayFind(validate(this),predicate,arguments.length>1?arguments[1]:void 0)},findIndex:function(predicate){return arrayFindIndex(validate(this),predicate,arguments.length>1?arguments[1]:void 0)},forEach:function(callbackfn){arrayForEach(validate(this),callbackfn,arguments.length>1?arguments[1]:void 0)},indexOf:function(searchElement){return arrayIndexOf(validate(this),searchElement,arguments.length>1?arguments[1]:void 0)},includes:function(searchElement){return arrayIncludes(validate(this),searchElement,arguments.length>1?arguments[1]:void 0)},join:function(separator){return arrayJoin.apply(validate(this),arguments)},lastIndexOf:function(searchElement){return arrayLastIndexOf.apply(validate(this),arguments)},map:function(mapfn){return $map(validate(this),mapfn,arguments.length>1?arguments[1]:void 0)},reduce:function(callbackfn){return arrayReduce.apply(validate(this),arguments)},reduceRight:function(callbackfn){return arrayReduceRight.apply(validate(this),arguments)},reverse:function(){for(var value,that=this,length=validate(that).length,middle=Math.floor(length/2),index=0;index<middle;)value=that[index],that[index++]=that[--length],that[length]=value;return that},some:function(callbackfn){return arraySome(validate(this),callbackfn,arguments.length>1?arguments[1]:void 0)},sort:function(comparefn){return arraySort.call(validate(this),comparefn)},subarray:function(begin,end){var O=validate(this),length=O.length,$begin=toIndex(begin,length);return new(speciesConstructor(O,O[DEF_CONSTRUCTOR]))(O.buffer,O.byteOffset+$begin*O.BYTES_PER_ELEMENT,toLength((void 0===end?length:toIndex(end,length))-$begin))}},$slice=function(start,end){return speciesFromList(this,arraySlice.call(validate(this),start,end))},$set=function(arrayLike){validate(this);var offset=toOffset(arguments[1],1),length=this.length,src=toObject(arrayLike),len=toLength(src.length),index=0;if(len+offset>length)throw RangeError(WRONG_LENGTH);for(;index<len;)this[offset+index]=src[index++]},$iterators={entries:function(){return arrayEntries.call(validate(this))},keys:function(){return arrayKeys.call(validate(this))},values:function(){return arrayValues.call(validate(this))}},isTAIndex=function(target,key){return isObject(target)&&target[TYPED_ARRAY]&&"symbol"!=typeof key&&key in target&&String(+key)==String(key)},$getDesc=function(target,key){return isTAIndex(target,key=toPrimitive(key,!0))?propertyDesc(2,target[key]):gOPD(target,key)},$setDesc=function(target,key,desc){return!(isTAIndex(target,key=toPrimitive(key,!0))&&isObject(desc)&&has(desc,"value"))||has(desc,"get")||has(desc,"set")||desc.configurable||has(desc,"writable")&&!desc.writable||has(desc,"enumerable")&&!desc.enumerable?dP(target,key,desc):(target[key]=desc.value,target)};ALL_CONSTRUCTORS||($GOPD.f=$getDesc,$DP.f=$setDesc),$export($export.S+$export.F*!ALL_CONSTRUCTORS,"Object",{getOwnPropertyDescriptor:$getDesc,defineProperty:$setDesc}),fails(function(){arrayToString.call({})})&&(arrayToString=arrayToLocaleString=function(){return arrayJoin.call(this)});var $TypedArrayPrototype$=redefineAll({},proto);redefineAll($TypedArrayPrototype$,$iterators),hide($TypedArrayPrototype$,ITERATOR,$iterators.values),redefineAll($TypedArrayPrototype$,{slice:$slice,set:$set,constructor:function(){},toString:arrayToString,toLocaleString:$toLocaleString}),addGetter($TypedArrayPrototype$,"buffer","b"),addGetter($TypedArrayPrototype$,"byteOffset","o"),addGetter($TypedArrayPrototype$,"byteLength","l"),addGetter($TypedArrayPrototype$,"length","e"),dP($TypedArrayPrototype$,TAG,{get:function(){return this[TYPED_ARRAY]}}),module.exports=function(KEY,BYTES,wrapper,CLAMPED){CLAMPED=!!CLAMPED;var NAME=KEY+(CLAMPED?"Clamped":"")+"Array",ISNT_UINT8="Uint8Array"!=NAME,GETTER="get"+KEY,SETTER="set"+KEY,TypedArray=global[NAME],Base=TypedArray||{},TAC=TypedArray&&getPrototypeOf(TypedArray),FORCED=!TypedArray||!$typed.ABV,O={},TypedArrayPrototype=TypedArray&&TypedArray[PROTOTYPE],getter=function(that,index){var data=that._d;return data.v[GETTER](index*BYTES+data.o,LITTLE_ENDIAN)},setter=function(that,index,value){var data=that._d;CLAMPED&&(value=(value=Math.round(value))<0?0:value>255?255:255&value),data.v[SETTER](index*BYTES+data.o,value,LITTLE_ENDIAN)},addElement=function(that,index){dP(that,index,{get:function(){return getter(this,index)},set:function(value){return setter(this,index,value)},enumerable:!0})};FORCED?(TypedArray=wrapper(function(that,data,$offset,$length){anInstance(that,TypedArray,NAME,"_d");var buffer,byteLength,length,klass,index=0,offset=0;if(isObject(data)){if(!(data instanceof $ArrayBuffer||(klass=classof(data))==ARRAY_BUFFER||klass==SHARED_BUFFER))return TYPED_ARRAY in data?fromList(TypedArray,data):$from.call(TypedArray,data);buffer=data,offset=toOffset($offset,BYTES);var $len=data.byteLength;if(void 0===$length){if($len%BYTES)throw RangeError(WRONG_LENGTH);if(byteLength=$len-offset,byteLength<0)throw RangeError(WRONG_LENGTH)}else if(byteLength=toLength($length)*BYTES,byteLength+offset>$len)throw RangeError(WRONG_LENGTH);length=byteLength/BYTES}else length=strictToLength(data,!0),byteLength=length*BYTES,buffer=new $ArrayBuffer(byteLength);for(hide(that,"_d",{b:buffer,o:offset,l:byteLength,e:length,v:new $DataView(buffer)});index<length;)addElement(that,index++)}),TypedArrayPrototype=TypedArray[PROTOTYPE]=create($TypedArrayPrototype$),hide(TypedArrayPrototype,"constructor",TypedArray)):$iterDetect(function(iter){new TypedArray(null),new TypedArray(iter)},!0)||(TypedArray=wrapper(function(that,data,$offset,$length){anInstance(that,TypedArray,NAME);var klass;return isObject(data)?data instanceof $ArrayBuffer||(klass=classof(data))==ARRAY_BUFFER||klass==SHARED_BUFFER?void 0!==$length?new Base(data,toOffset($offset,BYTES),$length):void 0!==$offset?new Base(data,toOffset($offset,BYTES)):new Base(data):TYPED_ARRAY in data?fromList(TypedArray,data):$from.call(TypedArray,data):new Base(strictToLength(data,ISNT_UINT8))}),arrayForEach(TAC!==Function.prototype?gOPN(Base).concat(gOPN(TAC)):gOPN(Base),function(key){key in TypedArray||hide(TypedArray,key,Base[key])}),TypedArray[PROTOTYPE]=TypedArrayPrototype,LIBRARY||(TypedArrayPrototype.constructor=TypedArray));var $nativeIterator=TypedArrayPrototype[ITERATOR],CORRECT_ITER_NAME=!!$nativeIterator&&("values"==$nativeIterator.name||void 0==$nativeIterator.name),$iterator=$iterators.values;hide(TypedArray,TYPED_CONSTRUCTOR,!0),hide(TypedArrayPrototype,TYPED_ARRAY,NAME),hide(TypedArrayPrototype,VIEW,!0),hide(TypedArrayPrototype,DEF_CONSTRUCTOR,TypedArray),(CLAMPED?new TypedArray(1)[TAG]==NAME:TAG in TypedArrayPrototype)||dP(TypedArrayPrototype,TAG,{get:function(){return NAME}}),O[NAME]=TypedArray,$export($export.G+$export.W+$export.F*(TypedArray!=Base),O),$export($export.S,NAME,{BYTES_PER_ELEMENT:BYTES,from:$from,of:$of}),BYTES_PER_ELEMENT in TypedArrayPrototype||hide(TypedArrayPrototype,BYTES_PER_ELEMENT,BYTES),$export($export.P,NAME,proto),setSpecies(NAME),$export($export.P+$export.F*FORCED_SET,NAME,{set:$set}),$export($export.P+$export.F*!CORRECT_ITER_NAME,NAME,$iterators),$export($export.P+$export.F*(TypedArrayPrototype.toString!=arrayToString),NAME,{toString:arrayToString}),$export($export.P+$export.F*fails(function(){new TypedArray(1).slice()}),NAME,{slice:$slice}),$export($export.P+$export.F*(fails(function(){return[1,2].toLocaleString()!=new TypedArray([1,2]).toLocaleString()})||!fails(function(){TypedArrayPrototype.toLocaleString.call([1,2])})),NAME,{toLocaleString:$toLocaleString}),Iterators[NAME]=CORRECT_ITER_NAME?$nativeIterator:$iterator,LIBRARY||CORRECT_ITER_NAME||hide(TypedArrayPrototype,ITERATOR,$iterator)}}else module.exports=function(){}},function(module,exports,__webpack_require__){module.exports={encode:__webpack_require__(785),decode:__webpack_require__(784),encodingLength:__webpack_require__(786)}},function(module,exports,__webpack_require__){var META=__webpack_require__(63)("meta"),isObject=__webpack_require__(15),has=__webpack_require__(26),setDesc=__webpack_require__(18).f,id=0,isExtensible=Object.isExtensible||function(){return!0},FREEZE=!__webpack_require__(12)(function(){return isExtensible(Object.preventExtensions({}))}),setMeta=function(it){setDesc(it,META,{value:{i:"O"+ ++id,w:{}}})},fastKey=function(it,create){if(!isObject(it))return"symbol"==typeof it?it:("string"==typeof it?"S":"P")+it;if(!has(it,META)){if(!isExtensible(it))return"F";if(!create)return"E";setMeta(it)}return it[META].i},getWeak=function(it,create){if(!has(it,META)){if(!isExtensible(it))return!0;if(!create)return!1;setMeta(it)}return it[META].w},onFreeze=function(it){return FREEZE&&meta.NEED&&isExtensible(it)&&!has(it,META)&&setMeta(it),it},meta=module.exports={KEY:META,NEED:!1,fastKey:fastKey,getWeak:getWeak,onFreeze:onFreeze}},function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},function(module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}},function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,configurable:!1,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,configurable:!1,get:function(){return module.i}}),module.webpackPolyfill=1),module}},function(module,exports,__webpack_require__){var basex=__webpack_require__(376),ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",base58=basex(ALPHABET);module.exports={encode:base58.encode,decode:base58.decode}},function(module,exports){module.exports=function(it,Constructor,name,forbiddenField){if(!(it instanceof Constructor)||void 0!==forbiddenField&&forbiddenField in it)throw TypeError(name+": incorrect invocation!");return it}},function(module,exports){module.exports=!1},function(module,exports,__webpack_require__){var anObject=__webpack_require__(8),dPs=__webpack_require__(229),enumBugKeys=__webpack_require__(143),IE_PROTO=__webpack_require__(155)("IE_PROTO"),Empty=function(){},PROTOTYPE="prototype",createDict=function(){var iframeDocument,iframe=__webpack_require__(142)("iframe"),i=enumBugKeys.length,lt="<",gt=">";for(iframe.style.display="none",__webpack_require__(145).appendChild(iframe),iframe.src="javascript:",iframeDocument=iframe.contentWindow.document,iframeDocument.open(),iframeDocument.write(lt+"script"+gt+"document.F=Object"+lt+"/script"+gt),iframeDocument.close(),createDict=iframeDocument.F;i--;)delete createDict[PROTOTYPE][enumBugKeys[i]];return createDict()};module.exports=Object.create||function(O,Properties){var result;return null!==O?(Empty[PROTOTYPE]=anObject(O),result=new Empty,Empty[PROTOTYPE]=null,result[IE_PROTO]=O):result=createDict(),void 0===Properties?result:dPs(result,Properties)}},function(module,exports,__webpack_require__){var $keys=__webpack_require__(231),hiddenKeys=__webpack_require__(143).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(O){return $keys(O,hiddenKeys)}},function(module,exports,__webpack_require__){var $keys=__webpack_require__(231),enumBugKeys=__webpack_require__(143);module.exports=Object.keys||function(O){return $keys(O,enumBugKeys)}},function(module,exports,__webpack_require__){var redefine=__webpack_require__(31);module.exports=function(target,src,safe){for(var key in src)redefine(target,key,src[key],safe);return target}},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(11),dP=__webpack_require__(18),DESCRIPTORS=__webpack_require__(17),SPECIES=__webpack_require__(16)("species");module.exports=function(KEY){var C=global[KEY];DESCRIPTORS&&C&&!C[SPECIES]&&dP.f(C,SPECIES,{configurable:!0,get:function(){return this}})}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(52),max=Math.max,min=Math.min;module.exports=function(index,length){return index=toInteger(index),index<0?max(index+length,0):min(index,length)}},function(module,exports){var id=0,px=Math.random();module.exports=function(key){return"Symbol(".concat(void 0===key?"":key,")_",(++id+px).toString(36))}},function(module,exports,__webpack_require__){var hash=exports;hash.utils=__webpack_require__(633),hash.common=__webpack_require__(629),hash.sha=__webpack_require__(632),hash.ripemd=__webpack_require__(631),hash.hmac=__webpack_require__(630),hash.sha1=hash.sha.sha1,hash.sha256=hash.sha.sha256,hash.sha224=hash.sha.sha224,hash.sha384=hash.sha.sha384,hash.sha512=hash.sha.sha512,hash.ripemd160=hash.ripemd.ripemd160},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function toB64Opt(val){if(val)return val.toString("base64")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),mh=__webpack_require__(27),crypto=__webpack_require__(665),assert=__webpack_require__(28),PeerId=function(){function PeerId(id,privKey,pubKey){_classCallCheck(this,PeerId),assert(Buffer.isBuffer(id),"invalid id provided"),pubKey&&assert(id.equals(pubKey.hash()),"inconsistent arguments"),privKey&&assert(id.equals(privKey.public.hash()),"inconsistent arguments"),privKey&&pubKey&&assert(privKey.public.bytes.equals(pubKey.bytes),"inconsistent arguments"),this.id=id,this.privKey=privKey,this._pubKey=pubKey}return _createClass(PeerId,[{key:"marshalPubKey",value:function(){if(this.pubKey)return crypto.marshalPublicKey(this.pubKey)}},{key:"marshalPrivKey",value:function(){if(this.privKey)return crypto.marshalPrivateKey(this.privKey)}},{key:"toPrint",value:function(){return this.toJSON()}},{key:"toJSON",value:function(){return{id:mh.toB58String(this.id),privKey:toB64Opt(this.marshalPrivKey()),pubKey:toB64Opt(this.marshalPubKey())}}},{key:"toHexString",value:function(){return mh.toHexString(this.id)}},{key:"toBytes",value:function(){return this.id}},{key:"toB58String",value:function(){return mh.toB58String(this.id)}},{key:"pubKey",get:function(){return this._pubKey?this._pubKey:this.privKey?this.privKey.public:void 0}}]),PeerId}();exports=module.exports=PeerId,exports.Buffer=Buffer,exports.create=function(opts){opts=opts||{},opts.bits=opts.bits||2048;var privKey=crypto.generateKeyPair("RSA",opts.bits);return new PeerId(privKey.public.hash(),privKey)},exports.createFromHexString=function(str){return new PeerId(mh.fromHexString(str))},exports.createFromBytes=function(buf){return new PeerId(buf)},exports.createFromB58String=function(str){return new PeerId(mh.fromB58String(str))},exports.createFromPubKey=function(key){var buf=key;"string"==typeof buf&&(buf=new Buffer(key,"base64"));var pubKey=crypto.unmarshalPublicKey(buf);return new PeerId(pubKey.hash(),null,pubKey)},exports.createFromPrivKey=function(key){var buf=key;"string"==typeof buf&&(buf=new Buffer(key,"base64"));var privKey=crypto.unmarshalPrivateKey(buf);return new PeerId(privKey.public.hash(),privKey)},exports.createFromJSON=function(obj){var priv=void 0,pub=void 0;return obj.privKey&&(priv=crypto.unmarshalPrivateKey(new Buffer(obj.privKey,"base64"))),obj.pubKey&&(pub=crypto.unmarshalPublicKey(new Buffer(obj.pubKey,"base64"))),new PeerId(mh.fromB58String(obj.id),priv,pub)}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";function Duplex(options){return this instanceof Duplex?(Readable.call(this,options),Writable.call(this,options),options&&options.readable===!1&&(this.readable=!1),options&&options.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,options&&options.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",onend)):new Duplex(options)}function onend(){this.allowHalfOpen||this._writableState.ended||processNextTick(onEndNT,this)}function onEndNT(self){self.end()}var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var processNextTick=__webpack_require__(7),util=__webpack_require__(4);util.inherits=__webpack_require__(2);var Readable=__webpack_require__(311),Writable=__webpack_require__(186);util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}},function(module,exports,__webpack_require__){"use strict";function Duplex(options){return this instanceof Duplex?(Readable.call(this,options),Writable.call(this,options),options&&options.readable===!1&&(this.readable=!1),options&&options.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,options&&options.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",onend)):new Duplex(options)}function onend(){this.allowHalfOpen||this._writableState.ended||processNextTick(onEndNT,this)}function onEndNT(self){self.end()}var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var processNextTick=__webpack_require__(7),util=__webpack_require__(4);util.inherits=__webpack_require__(2);var Readable=__webpack_require__(200),Writable=__webpack_require__(202);util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}},function(module,exports,__webpack_require__){(function(Buffer){function CipherBase(hashMode){Transform.call(this),this.hashMode="string"==typeof hashMode,this.hashMode?this[hashMode]=this._finalOrDigest:this.final=this._finalOrDigest,this._decoder=null,this._encoding=null}var Transform=__webpack_require__(6).Transform,inherits=__webpack_require__(2),StringDecoder=__webpack_require__(13).StringDecoder;module.exports=CipherBase,inherits(CipherBase,Transform),CipherBase.prototype.update=function(data,inputEnc,outputEnc){"string"==typeof data&&(data=new Buffer(data,inputEnc));var outData=this._update(data);return this.hashMode?this:(outputEnc&&(outData=this._toString(outData,outputEnc)),outData)},CipherBase.prototype.setAutoPadding=function(){},CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},CipherBase.prototype._transform=function(data,_,next){var err;try{this.hashMode?this._update(data):this.push(this._update(data))}catch(e){err=e}finally{next(err)}},CipherBase.prototype._flush=function(done){var err;try{this.push(this._final());
}catch(e){err=e}finally{done(err)}},CipherBase.prototype._finalOrDigest=function(outputEnc){var outData=this._final()||new Buffer("");return outputEnc&&(outData=this._toString(outData,outputEnc,!0)),outData},CipherBase.prototype._toString=function(value,enc,final){if(this._decoder||(this._decoder=new StringDecoder(enc),this._encoding=enc),this._encoding!==enc)throw new Error("can't switch encodings");var out=this._decoder.write(value);return final&&(out+=this._decoder.end()),out}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){var UNSCOPABLES=__webpack_require__(16)("unscopables"),ArrayProto=Array.prototype;void 0==ArrayProto[UNSCOPABLES]&&__webpack_require__(30)(ArrayProto,UNSCOPABLES,{}),module.exports=function(key){ArrayProto[UNSCOPABLES][key]=!0}},function(module,exports,__webpack_require__){var ctx=__webpack_require__(46),call=__webpack_require__(225),isArrayIter=__webpack_require__(147),anObject=__webpack_require__(8),toLength=__webpack_require__(22),getIterFn=__webpack_require__(164),BREAK={},RETURN={},exports=module.exports=function(iterable,entries,fn,that,ITERATOR){var length,step,iterator,result,iterFn=ITERATOR?function(){return iterable}:getIterFn(iterable),f=ctx(fn,that,entries?2:1),index=0;if("function"!=typeof iterFn)throw TypeError(iterable+" is not iterable!");if(isArrayIter(iterFn)){for(length=toLength(iterable.length);length>index;index++)if(result=entries?f(anObject(step=iterable[index])[0],step[1]):f(iterable[index]),result===BREAK||result===RETURN)return result}else for(iterator=iterFn.call(iterable);!(step=iterator.next()).done;)if(result=call(iterator,f,step.value,entries),result===BREAK||result===RETURN)return result};exports.BREAK=BREAK,exports.RETURN=RETURN},function(module,exports){module.exports={}},function(module,exports,__webpack_require__){var def=__webpack_require__(18).f,has=__webpack_require__(26),TAG=__webpack_require__(16)("toStringTag");module.exports=function(it,tag,stat){it&&!has(it=stat?it:it.prototype,TAG)&&def(it,TAG,{configurable:!0,value:tag})}},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),defined=__webpack_require__(39),fails=__webpack_require__(12),spaces=__webpack_require__(160),space="["+spaces+"]",non="​",ltrim=RegExp("^"+space+space+"*"),rtrim=RegExp(space+space+"*$"),exporter=function(KEY,exec,ALIAS){var exp={},FORCE=fails(function(){return!!spaces[KEY]()||non[KEY]()!=non}),fn=exp[KEY]=FORCE?exec(trim):spaces[KEY];ALIAS&&(exp[ALIAS]=fn),$export($export.P+$export.F*FORCE,"String",exp)},trim=exporter.trim=function(string,TYPE){return string=String(defined(string)),1&TYPE&&(string=string.replace(ltrim,"")),2&TYPE&&(string=string.replace(rtrim,"")),string};module.exports=exporter},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function HashNoConstructor(hash){Base.call(this,"digest"),this._hash=hash,this.buffers=[]}function Hash(hash){Base.call(this,"digest"),this._hash=hash}var inherits=__webpack_require__(2),md5=__webpack_require__(243),rmd160=__webpack_require__(727),sha=__webpack_require__(730),Base=__webpack_require__(68);inherits(HashNoConstructor,Base),HashNoConstructor.prototype._update=function(data){this.buffers.push(data)},HashNoConstructor.prototype._final=function(){var buf=Buffer.concat(this.buffers),r=this._hash(buf);return this.buffers=null,r},inherits(Hash,Base),Hash.prototype._update=function(data){this._hash.update(data)},Hash.prototype._final=function(){return this._hash.digest()},module.exports=function(alg){return alg=alg.toLowerCase(),"md5"===alg?new HashNoConstructor(md5):"rmd160"===alg||"ripemd160"===alg?new HashNoConstructor(rmd160):new Hash(sha(alg))}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";function Duplex(options){return this instanceof Duplex?(Readable.call(this,options),Writable.call(this,options),options&&options.readable===!1&&(this.readable=!1),options&&options.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,options&&options.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",onend)):new Duplex(options)}function onend(){this.allowHalfOpen||this._writableState.ended||processNextTick(onEndNT,this)}function onEndNT(self){self.end()}var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var processNextTick=__webpack_require__(7),util=__webpack_require__(4);util.inherits=__webpack_require__(2);var Readable=__webpack_require__(246),Writable=__webpack_require__(248);util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}},function(module,exports,__webpack_require__){(function(global){function encodeBase64Object(packet,callback){var message="b"+exports.packets[packet.type]+packet.data.data;return callback(message)}function encodeArrayBuffer(packet,supportsBinary,callback){if(!supportsBinary)return exports.encodeBase64Packet(packet,callback);var data=packet.data,contentArray=new Uint8Array(data),resultBuffer=new Uint8Array(1+data.byteLength);resultBuffer[0]=packets[packet.type];for(var i=0;i<contentArray.length;i++)resultBuffer[i+1]=contentArray[i];return callback(resultBuffer.buffer)}function encodeBlobAsArrayBuffer(packet,supportsBinary,callback){if(!supportsBinary)return exports.encodeBase64Packet(packet,callback);var fr=new FileReader;return fr.onload=function(){packet.data=fr.result,exports.encodePacket(packet,supportsBinary,!0,callback)},fr.readAsArrayBuffer(packet.data)}function encodeBlob(packet,supportsBinary,callback){if(!supportsBinary)return exports.encodeBase64Packet(packet,callback);if(dontSendBlobs)return encodeBlobAsArrayBuffer(packet,supportsBinary,callback);var length=new Uint8Array(1);length[0]=packets[packet.type];var blob=new Blob([length.buffer,packet.data]);return callback(blob)}function map(ary,each,done){for(var result=new Array(ary.length),next=after(ary.length,done),eachWithIndex=function(i,el,cb){each(el,function(error,msg){result[i]=msg,cb(error,result)})},i=0;i<ary.length;i++)eachWithIndex(i,ary[i],next)}var keys=__webpack_require__(615),hasBinary=__webpack_require__(616),sliceBuffer=__webpack_require__(322),base64encoder=__webpack_require__(377),after=__webpack_require__(321),utf8=__webpack_require__(782),isAndroid=navigator.userAgent.match(/Android/i),isPhantomJS=/PhantomJS/i.test(navigator.userAgent),dontSendBlobs=isAndroid||isPhantomJS;exports.protocol=3;var packets=exports.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},packetslist=keys(packets),err={type:"error",data:"parser error"},Blob=__webpack_require__(382);exports.encodePacket=function(packet,supportsBinary,utf8encode,callback){"function"==typeof supportsBinary&&(callback=supportsBinary,supportsBinary=!1),"function"==typeof utf8encode&&(callback=utf8encode,utf8encode=null);var data=void 0===packet.data?void 0:packet.data.buffer||packet.data;if(global.ArrayBuffer&&data instanceof ArrayBuffer)return encodeArrayBuffer(packet,supportsBinary,callback);if(Blob&&data instanceof global.Blob)return encodeBlob(packet,supportsBinary,callback);if(data&&data.base64)return encodeBase64Object(packet,callback);var encoded=packets[packet.type];return void 0!==packet.data&&(encoded+=utf8encode?utf8.encode(String(packet.data)):String(packet.data)),callback(""+encoded)},exports.encodeBase64Packet=function(packet,callback){var message="b"+exports.packets[packet.type];if(Blob&&packet.data instanceof global.Blob){var fr=new FileReader;return fr.onload=function(){var b64=fr.result.split(",")[1];callback(message+b64)},fr.readAsDataURL(packet.data)}var b64data;try{b64data=String.fromCharCode.apply(null,new Uint8Array(packet.data))}catch(e){for(var typed=new Uint8Array(packet.data),basic=new Array(typed.length),i=0;i<typed.length;i++)basic[i]=typed[i];b64data=String.fromCharCode.apply(null,basic)}return message+=global.btoa(b64data),callback(message)},exports.decodePacket=function(data,binaryType,utf8decode){if("string"==typeof data||void 0===data){if("b"==data.charAt(0))return exports.decodeBase64Packet(data.substr(1),binaryType);if(utf8decode)try{data=utf8.decode(data)}catch(e){return err}var type=data.charAt(0);return Number(type)==type&&packetslist[type]?data.length>1?{type:packetslist[type],data:data.substring(1)}:{type:packetslist[type]}:err}var asArray=new Uint8Array(data),type=asArray[0],rest=sliceBuffer(data,1);return Blob&&"blob"===binaryType&&(rest=new Blob([rest])),{type:packetslist[type],data:rest}},exports.decodeBase64Packet=function(msg,binaryType){var type=packetslist[msg.charAt(0)];if(!global.ArrayBuffer)return{type:type,data:{base64:!0,data:msg.substr(1)}};var data=base64encoder.decode(msg.substr(1));return"blob"===binaryType&&Blob&&(data=new Blob([data])),{type:type,data:data}},exports.encodePayload=function(packets,supportsBinary,callback){function setLengthHeader(message){return message.length+":"+message}function encodeOne(packet,doneCallback){exports.encodePacket(packet,!!isBinary&&supportsBinary,!0,function(message){doneCallback(null,setLengthHeader(message))})}"function"==typeof supportsBinary&&(callback=supportsBinary,supportsBinary=null);var isBinary=hasBinary(packets);return supportsBinary&&isBinary?Blob&&!dontSendBlobs?exports.encodePayloadAsBlob(packets,callback):exports.encodePayloadAsArrayBuffer(packets,callback):packets.length?void map(packets,encodeOne,function(err,results){return callback(results.join(""))}):callback("0:")},exports.decodePayload=function(data,binaryType,callback){if("string"!=typeof data)return exports.decodePayloadAsBinary(data,binaryType,callback);"function"==typeof binaryType&&(callback=binaryType,binaryType=null);var packet;if(""==data)return callback(err,0,1);for(var n,msg,length="",i=0,l=data.length;i<l;i++){var chr=data.charAt(i);if(":"!=chr)length+=chr;else{if(""==length||length!=(n=Number(length)))return callback(err,0,1);if(msg=data.substr(i+1,n),length!=msg.length)return callback(err,0,1);if(msg.length){if(packet=exports.decodePacket(msg,binaryType,!0),err.type==packet.type&&err.data==packet.data)return callback(err,0,1);var ret=callback(packet,i+n,l);if(!1===ret)return}i+=n,length=""}}return""!=length?callback(err,0,1):void 0},exports.encodePayloadAsArrayBuffer=function(packets,callback){function encodeOne(packet,doneCallback){exports.encodePacket(packet,!0,!0,function(data){return doneCallback(null,data)})}return packets.length?void map(packets,encodeOne,function(err,encodedPackets){var totalLength=encodedPackets.reduce(function(acc,p){var len;return len="string"==typeof p?p.length:p.byteLength,acc+len.toString().length+len+2},0),resultArray=new Uint8Array(totalLength),bufferIndex=0;return encodedPackets.forEach(function(p){var isString="string"==typeof p,ab=p;if(isString){for(var view=new Uint8Array(p.length),i=0;i<p.length;i++)view[i]=p.charCodeAt(i);ab=view.buffer}isString?resultArray[bufferIndex++]=0:resultArray[bufferIndex++]=1;for(var lenStr=ab.byteLength.toString(),i=0;i<lenStr.length;i++)resultArray[bufferIndex++]=parseInt(lenStr[i]);resultArray[bufferIndex++]=255;for(var view=new Uint8Array(ab),i=0;i<view.length;i++)resultArray[bufferIndex++]=view[i]}),callback(resultArray.buffer)}):callback(new ArrayBuffer(0))},exports.encodePayloadAsBlob=function(packets,callback){function encodeOne(packet,doneCallback){exports.encodePacket(packet,!0,!0,function(encoded){var binaryIdentifier=new Uint8Array(1);if(binaryIdentifier[0]=1,"string"==typeof encoded){for(var view=new Uint8Array(encoded.length),i=0;i<encoded.length;i++)view[i]=encoded.charCodeAt(i);encoded=view.buffer,binaryIdentifier[0]=0}for(var len=encoded instanceof ArrayBuffer?encoded.byteLength:encoded.size,lenStr=len.toString(),lengthAry=new Uint8Array(lenStr.length+1),i=0;i<lenStr.length;i++)lengthAry[i]=parseInt(lenStr[i]);if(lengthAry[lenStr.length]=255,Blob){var blob=new Blob([binaryIdentifier.buffer,lengthAry.buffer,encoded]);doneCallback(null,blob)}})}map(packets,encodeOne,function(err,results){return callback(new Blob(results))})},exports.decodePayloadAsBinary=function(data,binaryType,callback){"function"==typeof binaryType&&(callback=binaryType,binaryType=null);for(var bufferTail=data,buffers=[],numberTooLong=!1;bufferTail.byteLength>0;){for(var tailArray=new Uint8Array(bufferTail),isString=0===tailArray[0],msgLength="",i=1;255!=tailArray[i];i++){if(msgLength.length>310){numberTooLong=!0;break}msgLength+=tailArray[i]}if(numberTooLong)return callback(err,0,1);bufferTail=sliceBuffer(bufferTail,2+msgLength.length),msgLength=parseInt(msgLength);var msg=sliceBuffer(bufferTail,0,msgLength);if(isString)try{msg=String.fromCharCode.apply(null,new Uint8Array(msg))}catch(e){var typed=new Uint8Array(msg);msg="";for(var i=0;i<typed.length;i++)msg+=String.fromCharCode(typed[i])}buffers.push(msg),bufferTail=sliceBuffer(bufferTail,msgLength)}var total=buffers.length;buffers.forEach(function(buffer,i){callback(exports.decodePacket(buffer,binaryType,!0),i,total)})}}).call(exports,__webpack_require__(9))},function(module,exports,__webpack_require__){"use strict";function Duplex(options){return this instanceof Duplex?(Readable.call(this,options),Writable.call(this,options),options&&options.readable===!1&&(this.readable=!1),options&&options.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,options&&options.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",onend)):new Duplex(options)}function onend(){this.allowHalfOpen||this._writableState.ended||processNextTick(onEndNT,this)}function onEndNT(self){self.end()}var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var processNextTick=__webpack_require__(7),util=__webpack_require__(4);util.inherits=__webpack_require__(2);var Readable=__webpack_require__(251),Writable=__webpack_require__(253);util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}},function(module,exports,__webpack_require__){var hpack=exports;hpack.utils=__webpack_require__(646),hpack.huffman=__webpack_require__(643),hpack["static-table"]=__webpack_require__(644),hpack.table=__webpack_require__(645),hpack.decoder=__webpack_require__(640),hpack.decompressor=__webpack_require__(641),hpack.encoder=__webpack_require__(642),hpack.compressor=__webpack_require__(639)},function(module,exports,__webpack_require__){"use strict";function Duplex(options){return this instanceof Duplex?(Readable.call(this,options),Writable.call(this,options),options&&options.readable===!1&&(this.readable=!1),options&&options.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,options&&options.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",onend)):new Duplex(options)}function onend(){this.allowHalfOpen||this._writableState.ended||processNextTick(onEndNT,this)}function onEndNT(self){self.end()}var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var processNextTick=__webpack_require__(7),util=__webpack_require__(4);util.inherits=__webpack_require__(2);var Readable=__webpack_require__(255),Writable=__webpack_require__(257);util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}},function(module,exports,__webpack_require__){"use strict";function Duplex(options){return this instanceof Duplex?(Readable.call(this,options),Writable.call(this,options),options&&options.readable===!1&&(this.readable=!1),options&&options.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,options&&options.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",onend)):new Duplex(options)}function onend(){this.allowHalfOpen||this._writableState.ended||processNextTick(onEndNT,this)}function onEndNT(self){self.end()}var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var processNextTick=__webpack_require__(7),util=__webpack_require__(4);util.inherits=__webpack_require__(2);var Readable=__webpack_require__(260),Writable=__webpack_require__(262);util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}},function(module,exports,__webpack_require__){"use strict";function Duplex(options){return this instanceof Duplex?(Readable.call(this,options),Writable.call(this,options),options&&options.readable===!1&&(this.readable=!1),options&&options.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,options&&options.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",onend)):new Duplex(options)}function onend(){this.allowHalfOpen||this._writableState.ended||processNextTick(onEndNT,this)}function onEndNT(self){self.end()}var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var processNextTick=__webpack_require__(7),util=__webpack_require__(4);util.inherits=__webpack_require__(2);var Readable=__webpack_require__(266),Writable=__webpack_require__(268);util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}},function(module,exports){function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")}module.exports=assert,assert.equal=function(l,r,msg){if(l!=r)throw new Error(msg||"Assertion failed: "+l+" != "+r)}},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function Multiaddr(addr){if(!(this instanceof Multiaddr))return new Multiaddr(addr);if(addr||(addr=""),addr instanceof Buffer)this.buffer=codec.fromBuffer(addr);else if("string"==typeof addr||addr instanceof String)this.buffer=codec.fromString(addr);else{if(!(addr.buffer&&addr.protos&&addr.protoCodes))throw new Error("addr must be a string, Buffer, or another Multiaddr");this.buffer=codec.fromBuffer(addr.buffer)}}var map=__webpack_require__(175),extend=__webpack_require__(314),codec=__webpack_require__(699),protocols=__webpack_require__(176),NotImplemented=new Error("Sorry, Not Implemented Yet."),varint=__webpack_require__(49);exports=module.exports=Multiaddr,Multiaddr.prototype.toString=function(){return codec.bufferToString(this.buffer)},Multiaddr.prototype.toOptions=function(){var opts={},parsed=this.toString().split("/");return opts.family="ip4"===parsed[1]?"ipv4":"ipv6",opts.host=parsed[2],opts.port=parsed[4],opts},Multiaddr.prototype.inspect=function(){return"<Multiaddr "+this.buffer.toString("hex")+" - "+codec.bufferToString(this.buffer)+">"},Multiaddr.prototype.protos=function(){return map(this.protoCodes(),function(code){return extend(protocols(code))})},Multiaddr.prototype.protoCodes=function(){for(var codes=[],buf=this.buffer,i=0;i<buf.length;){var code=varint.decode(buf,i),n=varint.decode.bytes,p=protocols(code),size=codec.sizeForAddr(p,buf.slice(i+n));i+=size+n,codes.push(code)}return codes},Multiaddr.prototype.protoNames=function(){return map(this.protos(),function(proto){return proto.name})},Multiaddr.prototype.tuples=function(){return codec.bufferToTuples(this.buffer)},Multiaddr.prototype.stringTuples=function(){var t=codec.bufferToTuples(this.buffer);return codec.tuplesToStringTuples(t)},Multiaddr.prototype.encapsulate=function(addr){return addr=Multiaddr(addr),Multiaddr(this.toString()+addr.toString())},Multiaddr.prototype.decapsulate=function(addr){addr=addr.toString();var s=this.toString(),i=s.lastIndexOf(addr);if(i<0)throw new Error("Address "+this+" does not contain subaddress: "+addr);return Multiaddr(s.slice(0,i))},Multiaddr.prototype.equals=function(addr){return this.buffer.equals(addr.buffer)},Multiaddr.prototype.nodeAddress=function(){if(!this.isThinWaistAddress())throw new Error('Multiaddr must be "thin waist" address for nodeAddress.');var codes=this.protoCodes(),parts=this.toString().split("/").slice(1);return{family:41===codes[0]?"IPv6":"IPv4",address:parts[1],port:parts[3]}},Multiaddr.fromNodeAddress=function(addr,transport){if(!addr)throw new Error("requires node address object");if(!transport)throw new Error("requires transport protocol");var ip="IPv6"===addr.family?"ip6":"ip4";return Multiaddr("/"+[ip,addr.address,transport,addr.port].join("/"))},Multiaddr.prototype.isThinWaistAddress=function(addr){var protos=(addr||this).protos();return 2===protos.length&&((4===protos[0].code||41===protos[0].code)&&(6===protos[1].code||17===protos[1].code))},Multiaddr.prototype.fromStupidString=function(str){throw NotImplemented},Multiaddr.protocols=protocols}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){var schema=__webpack_require__(715),compile=__webpack_require__(719);module.exports=function(proto,opts){if(opts||(opts={}),!proto)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var sch="object"!=typeof proto||Buffer.isBuffer(proto)?schema.parse(proto):proto,Messages=function(){var self=this;compile(sch,opts.encodings||{}).forEach(function(m){self[m.name]=m.values||m})};return Messages.prototype.toString=function(){return schema.stringify(sch)},Messages.prototype.toJSON=function(){return sch},new Messages}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(process){function Duplex(options){return this instanceof Duplex?(Readable.call(this,options),Writable.call(this,options),options&&options.readable===!1&&(this.readable=!1),options&&options.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,options&&options.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",onend)):new Duplex(options)}function onend(){this.allowHalfOpen||this._writableState.ended||process.nextTick(this.end.bind(this))}function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++)f(xs[i],i)}module.exports=Duplex;var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys},util=__webpack_require__(4);util.inherits=__webpack_require__(2);var Readable=__webpack_require__(287),Writable=__webpack_require__(289);util.inherits(Duplex,Readable),forEach(objectKeys(Writable.prototype),function(method){Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])})}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){(function(Buffer){function Hash(blockSize,finalSize){this._block=new Buffer(blockSize),this._finalSize=finalSize,this._blockSize=blockSize,this._len=0,this._s=0}Hash.prototype.update=function(data,enc){"string"==typeof data&&(enc=enc||"utf8",data=new Buffer(data,enc));for(var l=this._len+=data.length,s=this._s||0,f=0,buffer=this._block;s<l;){for(var t=Math.min(data.length,f+this._blockSize-s%this._blockSize),ch=t-f,i=0;i<ch;i++)buffer[s%this._blockSize+i]=data[i+f];s+=ch,f+=ch,s%this._blockSize===0&&this._update(buffer)}return this._s=s,this},Hash.prototype.digest=function(enc){var l=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),l%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(l,this._blockSize-4);var hash=this._update(this._block)||this._hash();return enc?hash.toString(enc):hash},Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")},module.exports=Hash}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";function Duplex(options){return this instanceof Duplex?(Readable.call(this,options),Writable.call(this,options),options&&options.readable===!1&&(this.readable=!1),options&&options.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,options&&options.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",onend)):new Duplex(options)}function onend(){this.allowHalfOpen||this._writableState.ended||processNextTick(onEndNT,this)}function onEndNT(self){self.end()}var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var processNextTick=__webpack_require__(7),util=__webpack_require__(4);util.inherits=__webpack_require__(2);var Readable=__webpack_require__(293),Writable=__webpack_require__(295);util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}},function(module,exports,__webpack_require__){"use strict";function Duplex(options){return this instanceof Duplex?(Readable.call(this,options),Writable.call(this,options),options&&options.readable===!1&&(this.readable=!1),options&&options.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,options&&options.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",onend)):new Duplex(options)}function onend(){this.allowHalfOpen||this._writableState.ended||processNextTick(onEndNT,this)}function onEndNT(self){self.end()}var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var processNextTick=__webpack_require__(7),util=__webpack_require__(4);util.inherits=__webpack_require__(2);var Readable=__webpack_require__(296),Writable=__webpack_require__(298);util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}},function(module,exports,__webpack_require__){"use strict";function Duplex(options){return this instanceof Duplex?(Readable.call(this,options),Writable.call(this,options),options&&options.readable===!1&&(this.readable=!1),options&&options.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,options&&options.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",onend)):new Duplex(options)}function onend(){this.allowHalfOpen||this._writableState.ended||processNextTick(onEndNT,this)}function onEndNT(self){self.end()}var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var processNextTick=__webpack_require__(7),util=__webpack_require__(4);util.inherits=__webpack_require__(2);var Readable=__webpack_require__(307),Writable=__webpack_require__(309);util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}},function(module,exports,__webpack_require__){var base=exports;base.Reporter=__webpack_require__(325).Reporter,base.DecoderBuffer=__webpack_require__(189).DecoderBuffer,base.EncoderBuffer=__webpack_require__(189).EncoderBuffer,base.Node=__webpack_require__(324)},function(module,exports){"use strict";exports.ifRepoExists=function(repo,cb){repo.exists(function(err,exists){return err?cb(err):exists===!1?cb(new Error("no ipfs repo found")):void cb()})},exports.OFFLINE_ERROR=new Error("This command must be run in online mode. Try running 'ipfs daemon' first.")},function(module,exports,__webpack_require__){(function(Buffer){function BufferList(callback){if(!(this instanceof BufferList))return new BufferList(callback);if(this._bufs=[],this.length=0,"function"==typeof callback){this._callback=callback;var piper=function(err){this._callback&&(this._callback(err),this._callback=null)}.bind(this);this.on("pipe",function(src){src.on("error",piper)}),this.on("unpipe",function(src){src.removeListener("error",piper)})}else this.append(callback);DuplexStream.call(this)}var DuplexStream=__webpack_require__(379),util=__webpack_require__(14);util.inherits(BufferList,DuplexStream),BufferList.prototype._offset=function(offset){for(var _t,tot=0,i=0;i<this._bufs.length;i++){if(_t=tot+this._bufs[i].length,offset<_t)return[i,offset-tot];tot=_t}},BufferList.prototype.append=function(buf){var newBuf,i=0;if(Array.isArray(buf))for(;i<buf.length;i++)this.append(buf[i]);else if(buf instanceof BufferList)for(;i<buf._bufs.length;i++)this.append(buf._bufs[i]);else null!=buf&&("number"==typeof buf&&(buf=buf.toString()),newBuf=Buffer.isBuffer(buf)?buf:new Buffer(buf),this._bufs.push(newBuf),this.length+=newBuf.length);return this},BufferList.prototype._write=function(buf,encoding,callback){this.append(buf),"function"==typeof callback&&callback()},BufferList.prototype._read=function(size){return this.length?(size=Math.min(size,this.length),this.push(this.slice(0,size)),void this.consume(size)):this.push(null)},BufferList.prototype.end=function(chunk){DuplexStream.prototype.end.call(this,chunk),this._callback&&(this._callback(null,this.slice()),this._callback=null)},BufferList.prototype.get=function(index){return this.slice(index,index+1)[0]},BufferList.prototype.slice=function(start,end){return this.copy(null,0,start,end)},BufferList.prototype.copy=function copy(dst,dstStart,srcStart,srcEnd){if(("number"!=typeof srcStart||srcStart<0)&&(srcStart=0),("number"!=typeof srcEnd||srcEnd>this.length)&&(srcEnd=this.length),srcStart>=this.length)return dst||new Buffer(0);if(srcEnd<=0)return dst||new Buffer(0);var l,i,copy=!!dst,off=this._offset(srcStart),len=srcEnd-srcStart,bytes=len,bufoff=copy&&dstStart||0,start=off[1];if(0===srcStart&&srcEnd==this.length){if(!copy)return Buffer.concat(this._bufs);for(i=0;i<this._bufs.length;i++)this._bufs[i].copy(dst,bufoff),bufoff+=this._bufs[i].length;return dst}if(bytes<=this._bufs[off[0]].length-start)return copy?this._bufs[off[0]].copy(dst,dstStart,start,start+bytes):this._bufs[off[0]].slice(start,start+bytes);for(copy||(dst=new Buffer(len)),i=off[0];i<this._bufs.length;i++){if(l=this._bufs[i].length-start,!(bytes>l)){this._bufs[i].copy(dst,bufoff,start,start+bytes);break}this._bufs[i].copy(dst,bufoff,start),bufoff+=l,bytes-=l,start&&(start=0)}return dst},BufferList.prototype.toString=function(encoding,start,end){return this.slice(start,end).toString(encoding)},BufferList.prototype.consume=function(bytes){for(;this._bufs.length;){if(!(bytes>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(bytes),this.length-=bytes;break}bytes-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},BufferList.prototype.duplicate=function(){for(var i=0,copy=new BufferList;i<this._bufs.length;i++)copy.append(this._bufs[i]);return copy},BufferList.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},function(){var methods={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};for(var m in methods)!function(m){BufferList.prototype[m]=function(offset){return this.slice(offset,offset+methods[m])[m](0)}}(m)}(),module.exports=BufferList}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";function Duplex(options){return this instanceof Duplex?(Readable.call(this,options),Writable.call(this,options),options&&options.readable===!1&&(this.readable=!1),options&&options.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,options&&options.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",onend)):new Duplex(options)}function onend(){this.allowHalfOpen||this._writableState.ended||processNextTick(onEndNT,this)}function onEndNT(self){self.end()}var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var processNextTick=__webpack_require__(7),util=__webpack_require__(4);
util.inherits=__webpack_require__(2);var Readable=__webpack_require__(380),Writable=__webpack_require__(381);util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}},function(module,exports,__webpack_require__){(function(Buffer){module.exports=function(a,b){for(var length=Math.min(a.length,b.length),buffer=new Buffer(length),i=0;i<length;++i)buffer[i]=a[i]^b[i];return buffer}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){var cof=__webpack_require__(38),TAG=__webpack_require__(16)("toStringTag"),ARG="Arguments"==cof(function(){return arguments}()),tryGet=function(it,key){try{return it[key]}catch(e){}};module.exports=function(it){var O,T,B;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(T=tryGet(O=Object(it),TAG))?T:ARG?cof(O):"Object"==(B=cof(O))&&"function"==typeof O.callee?"Arguments":B}},function(module,exports,__webpack_require__){var cof=__webpack_require__(38);module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return"String"==cof(it)?it.split(""):Object(it)}},function(module,exports){exports.f={}.propertyIsEnumerable},function(module,exports,__webpack_require__){"use strict";exports.connection=__webpack_require__(259),exports.Connection=__webpack_require__(259)},function(module,exports){function isNative(value){return"function"==typeof value&&reNative.test(value)}var objectProto=Object.prototype,toString=objectProto.toString,reNative=RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");module.exports=isNative},function(module,exports,__webpack_require__){"use strict";(function(global,Buffer,process){function oldBrowser(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function randomBytes(size,cb){if(size>65536)throw new Error("requested too many random bytes");var rawBytes=new global.Uint8Array(size);size>0&&crypto.getRandomValues(rawBytes);var bytes=new Buffer(rawBytes.buffer);return"function"==typeof cb?process.nextTick(function(){cb(null,bytes)}):bytes}var crypto=global.crypto||global.msCrypto;crypto&&crypto.getRandomValues?module.exports=randomBytes:module.exports=oldBrowser}).call(exports,__webpack_require__(9),__webpack_require__(0).Buffer,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";function Duplex(options){return this instanceof Duplex?(Readable.call(this,options),Writable.call(this,options),options&&options.readable===!1&&(this.readable=!1),options&&options.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,options&&options.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",onend)):new Duplex(options)}function onend(){this.allowHalfOpen||this._writableState.ended||processNextTick(onEndNT,this)}function onEndNT(self){self.end()}var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var processNextTick=__webpack_require__(7),util=__webpack_require__(4);util.inherits=__webpack_require__(2);var Readable=__webpack_require__(776),Writable=__webpack_require__(778);util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}},function(module,exports,__webpack_require__){var asn1=exports;asn1.bignum=__webpack_require__(19),asn1.define=__webpack_require__(323).define,asn1.base=__webpack_require__(90),asn1.constants=__webpack_require__(190),asn1.decoders=__webpack_require__(327),asn1.encoders=__webpack_require__(329)},function(module,exports,__webpack_require__){(function(global,setImmediate,process){!function(global,factory){factory(exports)}(this,function(exports){"use strict";function apply(func,thisArg,args){var length=args.length;switch(length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isObjectLike(value){return!!value&&"object"==typeof value}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&objectToString$1.call(value)==symbolTag}function toNumber(value){if("number"==typeof value)return value;if(isSymbol(value))return NAN;if(isObject(value)){var other=isFunction(value.valueOf)?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}function toFinite(value){if(!value)return 0===value?value:0;if(value=toNumber(value),value===INFINITY||value===-INFINITY){var sign=value<0?-1:1;return sign*MAX_INTEGER}return value===value?value:0}function toInteger(value){var result=toFinite(value),remainder=result%1;return result===result?remainder?result-remainder:result:0}function rest(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=nativeMax(void 0===start?func.length-1:toInteger(start),0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];switch(start){case 0:return func.call(this,array);case 1:return func.call(this,args[0],array);case 2:return func.call(this,args[0],args[1],array)}var otherArgs=Array(start+1);for(index=-1;++index<start;)otherArgs[index]=args[index];return otherArgs[start]=array,apply(func,this,otherArgs)}}function initialParams(fn){return rest(function(args){var callback=args.pop();fn.call(this,args,callback)})}function applyEach$1(eachfn){return rest(function(fns,args){var go=initialParams(function(args,callback){var that=this;return eachfn(fns,function(fn,cb){fn.apply(that,args.concat([cb]))},callback)});return args.length?go.apply(this,args):go})}function baseProperty(key){return function(object){return null==object?void 0:object[key]}}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isArrayLike(value){return null!=value&&isLength(getLength(value))&&!isFunction(value)}function noop(){}function once(fn){return function(){if(null!==fn){var callFn=fn;fn=null,callFn.apply(this,arguments)}}}function getIterator(coll){return iteratorSymbol&&coll[iteratorSymbol]&&coll[iteratorSymbol]()}function getPrototype(value){return nativeGetPrototype(Object(value))}function baseHas(object,key){return null!=object&&(hasOwnProperty.call(object,key)||"object"==typeof object&&key in object&&null===getPrototype(object))}function baseKeys(object){return nativeKeys(Object(object))}function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty$1.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString$2.call(value)==argsTag)}function isString(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&objectToString$3.call(value)==stringTag}function indexKeys(object){var length=object?object.length:void 0;return isLength(length)&&(isArray(object)||isString(object)||isArguments(object))?baseTimes(length,String):null}function isIndex(value,length){return length=null==length?MAX_SAFE_INTEGER$1:length,!!length&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isPrototype(value){var Ctor=value&&value.constructor,proto="function"==typeof Ctor&&Ctor.prototype||objectProto$5;return value===proto}function keys(object){var isProto=isPrototype(object);if(!isProto&&!isArrayLike(object))return baseKeys(object);var indexes=indexKeys(object),skipIndexes=!!indexes,result=indexes||[],length=result.length;for(var key in object)!baseHas(object,key)||skipIndexes&&("length"==key||isIndex(key,length))||isProto&&"constructor"==key||result.push(key);return result}function createArrayIterator(coll){var i=-1,len=coll.length;return function(){return++i<len?{value:coll[i],key:i}:null}}function createES2015Iterator(iterator){var i=-1;return function(){var item=iterator.next();return item.done?null:(i++,{value:item.value,key:i})}}function createObjectIterator(obj){var okeys=keys(obj),i=-1,len=okeys.length;return function(){var key=okeys[++i];return i<len?{value:obj[key],key:key}:null}}function iterator(coll){if(isArrayLike(coll))return createArrayIterator(coll);var iterator=getIterator(coll);return iterator?createES2015Iterator(iterator):createObjectIterator(coll)}function onlyOnce(fn){return function(){if(null===fn)throw new Error("Callback was already called.");var callFn=fn;fn=null,callFn.apply(this,arguments)}}function _eachOfLimit(limit){return function(obj,iteratee,callback){function iterateeCallback(err){if(running-=1,err)done=!0,callback(err);else{if(done&&running<=0)return callback(null);replenish()}}function replenish(){for(;running<limit&&!done;){var elem=nextElem();if(null===elem)return done=!0,void(running<=0&&callback(null));running+=1,iteratee(elem.value,elem.key,onlyOnce(iterateeCallback))}}if(callback=once(callback||noop),limit<=0||!obj)return callback(null);var nextElem=iterator(obj),done=!1,running=0;replenish()}}function eachOfLimit(coll,limit,iteratee,callback){_eachOfLimit(limit)(coll,iteratee,callback)}function doLimit(fn,limit){return function(iterable,iteratee,callback){return fn(iterable,limit,iteratee,callback)}}function before(n,func){var result;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT$1);return n=toInteger(n),function(){return--n>0&&(result=func.apply(this,arguments)),n<=1&&(func=void 0),result}}function once$1(func){return before(2,func)}function eachOfArrayLike(coll,iteratee,callback){function iteratorCallback(err){err?callback(err):++completed===length&&callback(null)}callback=once$1(callback||noop);var index=0,completed=0,length=coll.length;for(0===length&&callback(null);index<length;index++)iteratee(coll[index],index,onlyOnce(iteratorCallback))}function eachOf(coll,iteratee,callback){var eachOfImplementation=isArrayLike(coll)?eachOfArrayLike:eachOfGeneric;eachOfImplementation(coll,iteratee,callback)}function doParallel(fn){return function(obj,iteratee,callback){return fn(eachOf,obj,iteratee,callback)}}function _asyncMap(eachfn,arr,iteratee,callback){callback=once(callback||noop),arr=arr||[];var results=[],counter=0;eachfn(arr,function(value,_,callback){var index=counter++;iteratee(value,function(err,v){results[index]=v,callback(err)})},function(err){callback(err,results)})}function doParallelLimit(fn){return function(obj,limit,iteratee,callback){return fn(_eachOfLimit(limit),obj,iteratee,callback)}}function asyncify(func){return initialParams(function(args,callback){var result;try{result=func.apply(this,args)}catch(e){return callback(e)}isObject(result)&&"function"==typeof result.then?result.then(function(value){callback(null,value)},function(err){callback(err.message?err:new Error(err))}):callback(null,result)})}function arrayEach(array,iteratee){for(var index=-1,length=array?array.length:0;++index<length&&iteratee(array[index],index,array)!==!1;);return array}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===!1)break}return object}}function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function indexOfNaN(array,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;){var other=array[index];if(other!==other)return index}return-1}function baseIndexOf(array,value,fromIndex){if(value!==value)return indexOfNaN(array,fromIndex);for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}function auto(tasks,concurrency,callback){function enqueueTask(key,task){readyTasks.push(function(){runTask(key,task)})}function processQueue(){if(0===readyTasks.length&&0===runningTasks)return callback(null,results);for(;readyTasks.length&&runningTasks<concurrency;){var run=readyTasks.shift();run()}}function addListener(taskName,fn){var taskListeners=listeners[taskName];taskListeners||(taskListeners=listeners[taskName]=[]),taskListeners.push(fn)}function taskComplete(taskName){var taskListeners=listeners[taskName]||[];arrayEach(taskListeners,function(fn){fn()}),processQueue()}function runTask(key,task){if(!hasError){var taskCallback=onlyOnce(rest(function(err,args){if(runningTasks--,args.length<=1&&(args=args[0]),err){var safeResults={};baseForOwn(results,function(val,rkey){safeResults[rkey]=val}),safeResults[key]=args,hasError=!0,listeners=[],callback(err,safeResults)}else results[key]=args,taskComplete(key)}));runningTasks++;var taskFn=task[task.length-1];task.length>1?taskFn(results,taskCallback):taskFn(taskCallback)}}function checkForDeadlocks(){for(var currentTask,counter=0;readyToCheck.length;)currentTask=readyToCheck.pop(),counter++,arrayEach(getDependents(currentTask),function(dependent){0===--uncheckedDependencies[dependent]&&readyToCheck.push(dependent)});if(counter!==numTasks)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function getDependents(taskName){var result=[];return baseForOwn(tasks,function(task,key){isArray(task)&&baseIndexOf(task,taskName,0)>=0&&result.push(key)}),result}"function"==typeof concurrency&&(callback=concurrency,concurrency=null),callback=once(callback||noop);var keys$$=keys(tasks),numTasks=keys$$.length;if(!numTasks)return callback(null);concurrency||(concurrency=numTasks);var results={},runningTasks=0,hasError=!1,listeners={},readyTasks=[],readyToCheck=[],uncheckedDependencies={};baseForOwn(tasks,function(task,key){if(!isArray(task))return enqueueTask(key,[task]),void readyToCheck.push(key);var dependencies=task.slice(0,task.length-1),remainingDependencies=dependencies.length;return 0===remainingDependencies?(enqueueTask(key,task),void readyToCheck.push(key)):(uncheckedDependencies[key]=remainingDependencies,void arrayEach(dependencies,function(dependencyName){if(!tasks[dependencyName])throw new Error("async.auto task `"+key+"` has a non-existent dependency in "+dependencies.join(", "));addListener(dependencyName,function(){remainingDependencies--,0===remainingDependencies&&enqueueTask(key,task)})}))}),checkForDeadlocks(),processQueue()}function arrayMap(array,iteratee){for(var index=-1,length=array?array.length:0,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}function copyArray(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}function checkGlobal(value){return value&&value.Object===Object?value:null}function baseToString(value){if("string"==typeof value)return value;if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY$1?"-0":result}function baseSlice(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),end=end>length?length:end,end<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}function castSlice(array,start,end){var length=array.length;return end=void 0===end?length:end,!start&&end>=length?array:baseSlice(array,start,end)}function charsEndIndex(strSymbols,chrSymbols){for(var index=strSymbols.length;index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}function charsStartIndex(strSymbols,chrSymbols){for(var index=-1,length=strSymbols.length;++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}function stringToArray(string){return string.match(reComplexSymbol)}function toString(value){return null==value?"":baseToString(value)}function trim(string,chars,guard){if(string=toString(string),string&&(guard||void 0===chars))return string.replace(reTrim$1,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars),start=charsStartIndex(strSymbols,chrSymbols),end=charsEndIndex(strSymbols,chrSymbols)+1;return castSlice(strSymbols,start,end).join("")}function parseParams(func){return func=func.toString().replace(STRIP_COMMENTS,""),func=func.match(FN_ARGS)[2].replace(" ",""),func=func?func.split(FN_ARG_SPLIT):[],func=func.map(function(arg){return trim(arg.replace(FN_ARG,""))})}function autoInject(tasks,callback){var newTasks={};baseForOwn(tasks,function(taskFn,key){function newTask(results,taskCb){var newArgs=arrayMap(params,function(name){return results[name]});newArgs.push(taskCb),taskFn.apply(null,newArgs)}var params;if(isArray(taskFn))params=copyArray(taskFn),taskFn=params.pop(),newTasks[key]=params.concat(params.length>0?newTask:taskFn);else if(1===taskFn.length)newTasks[key]=taskFn;else{if(params=parseParams(taskFn),0===taskFn.length&&0===params.length)throw new Error("autoInject task functions require explicit parameters.");params.pop(),newTasks[key]=params.concat(newTask)}}),auto(newTasks,callback)}function fallback(fn){setTimeout(fn,0)}function wrap(defer){return rest(function(fn,args){defer(function(){fn.apply(null,args)})})}function DLL(){this.head=this.tail=null,this.length=0}function setInitial(dll,node){dll.length=1,dll.head=dll.tail=node}function queue(worker,concurrency,payload){function _insert(data,insertAtFront,callback){if(null!=callback&&"function"!=typeof callback)throw new Error("task callback must be a function");return q.started=!0,isArray(data)||(data=[data]),0===data.length&&q.idle()?setImmediate$1(function(){q.drain()}):(arrayEach(data,function(task){var item={data:task,callback:callback||noop};insertAtFront?q._tasks.unshift(item):q._tasks.push(item)}),void setImmediate$1(q.process))}function _next(tasks){return rest(function(args){workers-=1,arrayEach(tasks,function(task){arrayEach(workersList,function(worker,index){if(worker===task)return workersList.splice(index,1),!1}),task.callback.apply(task,args),null!=args[0]&&q.error(args[0],task.data)}),workers<=q.concurrency-q.buffer&&q.unsaturated(),q.idle()&&q.drain(),q.process()})}if(null==concurrency)concurrency=1;else if(0===concurrency)throw new Error("Concurrency must not be zero");var workers=0,workersList=[],q={_tasks:new DLL,concurrency:concurrency,payload:payload,saturated:noop,unsaturated:noop,buffer:concurrency/4,empty:noop,drain:noop,error:noop,started:!1,paused:!1,push:function(data,callback){_insert(data,!1,callback)},kill:function(){q.drain=noop,q._tasks.empty()},unshift:function(data,callback){_insert(data,!0,callback)},process:function(){for(;!q.paused&&workers<q.concurrency&&q._tasks.length;){var tasks=[],data=[],l=q._tasks.length;q.payload&&(l=Math.min(l,q.payload));for(var i=0;i<l;i++){var node=q._tasks.shift();tasks.push(node),data.push(node.data)}0===q._tasks.length&&q.empty(),workers+=1,workersList.push(tasks[0]),workers===q.concurrency&&q.saturated();var cb=onlyOnce(_next(tasks));worker(data,cb)}},length:function(){return q._tasks.length},running:function(){return workers},workersList:function(){return workersList},idle:function(){return q._tasks.length+workers===0},pause:function(){q.paused=!0},resume:function(){if(q.paused!==!1){q.paused=!1;for(var resumeCount=Math.min(q.concurrency,q._tasks.length),w=1;w<=resumeCount;w++)setImmediate$1(q.process)}}};return q}function cargo(worker,payload){return queue(worker,1,payload)}function reduce(coll,memo,iteratee,callback){callback=once(callback||noop),eachOfSeries(coll,function(x,i,callback){iteratee(memo,x,function(err,v){memo=v,callback(err)})},function(err){callback(err,memo)})}function concat$1(eachfn,arr,fn,callback){var result=[];eachfn(arr,function(x,index,cb){fn(x,function(err,y){result=result.concat(y||[]),cb(err)})},function(err){callback(err,result)})}function doSeries(fn){return function(obj,iteratee,callback){return fn(eachOfSeries,obj,iteratee,callback)}}function identity(value){return value}function _createTester(eachfn,check,getResult){return function(arr,limit,iteratee,cb){function done(err){cb&&(err?cb(err):cb(null,getResult(!1)))}function wrappedIteratee(x,_,callback){return cb?void iteratee(x,function(err,v){cb&&(err?(cb(err),cb=iteratee=!1):check(v)&&(cb(null,getResult(!0,x)),cb=iteratee=!1)),callback()}):callback()}arguments.length>3?(cb=cb||noop,eachfn(arr,limit,wrappedIteratee,done)):(cb=iteratee,cb=cb||noop,iteratee=limit,eachfn(arr,wrappedIteratee,done))}}function _findGetResult(v,x){return x}function consoleFunc(name){return rest(function(fn,args){fn.apply(null,args.concat([rest(function(err,args){"object"==typeof console&&(err?console.error&&console.error(err):console[name]&&arrayEach(args,function(x){console[name](x)}))})]))})}function doDuring(fn,test,callback){function check(err,truth){return err?callback(err):truth?void fn(next):callback(null)}callback=onlyOnce(callback||noop);var next=rest(function(err,args){return err?callback(err):(args.push(check),void test.apply(this,args))});check(null,!0)}function doWhilst(iteratee,test,callback){callback=onlyOnce(callback||noop);var next=rest(function(err,args){return err?callback(err):test.apply(this,args)?iteratee(next):void callback.apply(null,[null].concat(args))});iteratee(next)}function doUntil(fn,test,callback){doWhilst(fn,function(){return!test.apply(this,arguments)},callback)}function during(test,fn,callback){function next(err){return err?callback(err):void test(check)}function check(err,truth){return err?callback(err):truth?void fn(next):callback(null)}callback=onlyOnce(callback||noop),test(check)}function _withoutIndex(iteratee){return function(value,index,callback){return iteratee(value,callback)}}function eachLimit(coll,iteratee,callback){eachOf(coll,_withoutIndex(iteratee),callback)}function eachLimit$1(coll,limit,iteratee,callback){_eachOfLimit(limit)(coll,_withoutIndex(iteratee),callback)}function ensureAsync(fn){return initialParams(function(args,callback){var sync=!0;args.push(function(){var innerArgs=arguments;sync?setImmediate$1(function(){callback.apply(null,innerArgs)}):callback.apply(null,innerArgs)}),fn.apply(this,args),sync=!1})}function notId(v){return!v}function _filter(eachfn,arr,iteratee,callback){callback=once(callback||noop);var results=[];eachfn(arr,function(x,index,callback){iteratee(x,function(err,v){err?callback(err):(v&&results.push({index:index,value:x}),callback())})},function(err){err?callback(err):callback(null,arrayMap(results.sort(function(a,b){return a.index-b.index}),baseProperty("value")))})}function forever(fn,errback){function next(err){return err?done(err):void task(next)}var done=onlyOnce(errback||noop),task=ensureAsync(fn);next()}function mapValuesLimit(obj,limit,iteratee,callback){callback=once(callback||noop);var newObj={};eachOfLimit(obj,limit,function(val,key,next){iteratee(val,key,function(err,result){return err?next(err):(newObj[key]=result,void next())})},function(err){callback(err,newObj)})}function has(obj,key){return key in obj}function memoize(fn,hasher){var memo=Object.create(null),queues=Object.create(null);hasher=hasher||identity;var memoized=initialParams(function(args,callback){var key=hasher.apply(null,args);has(memo,key)?setImmediate$1(function(){callback.apply(null,memo[key])}):has(queues,key)?queues[key].push(callback):(queues[key]=[callback],fn.apply(null,args.concat([rest(function(args){memo[key]=args;var q=queues[key];delete queues[key];for(var i=0,l=q.length;i<l;i++)q[i].apply(null,args)})])))});return memoized.memo=memo,memoized.unmemoized=fn,memoized}function _parallel(eachfn,tasks,callback){callback=callback||noop;var results=isArrayLike(tasks)?[]:{};eachfn(tasks,function(task,key,callback){task(rest(function(err,args){args.length<=1&&(args=args[0]),results[key]=args,callback(err)}))},function(err){callback(err,results)})}function parallelLimit(tasks,callback){_parallel(eachOf,tasks,callback)}function parallelLimit$1(tasks,limit,callback){_parallel(_eachOfLimit(limit),tasks,callback)}function queue$1(worker,concurrency){return queue(function(items,cb){worker(items[0],cb)},concurrency,1)}function priorityQueue(worker,concurrency){var q=queue$1(worker,concurrency);return q.push=function(data,priority,callback){if(null==callback&&(callback=noop),"function"!=typeof callback)throw new Error("task callback must be a function");if(q.started=!0,isArray(data)||(data=[data]),0===data.length)return setImmediate$1(function(){q.drain()});priority=priority||0;for(var nextNode=q._tasks.head;nextNode&&priority>=nextNode.priority;)nextNode=nextNode.next;arrayEach(data,function(task){var item={data:task,priority:priority,callback:callback};nextNode?q._tasks.insertBefore(nextNode,item):q._tasks.push(item)}),setImmediate$1(q.process)},delete q.unshift,q}function race(tasks,callback){return callback=once(callback||noop),isArray(tasks)?tasks.length?void arrayEach(tasks,function(task){task(callback)}):callback():callback(new TypeError("First argument to race must be an array of functions"))}function reduceRight(array,memo,iteratee,callback){var reversed=slice.call(array).reverse();reduce(reversed,memo,iteratee,callback)}function reflect(fn){return initialParams(function(args,reflectCallback){return args.push(rest(function(err,cbArgs){if(err)reflectCallback(null,{error:err});else{var value=null;1===cbArgs.length?value=cbArgs[0]:cbArgs.length>1&&(value=cbArgs),reflectCallback(null,{value:value})}})),fn.apply(this,args)})}function reject$1(eachfn,arr,iteratee,callback){_filter(eachfn,arr,function(value,cb){iteratee(value,function(err,v){err?cb(err):cb(null,!v)})},callback)}function reflectAll(tasks){var results;return isArray(tasks)?results=arrayMap(tasks,reflect):(results={},baseForOwn(tasks,function(task,key){results[key]=reflect.call(this,task)})),results}function constant$1(value){return function(){return value}}function retry(opts,task,callback){function parseTimes(acc,t){if("object"==typeof t)acc.times=+t.times||DEFAULT_TIMES,acc.intervalFunc="function"==typeof t.interval?t.interval:constant$1(+t.interval||DEFAULT_INTERVAL);else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");acc.times=+t||DEFAULT_TIMES}}function retryAttempt(){task(function(err){err&&attempt++<options.times?setTimeout(retryAttempt,options.intervalFunc(attempt)):callback.apply(null,arguments)})}var DEFAULT_TIMES=5,DEFAULT_INTERVAL=0,options={times:DEFAULT_TIMES,intervalFunc:constant$1(DEFAULT_INTERVAL)};if(arguments.length<3&&"function"==typeof opts?(callback=task||noop,task=opts):(parseTimes(options,opts),callback=callback||noop),"function"!=typeof task)throw new Error("Invalid arguments for async.retry");var attempt=1;retryAttempt()}function retryable(opts,task){return task||(task=opts,opts=null),initialParams(function(args,callback){function taskFn(cb){task.apply(null,args.concat([cb]))}opts?retry(opts,taskFn,callback):retry(taskFn,callback)})}function series(tasks,callback){_parallel(eachOfSeries,tasks,callback)}function sortBy(coll,iteratee,callback){function comparator(left,right){var a=left.criteria,b=right.criteria;return a<b?-1:a>b?1:0}map(coll,function(x,callback){iteratee(x,function(err,criteria){return err?callback(err):void callback(null,{value:x,criteria:criteria})})},function(err,results){return err?callback(err):void callback(null,arrayMap(results.sort(comparator),baseProperty("value")))})}function timeout(asyncFn,milliseconds,info){function injectedCallback(){timedOut||(originalCallback.apply(null,arguments),clearTimeout(timer))}function timeoutCallback(){var name=asyncFn.name||"anonymous",error=new Error('Callback function "'+name+'" timed out.');error.code="ETIMEDOUT",info&&(error.info=info),timedOut=!0,originalCallback(error)}var originalCallback,timer,timedOut=!1;return initialParams(function(args,origCallback){originalCallback=origCallback,timer=setTimeout(timeoutCallback,milliseconds),asyncFn.apply(null,args.concat(injectedCallback))})}function baseRange(start,end,step,fromRight){for(var index=-1,length=nativeMax$1(nativeCeil((end-start)/(step||1)),0),result=Array(length);length--;)result[fromRight?length:++index]=start,start+=step;return result}function timeLimit(count,limit,iteratee,callback){mapLimit(baseRange(0,count,1),limit,iteratee,callback)}function transform(coll,accumulator,iteratee,callback){3===arguments.length&&(callback=iteratee,iteratee=accumulator,accumulator=isArray(coll)?[]:{}),callback=once(callback||noop),eachOf(coll,function(v,k,cb){iteratee(accumulator,v,k,cb)},function(err){callback(err,accumulator)})}function unmemoize(fn){return function(){return(fn.unmemoized||fn).apply(null,arguments)}}function whilst(test,iteratee,callback){if(callback=onlyOnce(callback||noop),!test())return callback(null);var next=rest(function(err,args){return err?callback(err):test()?iteratee(next):void callback.apply(null,[null].concat(args))});iteratee(next)}function until(test,fn,callback){whilst(function(){return!test.apply(this,arguments)},fn,callback)}function waterfall(tasks,callback){function nextTask(args){if(taskIndex===tasks.length)return callback.apply(null,[null].concat(args));var taskCallback=onlyOnce(rest(function(err,args){return err?callback.apply(null,[err].concat(args)):void nextTask(args)}));args.push(taskCallback);var task=tasks[taskIndex++];task.apply(null,args)}if(callback=once(callback||noop),!isArray(tasks))return callback(new Error("First argument to waterfall must be an array of functions"));if(!tasks.length)return callback();var taskIndex=0;nextTask([])}var _defer,funcTag="[object Function]",genTag="[object GeneratorFunction]",objectProto=Object.prototype,objectToString=objectProto.toString,symbolTag="[object Symbol]",objectProto$1=Object.prototype,objectToString$1=objectProto$1.toString,NAN=NaN,reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,INFINITY=1/0,MAX_INTEGER=1.7976931348623157e308,FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max,getLength=baseProperty("length"),MAX_SAFE_INTEGER=9007199254740991,iteratorSymbol="function"==typeof Symbol&&Symbol.iterator,nativeGetPrototype=Object.getPrototypeOf,objectProto$2=Object.prototype,hasOwnProperty=objectProto$2.hasOwnProperty,nativeKeys=Object.keys,argsTag="[object Arguments]",objectProto$3=Object.prototype,hasOwnProperty$1=objectProto$3.hasOwnProperty,objectToString$2=objectProto$3.toString,propertyIsEnumerable=objectProto$3.propertyIsEnumerable,isArray=Array.isArray,stringTag="[object String]",objectProto$4=Object.prototype,objectToString$3=objectProto$4.toString,MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/,objectProto$5=Object.prototype,FUNC_ERROR_TEXT$1="Expected a function",eachOfGeneric=doLimit(eachOfLimit,1/0),map=doParallel(_asyncMap),applyEach=applyEach$1(map),mapLimit=doParallelLimit(_asyncMap),mapSeries=doLimit(mapLimit,1),applyEachSeries=applyEach$1(mapSeries),apply$1=rest(function(fn,args){return rest(function(callArgs){return fn.apply(null,args.concat(callArgs))})}),baseFor=createBaseFor(),freeGlobal=checkGlobal("object"==typeof global&&global),freeSelf=checkGlobal("object"==typeof self&&self),thisGlobal=checkGlobal("object"==typeof this&&this),root=freeGlobal||freeSelf||thisGlobal||Function("return this")(),Symbol$1=root.Symbol,INFINITY$1=1/0,symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f\\ufe20-\\ufe23",rsComboSymbolsRange="\\u20d0-\\u20f0",rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboMarksRange+rsComboSymbolsRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reComplexSymbol=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g"),reTrim$1=/^\s+|\s+$/g,FN_ARGS=/^(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,FN_ARG_SPLIT=/,/,FN_ARG=/(=.+)?(\s*)$/,STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,hasSetImmediate="function"==typeof setImmediate&&setImmediate,hasNextTick="object"==typeof process&&"function"==typeof process.nextTick;
_defer=hasSetImmediate?setImmediate:hasNextTick?process.nextTick:fallback;var setImmediate$1=wrap(_defer);DLL.prototype.removeLink=function(node){return node.prev?node.prev.next=node.next:this.head=node.next,node.next?node.next.prev=node.prev:this.tail=node.prev,node.prev=node.next=null,this.length-=1,node},DLL.prototype.empty=DLL,DLL.prototype.insertAfter=function(node,newNode){newNode.prev=node,newNode.next=node.next,node.next?node.next.prev=newNode:this.tail=newNode,node.next=newNode,this.length+=1},DLL.prototype.insertBefore=function(node,newNode){newNode.prev=node.prev,newNode.next=node,node.prev?node.prev.next=newNode:this.head=newNode,node.prev=newNode,this.length+=1},DLL.prototype.unshift=function(node){this.head?this.insertBefore(this.head,node):setInitial(this,node)},DLL.prototype.push=function(node){this.tail?this.insertAfter(this.tail,node):setInitial(this,node)},DLL.prototype.shift=function(){return this.head&&this.removeLink(this.head)},DLL.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)};var _defer$1,eachOfSeries=doLimit(eachOfLimit,1),seq=rest(function(functions){return rest(function(args){var that=this,cb=args[args.length-1];"function"==typeof cb?args.pop():cb=noop,reduce(functions,args,function(newargs,fn,cb){fn.apply(that,newargs.concat([rest(function(err,nextargs){cb(err,nextargs)})]))},function(err,results){cb.apply(that,[err].concat(results))})})}),compose=rest(function(args){return seq.apply(null,args.reverse())}),concat=doParallel(concat$1),concatSeries=doSeries(concat$1),constant=rest(function(values){var args=[null].concat(values);return initialParams(function(ignoredArgs,callback){return callback.apply(this,args)})}),detect=_createTester(eachOf,identity,_findGetResult),detectLimit=_createTester(eachOfLimit,identity,_findGetResult),detectSeries=_createTester(eachOfSeries,identity,_findGetResult),dir=consoleFunc("dir"),eachSeries=doLimit(eachLimit$1,1),every=_createTester(eachOf,notId,notId),everyLimit=_createTester(eachOfLimit,notId,notId),everySeries=doLimit(everyLimit,1),filter=doParallel(_filter),filterLimit=doParallelLimit(_filter),filterSeries=doLimit(filterLimit,1),log=consoleFunc("log"),mapValues=doLimit(mapValuesLimit,1/0),mapValuesSeries=doLimit(mapValuesLimit,1);_defer$1=hasNextTick?process.nextTick:hasSetImmediate?setImmediate:fallback;var nextTick=wrap(_defer$1),slice=Array.prototype.slice,reject=doParallel(reject$1),rejectLimit=doParallelLimit(reject$1),rejectSeries=doLimit(rejectLimit,1),some=_createTester(eachOf,Boolean,identity),someLimit=_createTester(eachOfLimit,Boolean,identity),someSeries=doLimit(someLimit,1),nativeCeil=Math.ceil,nativeMax$1=Math.max,times=doLimit(timeLimit,1/0),timesSeries=doLimit(timeLimit,1),index={applyEach:applyEach,applyEachSeries:applyEachSeries,apply:apply$1,asyncify:asyncify,auto:auto,autoInject:autoInject,cargo:cargo,compose:compose,concat:concat,concatSeries:concatSeries,constant:constant,detect:detect,detectLimit:detectLimit,detectSeries:detectSeries,dir:dir,doDuring:doDuring,doUntil:doUntil,doWhilst:doWhilst,during:during,each:eachLimit,eachLimit:eachLimit$1,eachOf:eachOf,eachOfLimit:eachOfLimit,eachOfSeries:eachOfSeries,eachSeries:eachSeries,ensureAsync:ensureAsync,every:every,everyLimit:everyLimit,everySeries:everySeries,filter:filter,filterLimit:filterLimit,filterSeries:filterSeries,forever:forever,log:log,map:map,mapLimit:mapLimit,mapSeries:mapSeries,mapValues:mapValues,mapValuesLimit:mapValuesLimit,mapValuesSeries:mapValuesSeries,memoize:memoize,nextTick:nextTick,parallel:parallelLimit,parallelLimit:parallelLimit$1,priorityQueue:priorityQueue,queue:queue$1,race:race,reduce:reduce,reduceRight:reduceRight,reflect:reflect,reflectAll:reflectAll,reject:reject,rejectLimit:rejectLimit,rejectSeries:rejectSeries,retry:retry,retryable:retryable,seq:seq,series:series,setImmediate:setImmediate$1,some:some,someLimit:someLimit,someSeries:someSeries,sortBy:sortBy,timeout:timeout,times:times,timesLimit:timeLimit,timesSeries:timesSeries,transform:transform,unmemoize:unmemoize,until:until,waterfall:waterfall,whilst:whilst,all:every,any:some,forEach:eachLimit,forEachSeries:eachSeries,forEachLimit:eachLimit$1,forEachOf:eachOf,forEachOfSeries:eachOfSeries,forEachOfLimit:eachOfLimit,inject:reduce,foldl:reduce,foldr:reduceRight,select:filter,selectLimit:filterLimit,selectSeries:filterSeries,wrapSync:asyncify};exports.default=index,exports.applyEach=applyEach,exports.applyEachSeries=applyEachSeries,exports.apply=apply$1,exports.asyncify=asyncify,exports.auto=auto,exports.autoInject=autoInject,exports.cargo=cargo,exports.compose=compose,exports.concat=concat,exports.concatSeries=concatSeries,exports.constant=constant,exports.detect=detect,exports.detectLimit=detectLimit,exports.detectSeries=detectSeries,exports.dir=dir,exports.doDuring=doDuring,exports.doUntil=doUntil,exports.doWhilst=doWhilst,exports.during=during,exports.each=eachLimit,exports.eachLimit=eachLimit$1,exports.eachOf=eachOf,exports.eachOfLimit=eachOfLimit,exports.eachOfSeries=eachOfSeries,exports.eachSeries=eachSeries,exports.ensureAsync=ensureAsync,exports.every=every,exports.everyLimit=everyLimit,exports.everySeries=everySeries,exports.filter=filter,exports.filterLimit=filterLimit,exports.filterSeries=filterSeries,exports.forever=forever,exports.log=log,exports.map=map,exports.mapLimit=mapLimit,exports.mapSeries=mapSeries,exports.mapValues=mapValues,exports.mapValuesLimit=mapValuesLimit,exports.mapValuesSeries=mapValuesSeries,exports.memoize=memoize,exports.nextTick=nextTick,exports.parallel=parallelLimit,exports.parallelLimit=parallelLimit$1,exports.priorityQueue=priorityQueue,exports.queue=queue$1,exports.race=race,exports.reduce=reduce,exports.reduceRight=reduceRight,exports.reflect=reflect,exports.reflectAll=reflectAll,exports.reject=reject,exports.rejectLimit=rejectLimit,exports.rejectSeries=rejectSeries,exports.retry=retry,exports.retryable=retryable,exports.seq=seq,exports.series=series,exports.setImmediate=setImmediate$1,exports.some=some,exports.someLimit=someLimit,exports.someSeries=someSeries,exports.sortBy=sortBy,exports.timeout=timeout,exports.times=times,exports.timesLimit=timeLimit,exports.timesSeries=timesSeries,exports.transform=transform,exports.unmemoize=unmemoize,exports.until=until,exports.waterfall=waterfall,exports.whilst=whilst,exports.all=every,exports.allLimit=everyLimit,exports.allSeries=everySeries,exports.any=some,exports.anyLimit=someLimit,exports.anySeries=someSeries,exports.find=detect,exports.findLimit=detectLimit,exports.findSeries=detectSeries,exports.forEach=eachLimit,exports.forEachSeries=eachSeries,exports.forEachLimit=eachLimit$1,exports.forEachOf=eachOf,exports.forEachOfSeries=eachOfSeries,exports.forEachOfLimit=eachOfLimit,exports.inject=reduce,exports.foldl=reduce,exports.foldr=reduceRight,exports.select=filter,exports.selectLimit=filterLimit,exports.selectSeries=filterSeries,exports.wrapSync=asyncify})}).call(exports,__webpack_require__(9),__webpack_require__(21).setImmediate,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),protobuf=__webpack_require__(84),Block=__webpack_require__(106),isEqualWith=(__webpack_require__(44),__webpack_require__(691)),mh=__webpack_require__(27),assert=__webpack_require__(28),pbm=protobuf(Buffer("cGFja2FnZSBiaXRzd2FwLm1lc3NhZ2UucGI7CgptZXNzYWdlIE1lc3NhZ2UgewoKICBtZXNzYWdlIFdhbnRsaXN0IHsKCiAgICBtZXNzYWdlIEVudHJ5IHsKICAgICAgb3B0aW9uYWwgYnl0ZXMgYmxvY2sgPSAxOyAvLyB0aGUgYmxvY2sga2V5CiAgICAgIG9wdGlvbmFsIGludDMyIHByaW9yaXR5ID0gMjsgLy8gdGhlIHByaW9yaXR5IChub3JtYWxpemVkKS4gZGVmYXVsdCB0byAxCiAgICAgIG9wdGlvbmFsIGJvb2wgY2FuY2VsID0gMzsgIC8vIHdoZXRoZXIgdGhpcyByZXZva2VzIGFuIGVudHJ5CiAgICB9CgogICAgcmVwZWF0ZWQgRW50cnkgZW50cmllcyA9IDE7IC8vIGEgbGlzdCBvZiB3YW50bGlzdCBlbnRyaWVzCiAgICBvcHRpb25hbCBib29sIGZ1bGwgPSAyOyAgICAgLy8gd2hldGhlciB0aGlzIGlzIHRoZSBmdWxsIHdhbnRsaXN0LiBkZWZhdWx0IHRvIGZhbHNlCiAgfQoKICBvcHRpb25hbCBXYW50bGlzdCB3YW50bGlzdCA9IDE7CiAgcmVwZWF0ZWQgYnl0ZXMgYmxvY2tzID0gMjsKfQ==","base64")),Entry=__webpack_require__(337),BitswapMessage=function(){function BitswapMessage(full){_classCallCheck(this,BitswapMessage),this.full=full,this.wantlist=new Map,this.blocks=new Map}return _createClass(BitswapMessage,[{key:"addEntry",value:function(key,priority,cancel){assert(Buffer.isBuffer(key),"key must be a buffer");var e=this.wantlist.get(mh.toB58String(key));e?(e.priority=priority,e.cancel=Boolean(cancel)):this.wantlist.set(mh.toB58String(key),new Entry(key,priority,cancel))}},{key:"addBlock",value:function(block){this.blocks.set(mh.toB58String(block.key),block)}},{key:"cancel",value:function(key){this.wantlist.delete(mh.toB58String(key)),this.addEntry(key,0,!0)}},{key:"toProto",value:function(){var msg={wantlist:{entries:Array.from(this.wantlist.values()).map(function(e){return{block:e.key,priority:Number(e.priority),cancel:Boolean(e.cancel)}})},blocks:Array.from(this.blocks.values()).map(function(b){return b.data})};return this.full&&(msg.wantlist.full=!0),pbm.Message.encode(msg)}},{key:"equals",value:function(other){var cmp=function(a,b){if(a.equals&&"function"==typeof a.equals)return a.equals(b)};return!(this.full!==other.full||!isEqualWith(this.wantlist,other.wantlist,cmp)||!isEqualWith(this.blocks,other.blocks,cmp))}},{key:"empty",get:function(){return 0===this.blocks.size&&0===this.wantlist.size}},{key:Symbol.toStringTag,get:function(){var list=Array.from(this.wantlist.keys()),blocks=Array.from(this.blocks.keys());return"BitswapMessage <full: "+this.full+", list: "+list+", blocks: "+blocks+">"}}]),BitswapMessage}();BitswapMessage.fromProto=function(raw){var dec=pbm.Message.decode(raw),m=new BitswapMessage(dec.wantlist.full);return dec.wantlist.entries.forEach(function(e){m.addEntry(e.block,e.priority,e.cancel)}),dec.blocks.forEach(function(b){return m.addBlock(new Block(b))}),m},BitswapMessage.Entry=Entry,module.exports=BitswapMessage}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),mh=__webpack_require__(27),Entry=__webpack_require__(339),Wantlist=function(){function Wantlist(){_classCallCheck(this,Wantlist),this.set=new Map}return _createClass(Wantlist,[{key:"add",value:function(key,priority){var e=this.set.get(mh.toB58String(key));e?(e.inc(),e.priority=priority):this.set.set(mh.toB58String(key),new Entry(key,priority))}},{key:"remove",value:function(key){var e=this.set.get(mh.toB58String(key));e&&(e.dec(),e.hasRefs()||this.set.delete(mh.toB58String(key)))}},{key:"removeForce",value:function(key){this.set.has(key)&&this.set.delete(key)}},{key:"entries",value:function(){return this.set.entries()}},{key:"sortedEntries",value:function(){return new Map(Array.from(this.set.entries()).sort())}},{key:"contains",value:function(key){return this.set.get(mh.toB58String(key))}},{key:"length",get:function(){return this.set.size}}]),Wantlist}();Wantlist.Entry=Entry,module.exports=Wantlist},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function Block(data,type){if(!data)throw new Error("Block must be constructed with data");return this instanceof Block?(data instanceof Buffer?this.data=data:this.data=new Buffer(data),this.key=util.hash(this.data),void(this.type=type||"protobuf")):new Block(data)}var util=__webpack_require__(343);Object.defineProperty(Block.prototype,"extension",{get:function(){switch(this.type){case"protobuf":return"data";case"ipld":return"ipld";default:return this.type}}}),module.exports=Block}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";exports.DAGNode=__webpack_require__(195),exports.DAGLink=__webpack_require__(194),exports.DAGService=__webpack_require__(345),exports.Batch=__webpack_require__(344),exports.util=__webpack_require__(196)},function(module,exports,__webpack_require__){(function(Buffer){function fixup_uint32(x){var ret,x_pos;return ret=x>uint_max||x<0?(x_pos=Math.abs(x)%uint_max,x<0?uint_max-x_pos:x_pos):x}function scrub_vec(v){for(var i=0;i<v.length;v++)v[i]=0;return!1}function Global(){this.SBOX=[],this.INV_SBOX=[],this.SUB_MIX=[[],[],[],[]],this.INV_SUB_MIX=[[],[],[],[]],this.init(),this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}function bufferToArray(buf){for(var len=buf.length/4,out=new Array(len),i=-1;++i<len;)out[i]=buf.readUInt32BE(4*i);return out}function AES(key){this._key=bufferToArray(key),this._doReset()}var uint_max=Math.pow(2,32);Global.prototype.init=function(){var d,i,sx,t,x,x2,x4,x8,xi,_i;for(d=function(){var _i,_results;for(_results=[],i=_i=0;_i<256;i=++_i)i<128?_results.push(i<<1):_results.push(i<<1^283);return _results}(),x=0,xi=0,i=_i=0;_i<256;i=++_i)sx=xi^xi<<1^xi<<2^xi<<3^xi<<4,sx=sx>>>8^255&sx^99,this.SBOX[x]=sx,this.INV_SBOX[sx]=x,x2=d[x],x4=d[x2],x8=d[x4],t=257*d[sx]^16843008*sx,this.SUB_MIX[0][x]=t<<24|t>>>8,this.SUB_MIX[1][x]=t<<16|t>>>16,this.SUB_MIX[2][x]=t<<8|t>>>24,this.SUB_MIX[3][x]=t,t=16843009*x8^65537*x4^257*x2^16843008*x,this.INV_SUB_MIX[0][sx]=t<<24|t>>>8,this.INV_SUB_MIX[1][sx]=t<<16|t>>>16,this.INV_SUB_MIX[2][sx]=t<<8|t>>>24,this.INV_SUB_MIX[3][sx]=t,0===x?x=xi=1:(x=x2^d[d[d[x8^x2]]],xi^=d[d[xi]]);return!0};var G=new Global;AES.blockSize=16,AES.prototype.blockSize=AES.blockSize,AES.keySize=32,AES.prototype.keySize=AES.keySize,AES.prototype._doReset=function(){var invKsRow,keySize,keyWords,ksRow,ksRows,t;for(keyWords=this._key,keySize=keyWords.length,this._nRounds=keySize+6,ksRows=4*(this._nRounds+1),this._keySchedule=[],ksRow=0;ksRow<ksRows;ksRow++)this._keySchedule[ksRow]=ksRow<keySize?keyWords[ksRow]:(t=this._keySchedule[ksRow-1],ksRow%keySize===0?(t=t<<8|t>>>24,t=G.SBOX[t>>>24]<<24|G.SBOX[t>>>16&255]<<16|G.SBOX[t>>>8&255]<<8|G.SBOX[255&t],t^=G.RCON[ksRow/keySize|0]<<24):keySize>6&&ksRow%keySize===4?t=G.SBOX[t>>>24]<<24|G.SBOX[t>>>16&255]<<16|G.SBOX[t>>>8&255]<<8|G.SBOX[255&t]:void 0,this._keySchedule[ksRow-keySize]^t);for(this._invKeySchedule=[],invKsRow=0;invKsRow<ksRows;invKsRow++)ksRow=ksRows-invKsRow,t=this._keySchedule[ksRow-(invKsRow%4?0:4)],this._invKeySchedule[invKsRow]=invKsRow<4||ksRow<=4?t:G.INV_SUB_MIX[0][G.SBOX[t>>>24]]^G.INV_SUB_MIX[1][G.SBOX[t>>>16&255]]^G.INV_SUB_MIX[2][G.SBOX[t>>>8&255]]^G.INV_SUB_MIX[3][G.SBOX[255&t]];return!0},AES.prototype.encryptBlock=function(M){M=bufferToArray(new Buffer(M));var out=this._doCryptBlock(M,this._keySchedule,G.SUB_MIX,G.SBOX),buf=new Buffer(16);return buf.writeUInt32BE(out[0],0),buf.writeUInt32BE(out[1],4),buf.writeUInt32BE(out[2],8),buf.writeUInt32BE(out[3],12),buf},AES.prototype.decryptBlock=function(M){M=bufferToArray(new Buffer(M));var temp=[M[3],M[1]];M[1]=temp[0],M[3]=temp[1];var out=this._doCryptBlock(M,this._invKeySchedule,G.INV_SUB_MIX,G.INV_SBOX),buf=new Buffer(16);return buf.writeUInt32BE(out[0],0),buf.writeUInt32BE(out[3],4),buf.writeUInt32BE(out[2],8),buf.writeUInt32BE(out[1],12),buf},AES.prototype.scrub=function(){scrub_vec(this._keySchedule),scrub_vec(this._invKeySchedule),scrub_vec(this._key)},AES.prototype._doCryptBlock=function(M,keySchedule,SUB_MIX,SBOX){var ksRow,s0,s1,s2,s3,t0,t1,t2,t3;s0=M[0]^keySchedule[0],s1=M[1]^keySchedule[1],s2=M[2]^keySchedule[2],s3=M[3]^keySchedule[3],ksRow=4;for(var round=1;round<this._nRounds;round++)t0=SUB_MIX[0][s0>>>24]^SUB_MIX[1][s1>>>16&255]^SUB_MIX[2][s2>>>8&255]^SUB_MIX[3][255&s3]^keySchedule[ksRow++],t1=SUB_MIX[0][s1>>>24]^SUB_MIX[1][s2>>>16&255]^SUB_MIX[2][s3>>>8&255]^SUB_MIX[3][255&s0]^keySchedule[ksRow++],t2=SUB_MIX[0][s2>>>24]^SUB_MIX[1][s3>>>16&255]^SUB_MIX[2][s0>>>8&255]^SUB_MIX[3][255&s1]^keySchedule[ksRow++],t3=SUB_MIX[0][s3>>>24]^SUB_MIX[1][s0>>>16&255]^SUB_MIX[2][s1>>>8&255]^SUB_MIX[3][255&s2]^keySchedule[ksRow++],s0=t0,s1=t1,s2=t2,s3=t3;return t0=(SBOX[s0>>>24]<<24|SBOX[s1>>>16&255]<<16|SBOX[s2>>>8&255]<<8|SBOX[255&s3])^keySchedule[ksRow++],t1=(SBOX[s1>>>24]<<24|SBOX[s2>>>16&255]<<16|SBOX[s3>>>8&255]<<8|SBOX[255&s0])^keySchedule[ksRow++],t2=(SBOX[s2>>>24]<<24|SBOX[s3>>>16&255]<<16|SBOX[s0>>>8&255]<<8|SBOX[255&s1])^keySchedule[ksRow++],t3=(SBOX[s3>>>24]<<24|SBOX[s0>>>16&255]<<16|SBOX[s1>>>8&255]<<8|SBOX[255&s2])^keySchedule[ksRow++],[fixup_uint32(t0),fixup_uint32(t1),fixup_uint32(t2),fixup_uint32(t3)]},exports.AES=AES}).call(exports,__webpack_require__(0).Buffer)},function(module,exports){exports["aes-128-ecb"]={cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},exports["aes-192-ecb"]={cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},exports["aes-256-ecb"]={cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},exports["aes-128-cbc"]={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},exports["aes-192-cbc"]={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},exports["aes-256-cbc"]={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},exports.aes128=exports["aes-128-cbc"],exports.aes192=exports["aes-192-cbc"],exports.aes256=exports["aes-256-cbc"],exports["aes-128-cfb"]={cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},exports["aes-192-cfb"]={cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},exports["aes-256-cfb"]={cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},exports["aes-128-cfb8"]={cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},exports["aes-192-cfb8"]={cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},exports["aes-256-cfb8"]={cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},exports["aes-128-cfb1"]={cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},exports["aes-192-cfb1"]={cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},exports["aes-256-cfb1"]={cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},exports["aes-128-ofb"]={cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},exports["aes-192-ofb"]={cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},exports["aes-256-ofb"]={cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},exports["aes-128-ctr"]={cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},exports["aes-192-ctr"]={cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},exports["aes-256-ctr"]={cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},exports["aes-128-gcm"]={cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},exports["aes-192-gcm"]={cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},exports["aes-256-gcm"]={cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}},function(module,exports,__webpack_require__){(function(Buffer){function incr32(iv){for(var item,len=iv.length;len--;){if(item=iv.readUInt8(len),255!==item){item++,iv.writeUInt8(item,len);break}iv.writeUInt8(0,len)}}function getBlock(self){var out=self._cipher.encryptBlock(self._prev);return incr32(self._prev),out}var xor=__webpack_require__(94);exports.encrypt=function(self,chunk){for(;self._cache.length<chunk.length;)self._cache=Buffer.concat([self._cache,getBlock(self)]);var pad=self._cache.slice(0,chunk.length);return self._cache=self._cache.slice(chunk.length),xor(chunk,pad)}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports){function Emitter(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in Emitter.prototype)obj[key]=Emitter.prototype[key];return obj}module.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){return this._callbacks=this._callbacks||{},(this._callbacks[event]=this._callbacks[event]||[]).push(fn),this},Emitter.prototype.once=function(event,fn){function on(){self.off(event,on),fn.apply(this,arguments)}var self=this;return this._callbacks=this._callbacks||{},on.fn=fn,this.on(event,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var callbacks=this._callbacks[event];if(!callbacks)return this;if(1==arguments.length)return delete this._callbacks[event],this;for(var cb,i=0;i<callbacks.length;i++)if(cb=callbacks[i],cb===fn||cb.fn===fn){callbacks.splice(i,1);break}return this},Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks[event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;i<len;++i)callbacks[i].apply(this,args)}return this},Emitter.prototype.listeners=function(event){return this._callbacks=this._callbacks||{},this._callbacks[event]||[]},Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},function(module,exports){module.exports=function(a,b){var fn=function(){};fn.prototype=b.prototype,a.prototype=new fn,a.prototype.constructor=a}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(33),toLength=__webpack_require__(22),toIndex=__webpack_require__(62);module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIObject($this),length=toLength(O.length),index=toIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if(value=O[index++],value!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}}},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(11),$export=__webpack_require__(1),redefine=__webpack_require__(31),redefineAll=__webpack_require__(60),meta=__webpack_require__(50),forOf=__webpack_require__(70),anInstance=__webpack_require__(55),isObject=__webpack_require__(15),fails=__webpack_require__(12),$iterDetect=__webpack_require__(119),setToStringTag=__webpack_require__(72),inheritIfRequired=__webpack_require__(146);module.exports=function(NAME,wrapper,methods,common,IS_MAP,IS_WEAK){var Base=global[NAME],C=Base,ADDER=IS_MAP?"set":"add",proto=C&&C.prototype,O={},fixMethod=function(KEY){var fn=proto[KEY];redefine(proto,KEY,"delete"==KEY?function(a){return!(IS_WEAK&&!isObject(a))&&fn.call(this,0===a?0:a)}:"has"==KEY?function(a){return!(IS_WEAK&&!isObject(a))&&fn.call(this,0===a?0:a)}:"get"==KEY?function(a){return IS_WEAK&&!isObject(a)?void 0:fn.call(this,0===a?0:a)}:"add"==KEY?function(a){return fn.call(this,0===a?0:a),this}:function(a,b){return fn.call(this,0===a?0:a,b),this})};if("function"==typeof C&&(IS_WEAK||proto.forEach&&!fails(function(){(new C).entries().next()}))){var instance=new C,HASNT_CHAINING=instance[ADDER](IS_WEAK?{}:-0,1)!=instance,THROWS_ON_PRIMITIVES=fails(function(){instance.has(1)}),ACCEPT_ITERABLES=$iterDetect(function(iter){new C(iter)}),BUGGY_ZERO=!IS_WEAK&&fails(function(){for(var $instance=new C,index=5;index--;)$instance[ADDER](index,index);return!$instance.has(-0)});ACCEPT_ITERABLES||(C=wrapper(function(target,iterable){anInstance(target,C,NAME);var that=inheritIfRequired(new Base,target,C);return void 0!=iterable&&forOf(iterable,IS_MAP,that[ADDER],that),that}),C.prototype=proto,proto.constructor=C),(THROWS_ON_PRIMITIVES||BUGGY_ZERO)&&(fixMethod("delete"),fixMethod("has"),IS_MAP&&fixMethod("get")),(BUGGY_ZERO||HASNT_CHAINING)&&fixMethod(ADDER),IS_WEAK&&proto.clear&&delete proto.clear}else C=common.getConstructor(wrapper,NAME,IS_MAP,ADDER),redefineAll(C.prototype,methods),meta.NEED=!0;return setToStringTag(C,NAME),O[NAME]=C,$export($export.G+$export.W+$export.F*(C!=Base),O),IS_WEAK||common.setStrong(C,NAME,IS_MAP),C}},function(module,exports,__webpack_require__){"use strict";var hide=__webpack_require__(30),redefine=__webpack_require__(31),fails=__webpack_require__(12),defined=__webpack_require__(39),wks=__webpack_require__(16);module.exports=function(KEY,length,exec){var SYMBOL=wks(KEY),fns=exec(defined,SYMBOL,""[KEY]),strfn=fns[0],rxfn=fns[1];fails(function(){var O={};return O[SYMBOL]=function(){return 7},7!=""[KEY](O)})&&(redefine(String.prototype,KEY,strfn),hide(RegExp.prototype,SYMBOL,2==length?function(string,arg){return rxfn.call(string,this,arg)}:function(string){return rxfn.call(string,this)}))}},function(module,exports,__webpack_require__){"use strict";var anObject=__webpack_require__(8);module.exports=function(){var that=anObject(this),result="";return that.global&&(result+="g"),that.ignoreCase&&(result+="i"),that.multiline&&(result+="m"),that.unicode&&(result+="u"),that.sticky&&(result+="y"),result}},function(module,exports){module.exports=function(fn,args,that){var un=void 0===that;switch(args.length){case 0:return un?fn():fn.call(that);case 1:return un?fn(args[0]):fn.call(that,args[0]);case 2:return un?fn(args[0],args[1]):fn.call(that,args[0],args[1]);case 3:return un?fn(args[0],args[1],args[2]):fn.call(that,args[0],args[1],args[2]);case 4:return un?fn(args[0],args[1],args[2],args[3]):fn.call(that,args[0],args[1],args[2],args[3])}return fn.apply(that,args)}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(15),cof=__webpack_require__(38),MATCH=__webpack_require__(16)("match");module.exports=function(it){var isRegExp;return isObject(it)&&(void 0!==(isRegExp=it[MATCH])?!!isRegExp:"RegExp"==cof(it))}},function(module,exports,__webpack_require__){var ITERATOR=__webpack_require__(16)("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR]();riter.return=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}module.exports=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return!1;var safe=!1;try{var arr=[7],iter=arr[ITERATOR]();iter.next=function(){return{done:safe=!0}},arr[ITERATOR]=function(){return iter},exec(arr)}catch(e){}return safe}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(56)||!__webpack_require__(12)(function(){var K=Math.random();__defineSetter__.call(null,K,function(){}),delete __webpack_require__(11)[K]})},function(module,exports){exports.f=Object.getOwnPropertySymbols},function(module,exports,__webpack_require__){var global=__webpack_require__(11),SHARED="__core-js_shared__",store=global[SHARED]||(global[SHARED]={});module.exports=function(key){return store[key]||(store[key]={})}},function(module,exports,__webpack_require__){for(var Typed,global=__webpack_require__(11),hide=__webpack_require__(30),uid=__webpack_require__(63),TYPED=uid("typed_array"),VIEW=uid("view"),ABV=!(!global.ArrayBuffer||!global.DataView),CONSTR=ABV,i=0,l=9,TypedArrayConstructors="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");i<l;)(Typed=global[TypedArrayConstructors[i++]])?(hide(Typed.prototype,TYPED,!0),hide(Typed.prototype,VIEW,!0)):CONSTR=!1;module.exports={ABV:ABV,CONSTR:CONSTR,TYPED:TYPED,VIEW:VIEW}},function(module,exports,__webpack_require__){"use strict";var curve=exports;curve.base=__webpack_require__(594),curve.short=__webpack_require__(597),curve.mont=__webpack_require__(596),curve.edwards=__webpack_require__(595)},function(module,exports,__webpack_require__){(function(Buffer){function EVP_BytesToKey(password,salt,keyLen,ivLen){Buffer.isBuffer(password)||(password=new Buffer(password,"binary")),salt&&!Buffer.isBuffer(salt)&&(salt=new Buffer(salt,"binary")),keyLen/=8,ivLen=ivLen||0;for(var md_buf,i,ki=0,ii=0,key=new Buffer(keyLen),iv=new Buffer(ivLen),addmd=0,bufs=[];;){if(addmd++>0&&bufs.push(md_buf),bufs.push(password),salt&&bufs.push(salt),md_buf=md5(Buffer.concat(bufs)),bufs=[],i=0,keyLen>0)for(;;){if(0===keyLen)break;if(i===md_buf.length)break;key[ki++]=md_buf[i],keyLen--,i++}if(ivLen>0&&i!==md_buf.length)for(;;){if(0===ivLen)break;if(i===md_buf.length)break;iv[ii++]=md_buf[i],ivLen--,i++}if(0===keyLen&&0===ivLen)break}for(i=0;i<md_buf.length;i++)md_buf[i]=0;return{key:key,iv:iv}}var md5=__webpack_require__(243);module.exports=EVP_BytesToKey}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";var multistream=__webpack_require__(178);module.exports=function(protocols,conn){var ms=new multistream.Listener;Object.keys(protocols).forEach(function(protocol){protocol&&ms.addHandler(protocol,protocols[protocol])}),ms.handle(conn,function(err){})}},function(module,exports){function slice(array,start,end){start||(start=0),"undefined"==typeof end&&(end=array?array.length:0);for(var index=-1,length=end-start||0,result=Array(length<0?0:length);++index<length;)result[index]=array[start+index];return result}module.exports=slice},function(module,exports,__webpack_require__){function isObject(value){return!(!value||!objectTypes[typeof value])}var objectTypes=__webpack_require__(173);module.exports=isObject},function(module,exports,__webpack_require__){"use strict";function and(){function matches(a){"string"==typeof a&&(a=multiaddr(a));var out=partialMatch(a.protoNames());return null!==out&&0===out.length}function partialMatch(a){return a.length<args.length?null:(args.some(function(arg){if(a=arg.partialMatch(a),null===a)return!0}),a)}var args=Array.from(arguments);return{input:args,matches:matches,partialMatch:partialMatch}}function or(){function matches(a){"string"==typeof a&&(a=multiaddr(a));var out=partialMatch(a.protoNames());return null!==out&&0===out.length}function partialMatch(a){var out=null;return args.some(function(arg){var res=arg.partialMatch(a);if(res)return out=res,!0}),out}var args=Array.from(arguments),result={toString:function(){return"{ "+args.join(" ")+" }"},input:args,matches:matches,partialMatch:partialMatch};return result}function base(n){function matches(a){"string"==typeof a&&(a=multiaddr(a));var pnames=a.protoNames();return 1===pnames.length&&pnames[0]===name}function partialMatch(protos){return 0===protos.length?null:protos[0]===name?protos.slice(1):null}var name=n;return{toString:function(){return name},matches:matches,partialMatch:partialMatch}}var multiaddr=__webpack_require__(83),IP=or(base("ip4"),base("ip6")),TCP=and(IP,base("tcp")),UDP=and(IP,base("udp")),UTP=and(UDP,base("utp")),WebSockets=and(TCP,base("ws")),WebRTCStar=and(base("libp2p-webrtc-star"),WebSockets,base("ipfs")),Reliable=or(WebSockets,TCP,UTP),IPFS={matches:function(args){var IPFS=and(Reliable,base("ipfs"));return IPFS.matches(args)||WebRTCStar.matches(args)}};exports.IP=IP,exports.TCP=TCP,exports.UDP=UDP,exports.UTP=UTP,exports.WebSockets=WebSockets,exports.WebRTCStar=WebRTCStar,exports.Reliable=Reliable,exports.IPFS=IPFS},function(module,exports,__webpack_require__){function OffsetBuffer(){this.offset=0,this.size=0,this.buffers=[]}function signedInt8(num){return num>=128?-(255^num)-1:num}function signedInt16(num){return num>=32768?-(65535^num)-1:num}function signedInt24(num){return num>=8388608?-(16777215^num)-1:num}function signedInt32(num){return num>=2147483648?-(4294967295^num)-1:num}var Buffer=__webpack_require__(0).Buffer;module.exports=OffsetBuffer,OffsetBuffer.prototype.isEmpty=function(){return 0===this.size},OffsetBuffer.prototype.clone=function(size){var r=new OffsetBuffer;return r.offset=this.offset,r.size=size,r.buffers=this.buffers.slice(),r},OffsetBuffer.prototype.toChunks=function(){if(0===this.size)return[];0!==this.offset&&(this.buffers[0]=this.buffers[0].slice(this.offset),this.offset=0);
for(var chunks=[],off=0,i=0;off<=this.size&&i<this.buffers.length;i++){var buf=this.buffers[i];off+=buf.length,off>this.size&&(buf=buf.slice(0,buf.length-(off-this.size)),this.buffers[i]=buf),chunks.push(buf)}return i<this.buffers.length&&(this.buffers.length=i),chunks},OffsetBuffer.prototype.toString=function(enc){return this.toChunks().map(function(c){return c.toString(enc)}).join("")},OffsetBuffer.prototype.use=function(buf,off,n){this.buffers=[buf],this.offset=off,this.size=n},OffsetBuffer.prototype.push=function(data){0!==data.length&&(this.size+=data.length,this.buffers.push(data))},OffsetBuffer.prototype.has=function(n){return this.size>=n},OffsetBuffer.prototype.skip=function(n){if(0!==this.size){if(this.size-=n,this.offset+n<this.buffers[0].length)return void(this.offset+=n);var left=n-(this.buffers[0].length-this.offset);this.offset=0;for(var shift=1;left>0&&shift<this.buffers.length;shift++){var buf=this.buffers[shift];if(buf.length>left){this.offset=left;break}left-=buf.length}this.buffers=this.buffers.slice(shift)}},OffsetBuffer.prototype.copy=function(target,targetOff,off,n){if(0!==this.size){if(0!==off)throw new Error("Unsupported offset in .copy()");var toff=targetOff,first=this.buffers[0],toCopy=Math.min(n,first.length-this.offset);first.copy(target,toff,this.offset,this.offset+toCopy),toff+=toCopy;for(var left=n-toCopy,i=1;left>0&&i<this.buffers.length;i++){var buf=this.buffers[i],toCopy=Math.min(left,buf.length);buf.copy(target,toff,0,toCopy),toff+=toCopy,left-=toCopy}}},OffsetBuffer.prototype.take=function(n){if(0===n)return new Buffer(0);this.size-=n;var first=this.buffers[0].length-this.offset;if(first===n){var r=this.buffers.shift();return 0!==this.offset&&(r=r.slice(this.offset),this.offset=0),r}if(first>n){var r=this.buffers[0].slice(this.offset,this.offset+n);return this.offset+=n,r}for(var out=new Buffer(n),toOff=0,startOff=this.offset,i=0;toOff!==n&&i<this.buffers.length;i++){var buf=this.buffers[i],toCopy=Math.min(buf.length-startOff,n-toOff);if(buf.copy(out,toOff,startOff,startOff+toCopy),startOff+toCopy<buf.length){this.offset=startOff+toCopy;break}toOff+=toCopy,startOff=0}return this.buffers=this.buffers.slice(i),0===this.buffers.length&&(this.offset=0),out},OffsetBuffer.prototype.peekUInt8=function(){return this.buffers[0][this.offset]},OffsetBuffer.prototype.readUInt8=function(){this.size-=1;var first=this.buffers[0],r=first[this.offset];return++this.offset===first.length&&(this.offset=0,this.buffers.shift()),r},OffsetBuffer.prototype.readUInt16LE=function(){var first=this.buffers[0];this.size-=2;var r,shift;return first.length-this.offset>=2?(r=first.readUInt16LE(this.offset,!0),shift=0,this.offset+=2):(r=first[this.offset]|this.buffers[1][0]<<8,shift=1,this.offset=1),this.offset===this.buffers[shift].length&&(this.offset=0,shift++),0!==shift&&(this.buffers=this.buffers.slice(shift)),r},OffsetBuffer.prototype.readUInt24LE=function(){var r,shift,first=this.buffers[0],firstHas=first.length-this.offset;if(firstHas>=3)r=first.readUInt16LE(this.offset,!0)|first[this.offset+2]<<16,shift=0,this.offset+=3;else{if(!(firstHas>=2))return r=first[this.offset],this.offset=0,this.buffers.shift(),this.size-=1,r|=this.readUInt16LE()<<8;r=first.readUInt16LE(this.offset,!0)|this.buffers[1][0]<<16,shift=1,this.offset=1}return this.size-=3,this.offset===this.buffers[shift].length&&(this.offset=0,shift++),0!==shift&&(this.buffers=this.buffers.slice(shift)),r},OffsetBuffer.prototype.readUInt32LE=function(){var r,shift,first=this.buffers[0],firstHas=first.length-this.offset;if(firstHas>=4)r=first.readUInt32LE(this.offset,!0),shift=0,this.offset+=4;else{if(!(firstHas>=3))return firstHas>=2?(r=first.readUInt16LE(this.offset,!0),this.offset=0,this.buffers.shift(),this.size-=2,r+=65536*this.readUInt16LE()):(r=first[this.offset],this.offset=0,this.buffers.shift(),this.size-=1,r+=256*this.readUInt24LE());r=(first.readUInt16LE(this.offset,!0)|first[this.offset+2]<<16)+16777216*this.buffers[1][0],shift=1,this.offset=1}return this.size-=4,this.offset===this.buffers[shift].length&&(this.offset=0,shift++),0!==shift&&(this.buffers=this.buffers.slice(shift)),r},OffsetBuffer.prototype.readUInt16BE=function(){var r=this.readUInt16LE();return(255&r)<<8|r>>8},OffsetBuffer.prototype.readUInt24BE=function(){var r=this.readUInt24LE();return(255&r)<<16|(r>>8&255)<<8|r>>16},OffsetBuffer.prototype.readUInt32BE=function(){var r=this.readUInt32LE();return((255&r)<<24|(r>>>8&255)<<16|(r>>>16&255)<<8|r>>>24)>>>0},OffsetBuffer.prototype.peekInt8=function(){return signedInt8(this.peekUInt8())},OffsetBuffer.prototype.readInt8=function(){return signedInt8(this.readUInt8())},OffsetBuffer.prototype.readInt16BE=function(){return signedInt16(this.readUInt16BE())},OffsetBuffer.prototype.readInt16LE=function(){return signedInt16(this.readUInt16LE())},OffsetBuffer.prototype.readInt24BE=function(){return signedInt24(this.readUInt24BE())},OffsetBuffer.prototype.readInt24LE=function(){return signedInt24(this.readUInt24LE())},OffsetBuffer.prototype.readInt32BE=function(){return signedInt32(this.readUInt32BE())},OffsetBuffer.prototype.readInt32LE=function(){return signedInt32(this.readUInt32LE())}},function(module,exports,__webpack_require__){function once(fn){var f=function(){return f.called?f.value:(f.called=!0,f.value=fn.apply(this,arguments))};return f.called=!1,f}var wrappy=__webpack_require__(789);module.exports=wrappy(once),once.proto=once(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once(this)},configurable:!0})})},function(module,exports){"use strict";var TYPED_OK="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;exports.assign=function(obj){for(var sources=Array.prototype.slice.call(arguments,1);sources.length;){var source=sources.shift();if(source){if("object"!=typeof source)throw new TypeError(source+"must be non-object");for(var p in source)source.hasOwnProperty(p)&&(obj[p]=source[p])}}return obj},exports.shrinkBuf=function(buf,size){return buf.length===size?buf:buf.subarray?buf.subarray(0,size):(buf.length=size,buf)};var fnTyped={arraySet:function(dest,src,src_offs,len,dest_offs){if(src.subarray&&dest.subarray)return void dest.set(src.subarray(src_offs,src_offs+len),dest_offs);for(var i=0;i<len;i++)dest[dest_offs+i]=src[src_offs+i]},flattenChunks:function(chunks){var i,l,len,pos,chunk,result;for(len=0,i=0,l=chunks.length;i<l;i++)len+=chunks[i].length;for(result=new Uint8Array(len),pos=0,i=0,l=chunks.length;i<l;i++)chunk=chunks[i],result.set(chunk,pos),pos+=chunk.length;return result}},fnUntyped={arraySet:function(dest,src,src_offs,len,dest_offs){for(var i=0;i<len;i++)dest[dest_offs+i]=src[src_offs+i]},flattenChunks:function(chunks){return[].concat.apply([],chunks)}};exports.setTyped=function(on){on?(exports.Buf8=Uint8Array,exports.Buf16=Uint16Array,exports.Buf32=Int32Array,exports.assign(exports,fnTyped)):(exports.Buf8=Array,exports.Buf16=Array,exports.Buf32=Array,exports.assign(exports,fnUntyped))},exports.setTyped(TYPED_OK)},function(module,exports,__webpack_require__){(function(Buffer){function parseKeys(buffer){var password;"object"!=typeof buffer||Buffer.isBuffer(buffer)||(password=buffer.passphrase,buffer=buffer.key),"string"==typeof buffer&&(buffer=new Buffer(buffer));var subtype,ndata,stripped=fixProc(buffer,password),type=stripped.tag,data=stripped.data;switch(type){case"PUBLIC KEY":switch(ndata=asn1.PublicKey.decode(data,"der"),subtype=ndata.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return asn1.RSAPublicKey.decode(ndata.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return ndata.subjectPrivateKey=ndata.subjectPublicKey,{type:"ec",data:ndata};case"1.2.840.10040.4.1":return ndata.algorithm.params.pub_key=asn1.DSAparam.decode(ndata.subjectPublicKey.data,"der"),{type:"dsa",data:ndata.algorithm.params};default:throw new Error("unknown key id "+subtype)}throw new Error("unknown key type "+type);case"ENCRYPTED PRIVATE KEY":data=asn1.EncryptedPrivateKey.decode(data,"der"),data=decrypt(data,password);case"PRIVATE KEY":switch(ndata=asn1.PrivateKey.decode(data,"der"),subtype=ndata.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return asn1.RSAPrivateKey.decode(ndata.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:ndata.algorithm.curve,privateKey:asn1.ECPrivateKey.decode(ndata.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return ndata.algorithm.params.priv_key=asn1.DSAparam.decode(ndata.subjectPrivateKey,"der"),{type:"dsa",params:ndata.algorithm.params};default:throw new Error("unknown key id "+subtype)}throw new Error("unknown key type "+type);case"RSA PUBLIC KEY":return asn1.RSAPublicKey.decode(data,"der");case"RSA PRIVATE KEY":return asn1.RSAPrivateKey.decode(data,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:asn1.DSAPrivateKey.decode(data,"der")};case"EC PRIVATE KEY":return data=asn1.ECPrivateKey.decode(data,"der"),{curve:data.parameters.value,privateKey:data.privateKey};default:throw new Error("unknown key type "+type)}}function decrypt(data,password){var salt=data.algorithm.decrypt.kde.kdeparams.salt,iters=parseInt(data.algorithm.decrypt.kde.kdeparams.iters.toString(),10),algo=aesid[data.algorithm.decrypt.cipher.algo.join(".")],iv=data.algorithm.decrypt.cipher.iv,cipherText=data.subjectPrivateKey,keylen=parseInt(algo.split("-")[1],10)/8,key=compat.pbkdf2Sync(password,salt,iters,keylen),cipher=ciphers.createDecipheriv(algo,key,iv),out=[];return out.push(cipher.update(cipherText)),out.push(cipher.final()),Buffer.concat(out)}var asn1=__webpack_require__(712),aesid=__webpack_require__(320),fixProc=__webpack_require__(713),ciphers=__webpack_require__(138),compat=__webpack_require__(282);module.exports=parseKeys,parseKeys.signature=asn1.signature}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";function Peer(peerId){var _this=this;if(!(this instanceof Peer))return new Peer(peerId);peerId?this.id=peerId:this.id=Id.create(),this.multiaddrs=[];var observedMultiaddrs=[];this.multiaddr={},this.multiaddr.add=function(multiaddr){var exists=!1;_this.multiaddrs.some(function(m,i){if(m.toString()===multiaddr.toString())return exists=!0,!0}),exists||_this.multiaddrs.push(multiaddr)},this.multiaddr.addSafe=function(multiaddr){var check=!1;observedMultiaddrs.some(function(m,i){m.toString()===multiaddr.toString()&&(_this.multiaddr.add(multiaddr),observedMultiaddrs.splice(i,1),check=!0)}),check||observedMultiaddrs.push(multiaddr)},this.multiaddr.rm=function(multiaddr){_this.multiaddrs.some(function(m,i){if(m.toString()===multiaddr.toString())return _this.multiaddrs.splice(i,1),!0})},this.multiaddr.replace=function(existing,fresh){Array.isArray(existing)||(existing=[existing]),Array.isArray(fresh)||(fresh=[fresh]),existing.forEach(function(m){_this.multiaddr.rm(m)}),fresh.forEach(function(m){_this.multiaddr.add(m)})}}var Id=__webpack_require__(65);exports=module.exports=Peer},function(module,exports,__webpack_require__){"use strict";exports.name="h2",exports.constants=__webpack_require__(757),exports.parser=__webpack_require__(760),exports.framer=__webpack_require__(758),exports.compressionPool=__webpack_require__(759)},function(module,exports){"use strict";var second=1e3;module.exports={maxProvidersPerRequest:3,providerRequestTimeout:10*second,hasBlockTimeout:15*second,provideTimeout:15*second,kMaxPriority:Math.pow(2,31)-1,rebroadcastDelay:10*second,maxListeners:1e3}},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function Data(type,data){var _this=this;if(!(this instanceof Data))return new Data(type,data);if(types.indexOf(type)===-1)throw new Error("Type: "+type+" is not valid");this.type=type,this.data=data,this.blockSizes=[],this.addBlockSize=function(size){_this.blockSizes.push(size)},this.removeBlockSize=function(index){_this.blockSizes.splice(index,1)},this.fileSize=function(){var sum=0;return _this.blockSizes.forEach(function(size){sum+=size}),data&&(sum+=data.length),sum},this.marshal=function(){var type=void 0;switch(_this.type){case"raw":type=unixfsData.DataType.Raw;break;case"directory":type=unixfsData.DataType.Directory;break;case"file":type=unixfsData.DataType.File;break;case"metadata":type=unixfsData.DataType.Metadata;break;case"symlink":type=unixfsData.DataType.Symlink;break;default:throw new Error('Unkown type: "'+_this.type+'"')}var fileSize=_this.fileSize();return 0===fileSize&&(fileSize=void 0),unixfsData.encode({Type:type,Data:_this.data,filesize:fileSize,blocksizes:_this.blockSizes.length>0?_this.blockSizes:void 0})}}var protobuf=(__webpack_require__(44),__webpack_require__(84)),schema=Buffer("bWVzc2FnZSBEYXRhIHsKCWVudW0gRGF0YVR5cGUgewoJCVJhdyA9IDA7CgkJRGlyZWN0b3J5ID0gMTsKCQlGaWxlID0gMjsKCQlNZXRhZGF0YSA9IDM7CgkJU3ltbGluayA9IDQ7Cgl9CgoJcmVxdWlyZWQgRGF0YVR5cGUgVHlwZSA9IDE7CglvcHRpb25hbCBieXRlcyBEYXRhID0gMjsKCW9wdGlvbmFsIHVpbnQ2NCBmaWxlc2l6ZSA9IDM7CglyZXBlYXRlZCB1aW50NjQgYmxvY2tzaXplcyA9IDQ7Cn0KCm1lc3NhZ2UgTWV0YWRhdGEgewoJcmVxdWlyZWQgc3RyaW5nIE1pbWVUeXBlID0gMTsKfQo=","base64"),pb=protobuf(schema),unixfsData=pb.Data,types=["raw","directory","file","metadata","symlink"];Data.unmarshal=function(marsheled){var decoded=unixfsData.decode(marsheled);decoded.Data||(decoded.Data=void 0);var obj=new Data(types[decoded.Type],decoded.Data);return obj.blockSizes=decoded.blocksizes,obj},exports=module.exports=Data}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){function getCiphers(){return Object.keys(modes)}var ciphers=__webpack_require__(387);exports.createCipher=exports.Cipher=ciphers.createCipher,exports.createCipheriv=exports.Cipheriv=ciphers.createCipheriv;var deciphers=__webpack_require__(386);exports.createDecipher=exports.Decipher=deciphers.createDecipher,exports.createDecipheriv=exports.Decipheriv=deciphers.createDecipheriv;var modes=__webpack_require__(109);exports.listCiphers=exports.getCiphers=getCiphers},function(module,exports,__webpack_require__){(function(Buffer){function blind(priv){var r=getr(priv),blinder=r.toRed(bn.mont(priv.modulus)).redPow(new bn(priv.publicExponent)).fromRed();return{blinder:blinder,unblinder:r.invm(priv.modulus)}}function crt(msg,priv){var blinds=blind(priv),len=priv.modulus.byteLength(),blinded=(bn.mont(priv.modulus),new bn(msg).mul(blinds.blinder).umod(priv.modulus)),c1=blinded.toRed(bn.mont(priv.prime1)),c2=blinded.toRed(bn.mont(priv.prime2)),qinv=priv.coefficient,p=priv.prime1,q=priv.prime2,m1=c1.redPow(priv.exponent1),m2=c2.redPow(priv.exponent2);m1=m1.fromRed(),m2=m2.fromRed();var h=m1.isub(m2).imul(qinv).umod(p);return h.imul(q),m2.iadd(h),new Buffer(m2.imul(blinds.unblinder).umod(priv.modulus).toArray(!1,len))}function getr(priv){for(var len=priv.modulus.byteLength(),r=new bn(randomBytes(len));r.cmp(priv.modulus)>=0||!r.umod(priv.prime1)||!r.umod(priv.prime2);)r=new bn(randomBytes(len));return r}var bn=__webpack_require__(19),randomBytes=__webpack_require__(100);module.exports=crt,crt.getr=getr}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";var toObject=__webpack_require__(23),toIndex=__webpack_require__(62),toLength=__webpack_require__(22);module.exports=function(value){for(var O=toObject(this),length=toLength(O.length),aLen=arguments.length,index=toIndex(aLen>1?arguments[1]:void 0,length),end=aLen>2?arguments[2]:void 0,endPos=void 0===end?length:toIndex(end,length);endPos>index;)O[index++]=value;return O}},function(module,exports,__webpack_require__){"use strict";var $defineProperty=__webpack_require__(18),createDesc=__webpack_require__(51);module.exports=function(object,index,value){index in object?$defineProperty.f(object,index,createDesc(0,value)):object[index]=value}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(15),document=__webpack_require__(11).document,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},function(module,exports){module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(module,exports,__webpack_require__){var MATCH=__webpack_require__(16)("match");module.exports=function(KEY){var re=/./;try{"/./"[KEY](re)}catch(e){try{return re[MATCH]=!1,!"/./"[KEY](re)}catch(f){}}return!0}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(11).document&&document.documentElement},function(module,exports,__webpack_require__){var isObject=__webpack_require__(15),setPrototypeOf=__webpack_require__(154).set;module.exports=function(that,target,C){var P,S=target.constructor;return S!==C&&"function"==typeof S&&(P=S.prototype)!==C.prototype&&isObject(P)&&setPrototypeOf&&setPrototypeOf(that,P),that}},function(module,exports,__webpack_require__){var Iterators=__webpack_require__(71),ITERATOR=__webpack_require__(16)("iterator"),ArrayProto=Array.prototype;module.exports=function(it){return void 0!==it&&(Iterators.Array===it||ArrayProto[ITERATOR]===it)}},function(module,exports,__webpack_require__){var cof=__webpack_require__(38);module.exports=Array.isArray||function(arg){return"Array"==cof(arg)}},function(module,exports,__webpack_require__){"use strict";var create=__webpack_require__(57),descriptor=__webpack_require__(51),setToStringTag=__webpack_require__(72),IteratorPrototype={};__webpack_require__(30)(IteratorPrototype,__webpack_require__(16)("iterator"),function(){return this}),module.exports=function(Constructor,NAME,next){Constructor.prototype=create(IteratorPrototype,{next:descriptor(1,next)}),setToStringTag(Constructor,NAME+" Iterator")}},function(module,exports,__webpack_require__){"use strict";var LIBRARY=__webpack_require__(56),$export=__webpack_require__(1),redefine=__webpack_require__(31),hide=__webpack_require__(30),has=__webpack_require__(26),Iterators=__webpack_require__(71),$iterCreate=__webpack_require__(149),setToStringTag=__webpack_require__(72),getPrototypeOf=__webpack_require__(36),ITERATOR=__webpack_require__(16)("iterator"),BUGGY=!([].keys&&"next"in[].keys()),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",returnThis=function(){return this};module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){$iterCreate(Constructor,NAME,next);var methods,key,IteratorPrototype,getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case KEYS:return function(){return new Constructor(this,kind)};case VALUES:return function(){return new Constructor(this,kind)}}return function(){return new Constructor(this,kind)}},TAG=NAME+" Iterator",DEF_VALUES=DEFAULT==VALUES,VALUES_BUG=!1,proto=Base.prototype,$native=proto[ITERATOR]||proto[FF_ITERATOR]||DEFAULT&&proto[DEFAULT],$default=$native||getMethod(DEFAULT),$entries=DEFAULT?DEF_VALUES?getMethod("entries"):$default:void 0,$anyNative="Array"==NAME?proto.entries||$native:$native;if($anyNative&&(IteratorPrototype=getPrototypeOf($anyNative.call(new Base)),IteratorPrototype!==Object.prototype&&(setToStringTag(IteratorPrototype,TAG,!0),LIBRARY||has(IteratorPrototype,ITERATOR)||hide(IteratorPrototype,ITERATOR,returnThis))),DEF_VALUES&&$native&&$native.name!==VALUES&&(VALUES_BUG=!0,$default=function(){return $native.call(this)}),LIBRARY&&!FORCED||!BUGGY&&!VALUES_BUG&&proto[ITERATOR]||hide(proto,ITERATOR,$default),Iterators[NAME]=$default,Iterators[TAG]=returnThis,DEFAULT)if(methods={values:DEF_VALUES?$default:getMethod(VALUES),keys:IS_SET?$default:getMethod(KEYS),entries:$entries},FORCED)for(key in methods)key in proto||redefine(proto,key,methods[key]);else $export($export.P+$export.F*(BUGGY||VALUES_BUG),NAME,methods);return methods}},function(module,exports){var $expm1=Math.expm1;module.exports=!$expm1||$expm1(10)>22025.465794806718||$expm1(10)<22025.465794806718||$expm1(-2e-17)!=-2e-17?function(x){return 0==(x=+x)?x:x>-1e-6&&x<1e-6?x+x*x/2:Math.exp(x)-1}:$expm1},function(module,exports){module.exports=Math.sign||function(x){return 0==(x=+x)||x!=x?x:x<0?-1:1}},function(module,exports,__webpack_require__){var global=__webpack_require__(11),macrotask=__webpack_require__(161).set,Observer=global.MutationObserver||global.WebKitMutationObserver,process=global.process,Promise=global.Promise,isNode="process"==__webpack_require__(38)(process);module.exports=function(){var head,last,notify,flush=function(){var parent,fn;for(isNode&&(parent=process.domain)&&parent.exit();head;){fn=head.fn,head=head.next;try{fn()}catch(e){throw head?notify():last=void 0,e}}last=void 0,parent&&parent.enter()};if(isNode)notify=function(){process.nextTick(flush)};else if(Observer){var toggle=!0,node=document.createTextNode("");new Observer(flush).observe(node,{characterData:!0}),notify=function(){node.data=toggle=!toggle}}else if(Promise&&Promise.resolve){var promise=Promise.resolve();notify=function(){promise.then(flush)}}else notify=function(){macrotask.call(global,flush)};return function(fn){var task={fn:fn,next:void 0};last&&(last.next=task),head||(head=task,notify()),last=task}}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(15),anObject=__webpack_require__(8),check=function(O,proto){if(anObject(O),!isObject(proto)&&null!==proto)throw TypeError(proto+": can't set as prototype!")};module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(test,buggy,set){try{set=__webpack_require__(46)(Function.call,__webpack_require__(35).f(Object.prototype,"__proto__").set,2),set(test,[]),buggy=!(test instanceof Array)}catch(e){buggy=!0}return function(O,proto){return check(O,proto),buggy?O.__proto__=proto:set(O,proto),O}}({},!1):void 0),check:check}},function(module,exports,__webpack_require__){var shared=__webpack_require__(122)("keys"),uid=__webpack_require__(63);module.exports=function(key){return shared[key]||(shared[key]=uid(key))}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(8),aFunction=__webpack_require__(29),SPECIES=__webpack_require__(16)("species");module.exports=function(O,D){var S,C=anObject(O).constructor;return void 0===C||void 0==(S=anObject(C)[SPECIES])?D:aFunction(S)}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(52),defined=__webpack_require__(39);module.exports=function(TO_STRING){return function(that,pos){var a,b,s=String(defined(that)),i=toInteger(pos),l=s.length;return i<0||i>=l?TO_STRING?"":void 0:(a=s.charCodeAt(i),a<55296||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):(a-55296<<10)+(b-56320)+65536)}}},function(module,exports,__webpack_require__){var isRegExp=__webpack_require__(118),defined=__webpack_require__(39);module.exports=function(that,searchString,NAME){if(isRegExp(searchString))throw TypeError("String#"+NAME+" doesn't accept regex!");return String(defined(that))}},function(module,exports,__webpack_require__){"use strict";var toInteger=__webpack_require__(52),defined=__webpack_require__(39);module.exports=function(count){var str=String(defined(this)),res="",n=toInteger(count);if(n<0||n==1/0)throw RangeError("Count can't be negative");for(;n>0;(n>>>=1)&&(str+=str))1&n&&(res+=str);return res}},function(module,exports){module.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(module,exports,__webpack_require__){var defer,channel,port,ctx=__webpack_require__(46),invoke=__webpack_require__(117),html=__webpack_require__(145),cel=__webpack_require__(142),global=__webpack_require__(11),process=global.process,setTask=global.setImmediate,clearTask=global.clearImmediate,MessageChannel=global.MessageChannel,counter=0,queue={},ONREADYSTATECHANGE="onreadystatechange",run=function(){var id=+this;if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id],fn()}},listener=function(event){run.call(event.data)};setTask&&clearTask||(setTask=function(fn){for(var args=[],i=1;arguments.length>i;)args.push(arguments[i++]);return queue[++counter]=function(){invoke("function"==typeof fn?fn:Function(fn),args)},defer(counter),counter},clearTask=function(id){delete queue[id]},"process"==__webpack_require__(38)(process)?defer=function(id){process.nextTick(ctx(run,id,1))}:MessageChannel?(channel=new MessageChannel,port=channel.port2,channel.port1.onmessage=listener,defer=ctx(port.postMessage,port,1)):global.addEventListener&&"function"==typeof postMessage&&!global.importScripts?(defer=function(id){global.postMessage(id+"","*")},global.addEventListener("message",listener,!1)):defer=ONREADYSTATECHANGE in cel("script")?function(id){html.appendChild(cel("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run.call(id)}}:function(id){setTimeout(ctx(run,id,1),0)}),module.exports={set:setTask,clear:clearTask}},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(11),DESCRIPTORS=__webpack_require__(17),LIBRARY=__webpack_require__(56),$typed=__webpack_require__(123),hide=__webpack_require__(30),redefineAll=__webpack_require__(60),fails=__webpack_require__(12),anInstance=__webpack_require__(55),toInteger=__webpack_require__(52),toLength=__webpack_require__(22),gOPN=__webpack_require__(58).f,dP=__webpack_require__(18).f,arrayFill=__webpack_require__(140),setToStringTag=__webpack_require__(72),ARRAY_BUFFER="ArrayBuffer",DATA_VIEW="DataView",PROTOTYPE="prototype",WRONG_LENGTH="Wrong length!",WRONG_INDEX="Wrong index!",$ArrayBuffer=global[ARRAY_BUFFER],$DataView=global[DATA_VIEW],Math=global.Math,RangeError=global.RangeError,Infinity=global.Infinity,BaseBuffer=$ArrayBuffer,abs=Math.abs,pow=Math.pow,floor=Math.floor,log=Math.log,LN2=Math.LN2,BUFFER="buffer",BYTE_LENGTH="byteLength",BYTE_OFFSET="byteOffset",$BUFFER=DESCRIPTORS?"_b":BUFFER,$LENGTH=DESCRIPTORS?"_l":BYTE_LENGTH,$OFFSET=DESCRIPTORS?"_o":BYTE_OFFSET,packIEEE754=function(value,mLen,nBytes){var e,m,c,buffer=Array(nBytes),eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?pow(2,-24)-pow(2,-77):0,i=0,s=value<0||0===value&&1/value<0?1:0;for(value=abs(value),value!=value||value===Infinity?(m=value!=value?1:0,e=eMax):(e=floor(log(value)/LN2),value*(c=pow(2,-e))<1&&(e--,c*=2),value+=e+eBias>=1?rt/c:rt*pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*pow(2,mLen),e+=eBias):(m=value*pow(2,eBias-1)*pow(2,mLen),e=0));mLen>=8;buffer[i++]=255&m,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[i++]=255&e,e/=256,eLen-=8);return buffer[--i]|=128*s,buffer},unpackIEEE754=function(buffer,mLen,nBytes){var m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=eLen-7,i=nBytes-1,s=buffer[i--],e=127&s;for(s>>=7;nBits>0;e=256*e+buffer[i],i--,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[i],i--,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:s?-Infinity:Infinity;m+=pow(2,mLen),e-=eBias}return(s?-1:1)*m*pow(2,e-mLen)},unpackI32=function(bytes){return bytes[3]<<24|bytes[2]<<16|bytes[1]<<8|bytes[0]},packI8=function(it){return[255&it]},packI16=function(it){return[255&it,it>>8&255]},packI32=function(it){return[255&it,it>>8&255,it>>16&255,it>>24&255]},packF64=function(it){return packIEEE754(it,52,8)},packF32=function(it){return packIEEE754(it,23,4)},addGetter=function(C,key,internal){dP(C[PROTOTYPE],key,{get:function(){return this[internal]}})},get=function(view,bytes,index,isLittleEndian){var numIndex=+index,intIndex=toInteger(numIndex);if(numIndex!=intIndex||intIndex<0||intIndex+bytes>view[$LENGTH])throw RangeError(WRONG_INDEX);var store=view[$BUFFER]._b,start=intIndex+view[$OFFSET],pack=store.slice(start,start+bytes);return isLittleEndian?pack:pack.reverse()},set=function(view,bytes,index,conversion,value,isLittleEndian){var numIndex=+index,intIndex=toInteger(numIndex);if(numIndex!=intIndex||intIndex<0||intIndex+bytes>view[$LENGTH])throw RangeError(WRONG_INDEX);for(var store=view[$BUFFER]._b,start=intIndex+view[$OFFSET],pack=conversion(+value),i=0;i<bytes;i++)store[start+i]=pack[isLittleEndian?i:bytes-i-1]},validateArrayBufferArguments=function(that,length){anInstance(that,$ArrayBuffer,ARRAY_BUFFER);var numberLength=+length,byteLength=toLength(numberLength);if(numberLength!=byteLength)throw RangeError(WRONG_LENGTH);return byteLength};if($typed.ABV){if(!fails(function(){new $ArrayBuffer})||!fails(function(){new $ArrayBuffer(.5)})){$ArrayBuffer=function(length){return new BaseBuffer(validateArrayBufferArguments(this,length))};for(var key,ArrayBufferProto=$ArrayBuffer[PROTOTYPE]=BaseBuffer[PROTOTYPE],keys=gOPN(BaseBuffer),j=0;keys.length>j;)(key=keys[j++])in $ArrayBuffer||hide($ArrayBuffer,key,BaseBuffer[key]);LIBRARY||(ArrayBufferProto.constructor=$ArrayBuffer)}var view=new $DataView(new $ArrayBuffer(2)),$setInt8=$DataView[PROTOTYPE].setInt8;view.setInt8(0,2147483648),view.setInt8(1,2147483649),!view.getInt8(0)&&view.getInt8(1)||redefineAll($DataView[PROTOTYPE],{setInt8:function(byteOffset,value){$setInt8.call(this,byteOffset,value<<24>>24)},setUint8:function(byteOffset,value){$setInt8.call(this,byteOffset,value<<24>>24)}},!0)}else $ArrayBuffer=function(length){var byteLength=validateArrayBufferArguments(this,length);this._b=arrayFill.call(Array(byteLength),0),this[$LENGTH]=byteLength},$DataView=function(buffer,byteOffset,byteLength){anInstance(this,$DataView,DATA_VIEW),anInstance(buffer,$ArrayBuffer,DATA_VIEW);var bufferLength=buffer[$LENGTH],offset=toInteger(byteOffset);if(offset<0||offset>bufferLength)throw RangeError("Wrong offset!");if(byteLength=void 0===byteLength?bufferLength-offset:toLength(byteLength),offset+byteLength>bufferLength)throw RangeError(WRONG_LENGTH);this[$BUFFER]=buffer,this[$OFFSET]=offset,this[$LENGTH]=byteLength},DESCRIPTORS&&(addGetter($ArrayBuffer,BYTE_LENGTH,"_l"),addGetter($DataView,BUFFER,"_b"),addGetter($DataView,BYTE_LENGTH,"_l"),addGetter($DataView,BYTE_OFFSET,"_o")),redefineAll($DataView[PROTOTYPE],{getInt8:function(byteOffset){return get(this,1,byteOffset)[0]<<24>>24},getUint8:function(byteOffset){return get(this,1,byteOffset)[0]},getInt16:function(byteOffset){var bytes=get(this,2,byteOffset,arguments[1]);return(bytes[1]<<8|bytes[0])<<16>>16},getUint16:function(byteOffset){var bytes=get(this,2,byteOffset,arguments[1]);return bytes[1]<<8|bytes[0]},getInt32:function(byteOffset){return unpackI32(get(this,4,byteOffset,arguments[1]))},getUint32:function(byteOffset){return unpackI32(get(this,4,byteOffset,arguments[1]))>>>0},getFloat32:function(byteOffset){return unpackIEEE754(get(this,4,byteOffset,arguments[1]),23,4)},getFloat64:function(byteOffset){return unpackIEEE754(get(this,8,byteOffset,arguments[1]),52,8)},setInt8:function(byteOffset,value){set(this,1,byteOffset,packI8,value)},setUint8:function(byteOffset,value){set(this,1,byteOffset,packI8,value)},setInt16:function(byteOffset,value){set(this,2,byteOffset,packI16,value,arguments[2])},setUint16:function(byteOffset,value){set(this,2,byteOffset,packI16,value,arguments[2])},setInt32:function(byteOffset,value){set(this,4,byteOffset,packI32,value,arguments[2])},setUint32:function(byteOffset,value){set(this,4,byteOffset,packI32,value,arguments[2])},setFloat32:function(byteOffset,value){set(this,4,byteOffset,packF32,value,arguments[2])},setFloat64:function(byteOffset,value){set(this,8,byteOffset,packF64,value,arguments[2])}});setToStringTag($ArrayBuffer,ARRAY_BUFFER),setToStringTag($DataView,DATA_VIEW),hide($DataView[PROTOTYPE],$typed.VIEW,!0),exports[ARRAY_BUFFER]=$ArrayBuffer,exports[DATA_VIEW]=$DataView},function(module,exports,__webpack_require__){var global=__webpack_require__(11),core=__webpack_require__(45),LIBRARY=__webpack_require__(56),wksExt=__webpack_require__(238),defineProperty=__webpack_require__(18).f;module.exports=function(name){var $Symbol=core.Symbol||(core.Symbol=LIBRARY?{}:global.Symbol||{});"_"==name.charAt(0)||name in $Symbol||defineProperty($Symbol,name,{value:wksExt.f(name)})}},function(module,exports,__webpack_require__){var classof=__webpack_require__(95),ITERATOR=__webpack_require__(16)("iterator"),Iterators=__webpack_require__(71);module.exports=__webpack_require__(45).getIteratorMethod=function(it){if(void 0!=it)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)];
}},function(module,exports,__webpack_require__){"use strict";var addToUnscopables=__webpack_require__(69),step=__webpack_require__(226),Iterators=__webpack_require__(71),toIObject=__webpack_require__(33);module.exports=__webpack_require__(150)(Array,"Array",function(iterated,kind){this._t=toIObject(iterated),this._i=0,this._k=kind},function(){var O=this._t,kind=this._k,index=this._i++;return!O||index>=O.length?(this._t=void 0,step(1)):"keys"==kind?step(0,index):"values"==kind?step(0,O[index]):step(0,[index,O[index]])},"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function Hmac(alg,key){Transform.call(this),alg=alg.toLowerCase(),"string"==typeof key&&(key=new Buffer(key));var blocksize="sha512"===alg||"sha384"===alg?128:64;this._alg=alg,this._key=key,key.length>blocksize?key=createHash(alg).update(key).digest():key.length<blocksize&&(key=Buffer.concat([key,ZEROS],blocksize));for(var ipad=this._ipad=new Buffer(blocksize),opad=this._opad=new Buffer(blocksize),i=0;i<blocksize;i++)ipad[i]=54^key[i],opad[i]=92^key[i];this._hash=createHash(alg).update(ipad)}var createHash=__webpack_require__(74),inherits=__webpack_require__(2),Transform=__webpack_require__(6).Transform,ZEROS=new Buffer(128);ZEROS.fill(0),inherits(Hmac,Transform),Hmac.prototype.update=function(data,enc){return this._hash.update(data,enc),this},Hmac.prototype._transform=function(data,_,next){this._hash.update(data),next()},Hmac.prototype._flush=function(next){this.push(this.digest()),next()},Hmac.prototype.digest=function(enc){var h=this._hash.digest();return createHash(this._alg).update(this._opad).update(h).digest(enc)},module.exports=function(alg,key){return new Hmac(alg,key)}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";exports.utils=__webpack_require__(587),exports.Cipher=__webpack_require__(584),exports.DES=__webpack_require__(585),exports.CBC=__webpack_require__(583),exports.EDE=__webpack_require__(586)},function(module,exports,__webpack_require__){(function(global){module.exports=!1;try{module.exports="[object process]"===Object.prototype.toString.call(global.process)}catch(e){}}).call(exports,__webpack_require__(9))},function(module,exports,__webpack_require__){function Transport(opts){this.path=opts.path,this.hostname=opts.hostname,this.port=opts.port,this.secure=opts.secure,this.query=opts.query,this.timestampParam=opts.timestampParam,this.timestampRequests=opts.timestampRequests,this.readyState="",this.agent=opts.agent||!1,this.socket=opts.socket,this.enablesXDR=opts.enablesXDR,this.pfx=opts.pfx,this.key=opts.key,this.passphrase=opts.passphrase,this.cert=opts.cert,this.ca=opts.ca,this.ciphers=opts.ciphers,this.rejectUnauthorized=opts.rejectUnauthorized,this.extraHeaders=opts.extraHeaders}var parser=__webpack_require__(76),Emitter=__webpack_require__(111);module.exports=Transport,Emitter(Transport.prototype),Transport.prototype.onError=function(msg,desc){var err=new Error(msg);return err.type="TransportError",err.description=desc,this.emit("error",err),this},Transport.prototype.open=function(){return"closed"!=this.readyState&&""!=this.readyState||(this.readyState="opening",this.doOpen()),this},Transport.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.doClose(),this.onClose()),this},Transport.prototype.send=function(packets){if("open"!=this.readyState)throw new Error("Transport not open");this.write(packets)},Transport.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},Transport.prototype.onData=function(data){var packet=parser.decodePacket(data,this.socket.binaryType);this.onPacket(packet)},Transport.prototype.onPacket=function(packet){this.emit("packet",packet)},Transport.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(module,exports,__webpack_require__){var hasCORS=__webpack_require__(628);module.exports=function(opts){var xdomain=opts.xdomain,xscheme=opts.xscheme,enablesXDR=opts.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!xdomain||hasCORS))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!xscheme&&enablesXDR)return new XDomainRequest}catch(e){}if(!xdomain)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}},function(module,exports){var indexOf=[].indexOf;module.exports=function(arr,obj){if(indexOf)return arr.indexOf(obj);for(var i=0;i<arr.length;++i)if(arr[i]===obj)return i;return-1}},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function isMultihash(hash){var formatted=convertToString(hash);try{var buffer=new Buffer(base58.decode(formatted));return multihash.decode(buffer),!0}catch(e){return!1}}function isIpfs(input,pattern){var formatted=convertToString(input);if(!formatted)return!1;var match=formatted.match(pattern);if(!match)return!1;if("ipfs"!==match[1])return!1;var hash=match[4];return isMultihash(hash)}function isIpns(input,pattern){var formatted=convertToString(input);if(!formatted)return!1;var match=formatted.match(pattern);return!!match&&"ipns"===match[1]}function convertToString(input){return Buffer.isBuffer(input)?base58.encode(input):"string"==typeof input&&input}var base58=__webpack_require__(54),multihash=__webpack_require__(27),urlPattern=/^https?:\/\/[^\/]+\/(ip(f|n)s)\/((\w+).*)/,pathPattern=/^\/(ip(f|n)s)\/((\w+).*)/;module.exports={multihash:isMultihash,ipfsUrl:function(url){return isIpfs(url,urlPattern)},ipnsUrl:function(url){return isIpns(url,urlPattern)},url:function(_url){return isIpfs(_url,urlPattern)||isIpns(_url,urlPattern)},urlPattern:urlPattern,ipfsPath:function(path){return isIpfs(path,pathPattern)},ipnsPath:function(path){return isIpns(path,pathPattern)},path:function(_path){return isIpfs(_path,pathPattern)||isIpns(_path,pathPattern)},pathPattern:pathPattern,urlOrPath:function(x){return isIpfs(x,urlPattern)||isIpns(x,urlPattern)||isIpfs(x,pathPattern)||isIpns(x,pathPattern)}}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports){var objectTypes={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1};module.exports=objectTypes},function(module,exports,__webpack_require__){var isNative=__webpack_require__(99),noop=__webpack_require__(275),descriptor={configurable:!1,enumerable:!1,value:null,writable:!1},defineProperty=function(){try{var o={},func=isNative(func=Object.defineProperty)&&func,result=func(o,o,o)&&func}catch(e){}return result}(),setBindData=defineProperty?function(func,value){descriptor.value=value,defineProperty(func,"__bindData__",descriptor)}:noop;module.exports=setBindData},function(module,exports,__webpack_require__){(function(global,module){function arrayMap(array,iteratee){for(var index=-1,length=array?array.length:0,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}function arraySome(array,predicate){for(var index=-1,length=array?array.length:0;++index<length;)if(predicate(array[index],index,array))return!0;return!1}function baseProperty(key){return function(object){return null==object?void 0:object[key]}}function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function baseUnary(func){return function(value){return func(value)}}function getValue(object,key){return null==object?void 0:object[key]}function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach(function(value,key){result[++index]=[key,value]}),result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}function Hash(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(key){return this.has(key)&&delete this.__data__[key]}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}function hashSet(key,value){var data=this.__data__;return data[key]=nativeCreate&&void 0===value?HASH_UNDEFINED:value,this}function ListCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0)return!1;var lastIndex=data.length-1;return index==lastIndex?data.pop():splice.call(data,index,1),!0}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?data.push([key,value]):data[index][1]=value,this}function MapCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(key){return getMapData(this,key).delete(key)}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){return getMapData(this,key).set(key,value),this}function SetCache(values){var index=-1,length=values?values.length:0;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}function setCacheAdd(value){return this.__data__.set(value,HASH_UNDEFINED),this}function setCacheHas(value){return this.__data__.has(value)}function Stack(entries){this.__data__=new ListCache(entries)}function stackClear(){this.__data__=new ListCache}function stackDelete(key){return this.__data__.delete(key)}function stackGet(key){return this.__data__.get(key)}function stackHas(key){return this.__data__.has(key)}function stackSet(key,value){var cache=this.__data__;if(cache instanceof ListCache){var pairs=cache.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1)return pairs.push([key,value]),this;cache=this.__data__=new MapCache(pairs)}return cache.set(key,value),this}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseGet(object,path){path=isKey(path,object)?[path]:castPath(path);for(var index=0,length=path.length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}function baseGetTag(value){return objectToString.call(value)}function baseHas(object,key){return null!=object&&(hasOwnProperty.call(object,key)||"object"==typeof object&&key in object&&null===getPrototype(object))}function baseHasIn(object,key){return null!=object&&key in Object(object)}function baseIsEqual(value,other,customizer,bitmask,stack){return value===other||(null==value||null==other||!isObject(value)&&!isObjectLike(other)?value!==value&&other!==other:baseIsEqualDeep(value,other,baseIsEqual,customizer,bitmask,stack))}function baseIsEqualDeep(object,other,equalFunc,customizer,bitmask,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;objIsArr||(objTag=getTag(object),objTag=objTag==argsTag?objectTag:objTag),othIsArr||(othTag=getTag(other),othTag=othTag==argsTag?objectTag:othTag);var objIsObj=objTag==objectTag&&!isHostObject(object),othIsObj=othTag==objectTag&&!isHostObject(other),isSameTag=objTag==othTag;if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,equalFunc,customizer,bitmask,stack):equalByTag(object,other,objTag,equalFunc,customizer,bitmask,stack);if(!(bitmask&PARTIAL_COMPARE_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,customizer,bitmask,stack)}}return!!isSameTag&&(stack||(stack=new Stack),equalObjects(object,other,equalFunc,customizer,bitmask,stack))}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(void 0===objValue&&!(key in object))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(void 0===result?baseIsEqual(srcValue,objValue,customizer,UNORDERED_COMPARE_FLAG|PARTIAL_COMPARE_FLAG,stack):result))return!1}}return!0}function baseIsNative(value){if(!isObject(value)||isMasked(value))return!1;var pattern=isFunction(value)||isHostObject(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objectToString.call(value)]}function baseIteratee(value){return"function"==typeof value?value:null==value?identity:"object"==typeof value?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)}),result}function baseMatches(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseMatchesProperty(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return void 0===objValue&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,void 0,UNORDERED_COMPARE_FLAG|PARTIAL_COMPARE_FLAG)}}function basePropertyDeep(path){return function(object){return baseGet(object,path)}}function baseToString(value){if("string"==typeof value)return value;if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function castPath(value){return isArray(value)?value:stringToPath(value)}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&iteratee(iterable[index],index,iterable)!==!1;);return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===!1)break}return object}}function equalArrays(array,other,equalFunc,customizer,bitmask,stack){var isPartial=bitmask&PARTIAL_COMPARE_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=bitmask&UNORDERED_COMPARE_FLAG?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,function(othValue,othIndex){if(!seen.has(othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,customizer,bitmask,stack)))return seen.add(othIndex)})){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,customizer,bitmask,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}function equalByTag(object,other,tag,equalFunc,customizer,bitmask,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&PARTIAL_COMPARE_FLAG;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=UNORDERED_COMPARE_FLAG,stack.set(object,other);var result=equalArrays(convert(object),convert(other),equalFunc,customizer,bitmask,stack);return stack.delete(object),result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}function equalObjects(object,other,equalFunc,customizer,bitmask,stack){var isPartial=bitmask&PARTIAL_COMPARE_FLAG,objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:baseHas(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,customizer,bitmask,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor)&&(result=!1)}return stack.delete(object),stack.delete(other),result}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}function getMatchData(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}function hasPath(object,path,hasFunc){path=isKey(path,object)?[path]:castPath(path);for(var result,index=-1,length=path.length;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}if(result)return result;var length=object?object.length:0;return!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isString(object)||isArguments(object))}function indexKeys(object){var length=object?object.length:void 0;return isLength(length)&&(isArray(object)||isString(object)||isArguments(object))?baseTimes(length,String):null}function isIndex(value,length){return length=null==length?MAX_SAFE_INTEGER:length,!!length&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isKey(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}function isPrototype(value){var Ctor=value&&value.constructor,proto="function"==typeof Ctor&&Ctor.prototype||objectProto;return value===proto}function isStrictComparable(value){return value===value&&!isObject(value)}function matchesStrictComparable(key,srcValue){return function(object){return null!=object&&(object[key]===srcValue&&(void 0!==srcValue||key in Object(object)))}}function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function map(collection,iteratee){var func=isArray(collection)?arrayMap:baseMap;return func(collection,baseIteratee(iteratee,3))}function memoize(func,resolver){if("function"!=typeof func||resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result),result};return memoized.cache=new(memoize.Cache||MapCache),memoized}function eq(value,other){return value===other||value!==value&&other!==other}function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}function isArrayLike(value){return null!=value&&isLength(getLength(value))&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}function isString(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&objectToString.call(value)==stringTag}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&objectToString.call(value)==symbolTag}function toString(value){return null==value?"":baseToString(value)}function get(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}function hasIn(object,path){return null!=object&&hasPath(object,path,baseHasIn)}function keys(object){var isProto=isPrototype(object);if(!isProto&&!isArrayLike(object))return baseKeys(object);var indexes=indexKeys(object),skipIndexes=!!indexes,result=indexes||[],length=result.length;for(var key in object)!baseHas(object,key)||skipIndexes&&("length"==key||isIndex(key,length))||isProto&&"constructor"==key||result.push(key);return result}function identity(value){return value}function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}var LARGE_ARRAY_SIZE=200,FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",UNORDERED_COMPARE_FLAG=1,PARTIAL_COMPARE_FLAG=2,INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",promiseTag="[object Promise]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reEscapeChar=/\\(\\)?/g,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^(?:0|[1-9]\d*)$/,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{return freeProcess&&freeProcess.binding("util")}catch(e){}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,arrayProto=Array.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}(),funcToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol=root.Symbol,Uint8Array=root.Uint8Array,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,nativeGetPrototype=Object.getPrototypeOf,nativeKeys=Object.keys,DataView=getNative(root,"DataView"),Map=getNative(root,"Map"),Promise=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),nativeCreate=getNative(Object,"create"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;var baseEach=createBaseEach(baseForOwn),baseFor=createBaseFor(),baseKeys=overArg(nativeKeys,Object),getLength=baseProperty("length"),getPrototype=overArg(nativeGetPrototype,Object),getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(value){var result=objectToString.call(value),Ctor=result==objectTag?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):void 0;if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return result});var stringToPath=memoize(function(string){string=toString(string);var result=[];return reLeadingDot.test(string)&&result.push(""),string.replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result});memoize.Cache=MapCache;var isArray=Array.isArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=map}).call(exports,__webpack_require__(9),__webpack_require__(53)(module))},function(module,exports,__webpack_require__){"use strict";function Protocols(proto){if("number"==typeof proto){if(Protocols.codes[proto])return Protocols.codes[proto];throw new Error("no protocol with code: "+proto)}if("string"==typeof proto||proto instanceof String){if(Protocols.names[proto])return Protocols.names[proto];throw new Error("no protocol with name: "+proto)}throw new Error("invalid protocol id type: "+proto)}function p(code,size,name){return{code:code,size:size,name:name}}var map=__webpack_require__(175);module.exports=Protocols,Protocols.lengthPrefixedVarSize=-1,Protocols.table=[[4,32,"ip4"],[6,16,"tcp"],[17,16,"udp"],[33,16,"dccp"],[41,128,"ip6"],[132,16,"sctp"],[302,0,"utp"],[421,Protocols.lengthPrefixedVarSize,"ipfs"],[480,0,"http"],[443,0,"https"],[477,0,"ws"],[275,0,"libp2p-webrtc-star"]],Protocols.names={},Protocols.codes={},map(Protocols.table,function(e){var proto=p.apply(this,e);Protocols.codes[proto.code]=proto,Protocols.names[proto.name]=proto}),Protocols.object=p},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function Multihashing(buf,func,length){return multihash.encode(mh.digest(buf,func,length),func,length)}function gsha1(){return crypto.createHash("sha1")}function gsha2_256(){return crypto.createHash("sha256")}function gsha2_512(){return crypto.createHash("sha512")}var multihash=__webpack_require__(27),crypto=__webpack_require__(788),mh=module.exports=Multihashing;mh.Buffer=Buffer,mh.multihash=multihash,mh.digest=function(buf,func,length){var digest=mh.createHash(func).update(buf).digest();return length&&(digest=digest.slice(0,length)),digest},mh.createHash=function(func,length){if(func=multihash.coerceCode(func),!mh.functions[func])throw new Error("multihash function "+func+" not yet supported");return mh.functions[func]()},mh.functions={17:gsha1,18:gsha2_256,19:gsha2_512}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";exports.Listener=exports.listener=__webpack_require__(703),exports.Dialer=exports.dialer=__webpack_require__(702)},function(module,exports){
exports.encode=function(obj){var str="";for(var i in obj)obj.hasOwnProperty(i)&&(str.length&&(str+="&"),str+=encodeURIComponent(i)+"="+encodeURIComponent(obj[i]));return str},exports.decode=function(qs){for(var qry={},pairs=qs.split("&"),i=0,l=pairs.length;i<l;i++){var pair=pairs[i].split("=");qry[decodeURIComponent(pair[0])]=decodeURIComponent(pair[1])}return qry}},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(287),exports.Stream=__webpack_require__(6),exports.Readable=exports,exports.Writable=__webpack_require__(289),exports.Duplex=__webpack_require__(85),exports.Transform=__webpack_require__(288),exports.PassThrough=__webpack_require__(724)},function(module,exports,__webpack_require__){(function(process){module.exports=function(tasks,cb){function done(err){function end(){cb&&cb(err,results),cb=null}isSync?process.nextTick(end):end()}function each(i,err,result){results[i]=result,(0===--pending||err)&&done(err)}var results,pending,keys,isSync=!0;Array.isArray(tasks)?(results=[],pending=tasks.length):(keys=Object.keys(tasks),results={},pending=keys.length),pending?keys?keys.forEach(function(key){tasks[key](function(err,result){each(key,err,result)})}):tasks.forEach(function(task,i){task(function(err,result){each(i,err,result)})}):done(null),isSync=!1}}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){function Encoder(){}function encodeAsString(obj){var str="",nsp=!1;return str+=obj.type,exports.BINARY_EVENT!=obj.type&&exports.BINARY_ACK!=obj.type||(str+=obj.attachments,str+="-"),obj.nsp&&"/"!=obj.nsp&&(nsp=!0,str+=obj.nsp),null!=obj.id&&(nsp&&(str+=",",nsp=!1),str+=obj.id),null!=obj.data&&(nsp&&(str+=","),str+=json.stringify(obj.data)),debug("encoded %j as %s",obj,str),str}function encodeAsBinary(obj,callback){function writeEncoding(bloblessData){var deconstruction=binary.deconstructPacket(bloblessData),pack=encodeAsString(deconstruction.packet),buffers=deconstruction.buffers;buffers.unshift(pack),callback(buffers)}binary.removeBlobs(obj,writeEncoding)}function Decoder(){this.reconstructor=null}function decodeString(str){var p={},i=0;if(p.type=Number(str.charAt(0)),null==exports.types[p.type])return error();if(exports.BINARY_EVENT==p.type||exports.BINARY_ACK==p.type){for(var buf="";"-"!=str.charAt(++i)&&(buf+=str.charAt(i),i!=str.length););if(buf!=Number(buf)||"-"!=str.charAt(i))throw new Error("Illegal attachments");p.attachments=Number(buf)}if("/"==str.charAt(i+1))for(p.nsp="";++i;){var c=str.charAt(i);if(","==c)break;if(p.nsp+=c,i==str.length)break}else p.nsp="/";var next=str.charAt(i+1);if(""!==next&&Number(next)==next){for(p.id="";++i;){var c=str.charAt(i);if(null==c||Number(c)!=c){--i;break}if(p.id+=str.charAt(i),i==str.length)break}p.id=Number(p.id)}if(str.charAt(++i))try{p.data=json.parse(str.substr(i))}catch(e){return error()}return debug("decoded %s as %j",str,p),p}function BinaryReconstructor(packet){this.reconPack=packet,this.buffers=[]}function error(data){return{type:exports.ERROR,data:"parser error"}}var debug=__webpack_require__(10)("socket.io-parser"),json=__webpack_require__(749),Emitter=(__webpack_require__(304),__webpack_require__(111)),binary=__webpack_require__(748),isBuf=__webpack_require__(303);exports.protocol=4,exports.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],exports.CONNECT=0,exports.DISCONNECT=1,exports.EVENT=2,exports.ACK=3,exports.ERROR=4,exports.BINARY_EVENT=5,exports.BINARY_ACK=6,exports.Encoder=Encoder,exports.Decoder=Decoder,Encoder.prototype.encode=function(obj,callback){if(debug("encoding packet %j",obj),exports.BINARY_EVENT==obj.type||exports.BINARY_ACK==obj.type)encodeAsBinary(obj,callback);else{var encoding=encodeAsString(obj);callback([encoding])}},Emitter(Decoder.prototype),Decoder.prototype.add=function(obj){var packet;if("string"==typeof obj)packet=decodeString(obj),exports.BINARY_EVENT==packet.type||exports.BINARY_ACK==packet.type?(this.reconstructor=new BinaryReconstructor(packet),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",packet)):this.emit("decoded",packet);else{if(!isBuf(obj)&&!obj.base64)throw new Error("Unknown type: "+obj);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");packet=this.reconstructor.takeBinaryData(obj),packet&&(this.reconstructor=null,this.emit("decoded",packet))}},Decoder.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},BinaryReconstructor.prototype.takeBinaryData=function(binData){if(this.buffers.push(binData),this.buffers.length==this.reconPack.attachments){var packet=binary.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),packet}return null},BinaryReconstructor.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(module,exports,__webpack_require__){"use strict";exports.utils=__webpack_require__(756),exports.constants=__webpack_require__(752),exports.Scheduler=__webpack_require__(755),exports.Parser=__webpack_require__(754),exports.Framer=__webpack_require__(753)},function(module,exports,__webpack_require__){(function(process){var Stream=function(){try{return __webpack_require__(6)}catch(_){}}();exports=module.exports=__webpack_require__(307),exports.Stream=Stream||exports,exports.Readable=exports,exports.Writable=__webpack_require__(309),exports.Duplex=__webpack_require__(89),exports.Transform=__webpack_require__(308),exports.PassThrough=__webpack_require__(768),!process.browser&&"disable"===process.env.READABLE_STREAM&&Stream&&(module.exports=Stream)}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";function TransformState(stream){this.afterTransform=function(er,data){return afterTransform(stream,er,data)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(stream,er,data){var ts=stream._transformState;ts.transforming=!1;var cb=ts.writecb;if(!cb)return stream.emit("error",new Error("no writecb in Transform class"));ts.writechunk=null,ts.writecb=null,null!==data&&void 0!==data&&stream.push(data),cb(er);var rs=stream._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&stream._read(rs.highWaterMark)}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState=new TransformState(this);var stream=this;this._readableState.needReadable=!0,this._readableState.sync=!1,options&&("function"==typeof options.transform&&(this._transform=options.transform),"function"==typeof options.flush&&(this._flush=options.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(er){done(stream,er)}):done(stream)})}function done(stream,er){if(er)return stream.emit("error",er);var ws=stream._writableState,ts=stream._transformState;if(ws.length)throw new Error("Calling transform done when ws.length != 0");if(ts.transforming)throw new Error("Calling transform done when still transforming");return stream.push(null)}module.exports=Transform;var Duplex=__webpack_require__(66),util=__webpack_require__(4);util.inherits=__webpack_require__(2),util.inherits(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("Not implemented")},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;null!==ts.writechunk&&ts.writecb&&!ts.transforming?(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)):ts.needTransform=!0}},function(module,exports,__webpack_require__){"use strict";(function(process,setImmediate){function nop(){}function WriteReq(chunk,encoding,cb){this.chunk=chunk,this.encoding=encoding,this.callback=cb,this.next=null}function WritableState(options,stream){Duplex=Duplex||__webpack_require__(66),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var noDecode=options.decodeStrings===!1;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){onwrite(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){return Duplex=Duplex||__webpack_require__(66),this instanceof Writable||this instanceof Duplex?(this._writableState=new WritableState(options,this),this.writable=!0,options&&("function"==typeof options.write&&(this._write=options.write),"function"==typeof options.writev&&(this._writev=options.writev)),void Stream.call(this)):new Writable(options)}function writeAfterEnd(stream,cb){var er=new Error("write after end");stream.emit("error",er),processNextTick(cb,er)}function validChunk(stream,state,chunk,cb){var valid=!0,er=!1;return null===chunk?er=new TypeError("May not write null values to stream"):Buffer.isBuffer(chunk)||"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er&&(stream.emit("error",er),processNextTick(cb,er),valid=!1),valid}function decodeChunk(state,chunk,encoding){return state.objectMode||state.decodeStrings===!1||"string"!=typeof chunk||(chunk=bufferShim.from(chunk,encoding)),chunk}function writeOrBuffer(stream,state,chunk,encoding,cb){chunk=decodeChunk(state,chunk,encoding),Buffer.isBuffer(chunk)&&(encoding="buffer");var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(ret||(state.needDrain=!0),state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest=new WriteReq(chunk,encoding,cb),last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function onwriteError(stream,state,sync,er,cb){--state.pendingcb,sync?processNextTick(cb,er):cb(er),stream._writableState.errorEmitted=!0,stream.emit("error",er)}function onwriteStateUpdate(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}function onwrite(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if(onwriteStateUpdate(state),er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state);finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?asyncWrite(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}function afterWrite(stream,state,finished,cb){finished||onwriteDrain(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function onwriteDrain(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=new Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0;entry;)buffer[count]=entry,entry=entry.next,count+=1;doWrite(stream,state,!0,state.length,buffer,"",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state)}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback,len=state.objectMode?1:chunk.length;if(doWrite(stream,state,!1,len,chunk,encoding,cb),entry=entry.next,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequestCount=0,state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function prefinish(stream,state){state.prefinished||(state.prefinished=!0,stream.emit("prefinish"))}function finishMaybe(stream,state){var need=needFinish(state);return need&&(0===state.pendingcb?(prefinish(stream,state),state.finished=!0,stream.emit("finish")):prefinish(stream,state)),need}function endWritable(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?processNextTick(cb):stream.once("finish",cb)),state.ended=!0,stream.writable=!1}function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(err){var entry=_this.entry;for(_this.entry=null;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree?state.corkedRequestsFree.next=_this:state.corkedRequestsFree=_this}}module.exports=Writable;var processNextTick=__webpack_require__(7),asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:processNextTick;Writable.WritableState=WritableState;var util=__webpack_require__(4);util.inherits=__webpack_require__(2);var Stream,internalUtil={deprecate:__webpack_require__(37)};!function(){try{Stream=__webpack_require__(6)}catch(_){}finally{Stream||(Stream=__webpack_require__(5).EventEmitter)}}();var Buffer=__webpack_require__(0).Buffer,bufferShim=__webpack_require__(20);util.inherits(Writable,Stream);var Duplex;WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(_){}}();var Duplex;Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState,ret=!1;return"function"==typeof encoding&&(cb=encoding,encoding=null),Buffer.isBuffer(chunk)?encoding="buffer":encoding||(encoding=state.defaultEncoding),"function"!=typeof cb&&(cb=nop),state.ended?writeAfterEnd(this,cb):validChunk(this,state,chunk,cb)&&(state.pendingcb++,ret=writeOrBuffer(this,state,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){var state=this._writableState;state.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if("string"==typeof encoding&&(encoding=encoding.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);return this._writableState.defaultEncoding=encoding,this},Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;"function"==typeof chunk?(cb=chunk,chunk=null,encoding=null):"function"==typeof encoding&&(cb=encoding,encoding=null),null!==chunk&&void 0!==chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||endWritable(this,state,cb)}}).call(exports,__webpack_require__(3),__webpack_require__(21).setImmediate)},function(module,exports,__webpack_require__){function WBuf(){this.buffers=[],this.toReserve=0,this.size=0,this.maxSize=0,this.avail=0,this.last=null,this.offset=0,this.sliceQueue=null,this.forceReserve=!1,this.reserveRate=64}function toUnsigned16(num){return num<0?65536+num:num}function toUnsigned24(num){return num<0?16777216+num:num}function toUnsigned32(num){return num<0?4294967295+num+1:num}var assert=__webpack_require__(82),Buffer=__webpack_require__(0).Buffer;module.exports=WBuf,WBuf.prototype.reserve=function(n){this.toReserve+=n,this.forceReserve&&(this.toReserve=Math.max(this.toReserve,this.reserveRate))},WBuf.prototype._ensure=function(n){this.avail>=n||(0===this.toReserve&&(this.toReserve=this.reserveRate),this.toReserve=Math.max(n-this.avail,this.toReserve),0===this.avail&&this._next())},WBuf.prototype._next=function(){var buf;null===this.sliceQueue?buf=new Buffer(this.toReserve):(buf=this.sliceQueue.shift(),0===this.sliceQueue.length&&(this.sliceQueue=null)),this.toReserve=0,this.buffers.push(buf),this.avail=buf.length,this.offset=0,this.last=buf},WBuf.prototype._rangeCheck=function(){if(0!==this.maxSize&&this.size>this.maxSize)throw new RangeError("WBuf overflow")},WBuf.prototype._move=function(n){this.size+=n,0===this.avail&&(this.last=null),this._rangeCheck()},WBuf.prototype.slice=function(start,end){assert(0<=start&&start<=this.size),assert(0<=end&&end<=this.size),null===this.last&&this._next();var res=new WBuf;if(start>=this.size-this.offset)return res.buffers.push(this.last),res.last=this.last,res.offset=start-this.size+this.offset,res.maxSize=end-start,res.avail=res.maxSize,res;for(var startIndex=-1,startOffset=0,endIndex=-1,offset=0,i=0;i<this.buffers.length;i++){var buf=this.buffers[i],next=offset+buf.length;if(start>=offset&&start<=next&&(startIndex=i,startOffset=start-offset,endIndex!==-1))break;if(end>=offset&&end<=next&&(endIndex=i,startIndex!==-1))break;offset=next}return res.last=this.buffers[startIndex],res.offset=startOffset,res.maxSize=end-start,startIndex<endIndex&&(res.sliceQueue=this.buffers.slice(startIndex+1,endIndex+1),res.last=res.last.slice(res.offset),res.offset=0),res.avail=res.last.length-res.offset,res.buffers.push(res.last),res},WBuf.prototype.skip=function(n){if(0===n)return this.slice(this.size,this.size);this._ensure(n);for(var left=n;left>0;){var toSkip=Math.min(left,this.avail);left-=toSkip,this.size+=toSkip,toSkip===this.avail?0!==left?this._next():(this.avail-=toSkip,this.offset+=toSkip):(this.offset+=toSkip,this.avail-=toSkip)}return this._rangeCheck(),this.slice(this.size-n,this.size)},WBuf.prototype.write=function(str){for(var len=0,i=0;i<str.length;i++){var c=str.charCodeAt(i);len+=c>255?2:1}this.reserve(len);for(var i=0;i<str.length;i++){var c=str.charCodeAt(i),hi=c>>>8,lo=255&c;hi&&this.writeUInt8(hi),this.writeUInt8(lo)}},WBuf.prototype.copyFrom=function(buf,start,end){var off=void 0===start?0:start,len=void 0===end?buf.length:end;if(off!==len){for(this._ensure(len-off);off<len;){var toCopy=Math.min(len-off,this.avail);buf.copy(this.last,this.offset,off,off+toCopy),off+=toCopy,this.size+=toCopy,toCopy===this.avail?off!==len?this._next():(this.avail=0,this.offset+=toCopy):(this.offset+=toCopy,this.avail-=toCopy)}this._rangeCheck()}},WBuf.prototype.writeUInt8=function(v){this._ensure(1),this.last[this.offset++]=v,this.avail--,this._move(1)},WBuf.prototype.writeUInt16BE=function(v){this._ensure(2),this.avail>=2?(this.last.writeUInt16BE(v,this.offset,!0),this.offset+=2,this.avail-=2):(this.last[this.offset]=v>>>8,this._next(),this.last[this.offset++]=255&v,this.avail--),this._move(2)},WBuf.prototype.writeUInt24BE=function(v){this._ensure(3),this.avail>=3?(this.last.writeUInt16BE(v>>>8,this.offset,!0),this.last[this.offset+2]=255&v,this.offset+=3,this.avail-=3,this._move(3)):this.avail>=2?(this.last.writeUInt16BE(v>>>8,this.offset,!0),this._next(),this.last[this.offset++]=255&v,this.avail--,this._move(3)):(this.last[this.offset]=v>>>16,this._move(1),this._next(),this.writeUInt16BE(65535&v))},WBuf.prototype.writeUInt32BE=function(v){this._ensure(4),this.avail>=4?(this.last.writeUInt32BE(v,this.offset,!0),this.offset+=4,this.avail-=4,this._move(4)):this.avail>=3?(this.writeUInt24BE(v>>>8),this._next(),this.last[this.offset++]=255&v,this.avail--,this._move(1)):(this.writeUInt16BE(v>>>16),this.writeUInt16BE(65535&v))},WBuf.prototype.writeUInt16LE=function(num){var r=(255&num)<<8|num>>>8;this.writeUInt16BE(r)},WBuf.prototype.writeUInt24LE=function(num){var r=(255&num)<<16|(num>>>8&255)<<8|num>>>16;this.writeUInt24BE(r)},WBuf.prototype.writeUInt32LE=function(num){var r=(255&num)<<24|(num>>>8&255)<<16|(num>>>16&255)<<8|num>>>24;this.writeUInt32BE(r)},WBuf.prototype.render=function(){for(var left=this.size,out=[],i=0;i<this.buffers.length&&left>=0;i++){var buf=this.buffers[i];left-=buf.length,left>=0?out.push(buf):out.push(buf.slice(0,buf.length+left))}return out},WBuf.prototype.writeInt8=function(num){return num<0?this.writeUInt8(256+num):this.writeUInt8(num)},WBuf.prototype.writeInt16LE=function(num){this.writeUInt16LE(toUnsigned16(num))},WBuf.prototype.writeInt16BE=function(num){this.writeUInt16BE(toUnsigned16(num))},WBuf.prototype.writeInt24LE=function(num){this.writeUInt24LE(toUnsigned24(num))},WBuf.prototype.writeInt24BE=function(num){this.writeUInt24BE(toUnsigned24(num))},WBuf.prototype.writeInt32LE=function(num){this.writeUInt32LE(toUnsigned32(num))},WBuf.prototype.writeInt32BE=function(num){this.writeUInt32BE(toUnsigned32(num))},WBuf.prototype.writeComb=function(size,endian,value){return 1===size?this.writeUInt8(value):void("le"===endian?2===size?this.writeUInt16LE(value):3===size?this.writeUInt24LE(value):4===size&&this.writeUInt32LE(value):2===size?this.writeUInt16BE(value):3===size?this.writeUInt24BE(value):4===size&&this.writeUInt32BE(value))}},function(module,exports){module.exports={}},function(module,exports,__webpack_require__){function DecoderBuffer(base,options){return Reporter.call(this,options),Buffer.isBuffer(base)?(this.base=base,this.offset=0,void(this.length=base.length)):void this.error("Input not Buffer")}function EncoderBuffer(value,reporter){if(Array.isArray(value))this.length=0,this.value=value.map(function(item){return item instanceof EncoderBuffer||(item=new EncoderBuffer(item,reporter)),this.length+=item.length,item},this);else if("number"==typeof value){if(!(0<=value&&value<=255))return reporter.error("non-byte EncoderBuffer value");this.value=value,this.length=1}else if("string"==typeof value)this.value=value,this.length=Buffer.byteLength(value);else{if(!Buffer.isBuffer(value))return reporter.error("Unsupported type: "+typeof value);this.value=value,this.length=value.length}}var inherits=__webpack_require__(2),Reporter=__webpack_require__(90).Reporter,Buffer=__webpack_require__(0).Buffer;inherits(DecoderBuffer,Reporter),exports.DecoderBuffer=DecoderBuffer,DecoderBuffer.prototype.save=function(){return{offset:this.offset,reporter:Reporter.prototype.save.call(this)}},DecoderBuffer.prototype.restore=function(save){var res=new DecoderBuffer(this.base);return res.offset=save.offset,res.length=this.offset,this.offset=save.offset,Reporter.prototype.restore.call(this,save.reporter),res},DecoderBuffer.prototype.isEmpty=function(){return this.offset===this.length},DecoderBuffer.prototype.readUInt8=function(fail){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(fail||"DecoderBuffer overrun")},DecoderBuffer.prototype.skip=function(bytes,fail){if(!(this.offset+bytes<=this.length))return this.error(fail||"DecoderBuffer overrun");var res=new DecoderBuffer(this.base);return res._reporterState=this._reporterState,res.offset=this.offset,res.length=this.offset+bytes,this.offset+=bytes,res},DecoderBuffer.prototype.raw=function(save){return this.base.slice(save?save.offset:this.offset,this.length)},exports.EncoderBuffer=EncoderBuffer,EncoderBuffer.prototype.join=function(out,offset){return out||(out=new Buffer(this.length)),offset||(offset=0),0===this.length?out:(Array.isArray(this.value)?this.value.forEach(function(item){item.join(out,offset),offset+=item.length}):("number"==typeof this.value?out[offset]=this.value:"string"==typeof this.value?out.write(this.value,offset):Buffer.isBuffer(this.value)&&this.value.copy(out,offset),offset+=this.length),out)}},function(module,exports,__webpack_require__){var constants=exports;constants._reverse=function(map){var res={};return Object.keys(map).forEach(function(key){(0|key)==key&&(key=0|key);var value=map[key];res[value]=key}),res},constants.der=__webpack_require__(326)},function(module,exports,__webpack_require__){function DERDecoder(entity){this.enc="der",this.name=entity.name,this.entity=entity,this.tree=new DERNode,this.tree._init(entity.body)}function DERNode(parent){base.Node.call(this,"der",parent)}function derDecodeTag(buf,fail){var tag=buf.readUInt8(fail);if(buf.isError(tag))return tag;var cls=der.tagClass[tag>>6],primitive=0===(32&tag);if(31===(31&tag)){var oct=tag;for(tag=0;128===(128&oct);){if(oct=buf.readUInt8(fail),buf.isError(oct))return oct;tag<<=7,tag|=127&oct}}else tag&=31;var tagStr=der.tag[tag];return{cls:cls,primitive:primitive,tag:tag,tagStr:tagStr}}function derDecodeLen(buf,primitive,fail){var len=buf.readUInt8(fail);if(buf.isError(len))return len;if(!primitive&&128===len)return null;if(0===(128&len))return len;var num=127&len;if(num>=4)return buf.error("length octect is too long");len=0;for(var i=0;i<num;i++){len<<=8;var j=buf.readUInt8(fail);if(buf.isError(j))return j;len|=j}return len}var inherits=__webpack_require__(2),asn1=__webpack_require__(102),base=asn1.base,bignum=asn1.bignum,der=asn1.constants.der;module.exports=DERDecoder,DERDecoder.prototype.decode=function(data,options){return data instanceof base.DecoderBuffer||(data=new base.DecoderBuffer(data,options)),this.tree._decode(data,options)},inherits(DERNode,base.Node),DERNode.prototype._peekTag=function(buffer,tag,any){if(buffer.isEmpty())return!1;var state=buffer.save(),decodedTag=derDecodeTag(buffer,'Failed to peek tag: "'+tag+'"');return buffer.isError(decodedTag)?decodedTag:(buffer.restore(state),decodedTag.tag===tag||decodedTag.tagStr===tag||decodedTag.tagStr+"of"===tag||any)},DERNode.prototype._decodeTag=function(buffer,tag,any){var decodedTag=derDecodeTag(buffer,'Failed to decode tag of "'+tag+'"');if(buffer.isError(decodedTag))return decodedTag;var len=derDecodeLen(buffer,decodedTag.primitive,'Failed to get length of "'+tag+'"');if(buffer.isError(len))return len;if(!any&&decodedTag.tag!==tag&&decodedTag.tagStr!==tag&&decodedTag.tagStr+"of"!==tag)return buffer.error('Failed to match tag: "'+tag+'"');if(decodedTag.primitive||null!==len)return buffer.skip(len,'Failed to match body of: "'+tag+'"');var state=buffer.save(),res=this._skipUntilEnd(buffer,'Failed to skip indefinite length body: "'+this.tag+'"');return buffer.isError(res)?res:(len=buffer.offset-state.offset,buffer.restore(state),buffer.skip(len,'Failed to match body of: "'+tag+'"'))},DERNode.prototype._skipUntilEnd=function(buffer,fail){for(;;){var tag=derDecodeTag(buffer,fail);if(buffer.isError(tag))return tag;var len=derDecodeLen(buffer,tag.primitive,fail);if(buffer.isError(len))return len;var res;if(res=tag.primitive||null!==len?buffer.skip(len):this._skipUntilEnd(buffer,fail),buffer.isError(res))return res;if("end"===tag.tagStr)break}},DERNode.prototype._decodeList=function(buffer,tag,decoder,options){for(var result=[];!buffer.isEmpty();){var possibleEnd=this._peekTag(buffer,"end");if(buffer.isError(possibleEnd))return possibleEnd;var res=decoder.decode(buffer,"der",options);if(buffer.isError(res)&&possibleEnd)break;result.push(res)}return result},DERNode.prototype._decodeStr=function(buffer,tag){if("bitstr"===tag){var unused=buffer.readUInt8();return buffer.isError(unused)?unused:{unused:unused,data:buffer.raw()}}if("bmpstr"===tag){var raw=buffer.raw();if(raw.length%2===1)return buffer.error("Decoding of string type: bmpstr length mismatch");for(var str="",i=0;i<raw.length/2;i++)str+=String.fromCharCode(raw.readUInt16BE(2*i));return str}if("numstr"===tag){var numstr=buffer.raw().toString("ascii");return this._isNumstr(numstr)?numstr:buffer.error("Decoding of string type: numstr unsupported characters")}if("octstr"===tag)return buffer.raw();if("printstr"===tag){var printstr=buffer.raw().toString("ascii");return this._isPrintstr(printstr)?printstr:buffer.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(tag)?buffer.raw().toString():buffer.error("Decoding of string type: "+tag+" unsupported")},DERNode.prototype._decodeObjid=function(buffer,values,relative){for(var result,identifiers=[],ident=0;!buffer.isEmpty();){var subident=buffer.readUInt8();ident<<=7,ident|=127&subident,0===(128&subident)&&(identifiers.push(ident),ident=0)}128&subident&&identifiers.push(ident);var first=identifiers[0]/40|0,second=identifiers[0]%40;if(result=relative?identifiers:[first,second].concat(identifiers.slice(1)),values){var tmp=values[result.join(" ")];void 0===tmp&&(tmp=values[result.join(".")]),void 0!==tmp&&(result=tmp)}return result},DERNode.prototype._decodeTime=function(buffer,tag){var str=buffer.raw().toString();if("gentime"===tag)var year=0|str.slice(0,4),mon=0|str.slice(4,6),day=0|str.slice(6,8),hour=0|str.slice(8,10),min=0|str.slice(10,12),sec=0|str.slice(12,14);else{if("utctime"!==tag)return buffer.error("Decoding "+tag+" time is not supported yet");var year=0|str.slice(0,2),mon=0|str.slice(2,4),day=0|str.slice(4,6),hour=0|str.slice(6,8),min=0|str.slice(8,10),sec=0|str.slice(10,12);year=year<70?2e3+year:1900+year}return Date.UTC(year,mon-1,day,hour,min,sec,0)},DERNode.prototype._decodeNull=function(buffer){return null},DERNode.prototype._decodeBool=function(buffer){var res=buffer.readUInt8();return buffer.isError(res)?res:0!==res},DERNode.prototype._decodeInt=function(buffer,values){var raw=buffer.raw(),res=new bignum(raw);return values&&(res=values[res.toString(10)]||res),res},DERNode.prototype._use=function(entity,obj){return"function"==typeof entity&&(entity=entity(obj)),entity._getDecoder("der").tree}},function(module,exports,__webpack_require__){function DEREncoder(entity){this.enc="der",this.name=entity.name,this.entity=entity,this.tree=new DERNode,this.tree._init(entity.body)}function DERNode(parent){base.Node.call(this,"der",parent)}function two(num){return num<10?"0"+num:num}function encodeTag(tag,primitive,cls,reporter){var res;if("seqof"===tag?tag="seq":"setof"===tag&&(tag="set"),der.tagByName.hasOwnProperty(tag))res=der.tagByName[tag];else{if("number"!=typeof tag||(0|tag)!==tag)return reporter.error("Unknown tag: "+tag);res=tag}return res>=31?reporter.error("Multi-octet tag encoding unsupported"):(primitive||(res|=32),res|=der.tagClassByName[cls||"universal"]<<6)}var inherits=__webpack_require__(2),Buffer=__webpack_require__(0).Buffer,asn1=__webpack_require__(102),base=asn1.base,der=asn1.constants.der;module.exports=DEREncoder,DEREncoder.prototype.encode=function(data,reporter){return this.tree._encode(data,reporter).join()},inherits(DERNode,base.Node),DERNode.prototype._encodeComposite=function(tag,primitive,cls,content){var encodedTag=encodeTag(tag,primitive,cls,this.reporter);if(content.length<128){var header=new Buffer(2);return header[0]=encodedTag,header[1]=content.length,this._createEncoderBuffer([header,content])}for(var lenOctets=1,i=content.length;i>=256;i>>=8)lenOctets++;var header=new Buffer(2+lenOctets);header[0]=encodedTag,header[1]=128|lenOctets;for(var i=1+lenOctets,j=content.length;j>0;i--,j>>=8)header[i]=255&j;return this._createEncoderBuffer([header,content])},DERNode.prototype._encodeStr=function(str,tag){
if("bitstr"===tag)return this._createEncoderBuffer([0|str.unused,str.data]);if("bmpstr"===tag){for(var buf=new Buffer(2*str.length),i=0;i<str.length;i++)buf.writeUInt16BE(str.charCodeAt(i),2*i);return this._createEncoderBuffer(buf)}return"numstr"===tag?this._isNumstr(str)?this._createEncoderBuffer(str):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===tag?this._isPrintstr(str)?this._createEncoderBuffer(str):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(tag)?this._createEncoderBuffer(str):this.reporter.error("Encoding of string type: "+tag+" unsupported")},DERNode.prototype._encodeObjid=function(id,values,relative){if("string"==typeof id){if(!values)return this.reporter.error("string objid given, but no values map found");if(!values.hasOwnProperty(id))return this.reporter.error("objid not found in values map");id=values[id].split(/[\s\.]+/g);for(var i=0;i<id.length;i++)id[i]|=0}else if(Array.isArray(id)){id=id.slice();for(var i=0;i<id.length;i++)id[i]|=0}if(!Array.isArray(id))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(id));if(!relative){if(id[1]>=40)return this.reporter.error("Second objid identifier OOB");id.splice(0,2,40*id[0]+id[1])}for(var size=0,i=0;i<id.length;i++){var ident=id[i];for(size++;ident>=128;ident>>=7)size++}for(var objid=new Buffer(size),offset=objid.length-1,i=id.length-1;i>=0;i--){var ident=id[i];for(objid[offset--]=127&ident;(ident>>=7)>0;)objid[offset--]=128|127&ident}return this._createEncoderBuffer(objid)},DERNode.prototype._encodeTime=function(time,tag){var str,date=new Date(time);return"gentime"===tag?str=[two(date.getFullYear()),two(date.getUTCMonth()+1),two(date.getUTCDate()),two(date.getUTCHours()),two(date.getUTCMinutes()),two(date.getUTCSeconds()),"Z"].join(""):"utctime"===tag?str=[two(date.getFullYear()%100),two(date.getUTCMonth()+1),two(date.getUTCDate()),two(date.getUTCHours()),two(date.getUTCMinutes()),two(date.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+tag+" time is not supported yet"),this._encodeStr(str,"octstr")},DERNode.prototype._encodeNull=function(){return this._createEncoderBuffer("")},DERNode.prototype._encodeInt=function(num,values){if("string"==typeof num){if(!values)return this.reporter.error("String int or enum given, but no values map");if(!values.hasOwnProperty(num))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(num));num=values[num]}if("number"!=typeof num&&!Buffer.isBuffer(num)){var numArray=num.toArray();!num.sign&&128&numArray[0]&&numArray.unshift(0),num=new Buffer(numArray)}if(Buffer.isBuffer(num)){var size=num.length;0===num.length&&size++;var out=new Buffer(size);return num.copy(out),0===num.length&&(out[0]=0),this._createEncoderBuffer(out)}if(num<128)return this._createEncoderBuffer(num);if(num<256)return this._createEncoderBuffer([0,num]);for(var size=1,i=num;i>=256;i>>=8)size++;for(var out=new Array(size),i=out.length-1;i>=0;i--)out[i]=255&num,num>>=8;return 128&out[0]&&out.unshift(0),this._createEncoderBuffer(new Buffer(out))},DERNode.prototype._encodeBool=function(value){return this._createEncoderBuffer(value?255:0)},DERNode.prototype._use=function(entity,obj){return"function"==typeof entity&&(entity=entity(obj)),entity._getEncoder("der").tree},DERNode.prototype._skipDefault=function(dataBuffer,reporter,parent){var i,state=this._baseState;if(null===state.default)return!1;var data=dataBuffer.join();if(void 0===state.defaultBuffer&&(state.defaultBuffer=this._encodeValue(state.default,reporter,parent).join()),data.length!==state.defaultBuffer.length)return!1;for(i=0;i<data.length;i++)if(data[i]!==state.defaultBuffer[i])return!1;return!0}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),async=__webpack_require__(342);module.exports=function(){function BlockService(ipfsRepo){_classCallCheck(this,BlockService),this._repo=ipfsRepo,this._bitswap=null}return _createClass(BlockService,[{key:"goOnline",value:function(bitswap){this._bitswap=bitswap}},{key:"goOffline",value:function(){this._bitswap=null}},{key:"isOnline",value:function(){return null!=this._bitswap}},{key:"addBlock",value:function(block,extension,callback){this.isOnline()?("function"==typeof extension&&(callback=extension,extension=void 0),this._bitswap.hasBlock(block,callback)):this._repo.datastore.put(block,extension,callback)}},{key:"addBlocks",value:function(blocks,callback){var _this=this;return Array.isArray(blocks)?void async.eachLimit(blocks,100,function(block,next){_this.addBlock(block,next)},callback):callback(new Error("expects an array of Blocks"))}},{key:"getBlock",value:function(key,extension,callback){this.isOnline()?("function"==typeof extension&&(callback=extension,extension=void 0),this._bitswap.getBlock(key,callback)):this._repo.datastore.get(key,extension,callback)}},{key:"getBlocks",value:function(multihashes,extension,callback){var _this2=this;if("function"==typeof extension&&(callback=extension,extension=void 0),!Array.isArray(multihashes))return callback(new Error("Invalid batch of multihashes"));var results={};async.eachLimit(multihashes,100,function(multihash,next){_this2.getBlock(multihash,extension,function(err,block){results[multihash]={err:err,block:block},next()})},function(err){callback(err,results)})}},{key:"deleteBlock",value:function(key,extension,callback){this._repo.datastore.delete(key,extension,callback)}},{key:"deleteBlocks",value:function(multihashes,extension,callback){var _this3=this;return"function"==typeof extension&&(callback=extension,extension=void 0),Array.isArray(multihashes)?void async.eachLimit(multihashes,100,function(multihash,next){_this3.deleteBlock(multihash,extension,next)},function(err){callback(err)}):callback(new Error("Invalid batch of multihashes"))}}]),BlockService}()},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),mh=__webpack_require__(27);module.exports=function(){function DAGLink(name,size,hash){_classCallCheck(this,DAGLink),this.name=name,this.size=size,"string"==typeof hash?this.hash=mh.fromB58String(hash):Buffer.isBuffer(hash)&&(this.hash=hash)}return _createClass(DAGLink,[{key:"toJSON",value:function(){return{Name:this.name,Size:this.size,Hash:mh.toB58String(this.hash)}}},{key:"toString",value:function(){var hash=mh.toB58String(this.hash);return"DAGLink <"+hash+' - name: "'+this.name+'", size: '+this.size+">"}}]),DAGLink}()}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function linkSort(a,b){return new Buffer(a.name,"ascii").compare(new Buffer(b.name,"ascii"))}function toProtoBuf(node){var pbn={};return node.data&&node.data.length>0?pbn.Data=node.data:pbn.Data=null,node.links.length>0?pbn.Links=node.links.map(function(link){return{Hash:link.hash,Name:link.name,Tsize:link.size}}):pbn.Links=null,pbn}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),protobuf=__webpack_require__(84),stable=__webpack_require__(769),mh=(__webpack_require__(44),__webpack_require__(27)),util=__webpack_require__(196),DAGLink=__webpack_require__(194),proto=protobuf(Buffer("Ly8gQW4gSVBGUyBNZXJrbGVEQUcgTGluawptZXNzYWdlIFBCTGluayB7CgogIC8vIG11bHRpaGFzaCBvZiB0aGUgdGFyZ2V0IG9iamVjdAogIG9wdGlvbmFsIGJ5dGVzIEhhc2ggPSAxOwoKICAvLyB1dGYgc3RyaW5nIG5hbWUuIHNob3VsZCBiZSB1bmlxdWUgcGVyIG9iamVjdAogIG9wdGlvbmFsIHN0cmluZyBOYW1lID0gMjsKCiAgLy8gY3VtdWxhdGl2ZSBzaXplIG9mIHRhcmdldCBvYmplY3QKICBvcHRpb25hbCB1aW50NjQgVHNpemUgPSAzOwp9CgovLyBBbiBJUEZTIE1lcmtsZURBRyBOb2RlCm1lc3NhZ2UgUEJOb2RlIHsKCiAgLy8gcmVmcyB0byBvdGhlciBvYmplY3RzCiAgcmVwZWF0ZWQgUEJMaW5rIExpbmtzID0gMjsKCiAgLy8gb3BhcXVlIHVzZXIgZGF0YQogIG9wdGlvbmFsIGJ5dGVzIERhdGEgPSAxOwp9Cg==","base64"));module.exports=function(){function DAGNode(data,links){var _this=this;_classCallCheck(this,DAGNode),this._cached=null,this._encoded=null,this.data=data,this.links=[],links&&(links.forEach(function(l){l.constructor&&"DAGLink"===l.constructor.name?_this.links.push(l):_this.links.push(new DAGLink(l.Name,l.Size,l.Hash))}),stable.inplace(this.links,linkSort))}return _createClass(DAGNode,[{key:"copy",value:function(){var clone=new DAGNode;if(this.data&&this.data.length>0){var buf=new Buffer(this.data.length);this.data.copy(buf),clone.data=buf}return this.links.length>0&&(clone.links=this.links.slice()),clone}},{key:"addNodeLink",value:function(name,node){if("string"==typeof name){var link=this.makeLink(node);link.name=name,this.addRawLink(link)}}},{key:"addRawLink",value:function(link){this._encoded=null,this.links.push(new DAGLink(link.name,link.size,link.hash)),stable.inplace(this.links,linkSort)}},{key:"updateNodeLink",value:function(name,node){var newnode=this.copy();return newnode.removeNodeLink(name),newnode.addNodeLink(name,node),newnode}},{key:"removeNodeLink",value:function(name){this._encoded=null,this.links=this.links.filter(function(link){return link.name!==name})}},{key:"removeNodeLinkByHash",value:function(multihash){this._encoded=null,this.links=this.links.filter(function(link){return!link.hash.equals(multihash)})}},{key:"makeLink",value:function(node){return new DAGLink(null,node.size(),node.multihash())}},{key:"multihash",value:function(){return this.encoded(),this._cached}},{key:"size",value:function(){var buf=this.encoded();return buf?this.links.reduce(function(sum,l){return sum+l.size},buf.length):0}},{key:"encoded",value:function(force){return!force&&this._encoded||(this._encoded=this.marshal(),this._encoded&&(this._cached=util.hash(this._encoded))),this._encoded}},{key:"marshal",value:function(){return proto.PBNode.encode(toProtoBuf(this))}},{key:"unMarshal",value:function(data){var pbn=proto.PBNode.decode(data);return this.links=pbn.Links.map(function(link){return new DAGLink(link.Name,link.Tsize,link.Hash)}),stable.inplace(this.links,linkSort),this.data=pbn.Data||new Buffer(0),this}},{key:"toJSON",value:function(){return{Data:this.data,Links:this.links.map(function(l){return l.toJSON()}),Hash:mh.toB58String(this.multihash()),Size:this.size()}}},{key:"toString",value:function(){var hash=mh.toB58String(this.multihash());return"DAGNode <"+hash+' - data: "'+this.data.toString()+'", links: '+this.links.length+", size: "+this.size()+">"}}]),DAGNode}()}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";var multihashing=__webpack_require__(177);exports=module.exports,exports.hash=function(data){return multihashing(data,"sha2-256")}},function(module,exports,__webpack_require__){"use strict";function Repo(repoPath,options){var _this=this;if(!(this instanceof Repo))return new Repo(repoPath,options);if(!options)throw new Error("missing options param");if(!options.stores)throw new Error("missing options.stores param");if(options.stores.prototype&&options.stores.prototype.createWriteStream){var store=options.stores;options.stores={keys:store,config:store,datastore:store,logs:store,locks:store,version:store}}this.path=repoPath,this.locks=stores.locks.setUp(repoPath,options.stores.locks),this.exists=function(callback){_this.version.exists(callback)},this.version=stores.version.setUp(repoPath,options.stores.version,this.locks),this.config=stores.config.setUp(repoPath,options.stores.config,this.locks),this.keys=stores.keys.setUp(repoPath,options.stores.keys,this.locks,this.config),this.datastore=stores.datastore.setUp(repoPath,options.stores.datastore,this.locks)}var stores=__webpack_require__(348);exports=module.exports=Repo},function(module,exports,__webpack_require__){"use strict";exports.importer=exports.Importer=__webpack_require__(355),exports.exporter=exports.Exporter=__webpack_require__(354)},function(module,exports){"use strict";var createCallback=function(method,context){return function(){var args=Array.prototype.slice.call(arguments);return new Promise(function(solve,reject){args.push(function(err,val){return err?reject(err):void solve(val)}),method.apply(context,args)})}};module.exports=function(methods,options){options=options||{};var type=Object.prototype.toString.call(methods);if("[object Object]"===type||"[object Array]"===type){var obj=options.replace?methods:{};for(var key in methods)methods.hasOwnProperty(key)&&(obj[key]=createCallback(methods[key]));return obj}return createCallback(methods,options.context||methods)}},function(module,exports,__webpack_require__){"use strict";(function(process){function prependListener(emitter,event,fn){return hasPrependListener?emitter.prependListener(event,fn):void(emitter._events&&emitter._events[event]?isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn))}function ReadableState(options,stream){Duplex=Duplex||__webpack_require__(67),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=options.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=__webpack_require__(13).StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){return Duplex=Duplex||__webpack_require__(67),this instanceof Readable?(this._readableState=new ReadableState(options,this),this.readable=!0,options&&"function"==typeof options.read&&(this._read=options.read),void Stream.call(this)):new Readable(options)}function readableAddChunk(stream,state,chunk,encoding,addToFront){var er=chunkInvalid(state,chunk);if(er)stream.emit("error",er);else if(null===chunk)state.reading=!1,onEofChunk(stream,state);else if(state.objectMode||chunk&&chunk.length>0)if(state.ended&&!addToFront){var e=new Error("stream.push() after EOF");stream.emit("error",e)}else if(state.endEmitted&&addToFront){var _e=new Error("stream.unshift() after end event");stream.emit("error",_e)}else{var skipAdd;!state.decoder||addToFront||encoding||(chunk=state.decoder.write(chunk),skipAdd=!state.objectMode&&0===chunk.length),addToFront||(state.reading=!1),skipAdd||(state.flowing&&0===state.length&&!state.sync?(stream.emit("data",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream))),maybeReadMore(stream,state)}else addToFront||(state.reading=!1);return needMoreData(state)}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}function computeNewHighWaterMark(n){return n>=MAX_HWM?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}function howMuchToRead(n,state){return 0===state.length&&state.ended?0:state.objectMode?0===n?0:1:null===n||isNaN(n)?state.flowing&&state.buffer.length?state.buffer[0].length:state.length:n<=0?0:(n>state.highWaterMark&&(state.highWaterMark=computeNewHighWaterMark(n)),n>state.length?state.ended?state.length:(state.needReadable=!0,0):n)}function chunkInvalid(state,chunk){var er=null;return Buffer.isBuffer(chunk)||"string"==typeof chunk||null===chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er}function onEofChunk(stream,state){if(!state.ended){if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,emitReadable(stream)}}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,state.sync?processNextTick(emitReadable_,stream):emitReadable_(stream))}function emitReadable_(stream){debug("emit readable"),stream.emit("readable"),flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,processNextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(var len=state.length;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug("maybeReadMore read 0"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,"data")&&(state.flowing=!0,flow(src))}}function nReadingNextTick(self){debug("readable nexttick read 0"),self.read(0)}function resume(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,processNextTick(resume_,stream,state))}function resume_(stream,state){state.reading||(debug("resume read 0"),stream.read(0)),state.resumeScheduled=!1,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;if(debug("flow",state.flowing),state.flowing)do var chunk=stream.read();while(null!==chunk&&state.flowing)}function fromList(n,state){var ret,list=state.buffer,length=state.length,stringMode=!!state.decoder,objectMode=!!state.objectMode;if(0===list.length)return null;if(0===length)ret=null;else if(objectMode)ret=list.shift();else if(!n||n>=length)ret=stringMode?list.join(""):1===list.length?list[0]:Buffer.concat(list,length),list.length=0;else if(n<list[0].length){var buf=list[0];ret=buf.slice(0,n),list[0]=buf.slice(n)}else if(n===list[0].length)ret=list.shift();else{ret=stringMode?"":bufferShim.allocUnsafe(n);for(var c=0,i=0,l=list.length;i<l&&c<n;i++){var _buf=list[0],cpy=Math.min(n-c,_buf.length);stringMode?ret+=_buf.slice(0,cpy):_buf.copy(ret,c,0,cpy),cpy<_buf.length?list[0]=_buf.slice(cpy):list.shift(),c+=cpy}}return ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error('"endReadable()" called on non-empty stream');state.endEmitted||(state.ended=!0,processNextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit("end"))}function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++)f(xs[i],i)}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}module.exports=Readable;var processNextTick=__webpack_require__(7),isArray=__webpack_require__(34);Readable.ReadableState=ReadableState;var Stream,EE=__webpack_require__(5).EventEmitter,EElistenerCount=function(emitter,type){return emitter.listeners(type).length};!function(){try{Stream=__webpack_require__(6)}catch(_){}finally{Stream||(Stream=__webpack_require__(5).EventEmitter)}}();var Buffer=__webpack_require__(0).Buffer,bufferShim=__webpack_require__(20),util=__webpack_require__(4);util.inherits=__webpack_require__(2);var debugUtil=__webpack_require__(792),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var StringDecoder;util.inherits(Readable,Stream);var Duplex,Duplex,hasPrependListener="function"==typeof EE.prototype.prependListener;Readable.prototype.push=function(chunk,encoding){var state=this._readableState;return state.objectMode||"string"!=typeof chunk||(encoding=encoding||state.defaultEncoding,encoding!==state.encoding&&(chunk=bufferShim.from(chunk,encoding),encoding="")),readableAddChunk(this,state,chunk,encoding,!1)},Readable.prototype.unshift=function(chunk){var state=this._readableState;return readableAddChunk(this,state,chunk,"",!0)},Readable.prototype.isPaused=function(){return this._readableState.flowing===!1},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=__webpack_require__(13).StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};var MAX_HWM=8388608;Readable.prototype.read=function(n){debug("read",n);var state=this._readableState,nOrig=n;if(("number"!=typeof n||n>0)&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug("read: emitReadable",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(n=howMuchToRead(n,state),0===n&&state.ended)return 0===state.length&&endReadable(this),null;var doRead=state.needReadable;debug("need readable",doRead),(0===state.length||state.length-n<state.highWaterMark)&&(doRead=!0,debug("length less than watermark",doRead)),(state.ended||state.reading)&&(doRead=!1,debug("reading or ended",doRead)),doRead&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1),doRead&&!state.reading&&(n=howMuchToRead(nOrig,state));var ret;return ret=n>0?fromList(n,state):null,null===ret&&(state.needReadable=!0,n=0),state.length-=n,0!==state.length||state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&0===state.length&&endReadable(this),null!==ret&&this.emit("data",ret),ret},Readable.prototype._read=function(n){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(dest,pipeOpts){function onunpipe(readable){debug("onunpipe"),readable===src&&cleanup()}function onend(){debug("onend"),dest.end()}function cleanup(){debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",cleanup),src.removeListener("data",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain()}function ondata(chunk){debug("ondata");var ret=dest.write(chunk);!1===ret&&((1===state.pipesCount&&state.pipes===dest||state.pipesCount>1&&indexOf(state.pipes,dest)!==-1)&&!cleanedUp&&(debug("false write response, pause",src._readableState.awaitDrain),src._readableState.awaitDrain++),src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EElistenerCount(dest,"error")&&dest.emit("error",er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||pipeOpts.end!==!1)&&dest!==process.stdout&&dest!==process.stderr,endFn=doEnd?onend:cleanup;state.endEmitted?processNextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=!1;return src.on("data",ondata),prependListener(dest,"error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState;if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes?this:(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this),this);if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var _i=0;_i<len;_i++)dests[_i].emit("unpipe",this);return this}var i=indexOf(state.pipes,dest);return i===-1?this:(state.pipes.splice(i,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this),this)},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if("data"===ev&&!1!==this._readableState.flowing&&this.resume(),"readable"===ev&&!this._readableState.endEmitted){var state=this._readableState;state.readableListening||(state.readableListening=!0,state.emittedReadable=!1,state.needReadable=!0,state.reading?state.length&&emitReadable(this,state):processNextTick(nReadingNextTick,this))}return res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!0,resume(this,state)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(stream){var state=this._readableState,paused=!1,self=this;stream.on("end",function(){if(debug("wrapped end"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&self.push(chunk)}self.push(null)}),stream.on("data",function(chunk){if(debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),(!state.objectMode||null!==chunk&&void 0!==chunk)&&(state.objectMode||chunk&&chunk.length)){var ret=self.push(chunk);ret||(paused=!0,stream.pause())}});for(var i in stream)void 0===this[i]&&"function"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));var events=["error","close","destroy","pause","resume"];return forEach(events,function(ev){stream.on(ev,self.emit.bind(self,ev))}),self._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},self},Readable._fromList=fromList}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";function TransformState(stream){this.afterTransform=function(er,data){return afterTransform(stream,er,data)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(stream,er,data){var ts=stream._transformState;ts.transforming=!1;var cb=ts.writecb;if(!cb)return stream.emit("error",new Error("no writecb in Transform class"));ts.writechunk=null,ts.writecb=null,null!==data&&void 0!==data&&stream.push(data),cb(er);var rs=stream._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&stream._read(rs.highWaterMark)}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState=new TransformState(this);var stream=this;this._readableState.needReadable=!0,this._readableState.sync=!1,options&&("function"==typeof options.transform&&(this._transform=options.transform),"function"==typeof options.flush&&(this._flush=options.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(er){done(stream,er)}):done(stream)})}function done(stream,er){if(er)return stream.emit("error",er);var ws=stream._writableState,ts=stream._transformState;if(ws.length)throw new Error("Calling transform done when ws.length != 0");if(ts.transforming)throw new Error("Calling transform done when still transforming");return stream.push(null)}module.exports=Transform;var Duplex=__webpack_require__(67),util=__webpack_require__(4);util.inherits=__webpack_require__(2),util.inherits(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("Not implemented")},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;null!==ts.writechunk&&ts.writecb&&!ts.transforming?(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)):ts.needTransform=!0}},function(module,exports,__webpack_require__){"use strict";(function(process,setImmediate){function nop(){}function WriteReq(chunk,encoding,cb){this.chunk=chunk,this.encoding=encoding,this.callback=cb,this.next=null}function WritableState(options,stream){Duplex=Duplex||__webpack_require__(67),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var noDecode=options.decodeStrings===!1;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){onwrite(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){return Duplex=Duplex||__webpack_require__(67),this instanceof Writable||this instanceof Duplex?(this._writableState=new WritableState(options,this),this.writable=!0,options&&("function"==typeof options.write&&(this._write=options.write),"function"==typeof options.writev&&(this._writev=options.writev)),void Stream.call(this)):new Writable(options)}function writeAfterEnd(stream,cb){var er=new Error("write after end");stream.emit("error",er),processNextTick(cb,er)}function validChunk(stream,state,chunk,cb){var valid=!0,er=!1;return null===chunk?er=new TypeError("May not write null values to stream"):Buffer.isBuffer(chunk)||"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),
er&&(stream.emit("error",er),processNextTick(cb,er),valid=!1),valid}function decodeChunk(state,chunk,encoding){return state.objectMode||state.decodeStrings===!1||"string"!=typeof chunk||(chunk=bufferShim.from(chunk,encoding)),chunk}function writeOrBuffer(stream,state,chunk,encoding,cb){chunk=decodeChunk(state,chunk,encoding),Buffer.isBuffer(chunk)&&(encoding="buffer");var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(ret||(state.needDrain=!0),state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest=new WriteReq(chunk,encoding,cb),last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function onwriteError(stream,state,sync,er,cb){--state.pendingcb,sync?processNextTick(cb,er):cb(er),stream._writableState.errorEmitted=!0,stream.emit("error",er)}function onwriteStateUpdate(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}function onwrite(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if(onwriteStateUpdate(state),er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state);finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?asyncWrite(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}function afterWrite(stream,state,finished,cb){finished||onwriteDrain(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function onwriteDrain(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=new Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0;entry;)buffer[count]=entry,entry=entry.next,count+=1;doWrite(stream,state,!0,state.length,buffer,"",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state)}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback,len=state.objectMode?1:chunk.length;if(doWrite(stream,state,!1,len,chunk,encoding,cb),entry=entry.next,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequestCount=0,state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function prefinish(stream,state){state.prefinished||(state.prefinished=!0,stream.emit("prefinish"))}function finishMaybe(stream,state){var need=needFinish(state);return need&&(0===state.pendingcb?(prefinish(stream,state),state.finished=!0,stream.emit("finish")):prefinish(stream,state)),need}function endWritable(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?processNextTick(cb):stream.once("finish",cb)),state.ended=!0,stream.writable=!1}function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(err){var entry=_this.entry;for(_this.entry=null;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree?state.corkedRequestsFree.next=_this:state.corkedRequestsFree=_this}}module.exports=Writable;var processNextTick=__webpack_require__(7),asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:processNextTick;Writable.WritableState=WritableState;var util=__webpack_require__(4);util.inherits=__webpack_require__(2);var Stream,internalUtil={deprecate:__webpack_require__(37)};!function(){try{Stream=__webpack_require__(6)}catch(_){}finally{Stream||(Stream=__webpack_require__(5).EventEmitter)}}();var Buffer=__webpack_require__(0).Buffer,bufferShim=__webpack_require__(20);util.inherits(Writable,Stream);var Duplex;WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(_){}}();var Duplex;Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState,ret=!1;return"function"==typeof encoding&&(cb=encoding,encoding=null),Buffer.isBuffer(chunk)?encoding="buffer":encoding||(encoding=state.defaultEncoding),"function"!=typeof cb&&(cb=nop),state.ended?writeAfterEnd(this,cb):validChunk(this,state,chunk,cb)&&(state.pendingcb++,ret=writeOrBuffer(this,state,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){var state=this._writableState;state.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if("string"==typeof encoding&&(encoding=encoding.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);return this._writableState.defaultEncoding=encoding,this},Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;"function"==typeof chunk?(cb=chunk,chunk=null,encoding=null):"function"==typeof encoding&&(cb=encoding,encoding=null),null!==chunk&&void 0!==chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||endWritable(this,state,cb)}}).call(exports,__webpack_require__(3),__webpack_require__(21).setImmediate)},function(module,exports,__webpack_require__){function Rand(rand){this.rand=rand}var r;if(module.exports=function(len){return r||(r=new Rand(null)),r.generate(len)},module.exports.Rand=Rand,Rand.prototype.generate=function(len){return this._rand(len)},"object"==typeof window)window.crypto&&window.crypto.getRandomValues?Rand.prototype._rand=function(n){var arr=new Uint8Array(n);return window.crypto.getRandomValues(arr),arr}:window.msCrypto&&window.msCrypto.getRandomValues?Rand.prototype._rand=function(n){var arr=new Uint8Array(n);return window.msCrypto.getRandomValues(arr),arr}:Rand.prototype._rand=function(){throw new Error("Not implemented yet")};else try{var crypto=__webpack_require__(244);Rand.prototype._rand=function(n){return crypto.randomBytes(n)}}catch(e){Rand.prototype._rand=function(n){for(var res=new Uint8Array(n),i=0;i<res.length;i++)res[i]=this.rand.getByte();return res}}},function(module,exports,__webpack_require__){(function(Buffer){function StreamCipher(mode,key,iv,decrypt){if(!(this instanceof StreamCipher))return new StreamCipher(mode,key,iv);Transform.call(this),this._finID=Buffer.concat([iv,new Buffer([0,0,0,1])]),iv=Buffer.concat([iv,new Buffer([0,0,0,2])]),this._cipher=new aes.AES(key),this._prev=new Buffer(iv.length),this._cache=new Buffer(""),this._secCache=new Buffer(""),this._decrypt=decrypt,this._alen=0,this._len=0,iv.copy(this._prev),this._mode=mode;var h=new Buffer(4);h.fill(0),this._ghash=new GHASH(this._cipher.encryptBlock(h)),this._authTag=null,this._called=!1}function xorTest(a,b){var out=0;a.length!==b.length&&out++;for(var len=Math.min(a.length,b.length),i=-1;++i<len;)out+=a[i]^b[i];return out}var aes=__webpack_require__(108),Transform=__webpack_require__(68),inherits=__webpack_require__(2),GHASH=__webpack_require__(388),xor=__webpack_require__(94);inherits(StreamCipher,Transform),module.exports=StreamCipher,StreamCipher.prototype._update=function(chunk){if(!this._called&&this._alen){var rump=16-this._alen%16;rump<16&&(rump=new Buffer(rump),rump.fill(0),this._ghash.update(rump))}this._called=!0;var out=this._mode.encrypt(this,chunk);return this._decrypt?this._ghash.update(chunk):this._ghash.update(out),this._len+=chunk.length,out},StreamCipher.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var tag=xor(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt){if(xorTest(tag,this._authTag))throw new Error("Unsupported state or unable to authenticate data")}else this._authTag=tag;this._cipher.scrub()},StreamCipher.prototype.getAuthTag=function(){if(!this._decrypt&&Buffer.isBuffer(this._authTag))return this._authTag;throw new Error("Attempting to get auth tag in unsupported state")},StreamCipher.prototype.setAuthTag=function(tag){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=tag},StreamCipher.prototype.setAAD=function(buf){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(buf),this._alen+=buf.length}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){var xor=__webpack_require__(94);exports.encrypt=function(self,block){var data=xor(block,self._prev);return self._prev=self._cipher.encryptBlock(data),self._prev},exports.decrypt=function(self,block){var pad=self._prev;self._prev=block;var out=self._cipher.decryptBlock(block);return xor(out,pad)}},function(module,exports,__webpack_require__){(function(Buffer){function encryptStart(self,data,decrypt){var len=data.length,out=xor(data,self._cache);return self._cache=self._cache.slice(len),self._prev=Buffer.concat([self._prev,decrypt?data:out]),out}var xor=__webpack_require__(94);exports.encrypt=function(self,data,decrypt){for(var len,out=new Buffer("");data.length;){if(0===self._cache.length&&(self._cache=self._cipher.encryptBlock(self._prev),self._prev=new Buffer("")),!(self._cache.length<=data.length)){out=Buffer.concat([out,encryptStart(self,data,decrypt)]);break}len=self._cache.length,out=Buffer.concat([out,encryptStart(self,data.slice(0,len),decrypt)]),data=data.slice(len)}return out}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function encryptByte(self,byteParam,decrypt){for(var pad,bit,value,i=-1,len=8,out=0;++i<len;)pad=self._cipher.encryptBlock(self._prev),bit=byteParam&1<<7-i?128:0,value=pad[0]^bit,out+=(128&value)>>i%8,self._prev=shiftIn(self._prev,decrypt?bit:value);return out}function shiftIn(buffer,value){var len=buffer.length,i=-1,out=new Buffer(buffer.length);for(buffer=Buffer.concat([buffer,new Buffer([value])]);++i<len;)out[i]=buffer[i]<<1|buffer[i+1]>>7;return out}exports.encrypt=function(self,chunk,decrypt){for(var len=chunk.length,out=new Buffer(len),i=-1;++i<len;)out[i]=encryptByte(self,chunk[i],decrypt);return out}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function encryptByte(self,byteParam,decrypt){var pad=self._cipher.encryptBlock(self._prev),out=pad[0]^byteParam;return self._prev=Buffer.concat([self._prev.slice(1),new Buffer([decrypt?byteParam:out])]),out}exports.encrypt=function(self,chunk,decrypt){for(var len=chunk.length,out=new Buffer(len),i=-1;++i<len;)out[i]=encryptByte(self,chunk[i],decrypt);return out}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports){exports.encrypt=function(self,block){return self._cipher.encryptBlock(block)},exports.decrypt=function(self,block){return self._cipher.decryptBlock(block)}},function(module,exports,__webpack_require__){(function(Buffer){function getBlock(self){return self._prev=self._cipher.encryptBlock(self._prev),self._prev}var xor=__webpack_require__(94);exports.encrypt=function(self,chunk){for(;self._cache.length<chunk.length;)self._cache=Buffer.concat([self._cache,getBlock(self)]);var pad=self._cache.slice(0,chunk.length);return self._cache=self._cache.slice(chunk.length),xor(chunk,pad)}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function StreamCipher(mode,key,iv,decrypt){return this instanceof StreamCipher?(Transform.call(this),this._cipher=new aes.AES(key),this._prev=new Buffer(iv.length),this._cache=new Buffer(""),this._secCache=new Buffer(""),this._decrypt=decrypt,iv.copy(this._prev),void(this._mode=mode)):new StreamCipher(mode,key,iv)}var aes=__webpack_require__(108),Transform=__webpack_require__(68),inherits=__webpack_require__(2);inherits(StreamCipher,Transform),module.exports=StreamCipher,StreamCipher.prototype._update=function(chunk){return this._mode.encrypt(this,chunk,this._decrypt)},StreamCipher.prototype._final=function(){this._cipher.scrub()}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";(function(Buffer){exports["RSA-SHA224"]=exports.sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:new Buffer("302d300d06096086480165030402040500041c","hex")},exports["RSA-SHA256"]=exports.sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:new Buffer("3031300d060960864801650304020105000420","hex")},exports["RSA-SHA384"]=exports.sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:new Buffer("3041300d060960864801650304020205000430","hex")},exports["RSA-SHA512"]=exports.sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:new Buffer("3051300d060960864801650304020305000440","hex")},exports["RSA-SHA1"]={sign:"rsa",hash:"sha1",id:new Buffer("3021300906052b0e03021a05000414","hex")},exports["ecdsa-with-SHA1"]={sign:"ecdsa",hash:"sha1",id:new Buffer("","hex")},exports.DSA=exports["DSA-SHA1"]=exports["DSA-SHA"]={sign:"dsa",hash:"sha1",id:new Buffer("","hex")},exports["DSA-SHA224"]=exports["DSA-WITH-SHA224"]={sign:"dsa",hash:"sha224",id:new Buffer("","hex")},exports["DSA-SHA256"]=exports["DSA-WITH-SHA256"]={sign:"dsa",hash:"sha256",id:new Buffer("","hex")},exports["DSA-SHA384"]=exports["DSA-WITH-SHA384"]={sign:"dsa",hash:"sha384",id:new Buffer("","hex")},exports["DSA-SHA512"]=exports["DSA-WITH-SHA512"]={sign:"dsa",hash:"sha512",id:new Buffer("","hex")},exports["DSA-RIPEMD160"]={sign:"dsa",hash:"rmd160",id:new Buffer("","hex")},exports["RSA-RIPEMD160"]=exports.ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:new Buffer("3021300906052b2403020105000414","hex")},exports["RSA-MD5"]=exports.md5WithRSAEncryption={sign:"rsa",hash:"md5",id:new Buffer("3020300c06082a864886f70d020505000410","hex")}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports){"use strict";exports["1.3.132.0.10"]="secp256k1",exports["1.3.132.0.33"]="p224",exports["1.2.840.10045.3.1.1"]="p192",exports["1.2.840.10045.3.1.7"]="p256",exports["1.3.132.0.34"]="p384",exports["1.3.132.0.35"]="p521"},function(module,exports){var slice=[].slice;module.exports=function(obj,fn){if("string"==typeof fn&&(fn=obj[fn]),"function"!=typeof fn)throw new Error("bind() requires a function");var args=slice.call(arguments,2);return function(){return fn.apply(obj,args.concat(slice.call(arguments)))}}},function(module,exports,__webpack_require__){var cof=__webpack_require__(38);module.exports=function(it,msg){if("number"!=typeof it&&"Number"!=cof(it))throw TypeError(msg);return+it}},function(module,exports,__webpack_require__){"use strict";var toObject=__webpack_require__(23),toIndex=__webpack_require__(62),toLength=__webpack_require__(22);module.exports=[].copyWithin||function(target,start){var O=toObject(this),len=toLength(O.length),to=toIndex(target,len),from=toIndex(start,len),end=arguments.length>2?arguments[2]:void 0,count=Math.min((void 0===end?len:toIndex(end,len))-from,len-to),inc=1;for(from<to&&to<from+count&&(inc=-1,from+=count-1,to+=count-1);count-- >0;)from in O?O[to]=O[from]:delete O[to],to+=inc,from+=inc;return O}},function(module,exports,__webpack_require__){var forOf=__webpack_require__(70);module.exports=function(iter,ITERATOR){var result=[];return forOf(iter,!1,result.push,result,ITERATOR),result}},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(29),toObject=__webpack_require__(23),IObject=__webpack_require__(96),toLength=__webpack_require__(22);module.exports=function(that,callbackfn,aLen,memo,isRight){aFunction(callbackfn);var O=toObject(that),self=IObject(O),length=toLength(O.length),index=isRight?length-1:0,i=isRight?-1:1;if(aLen<2)for(;;){if(index in self){memo=self[index],index+=i;break}if(index+=i,isRight?index<0:length<=index)throw TypeError("Reduce of empty array with no initial value")}for(;isRight?index>=0:length>index;index+=i)index in self&&(memo=callbackfn(memo,self[index],index,O));return memo}},function(module,exports,__webpack_require__){"use strict";var aFunction=__webpack_require__(29),isObject=__webpack_require__(15),invoke=__webpack_require__(117),arraySlice=[].slice,factories={},construct=function(F,len,args){if(!(len in factories)){for(var n=[],i=0;i<len;i++)n[i]="a["+i+"]";factories[len]=Function("F,a","return new F("+n.join(",")+")")}return factories[len](F,args)};module.exports=Function.bind||function(that){var fn=aFunction(this),partArgs=arraySlice.call(arguments,1),bound=function(){var args=partArgs.concat(arraySlice.call(arguments));return this instanceof bound?construct(fn,args.length,args):invoke(fn,args,that)};return isObject(fn.prototype)&&(bound.prototype=fn.prototype),bound}},function(module,exports,__webpack_require__){"use strict";var dP=__webpack_require__(18).f,create=__webpack_require__(57),redefineAll=__webpack_require__(60),ctx=__webpack_require__(46),anInstance=__webpack_require__(55),defined=__webpack_require__(39),forOf=__webpack_require__(70),$iterDefine=__webpack_require__(150),step=__webpack_require__(226),setSpecies=__webpack_require__(61),DESCRIPTORS=__webpack_require__(17),fastKey=__webpack_require__(50).fastKey,SIZE=DESCRIPTORS?"_s":"size",getEntry=function(that,key){var entry,index=fastKey(key);if("F"!==index)return that._i[index];for(entry=that._f;entry;entry=entry.n)if(entry.k==key)return entry};module.exports={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){anInstance(that,C,NAME,"_i"),that._i=create(null),that._f=void 0,that._l=void 0,that[SIZE]=0,void 0!=iterable&&forOf(iterable,IS_MAP,that[ADDER],that)});return redefineAll(C.prototype,{clear:function(){for(var that=this,data=that._i,entry=that._f;entry;entry=entry.n)entry.r=!0,entry.p&&(entry.p=entry.p.n=void 0),delete data[entry.i];that._f=that._l=void 0,that[SIZE]=0},delete:function(key){var that=this,entry=getEntry(that,key);if(entry){var next=entry.n,prev=entry.p;delete that._i[entry.i],entry.r=!0,prev&&(prev.n=next),next&&(next.p=prev),that._f==entry&&(that._f=next),that._l==entry&&(that._l=prev),that[SIZE]--}return!!entry},forEach:function(callbackfn){anInstance(this,C,"forEach");for(var entry,f=ctx(callbackfn,arguments.length>1?arguments[1]:void 0,3);entry=entry?entry.n:this._f;)for(f(entry.v,entry.k,this);entry&&entry.r;)entry=entry.p},has:function(key){return!!getEntry(this,key)}}),DESCRIPTORS&&dP(C.prototype,"size",{get:function(){return defined(this[SIZE])}}),C},def:function(that,key,value){var prev,index,entry=getEntry(that,key);return entry?entry.v=value:(that._l=entry={i:index=fastKey(key,!0),k:key,v:value,p:prev=that._l,n:void 0,r:!1},that._f||(that._f=entry),prev&&(prev.n=entry),that[SIZE]++,"F"!==index&&(that._i[index]=entry)),that},getEntry:getEntry,setStrong:function(C,NAME,IS_MAP){$iterDefine(C,NAME,function(iterated,kind){this._t=iterated,this._k=kind,this._l=void 0},function(){for(var that=this,kind=that._k,entry=that._l;entry&&entry.r;)entry=entry.p;return that._t&&(that._l=entry=entry?entry.n:that._t._f)?"keys"==kind?step(0,entry.k):"values"==kind?step(0,entry.v):step(0,[entry.k,entry.v]):(that._t=void 0,step(1))},IS_MAP?"entries":"values",!IS_MAP,!0),setSpecies(NAME)}}},function(module,exports,__webpack_require__){var classof=__webpack_require__(95),from=__webpack_require__(217);module.exports=function(NAME){return function(){if(classof(this)!=NAME)throw TypeError(NAME+"#toJSON isn't generic");return from(this)}}},function(module,exports,__webpack_require__){"use strict";var redefineAll=__webpack_require__(60),getWeak=__webpack_require__(50).getWeak,anObject=__webpack_require__(8),isObject=__webpack_require__(15),anInstance=__webpack_require__(55),forOf=__webpack_require__(70),createArrayMethod=__webpack_require__(41),$has=__webpack_require__(26),arrayFind=createArrayMethod(5),arrayFindIndex=createArrayMethod(6),id=0,uncaughtFrozenStore=function(that){return that._l||(that._l=new UncaughtFrozenStore)},UncaughtFrozenStore=function(){this.a=[]},findUncaughtFrozen=function(store,key){return arrayFind(store.a,function(it){return it[0]===key})};UncaughtFrozenStore.prototype={get:function(key){var entry=findUncaughtFrozen(this,key);if(entry)return entry[1]},has:function(key){return!!findUncaughtFrozen(this,key)},set:function(key,value){var entry=findUncaughtFrozen(this,key);entry?entry[1]=value:this.a.push([key,value])},delete:function(key){var index=arrayFindIndex(this.a,function(it){return it[0]===key});return~index&&this.a.splice(index,1),!!~index}},module.exports={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){anInstance(that,C,NAME,"_i"),that._i=id++,that._l=void 0,void 0!=iterable&&forOf(iterable,IS_MAP,that[ADDER],that)});return redefineAll(C.prototype,{delete:function(key){if(!isObject(key))return!1;var data=getWeak(key);return data===!0?uncaughtFrozenStore(this).delete(key):data&&$has(data,this._i)&&delete data[this._i]},has:function(key){if(!isObject(key))return!1;var data=getWeak(key);return data===!0?uncaughtFrozenStore(this).has(key):data&&$has(data,this._i)}}),C},def:function(that,key,value){var data=getWeak(anObject(key),!0);return data===!0?uncaughtFrozenStore(that).set(key,value):data[that._i]=value,that},ufstore:uncaughtFrozenStore}},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(17)&&!__webpack_require__(12)(function(){return 7!=Object.defineProperty(__webpack_require__(142)("div"),"a",{get:function(){return 7}}).a})},function(module,exports,__webpack_require__){var isObject=__webpack_require__(15),floor=Math.floor;module.exports=function(it){return!isObject(it)&&isFinite(it)&&floor(it)===it}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(8);module.exports=function(iterator,fn,value,entries){try{return entries?fn(anObject(value)[0],value[1]):fn(value)}catch(e){var ret=iterator.return;throw void 0!==ret&&anObject(ret.call(iterator)),e}}},function(module,exports){module.exports=function(done,value){return{value:value,done:!!done}}},function(module,exports){module.exports=Math.log1p||function(x){return(x=+x)>-1e-8&&x<1e-8?x-x*x/2:Math.log(1+x)}},function(module,exports,__webpack_require__){"use strict";var getKeys=__webpack_require__(59),gOPS=__webpack_require__(121),pIE=__webpack_require__(97),toObject=__webpack_require__(23),IObject=__webpack_require__(96),$assign=Object.assign;module.exports=!$assign||__webpack_require__(12)(function(){var A={},B={},S=Symbol(),K="abcdefghijklmnopqrst";return A[S]=7,K.split("").forEach(function(k){B[k]=k}),7!=$assign({},A)[S]||Object.keys($assign({},B)).join("")!=K})?function(target,source){for(var T=toObject(target),aLen=arguments.length,index=1,getSymbols=gOPS.f,isEnum=pIE.f;aLen>index;)for(var key,S=IObject(arguments[index++]),keys=getSymbols?getKeys(S).concat(getSymbols(S)):getKeys(S),length=keys.length,j=0;length>j;)isEnum.call(S,key=keys[j++])&&(T[key]=S[key]);return T}:$assign},function(module,exports,__webpack_require__){var dP=__webpack_require__(18),anObject=__webpack_require__(8),getKeys=__webpack_require__(59);module.exports=__webpack_require__(17)?Object.defineProperties:function(O,Properties){anObject(O);for(var P,keys=getKeys(Properties),length=keys.length,i=0;length>i;)dP.f(O,P=keys[i++],Properties[P]);return O}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(33),gOPN=__webpack_require__(58).f,toString={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(it){try{return gOPN(it)}catch(e){return windowNames.slice()}};module.exports.f=function(it){return windowNames&&"[object Window]"==toString.call(it)?getWindowNames(it):gOPN(toIObject(it))}},function(module,exports,__webpack_require__){var has=__webpack_require__(26),toIObject=__webpack_require__(33),arrayIndexOf=__webpack_require__(113)(!1),IE_PROTO=__webpack_require__(155)("IE_PROTO");module.exports=function(object,names){var key,O=toIObject(object),i=0,result=[];for(key in O)key!=IE_PROTO&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~arrayIndexOf(result,key)||result.push(key));return result}},function(module,exports,__webpack_require__){var getKeys=__webpack_require__(59),toIObject=__webpack_require__(33),isEnum=__webpack_require__(97).f;module.exports=function(isEntries){return function(it){for(var key,O=toIObject(it),keys=getKeys(O),length=keys.length,i=0,result=[];length>i;)isEnum.call(O,key=keys[i++])&&result.push(isEntries?[key,O[key]]:O[key]);return result}}},function(module,exports,__webpack_require__){var gOPN=__webpack_require__(58),gOPS=__webpack_require__(121),anObject=__webpack_require__(8),Reflect=__webpack_require__(11).Reflect;module.exports=Reflect&&Reflect.ownKeys||function(it){var keys=gOPN.f(anObject(it)),getSymbols=gOPS.f;return getSymbols?keys.concat(getSymbols(it)):keys}},function(module,exports,__webpack_require__){var $parseFloat=__webpack_require__(11).parseFloat,$trim=__webpack_require__(73).trim;module.exports=1/$parseFloat(__webpack_require__(160)+"-0")!==-(1/0)?function(str){var string=$trim(String(str),3),result=$parseFloat(string);return 0===result&&"-"==string.charAt(0)?-0:result}:$parseFloat},function(module,exports,__webpack_require__){var $parseInt=__webpack_require__(11).parseInt,$trim=__webpack_require__(73).trim,ws=__webpack_require__(160),hex=/^[\-+]?0[xX]/;module.exports=8!==$parseInt(ws+"08")||22!==$parseInt(ws+"0x16")?function(str,radix){var string=$trim(String(str),3);return $parseInt(string,radix>>>0||(hex.test(string)?16:10))}:$parseInt},function(module,exports){module.exports=Object.is||function(x,y){return x===y?0!==x||1/x===1/y:x!=x&&y!=y}},function(module,exports,__webpack_require__){var toLength=__webpack_require__(22),repeat=__webpack_require__(159),defined=__webpack_require__(39);module.exports=function(that,maxLength,fillString,left){var S=String(defined(that)),stringLength=S.length,fillStr=void 0===fillString?" ":String(fillString),intMaxLength=toLength(maxLength);if(intMaxLength<=stringLength||""==fillStr)return S;var fillLen=intMaxLength-stringLength,stringFiller=repeat.call(fillStr,Math.ceil(fillLen/fillStr.length));return stringFiller.length>fillLen&&(stringFiller=stringFiller.slice(0,fillLen)),left?stringFiller+S:S+stringFiller}},function(module,exports,__webpack_require__){exports.f=__webpack_require__(16)},function(module,exports,__webpack_require__){"use strict";var strong=__webpack_require__(220);module.exports=__webpack_require__(114)("Map",function(get){return function(){return get(this,arguments.length>0?arguments[0]:void 0)}},{get:function(key){var entry=strong.getEntry(this,key);return entry&&entry.v},set:function(key,value){return strong.def(this,0===key?0:key,value)}},strong,!0)},function(module,exports,__webpack_require__){__webpack_require__(17)&&"g"!=/./g.flags&&__webpack_require__(18).f(RegExp.prototype,"flags",{configurable:!0,get:__webpack_require__(116)})},function(module,exports,__webpack_require__){"use strict";var strong=__webpack_require__(220);module.exports=__webpack_require__(114)("Set",function(get){return function(){return get(this,arguments.length>0?arguments[0]:void 0)}},{add:function(value){return strong.def(this,value=0===value?0:value,value)}},strong)},function(module,exports,__webpack_require__){"use strict";var InternalMap,each=__webpack_require__(41)(0),redefine=__webpack_require__(31),meta=__webpack_require__(50),assign=__webpack_require__(228),weak=__webpack_require__(222),isObject=__webpack_require__(15),getWeak=meta.getWeak,isExtensible=Object.isExtensible,uncaughtFrozenStore=weak.ufstore,tmp={},wrapper=function(get){return function(){return get(this,arguments.length>0?arguments[0]:void 0)}},methods={get:function(key){if(isObject(key)){var data=getWeak(key);return data===!0?uncaughtFrozenStore(this).get(key):data?data[this._i]:void 0}},set:function(key,value){return weak.def(this,key,value)}},$WeakMap=module.exports=__webpack_require__(114)("WeakMap",wrapper,methods,weak,!0,!0);7!=(new $WeakMap).set((Object.freeze||Object)(tmp),7).get(tmp)&&(InternalMap=weak.getConstructor(wrapper),assign(InternalMap.prototype,methods),meta.NEED=!0,each(["delete","has","get","set"],function(key){var proto=$WeakMap.prototype,method=proto[key];redefine(proto,key,function(a,b){if(isObject(a)&&!isExtensible(a)){this._f||(this._f=new InternalMap);var result=this._f[key](a,b);return"set"==key?this:result}return method.call(this,a,b)})}))},function(module,exports,__webpack_require__){"use strict";function core_md5(x,len){x[len>>5]|=128<<len%32,x[(len+64>>>9<<4)+14]=len;for(var a=1732584193,b=-271733879,c=-1732584194,d=271733878,i=0;i<x.length;i+=16){var olda=a,oldb=b,oldc=c,oldd=d;a=md5_ff(a,b,c,d,x[i+0],7,-680876936),d=md5_ff(d,a,b,c,x[i+1],12,-389564586),c=md5_ff(c,d,a,b,x[i+2],17,606105819),b=md5_ff(b,c,d,a,x[i+3],22,-1044525330),a=md5_ff(a,b,c,d,x[i+4],7,-176418897),d=md5_ff(d,a,b,c,x[i+5],12,1200080426),c=md5_ff(c,d,a,b,x[i+6],17,-1473231341),b=md5_ff(b,c,d,a,x[i+7],22,-45705983),a=md5_ff(a,b,c,d,x[i+8],7,1770035416),d=md5_ff(d,a,b,c,x[i+9],12,-1958414417),c=md5_ff(c,d,a,b,x[i+10],17,-42063),b=md5_ff(b,c,d,a,x[i+11],22,-1990404162),a=md5_ff(a,b,c,d,x[i+12],7,1804603682),d=md5_ff(d,a,b,c,x[i+13],12,-40341101),c=md5_ff(c,d,a,b,x[i+14],17,-1502002290),b=md5_ff(b,c,d,a,x[i+15],22,1236535329),a=md5_gg(a,b,c,d,x[i+1],5,-165796510),d=md5_gg(d,a,b,c,x[i+6],9,-1069501632),c=md5_gg(c,d,a,b,x[i+11],14,643717713),b=md5_gg(b,c,d,a,x[i+0],20,-373897302),a=md5_gg(a,b,c,d,x[i+5],5,-701558691),d=md5_gg(d,a,b,c,x[i+10],9,38016083),c=md5_gg(c,d,a,b,x[i+15],14,-660478335),b=md5_gg(b,c,d,a,x[i+4],20,-405537848),a=md5_gg(a,b,c,d,x[i+9],5,568446438),d=md5_gg(d,a,b,c,x[i+14],9,-1019803690),c=md5_gg(c,d,a,b,x[i+3],14,-187363961),b=md5_gg(b,c,d,a,x[i+8],20,1163531501),a=md5_gg(a,b,c,d,x[i+13],5,-1444681467),d=md5_gg(d,a,b,c,x[i+2],9,-51403784),c=md5_gg(c,d,a,b,x[i+7],14,1735328473),b=md5_gg(b,c,d,a,x[i+12],20,-1926607734),a=md5_hh(a,b,c,d,x[i+5],4,-378558),d=md5_hh(d,a,b,c,x[i+8],11,-2022574463),c=md5_hh(c,d,a,b,x[i+11],16,1839030562),b=md5_hh(b,c,d,a,x[i+14],23,-35309556),a=md5_hh(a,b,c,d,x[i+1],4,-1530992060),d=md5_hh(d,a,b,c,x[i+4],11,1272893353),c=md5_hh(c,d,a,b,x[i+7],16,-155497632),b=md5_hh(b,c,d,a,x[i+10],23,-1094730640),a=md5_hh(a,b,c,d,x[i+13],4,681279174),d=md5_hh(d,a,b,c,x[i+0],11,-358537222),c=md5_hh(c,d,a,b,x[i+3],16,-722521979),b=md5_hh(b,c,d,a,x[i+6],23,76029189),a=md5_hh(a,b,c,d,x[i+9],4,-640364487),d=md5_hh(d,a,b,c,x[i+12],11,-421815835),c=md5_hh(c,d,a,b,x[i+15],16,530742520),b=md5_hh(b,c,d,a,x[i+2],23,-995338651),a=md5_ii(a,b,c,d,x[i+0],6,-198630844),d=md5_ii(d,a,b,c,x[i+7],10,1126891415),c=md5_ii(c,d,a,b,x[i+14],15,-1416354905),b=md5_ii(b,c,d,a,x[i+5],21,-57434055),a=md5_ii(a,b,c,d,x[i+12],6,1700485571),d=md5_ii(d,a,b,c,x[i+3],10,-1894986606),c=md5_ii(c,d,a,b,x[i+10],15,-1051523),b=md5_ii(b,c,d,a,x[i+1],21,-2054922799),
a=md5_ii(a,b,c,d,x[i+8],6,1873313359),d=md5_ii(d,a,b,c,x[i+15],10,-30611744),c=md5_ii(c,d,a,b,x[i+6],15,-1560198380),b=md5_ii(b,c,d,a,x[i+13],21,1309151649),a=md5_ii(a,b,c,d,x[i+4],6,-145523070),d=md5_ii(d,a,b,c,x[i+11],10,-1120210379),c=md5_ii(c,d,a,b,x[i+2],15,718787259),b=md5_ii(b,c,d,a,x[i+9],21,-343485551),a=safe_add(a,olda),b=safe_add(b,oldb),c=safe_add(c,oldc),d=safe_add(d,oldd)}return Array(a,b,c,d)}function md5_cmn(q,a,b,x,s,t){return safe_add(bit_rol(safe_add(safe_add(a,q),safe_add(x,t)),s),b)}function md5_ff(a,b,c,d,x,s,t){return md5_cmn(b&c|~b&d,a,b,x,s,t)}function md5_gg(a,b,c,d,x,s,t){return md5_cmn(b&d|c&~d,a,b,x,s,t)}function md5_hh(a,b,c,d,x,s,t){return md5_cmn(b^c^d,a,b,x,s,t)}function md5_ii(a,b,c,d,x,s,t){return md5_cmn(c^(b|~d),a,b,x,s,t)}function safe_add(x,y){var lsw=(65535&x)+(65535&y),msw=(x>>16)+(y>>16)+(lsw>>16);return msw<<16|65535&lsw}function bit_rol(num,cnt){return num<<cnt|num>>>32-cnt}var helpers=__webpack_require__(579);module.exports=function(buf){return helpers.hash(buf,core_md5,16)}},function(module,exports,__webpack_require__){"use strict";exports.randomBytes=exports.rng=exports.pseudoRandomBytes=exports.prng=__webpack_require__(100),exports.createHash=exports.Hash=__webpack_require__(74),exports.createHmac=exports.Hmac=__webpack_require__(166);var hashes=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(Object.keys(__webpack_require__(212)));exports.getHashes=function(){return hashes};var p=__webpack_require__(282);exports.pbkdf2=p.pbkdf2,exports.pbkdf2Sync=p.pbkdf2Sync;var aes=__webpack_require__(389);["Cipher","createCipher","Cipheriv","createCipheriv","Decipher","createDecipher","Decipheriv","createDecipheriv","getCiphers","listCiphers"].forEach(function(key){exports[key]=aes[key]});var dh=__webpack_require__(588);["DiffieHellmanGroup","createDiffieHellmanGroup","getDiffieHellman","createDiffieHellman","DiffieHellman"].forEach(function(key){exports[key]=dh[key]});var sign=__webpack_require__(392);["createSign","Sign","createVerify","Verify"].forEach(function(key){exports[key]=sign[key]}),exports.createECDH=__webpack_require__(578);var publicEncrypt=__webpack_require__(721);["publicEncrypt","privateEncrypt","publicDecrypt","privateDecrypt"].forEach(function(key){exports[key]=publicEncrypt[key]}),["createCredentials"].forEach(function(name){exports[name]=function(){throw new Error(["sorry, "+name+" is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))}})},function(module,exports,__webpack_require__){function _getPrimes(){if(null!==primes)return primes;var limit=1048576,res=[];res[0]=2;for(var i=1,k=3;k<limit;k+=2){for(var sqrt=Math.ceil(Math.sqrt(k)),j=0;j<i&&res[j]<=sqrt&&k%res[j]!==0;j++);i!==j&&res[j]<=sqrt||(res[i++]=k)}return primes=res,res}function simpleSieve(p){for(var primes=_getPrimes(),i=0;i<primes.length;i++)if(0===p.modn(primes[i]))return 0===p.cmpn(primes[i]);return!0}function fermatTest(p){var red=BN.mont(p);return 0===TWO.toRed(red).redPow(p.subn(1)).fromRed().cmpn(1)}function findPrime(bits,gen){if(bits<16)return new BN(2===gen||5===gen?[140,123]:[140,39]);gen=new BN(gen);for(var num,n2;;){for(num=new BN(randomBytes(Math.ceil(bits/8)));num.bitLength()>bits;)num.ishrn(1);if(num.isEven()&&num.iadd(ONE),num.testn(1)||num.iadd(TWO),gen.cmp(TWO)){if(!gen.cmp(FIVE))for(;num.mod(TEN).cmp(THREE);)num.iadd(FOUR)}else for(;num.mod(TWENTYFOUR).cmp(ELEVEN);)num.iadd(FOUR);if(n2=num.shrn(1),simpleSieve(n2)&&simpleSieve(num)&&fermatTest(n2)&&fermatTest(num)&&millerRabin.test(n2)&&millerRabin.test(num))return num}}var randomBytes=__webpack_require__(100);module.exports=findPrime,findPrime.simpleSieve=simpleSieve,findPrime.fermatTest=fermatTest;var BN=__webpack_require__(19),TWENTYFOUR=new BN(24),MillerRabin=__webpack_require__(276),millerRabin=new MillerRabin,ONE=new BN(1),TWO=new BN(2),FIVE=new BN(5),TEN=(new BN(16),new BN(8),new BN(10)),THREE=new BN(3),ELEVEN=(new BN(7),new BN(11)),FOUR=new BN(4),primes=(new BN(12),null)},function(module,exports,__webpack_require__){"use strict";(function(process){function prependListener(emitter,event,fn){return hasPrependListener?emitter.prependListener(event,fn):void(emitter._events&&emitter._events[event]?isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn))}function ReadableState(options,stream){Duplex=Duplex||__webpack_require__(75),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=options.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=__webpack_require__(13).StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){return Duplex=Duplex||__webpack_require__(75),this instanceof Readable?(this._readableState=new ReadableState(options,this),this.readable=!0,options&&"function"==typeof options.read&&(this._read=options.read),void Stream.call(this)):new Readable(options)}function readableAddChunk(stream,state,chunk,encoding,addToFront){var er=chunkInvalid(state,chunk);if(er)stream.emit("error",er);else if(null===chunk)state.reading=!1,onEofChunk(stream,state);else if(state.objectMode||chunk&&chunk.length>0)if(state.ended&&!addToFront){var e=new Error("stream.push() after EOF");stream.emit("error",e)}else if(state.endEmitted&&addToFront){var _e=new Error("stream.unshift() after end event");stream.emit("error",_e)}else{var skipAdd;!state.decoder||addToFront||encoding||(chunk=state.decoder.write(chunk),skipAdd=!state.objectMode&&0===chunk.length),addToFront||(state.reading=!1),skipAdd||(state.flowing&&0===state.length&&!state.sync?(stream.emit("data",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream))),maybeReadMore(stream,state)}else addToFront||(state.reading=!1);return needMoreData(state)}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}function computeNewHighWaterMark(n){return n>=MAX_HWM?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}function howMuchToRead(n,state){return 0===state.length&&state.ended?0:state.objectMode?0===n?0:1:null===n||isNaN(n)?state.flowing&&state.buffer.length?state.buffer[0].length:state.length:n<=0?0:(n>state.highWaterMark&&(state.highWaterMark=computeNewHighWaterMark(n)),n>state.length?state.ended?state.length:(state.needReadable=!0,0):n)}function chunkInvalid(state,chunk){var er=null;return Buffer.isBuffer(chunk)||"string"==typeof chunk||null===chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er}function onEofChunk(stream,state){if(!state.ended){if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,emitReadable(stream)}}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,state.sync?processNextTick(emitReadable_,stream):emitReadable_(stream))}function emitReadable_(stream){debug("emit readable"),stream.emit("readable"),flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,processNextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(var len=state.length;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug("maybeReadMore read 0"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,"data")&&(state.flowing=!0,flow(src))}}function nReadingNextTick(self){debug("readable nexttick read 0"),self.read(0)}function resume(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,processNextTick(resume_,stream,state))}function resume_(stream,state){state.reading||(debug("resume read 0"),stream.read(0)),state.resumeScheduled=!1,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;if(debug("flow",state.flowing),state.flowing)do var chunk=stream.read();while(null!==chunk&&state.flowing)}function fromList(n,state){var ret,list=state.buffer,length=state.length,stringMode=!!state.decoder,objectMode=!!state.objectMode;if(0===list.length)return null;if(0===length)ret=null;else if(objectMode)ret=list.shift();else if(!n||n>=length)ret=stringMode?list.join(""):1===list.length?list[0]:Buffer.concat(list,length),list.length=0;else if(n<list[0].length){var buf=list[0];ret=buf.slice(0,n),list[0]=buf.slice(n)}else if(n===list[0].length)ret=list.shift();else{ret=stringMode?"":bufferShim.allocUnsafe(n);for(var c=0,i=0,l=list.length;i<l&&c<n;i++){var _buf=list[0],cpy=Math.min(n-c,_buf.length);stringMode?ret+=_buf.slice(0,cpy):_buf.copy(ret,c,0,cpy),cpy<_buf.length?list[0]=_buf.slice(cpy):list.shift(),c+=cpy}}return ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error('"endReadable()" called on non-empty stream');state.endEmitted||(state.ended=!0,processNextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit("end"))}function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++)f(xs[i],i)}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}module.exports=Readable;var processNextTick=__webpack_require__(7),isArray=__webpack_require__(34);Readable.ReadableState=ReadableState;var Stream,EE=__webpack_require__(5).EventEmitter,EElistenerCount=function(emitter,type){return emitter.listeners(type).length};!function(){try{Stream=__webpack_require__(6)}catch(_){}finally{Stream||(Stream=__webpack_require__(5).EventEmitter)}}();var Buffer=__webpack_require__(0).Buffer,bufferShim=__webpack_require__(20),util=__webpack_require__(4);util.inherits=__webpack_require__(2);var debugUtil=__webpack_require__(793),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var StringDecoder;util.inherits(Readable,Stream);var Duplex,Duplex,hasPrependListener="function"==typeof EE.prototype.prependListener;Readable.prototype.push=function(chunk,encoding){var state=this._readableState;return state.objectMode||"string"!=typeof chunk||(encoding=encoding||state.defaultEncoding,encoding!==state.encoding&&(chunk=bufferShim.from(chunk,encoding),encoding="")),readableAddChunk(this,state,chunk,encoding,!1)},Readable.prototype.unshift=function(chunk){var state=this._readableState;return readableAddChunk(this,state,chunk,"",!0)},Readable.prototype.isPaused=function(){return this._readableState.flowing===!1},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=__webpack_require__(13).StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};var MAX_HWM=8388608;Readable.prototype.read=function(n){debug("read",n);var state=this._readableState,nOrig=n;if(("number"!=typeof n||n>0)&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug("read: emitReadable",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(n=howMuchToRead(n,state),0===n&&state.ended)return 0===state.length&&endReadable(this),null;var doRead=state.needReadable;debug("need readable",doRead),(0===state.length||state.length-n<state.highWaterMark)&&(doRead=!0,debug("length less than watermark",doRead)),(state.ended||state.reading)&&(doRead=!1,debug("reading or ended",doRead)),doRead&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1),doRead&&!state.reading&&(n=howMuchToRead(nOrig,state));var ret;return ret=n>0?fromList(n,state):null,null===ret&&(state.needReadable=!0,n=0),state.length-=n,0!==state.length||state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&0===state.length&&endReadable(this),null!==ret&&this.emit("data",ret),ret},Readable.prototype._read=function(n){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(dest,pipeOpts){function onunpipe(readable){debug("onunpipe"),readable===src&&cleanup()}function onend(){debug("onend"),dest.end()}function cleanup(){debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",cleanup),src.removeListener("data",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain()}function ondata(chunk){debug("ondata");var ret=dest.write(chunk);!1===ret&&((1===state.pipesCount&&state.pipes===dest||state.pipesCount>1&&indexOf(state.pipes,dest)!==-1)&&!cleanedUp&&(debug("false write response, pause",src._readableState.awaitDrain),src._readableState.awaitDrain++),src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EElistenerCount(dest,"error")&&dest.emit("error",er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||pipeOpts.end!==!1)&&dest!==process.stdout&&dest!==process.stderr,endFn=doEnd?onend:cleanup;state.endEmitted?processNextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=!1;return src.on("data",ondata),prependListener(dest,"error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState;if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes?this:(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this),this);if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var _i=0;_i<len;_i++)dests[_i].emit("unpipe",this);return this}var i=indexOf(state.pipes,dest);return i===-1?this:(state.pipes.splice(i,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this),this)},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if("data"===ev&&!1!==this._readableState.flowing&&this.resume(),"readable"===ev&&!this._readableState.endEmitted){var state=this._readableState;state.readableListening||(state.readableListening=!0,state.emittedReadable=!1,state.needReadable=!0,state.reading?state.length&&emitReadable(this,state):processNextTick(nReadingNextTick,this))}return res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!0,resume(this,state)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(stream){var state=this._readableState,paused=!1,self=this;stream.on("end",function(){if(debug("wrapped end"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&self.push(chunk)}self.push(null)}),stream.on("data",function(chunk){if(debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),(!state.objectMode||null!==chunk&&void 0!==chunk)&&(state.objectMode||chunk&&chunk.length)){var ret=self.push(chunk);ret||(paused=!0,stream.pause())}});for(var i in stream)void 0===this[i]&&"function"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));var events=["error","close","destroy","pause","resume"];return forEach(events,function(ev){stream.on(ev,self.emit.bind(self,ev))}),self._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},self},Readable._fromList=fromList}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";function TransformState(stream){this.afterTransform=function(er,data){return afterTransform(stream,er,data)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(stream,er,data){var ts=stream._transformState;ts.transforming=!1;var cb=ts.writecb;if(!cb)return stream.emit("error",new Error("no writecb in Transform class"));ts.writechunk=null,ts.writecb=null,null!==data&&void 0!==data&&stream.push(data),cb(er);var rs=stream._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&stream._read(rs.highWaterMark)}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState=new TransformState(this);var stream=this;this._readableState.needReadable=!0,this._readableState.sync=!1,options&&("function"==typeof options.transform&&(this._transform=options.transform),"function"==typeof options.flush&&(this._flush=options.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(er){done(stream,er)}):done(stream)})}function done(stream,er){if(er)return stream.emit("error",er);var ws=stream._writableState,ts=stream._transformState;if(ws.length)throw new Error("Calling transform done when ws.length != 0");if(ts.transforming)throw new Error("Calling transform done when still transforming");return stream.push(null)}module.exports=Transform;var Duplex=__webpack_require__(75),util=__webpack_require__(4);util.inherits=__webpack_require__(2),util.inherits(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("Not implemented")},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;null!==ts.writechunk&&ts.writecb&&!ts.transforming?(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)):ts.needTransform=!0}},function(module,exports,__webpack_require__){"use strict";(function(process,setImmediate){function nop(){}function WriteReq(chunk,encoding,cb){this.chunk=chunk,this.encoding=encoding,this.callback=cb,this.next=null}function WritableState(options,stream){Duplex=Duplex||__webpack_require__(75),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var noDecode=options.decodeStrings===!1;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){onwrite(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){return Duplex=Duplex||__webpack_require__(75),this instanceof Writable||this instanceof Duplex?(this._writableState=new WritableState(options,this),this.writable=!0,options&&("function"==typeof options.write&&(this._write=options.write),"function"==typeof options.writev&&(this._writev=options.writev)),void Stream.call(this)):new Writable(options)}function writeAfterEnd(stream,cb){var er=new Error("write after end");stream.emit("error",er),processNextTick(cb,er)}function validChunk(stream,state,chunk,cb){var valid=!0,er=!1;return null===chunk?er=new TypeError("May not write null values to stream"):Buffer.isBuffer(chunk)||"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er&&(stream.emit("error",er),processNextTick(cb,er),valid=!1),valid}function decodeChunk(state,chunk,encoding){return state.objectMode||state.decodeStrings===!1||"string"!=typeof chunk||(chunk=bufferShim.from(chunk,encoding)),chunk}function writeOrBuffer(stream,state,chunk,encoding,cb){chunk=decodeChunk(state,chunk,encoding),Buffer.isBuffer(chunk)&&(encoding="buffer");var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(ret||(state.needDrain=!0),state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest=new WriteReq(chunk,encoding,cb),last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function onwriteError(stream,state,sync,er,cb){--state.pendingcb,sync?processNextTick(cb,er):cb(er),stream._writableState.errorEmitted=!0,stream.emit("error",er)}function onwriteStateUpdate(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}function onwrite(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if(onwriteStateUpdate(state),er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state);finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?asyncWrite(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}function afterWrite(stream,state,finished,cb){finished||onwriteDrain(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function onwriteDrain(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=new Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0;entry;)buffer[count]=entry,entry=entry.next,count+=1;doWrite(stream,state,!0,state.length,buffer,"",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state)}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback,len=state.objectMode?1:chunk.length;if(doWrite(stream,state,!1,len,chunk,encoding,cb),entry=entry.next,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequestCount=0,state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function prefinish(stream,state){state.prefinished||(state.prefinished=!0,stream.emit("prefinish"))}function finishMaybe(stream,state){var need=needFinish(state);return need&&(0===state.pendingcb?(prefinish(stream,state),state.finished=!0,stream.emit("finish")):prefinish(stream,state)),need}function endWritable(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?processNextTick(cb):stream.once("finish",cb)),state.ended=!0,stream.writable=!1}function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(err){var entry=_this.entry;for(_this.entry=null;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree?state.corkedRequestsFree.next=_this:state.corkedRequestsFree=_this}}module.exports=Writable;var processNextTick=__webpack_require__(7),asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:processNextTick;Writable.WritableState=WritableState;var util=__webpack_require__(4);util.inherits=__webpack_require__(2);var Stream,internalUtil={deprecate:__webpack_require__(37)};!function(){try{Stream=__webpack_require__(6)}catch(_){}finally{Stream||(Stream=__webpack_require__(5).EventEmitter)}}();var Buffer=__webpack_require__(0).Buffer,bufferShim=__webpack_require__(20);util.inherits(Writable,Stream);var Duplex;WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(_){}}();var Duplex;Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState,ret=!1;return"function"==typeof encoding&&(cb=encoding,encoding=null),Buffer.isBuffer(chunk)?encoding="buffer":encoding||(encoding=state.defaultEncoding),"function"!=typeof cb&&(cb=nop),state.ended?writeAfterEnd(this,cb):validChunk(this,state,chunk,cb)&&(state.pendingcb++,ret=writeOrBuffer(this,state,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){var state=this._writableState;state.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if("string"==typeof encoding&&(encoding=encoding.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);return this._writableState.defaultEncoding=encoding,this},Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;"function"==typeof chunk?(cb=chunk,chunk=null,encoding=null):"function"==typeof encoding&&(cb=encoding,encoding=null),null!==chunk&&void 0!==chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||endWritable(this,state,cb)}}).call(exports,__webpack_require__(3),__webpack_require__(21).setImmediate)},function(module,exports,__webpack_require__){(function(global){function polling(opts){var xhr,xd=!1,xs=!1,jsonp=!1!==opts.jsonp;if(global.location){var isSSL="https:"==location.protocol,port=location.port;port||(port=isSSL?443:80),xd=opts.hostname!=location.hostname||port!=opts.port,xs=opts.secure!=isSSL}if(opts.xdomain=xd,opts.xscheme=xs,xhr=new XMLHttpRequest(opts),"open"in xhr&&!opts.forceJSONP)return new XHR(opts);if(!jsonp)throw new Error("JSONP disabled");return new JSONP(opts)}var XMLHttpRequest=__webpack_require__(170),XHR=__webpack_require__(613),JSONP=__webpack_require__(612),websocket=__webpack_require__(614);exports.polling=polling,exports.websocket=websocket}).call(exports,__webpack_require__(9))},function(module,exports,__webpack_require__){function Polling(opts){var forceBase64=opts&&opts.forceBase64;hasXHR2&&!forceBase64||(this.supportsBinary=!1),Transport.call(this,opts)}var Transport=__webpack_require__(169),parseqs=__webpack_require__(179),parser=__webpack_require__(76),inherit=__webpack_require__(112),yeast=__webpack_require__(315),debug=__webpack_require__(10)("engine.io-client:polling");module.exports=Polling;var hasXHR2=function(){var XMLHttpRequest=__webpack_require__(170),xhr=new XMLHttpRequest({xdomain:!1});return null!=xhr.responseType}();inherit(Polling,Transport),Polling.prototype.name="polling",Polling.prototype.doOpen=function(){this.poll()},Polling.prototype.pause=function(onPause){function pause(){debug("paused"),self.readyState="paused",onPause()}var self=this;if(this.readyState="pausing",this.polling||!this.writable){var total=0;this.polling&&(debug("we are currently polling - waiting to pause"),total++,this.once("pollComplete",function(){debug("pre-pause polling complete"),--total||pause()})),this.writable||(debug("we are currently writing - waiting to pause"),total++,this.once("drain",function(){debug("pre-pause writing complete"),--total||pause()}))}else pause()},Polling.prototype.poll=function(){debug("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},Polling.prototype.onData=function(data){var self=this;debug("polling got data %s",data);var callback=function(packet,index,total){return"opening"==self.readyState&&self.onOpen(),"close"==packet.type?(self.onClose(),!1):void self.onPacket(packet)};parser.decodePayload(data,this.socket.binaryType,callback),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():debug('ignoring poll - transport state "%s"',this.readyState))},Polling.prototype.doClose=function(){function close(){debug("writing close packet"),self.write([{type:"close"}])}var self=this;"open"==this.readyState?(debug("transport open - closing"),close()):(debug("transport not open - deferring close"),this.once("open",close))},Polling.prototype.write=function(packets){var self=this;this.writable=!1;var callbackfn=function(){self.writable=!0,self.emit("drain")},self=this;parser.encodePayload(packets,this.supportsBinary,function(data){self.doWrite(data,callbackfn)})},Polling.prototype.uri=function(){var query=this.query||{},schema=this.secure?"https":"http",port="";!1!==this.timestampRequests&&(query[this.timestampParam]=yeast()),this.supportsBinary||query.sid||(query.b64=1),query=parseqs.encode(query),this.port&&("https"==schema&&443!=this.port||"http"==schema&&80!=this.port)&&(port=":"+this.port),query.length&&(query="?"+query);var ipv6=this.hostname.indexOf(":")!==-1;return schema+"://"+(ipv6?"["+this.hostname+"]":this.hostname)+port+this.path+query}},function(module,exports,__webpack_require__){"use strict";(function(process){function prependListener(emitter,event,fn){return hasPrependListener?emitter.prependListener(event,fn):void(emitter._events&&emitter._events[event]?isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn));
}function ReadableState(options,stream){Duplex=Duplex||__webpack_require__(77),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=options.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=__webpack_require__(13).StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){return Duplex=Duplex||__webpack_require__(77),this instanceof Readable?(this._readableState=new ReadableState(options,this),this.readable=!0,options&&"function"==typeof options.read&&(this._read=options.read),void Stream.call(this)):new Readable(options)}function readableAddChunk(stream,state,chunk,encoding,addToFront){var er=chunkInvalid(state,chunk);if(er)stream.emit("error",er);else if(null===chunk)state.reading=!1,onEofChunk(stream,state);else if(state.objectMode||chunk&&chunk.length>0)if(state.ended&&!addToFront){var e=new Error("stream.push() after EOF");stream.emit("error",e)}else if(state.endEmitted&&addToFront){var _e=new Error("stream.unshift() after end event");stream.emit("error",_e)}else{var skipAdd;!state.decoder||addToFront||encoding||(chunk=state.decoder.write(chunk),skipAdd=!state.objectMode&&0===chunk.length),addToFront||(state.reading=!1),skipAdd||(state.flowing&&0===state.length&&!state.sync?(stream.emit("data",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream))),maybeReadMore(stream,state)}else addToFront||(state.reading=!1);return needMoreData(state)}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}function computeNewHighWaterMark(n){return n>=MAX_HWM?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}function howMuchToRead(n,state){return 0===state.length&&state.ended?0:state.objectMode?0===n?0:1:null===n||isNaN(n)?state.flowing&&state.buffer.length?state.buffer[0].length:state.length:n<=0?0:(n>state.highWaterMark&&(state.highWaterMark=computeNewHighWaterMark(n)),n>state.length?state.ended?state.length:(state.needReadable=!0,0):n)}function chunkInvalid(state,chunk){var er=null;return Buffer.isBuffer(chunk)||"string"==typeof chunk||null===chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er}function onEofChunk(stream,state){if(!state.ended){if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,emitReadable(stream)}}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,state.sync?processNextTick(emitReadable_,stream):emitReadable_(stream))}function emitReadable_(stream){debug("emit readable"),stream.emit("readable"),flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,processNextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(var len=state.length;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug("maybeReadMore read 0"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,"data")&&(state.flowing=!0,flow(src))}}function nReadingNextTick(self){debug("readable nexttick read 0"),self.read(0)}function resume(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,processNextTick(resume_,stream,state))}function resume_(stream,state){state.reading||(debug("resume read 0"),stream.read(0)),state.resumeScheduled=!1,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;if(debug("flow",state.flowing),state.flowing)do var chunk=stream.read();while(null!==chunk&&state.flowing)}function fromList(n,state){var ret,list=state.buffer,length=state.length,stringMode=!!state.decoder,objectMode=!!state.objectMode;if(0===list.length)return null;if(0===length)ret=null;else if(objectMode)ret=list.shift();else if(!n||n>=length)ret=stringMode?list.join(""):1===list.length?list[0]:Buffer.concat(list,length),list.length=0;else if(n<list[0].length){var buf=list[0];ret=buf.slice(0,n),list[0]=buf.slice(n)}else if(n===list[0].length)ret=list.shift();else{ret=stringMode?"":bufferShim.allocUnsafe(n);for(var c=0,i=0,l=list.length;i<l&&c<n;i++){var _buf=list[0],cpy=Math.min(n-c,_buf.length);stringMode?ret+=_buf.slice(0,cpy):_buf.copy(ret,c,0,cpy),cpy<_buf.length?list[0]=_buf.slice(cpy):list.shift(),c+=cpy}}return ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error('"endReadable()" called on non-empty stream');state.endEmitted||(state.ended=!0,processNextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit("end"))}function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++)f(xs[i],i)}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}module.exports=Readable;var processNextTick=__webpack_require__(7),isArray=__webpack_require__(34);Readable.ReadableState=ReadableState;var Stream,EE=__webpack_require__(5).EventEmitter,EElistenerCount=function(emitter,type){return emitter.listeners(type).length};!function(){try{Stream=__webpack_require__(6)}catch(_){}finally{Stream||(Stream=__webpack_require__(5).EventEmitter)}}();var Buffer=__webpack_require__(0).Buffer,bufferShim=__webpack_require__(20),util=__webpack_require__(4);util.inherits=__webpack_require__(2);var debugUtil=__webpack_require__(795),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var StringDecoder;util.inherits(Readable,Stream);var Duplex,Duplex,hasPrependListener="function"==typeof EE.prototype.prependListener;Readable.prototype.push=function(chunk,encoding){var state=this._readableState;return state.objectMode||"string"!=typeof chunk||(encoding=encoding||state.defaultEncoding,encoding!==state.encoding&&(chunk=bufferShim.from(chunk,encoding),encoding="")),readableAddChunk(this,state,chunk,encoding,!1)},Readable.prototype.unshift=function(chunk){var state=this._readableState;return readableAddChunk(this,state,chunk,"",!0)},Readable.prototype.isPaused=function(){return this._readableState.flowing===!1},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=__webpack_require__(13).StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};var MAX_HWM=8388608;Readable.prototype.read=function(n){debug("read",n);var state=this._readableState,nOrig=n;if(("number"!=typeof n||n>0)&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug("read: emitReadable",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(n=howMuchToRead(n,state),0===n&&state.ended)return 0===state.length&&endReadable(this),null;var doRead=state.needReadable;debug("need readable",doRead),(0===state.length||state.length-n<state.highWaterMark)&&(doRead=!0,debug("length less than watermark",doRead)),(state.ended||state.reading)&&(doRead=!1,debug("reading or ended",doRead)),doRead&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1),doRead&&!state.reading&&(n=howMuchToRead(nOrig,state));var ret;return ret=n>0?fromList(n,state):null,null===ret&&(state.needReadable=!0,n=0),state.length-=n,0!==state.length||state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&0===state.length&&endReadable(this),null!==ret&&this.emit("data",ret),ret},Readable.prototype._read=function(n){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(dest,pipeOpts){function onunpipe(readable){debug("onunpipe"),readable===src&&cleanup()}function onend(){debug("onend"),dest.end()}function cleanup(){debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",cleanup),src.removeListener("data",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain()}function ondata(chunk){debug("ondata");var ret=dest.write(chunk);!1===ret&&((1===state.pipesCount&&state.pipes===dest||state.pipesCount>1&&indexOf(state.pipes,dest)!==-1)&&!cleanedUp&&(debug("false write response, pause",src._readableState.awaitDrain),src._readableState.awaitDrain++),src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EElistenerCount(dest,"error")&&dest.emit("error",er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||pipeOpts.end!==!1)&&dest!==process.stdout&&dest!==process.stderr,endFn=doEnd?onend:cleanup;state.endEmitted?processNextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=!1;return src.on("data",ondata),prependListener(dest,"error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState;if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes?this:(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this),this);if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var _i=0;_i<len;_i++)dests[_i].emit("unpipe",this);return this}var i=indexOf(state.pipes,dest);return i===-1?this:(state.pipes.splice(i,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this),this)},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if("data"===ev&&!1!==this._readableState.flowing&&this.resume(),"readable"===ev&&!this._readableState.endEmitted){var state=this._readableState;state.readableListening||(state.readableListening=!0,state.emittedReadable=!1,state.needReadable=!0,state.reading?state.length&&emitReadable(this,state):processNextTick(nReadingNextTick,this))}return res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!0,resume(this,state)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(stream){var state=this._readableState,paused=!1,self=this;stream.on("end",function(){if(debug("wrapped end"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&self.push(chunk)}self.push(null)}),stream.on("data",function(chunk){if(debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),(!state.objectMode||null!==chunk&&void 0!==chunk)&&(state.objectMode||chunk&&chunk.length)){var ret=self.push(chunk);ret||(paused=!0,stream.pause())}});for(var i in stream)void 0===this[i]&&"function"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));var events=["error","close","destroy","pause","resume"];return forEach(events,function(ev){stream.on(ev,self.emit.bind(self,ev))}),self._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},self},Readable._fromList=fromList}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";function TransformState(stream){this.afterTransform=function(er,data){return afterTransform(stream,er,data)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(stream,er,data){var ts=stream._transformState;ts.transforming=!1;var cb=ts.writecb;if(!cb)return stream.emit("error",new Error("no writecb in Transform class"));ts.writechunk=null,ts.writecb=null,null!==data&&void 0!==data&&stream.push(data),cb(er);var rs=stream._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&stream._read(rs.highWaterMark)}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState=new TransformState(this);var stream=this;this._readableState.needReadable=!0,this._readableState.sync=!1,options&&("function"==typeof options.transform&&(this._transform=options.transform),"function"==typeof options.flush&&(this._flush=options.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(er){done(stream,er)}):done(stream)})}function done(stream,er){if(er)return stream.emit("error",er);var ws=stream._writableState,ts=stream._transformState;if(ws.length)throw new Error("Calling transform done when ws.length != 0");if(ts.transforming)throw new Error("Calling transform done when still transforming");return stream.push(null)}module.exports=Transform;var Duplex=__webpack_require__(77),util=__webpack_require__(4);util.inherits=__webpack_require__(2),util.inherits(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("Not implemented")},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;null!==ts.writechunk&&ts.writecb&&!ts.transforming?(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)):ts.needTransform=!0}},function(module,exports,__webpack_require__){"use strict";(function(process,setImmediate){function nop(){}function WriteReq(chunk,encoding,cb){this.chunk=chunk,this.encoding=encoding,this.callback=cb,this.next=null}function WritableState(options,stream){Duplex=Duplex||__webpack_require__(77),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var noDecode=options.decodeStrings===!1;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){onwrite(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){return Duplex=Duplex||__webpack_require__(77),this instanceof Writable||this instanceof Duplex?(this._writableState=new WritableState(options,this),this.writable=!0,options&&("function"==typeof options.write&&(this._write=options.write),"function"==typeof options.writev&&(this._writev=options.writev)),void Stream.call(this)):new Writable(options)}function writeAfterEnd(stream,cb){var er=new Error("write after end");stream.emit("error",er),processNextTick(cb,er)}function validChunk(stream,state,chunk,cb){var valid=!0,er=!1;return null===chunk?er=new TypeError("May not write null values to stream"):Buffer.isBuffer(chunk)||"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er&&(stream.emit("error",er),processNextTick(cb,er),valid=!1),valid}function decodeChunk(state,chunk,encoding){return state.objectMode||state.decodeStrings===!1||"string"!=typeof chunk||(chunk=bufferShim.from(chunk,encoding)),chunk}function writeOrBuffer(stream,state,chunk,encoding,cb){chunk=decodeChunk(state,chunk,encoding),Buffer.isBuffer(chunk)&&(encoding="buffer");var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(ret||(state.needDrain=!0),state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest=new WriteReq(chunk,encoding,cb),last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function onwriteError(stream,state,sync,er,cb){--state.pendingcb,sync?processNextTick(cb,er):cb(er),stream._writableState.errorEmitted=!0,stream.emit("error",er)}function onwriteStateUpdate(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}function onwrite(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if(onwriteStateUpdate(state),er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state);finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?asyncWrite(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}function afterWrite(stream,state,finished,cb){finished||onwriteDrain(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function onwriteDrain(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=new Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0;entry;)buffer[count]=entry,entry=entry.next,count+=1;doWrite(stream,state,!0,state.length,buffer,"",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state)}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback,len=state.objectMode?1:chunk.length;if(doWrite(stream,state,!1,len,chunk,encoding,cb),entry=entry.next,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequestCount=0,state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function prefinish(stream,state){state.prefinished||(state.prefinished=!0,stream.emit("prefinish"))}function finishMaybe(stream,state){var need=needFinish(state);return need&&(0===state.pendingcb?(prefinish(stream,state),state.finished=!0,stream.emit("finish")):prefinish(stream,state)),need}function endWritable(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?processNextTick(cb):stream.once("finish",cb)),state.ended=!0,stream.writable=!1}function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(err){var entry=_this.entry;for(_this.entry=null;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree?state.corkedRequestsFree.next=_this:state.corkedRequestsFree=_this}}module.exports=Writable;var processNextTick=__webpack_require__(7),asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:processNextTick;Writable.WritableState=WritableState;var util=__webpack_require__(4);util.inherits=__webpack_require__(2);var Stream,internalUtil={deprecate:__webpack_require__(37)};!function(){try{Stream=__webpack_require__(6)}catch(_){}finally{Stream||(Stream=__webpack_require__(5).EventEmitter)}}();var Buffer=__webpack_require__(0).Buffer,bufferShim=__webpack_require__(20);util.inherits(Writable,Stream);var Duplex;WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(_){}}();var Duplex;Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState,ret=!1;return"function"==typeof encoding&&(cb=encoding,encoding=null),Buffer.isBuffer(chunk)?encoding="buffer":encoding||(encoding=state.defaultEncoding),"function"!=typeof cb&&(cb=nop),state.ended?writeAfterEnd(this,cb):validChunk(this,state,chunk,cb)&&(state.pendingcb++,ret=writeOrBuffer(this,state,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){var state=this._writableState;state.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if("string"==typeof encoding&&(encoding=encoding.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);return this._writableState.defaultEncoding=encoding,this},Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;"function"==typeof chunk?(cb=chunk,chunk=null,encoding=null):"function"==typeof encoding&&(cb=encoding,encoding=null),null!==chunk&&void 0!==chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||endWritable(this,state,cb)}}).call(exports,__webpack_require__(3),__webpack_require__(21).setImmediate)},function(module,exports,__webpack_require__){(function(global,setImmediate,process){function __(StreamCtor){return function(xs,secondArg,mappingHint){var s=null;if(_.isUndefined(xs))s=new StreamCtor,s.writable=!0;else if(_.isStream(xs))if(xs instanceof StreamCtor)s=xs;else{var ret=new StreamCtor;xs.on("error",ret.write.bind(ret)),s=xs.pipe(ret)}else if(_.isArray(xs))s=new StreamCtor,s._outgoing.enqueueAll(xs),s._outgoing.enqueue(_.nil);else if(_.isFunction(xs))s=new StreamCtor(xs);else if(_.isObject(xs)){if(_.isFunction(xs.on)&&_.isFunction(xs.pipe)){var onFinish=_.isFunction(secondArg)?secondArg:defaultReadableOnFinish;return s=new StreamCtor,s.writable=!0,pipeReadable(xs,onFinish,s),s.map(function(x){return x})}if(!_.isFunction(xs.then)){if(_.isFunction(xs.next))return iteratorStream(StreamCtor,xs);if(!_.isUndefined(_global.Symbol)&&xs[_global.Symbol.iterator])return iteratorStream(StreamCtor,xs[_global.Symbol.iterator]());throw new Error("Object was not a stream, promise, iterator or iterable: "+typeof xs)}s=promiseStream(StreamCtor,xs)}else{if(!_.isString(xs))throw new Error("Unexpected argument type to Stream constructor: "+typeof xs);var mapper=hintMapper(mappingHint);s=new StreamCtor,secondArg.on(xs,function(){var ctx=mapper.apply(this,arguments);s.write(ctx)})}return s}}function nop(){}function defaultReadableOnFinish(readable,callback){return readable.once("error",callback),function(){readable.removeListener("error",callback)}}function pipeReadable(xs,onFinish,stream){function streamEndCb(error){stream._nil_pushed||(unbind(),error&&stream.write(new StreamError(error)),stream.end())}function unbind(){unbound||(unbound=!0,cleanup&&cleanup(),xs.unpipe&&xs.unpipe(stream))}var cleanup=onFinish(xs,streamEndCb),unbound=!1;xs.pipe(stream),stream.onDestroy(unbind)}function newPullFunction(xs){return function(cb){xs.pull(cb)}}function newDelegateGenerator(pull){return function(push,next){var self=this;pull(function(err,x){var old=self._defer_run_generator;self._defer_run_generator=!0,push(err,x),x!==nil&&next(),self._defer_run_generator=old,!old&&self._run_generator_deferred&&self._runGenerator()})}}function promiseStream(StreamCtor,promise){return new StreamCtor(_.isFunction(promise.finally)?function(push){promise.then(function(value){return push(null,value)},function(err){return push(err)}).finally(function(){return push(null,nil)})}:function(push){promise.then(function(value){return push(null,value),push(null,nil)},function(err){return push(err),push(null,nil)})})}function iteratorStream(StreamCtor,it){return new StreamCtor(function(push,next){var iterElem,iterErr;try{iterElem=it.next()}catch(err){iterErr=err}iterErr?(push(iterErr),push(null,_.nil)):iterElem.done?(_.isUndefined(iterElem.value)||push(null,iterElem.value),push(null,_.nil)):(push(null,iterElem.value),next())})}function hintMapper(mappingHint){var mapper,mappingHintType=typeof mappingHint;return mapper="function"===mappingHintType?mappingHint:"number"===mappingHintType?function(){return slice.call(arguments,0,mappingHint)}:_.isArray(mappingHint)?function(){var args=arguments;return mappingHint.reduce(function(ctx,hint,idx){return ctx[hint]=args[idx],ctx},{})}:function(x){return x}}function pipeStream(src,dest,write,end,passAlongErrors){function onConsumerDrain(){resume&&(resume(),resume=null)}var resume=null,s=src.consume(function(err,x,push,next){var canContinue;if(err)passAlongErrors?canContinue=write.call(dest,new StreamError(err)):(src.emit("error",err),canContinue=!0);else{if(x===nil)return void end.call(dest);canContinue=write.call(dest,x)}canContinue!==!1?next():resume=next});return dest.on("drain",onConsumerDrain),src.onDestroy(function(){dest.removeListener("drain",onConsumerDrain)}),dest.emit("pipe",src),s.resume(),dest}function Stream(generator){var self=this;EventEmitter.call(self),self.__HighlandStream__=!0,self.id=(""+Math.random()).substr(2,6),self._outgoing=new Queue,self._observers=[],self._destructors=[],self._send_events=!1,self.paused=!0,self.ended=!1,self._nil_pushed=!1,self._explicitly_destroyed=!1,self._request=null,self._multiplexer=null,self._consumer=null,self._generator=generator,self._generator_requested=!0,self._defer_run_generator=!1,self._run_generator_deferred=!1,self._push_fn=function(err,x){x===nil&&(self._run_generator_deferred=!1),self._writeOutgoing(err?new StreamError(err):x)},self._next_fn=function(xs){if(self._nil_pushed&&!self._explicitly_destroyed)throw new Error("Cannot call next after nil");if(self._generator_requested=!0,xs){xs=self.create(xs);var pull=newPullFunction(xs);self._generator=newDelegateGenerator(pull)}self.paused||(self._defer_run_generator?self._run_generator_deferred=!0:_.setImmediate(function(){self._runGenerator()}))},self.readable=!0,self.writable=!1,self.on("newListener",function(ev){"data"===ev?(self._send_events=!0,_.setImmediate(self.resume.bind(self))):"end"===ev&&(self._send_events=!0)}),self.on("removeListener",function(ev){if("end"===ev||"data"===ev){var end_listeners=self.listeners("end").length,data_listeners=self.listeners("data").length;end_listeners+data_listeners===0&&(self._send_events=!1)}})}function _addMethod(proto,topLevel){return function(name,f){function relevel(coerce){return _.ncurry(n+1,function(){var args=slice.call(arguments),s=coerce(args.pop());return f.apply(s,args)})}proto[name]=f;var n=f.length;topLevel[name]=relevel(topLevel),topLevel[name]._relevel=relevel}}function _addMethods(proto,topLevel,methods){for(var p in methods)hasOwn.call(methods,p)&&_addMethod(proto,topLevel)(p,methods[p])}function _addToplevelMethod(topLevel){return function(name,fn){function relevel(_topLevel){var bound=fn.bind(_topLevel);return bound._relevel=relevel,bound}topLevel[name]=relevel(topLevel)}}function _addToplevelMethods(topLevel,methods){for(var p in methods)hasOwn.call(methods,p)&&_addToplevelMethod(topLevel)(p,methods[p])}function use(Super,originalTopLevel){return function(methods,toplevelMethods){function Sub(){Stream.apply(this,arguments)}function topLevel(){return __(Sub).apply(null,arguments)}inherits(Sub,Super);for(var p in originalTopLevel)if(hasOwn.call(originalTopLevel,p)){var fn=originalTopLevel[p];topLevel[p]="function"==typeof fn._relevel?fn._relevel(topLevel):fn}return _addMethods(Sub.prototype,topLevel,methods||{}),_addToplevelMethods(topLevel,toplevelMethods||{}),topLevel.use=use(Sub,topLevel),topLevel}}function StreamError(err){this.__HighlandStreamError__=!0,this.error=err}function HighlandTransform(push){this.push=push}function StreamMultiplexer(stream){this._stream=stream,this._consumers=new IntMap,this._requests=new IntMap,this._nonce=0,this._emitting=!1,this._repeatEmit=!1,this._cached_value=null,this.paused=!0;var self=this;this._pullCb=function(err,x){self.paused=!0,self._requests.size===self._consumers.size?self._send(err,x):self._saved_token=[err,x]}}function keys(obj){var keysArray=[];for(var k in obj)hasOwn.call(obj,k)&&keysArray.push(k);return keysArray}function isClass(fn){if("function"!=typeof fn||!fn.prototype)return!1;var getKeys=isES5?Object.getOwnPropertyNames:keys,allKeys=getKeys(fn.prototype);return allKeys.length>0&&!(1===allKeys.length&&"constructor"===allKeys[0])}function inheritedKeys(obj){for(var allProps={},curr=obj,handleProp=function(prop){allProps[prop]=!0};Object.getPrototypeOf(curr);){var props=Object.getOwnPropertyNames(curr);props.forEach(handleProp),curr=Object.getPrototypeOf(curr)}return keys(allProps)}function streamifyAll(wrapCallback,inp,suffix){for(var getKeys=isES5?inheritedKeys:keys,allKeys=getKeys(inp),i=0,len=allKeys.length;i<len;i++){var val,key=allKeys[i];try{val=inp[key]}catch(e){}if(val&&"function"==typeof val&&!isClass(val)&&!val.__HighlandStreamifiedFunction__){var streamified=wrapCallback(val);streamified.__HighlandStreamifiedFunction__=!0,inp[key+suffix]=streamified}}return inp}var inherits=__webpack_require__(14).inherits,EventEmitter=__webpack_require__(5).EventEmitter,Decoder=__webpack_require__(13).StringDecoder,Queue=__webpack_require__(638),IntMap=__webpack_require__(637),slice=Array.prototype.slice,hasOwn=Object.prototype.hasOwnProperty,_global=this;"undefined"!=typeof global?_global=global:"undefined"!=typeof window&&(_global=window);var _=exports=module.exports=__(Stream),isES5=function(){
"use strict";return Function.prototype.bind&&!this}();_.isUndefined=function(x){return"undefined"==typeof x},_.isFunction=function(x){return"function"==typeof x},_.isObject=function(x){return"object"==typeof x&&null!==x},_.isString=function(x){return"string"==typeof x},_.isArray=Array.isArray||function(x){return"[object Array]"===Object.prototype.toString.call(x)},"undefined"==typeof setImmediate?_.setImmediate=function(fn){setTimeout(fn,0)}:_.setImmediate=function(fn){setImmediate(fn)},_global.nil||(_global.nil={});var nil=_.nil=_global.nil;_.curry=function(fn){var args=slice.call(arguments);return _.ncurry.apply(this,[fn.length].concat(args))},_.ncurry=function(n,fn){var largs=slice.call(arguments,2);return largs.length>=n?fn.apply(this,largs.slice(0,n)):_.partial.apply(this,[_.ncurry,n,fn].concat(largs))},_.partial=function(f){var args=slice.call(arguments,1);return function(){return f.apply(this,args.concat(slice.call(arguments)))}},_.flip=_.curry(function(fn,x,y){return fn(y,x)}),_.compose=function(){var fns=slice.call(arguments).reverse();return _.seq.apply(null,fns)},_.seq=function(){var fns=slice.call(arguments);return function(){if(!fns.length)return null;for(var r=fns[0].apply(this,arguments),i=1;i<fns.length;i++)r=fns[i].call(this,r);return r}},inherits(Stream,EventEmitter);var addMethod=_addMethod(Stream.prototype,_),addToplevelMethod=_addToplevelMethod(_);_.use=use(Stream,_),Stream.prototype.create=function(){return __(this.constructor).apply(null,arguments)},Stream.prototype.createChild=function(){var child=this.create.apply(this,arguments);return child.onDestroy(this.destroy.bind(this)),child},_.isStream=function(x){return _.isObject(x)&&!!x.__HighlandStream__},_._isStreamError=function(x){return _.isObject(x)&&!!x.__HighlandStreamError__},_._isStreamRedirect=function(x){return _.isObject(x)&&!!x.__HighlandStreamRedirect__},Stream.prototype._send=function(token){var x,err=null;if(_._isStreamError(token)?(err=token.error,this.readable=!1):x=token,x===nil&&(this.readable=!1),this._request){var cb=this._request;this._request=null,this.pause(),cb(err,x)}for(var observers=this._observers,j=0,len2=observers.length;j<len2;j++)observers[j].write(token);this._send_events&&(err?this.emit("error",err):x===nil?this.emit("end"):this.emit("data",x)),x===nil&&this._onEnd()},Stream.prototype._onEnd=function(){if(!this.ended){this.pause(),this.ended=!0;var i,len,observer;for(i=0,len=this._observers.length;i<len;i++)observer=this._observers[i],observer.source===this&&(observer.source=null);for(i=0,len=this._destructors.length;i<len;i++)this._destructors[i].call(this);this._outgoing.clear(),this._observers=[],this._destructors=[],this._request=null,this._multiplexer=null,this._consumer=null,this._generator=null,this._generator_requested=!1,this._defer_run_generator=!1,this._run_generator_deferred=!1}},addMethod("pause",function(){this.paused=!0}),Stream.prototype._emitNext=function(num){for(var emitted=0;(null==num||emitted<num)&&this._outgoing.length&&!this.paused;)this._send(this._outgoing.dequeue()),emitted++},addMethod("resume",function(){!this.paused||this._consumer&&this._consumer.paused||this._multiplexer&&this._multiplexer.paused||(this.paused=!1,this._outgoing.length&&(this._emitNext(),this.paused)||(this._generator?this._runGenerator():this.emit("drain")))}),addMethod("end",function(){this._nil_pushed||this.write(nil)}),addMethod("pipe",function(dest,options){options=options||{};var end,canClose=dest!==process.stdout&&dest!==process.stderr&&options.end!==!1;return end=canClose?dest.end:nop,pipeStream(this,dest,dest.write,end,!1)}),addMethod("destroy",function(){this._explicitly_destroyed=!0,this.ended||(this.readable=this.writable=!1,this._nil_pushed||this.end(),this._onEnd())}),Stream.prototype._writeOutgoing=function(token){if(this._nil_pushed&&!this._explicitly_destroyed)throw new Error("Cannot write to stream after nil");token===_.nil&&(this._nil_pushed=!0),(token===nil||_._isStreamError(token))&&(this.writable=!1),this.paused?this._outgoing.enqueue(token):this._send(token)},Stream.prototype._runGenerator=function(){if(this._generator_requested){if(this._defer_run_generator)return void(this._run_generator_deferred=!0);this._defer_run_generator=!0;do{this._run_generator_deferred=!1,this._generator_requested=!1;var gen=this._generator;if(gen.__ConsumeGenerator__){var source=gen.source;if(source._outgoing.length){var token=source._outgoing.dequeue();source._request=gen.pullCb,source.paused=!1,source._send(token)}else source._request=gen.pullCb,source.resume()}else gen.call(this,this._push_fn,this._next_fn)}while(this._run_generator_deferred);this._defer_run_generator=!1}},Stream.prototype._removeObserver=function(s){this._observers=this._observers.filter(function(o){return o!==s}),s.source===this&&(s.source=null)},addMethod("consume",function(f){function pullCb(err,x){consumer._defer_run_generator?f(err,x,consumer._push_fn,consumer._next_fn):(consumer._defer_run_generator=!0,f(err,x,consumer._push_fn,consumer._next_fn),consumer._defer_run_generator=!1,consumer._run_generator_deferred&&consumer._runGenerator())}var consumer,source=this;if(this._consumer)throw new Error("Stream already being consumed, you must either fork() or observe()");if(this._multiplexer)throw new Error("Stream has been forked. You must either fork() or observe().");var gen=function(){source.pull(pullCb)};return gen.__ConsumeGenerator__=!0,gen.pullCb=pullCb,gen.source=source,consumer=this._consumer=this.createChild(gen),consumer.id="consume:"+consumer.id,consumer}),addMethod("pull",function(f){if(null==f)throw new Error("Cannot pull() with a null callback.");this._request&&f(new Error("Cannot service a second pull() request while one is in progress.")),this._request=f,this.resume()}),addMethod("write",function(x){return this._writeOutgoing(x),!this.paused}),addMethod("fork",function(){if(this._requests)throw new Error("Cannot fork a stream with an outstanding pull() request.");if(this._consumer)throw new Error("Cannot fork a stream that has already been consumed().");this._multiplexer||(this._multiplexer=new StreamMultiplexer(this));var s=this._multiplexer.newStream();return s.id="fork:"+s.id,s}),addMethod("observe",function(){var s=this.create();return s.id="observe:"+s.id,s.writable=!1,s.onDestroy(this._removeObserver.bind(this,s)),this._observers.push(s),s}),addMethod("errors",function(f){return this.consume(function(err,x,push,next){err?(f(err,push),next()):x===nil?push(null,nil):(push(null,x),next())})}),addMethod("stopOnError",function(f){return this.consume(function(err,x,push,next){err?(f(err,push),push(null,nil)):x===nil?push(null,nil):(push(null,x),next())})}),addMethod("each",function(f){var self=this,s=this.consume(function(err,x,push,next){err?self.emit("error",err):x===nil?push(null,nil):(f(x),next())});return s.resume(),s}),addMethod("apply",function(f){return this.toArray(function(args){f.apply(null,args)})}),addMethod("toArray",function(f){var self=this;return this.collect().pull(function(err,x){err?self.emit("error",err):f(x)})}),addMethod("done",function(f){if(this.ended)return f(),null;var self=this;return this.consume(function(err,x,push,next){err?self.emit("error",err):x===nil?f():next()}).resume()}),Stream.prototype.onDestroy=function(f){return this._destructors.push(f),this},addMethod("toCallback",function(cb){var value,hasValue=!1;this.consume(function(err,x,push,next){err?(push(null,nil),cb(hasValue?new Error("toCallback called on stream emitting multiple values"):err)):x===nil?hasValue?cb(null,value):cb():hasValue?(push(null,nil),cb(new Error("toCallback called on stream emitting multiple values"))):(value=x,hasValue=!0,next())}).resume()}),addMethod("map",function(f){if(!_.isFunction(f))throw new Error("map expects a function as its only argument.");return this.consume(function(err,x,push,next){if(err)push(err),next();else if(x===nil)push(err,x);else{var fnVal,fnErr;try{fnVal=f(x)}catch(e){fnErr=e}push(fnErr,fnVal),next()}})}),addMethod("doto",function(f){return this.map(function(x){return f(x),x})}),Stream.prototype.tap=Stream.prototype.doto,_.tap=_.doto,addMethod("ratelimit",function(num,ms){if(num<1)throw new Error("Invalid number of operations per ms: "+num);var sent=0;return this.consume(function(err,x,push,next){err?(push(err),next()):x===nil?push(null,nil):sent<num?(sent++,push(null,x),next()):setTimeout(function(){sent=1,push(null,x),next()},ms)})}),addMethod("flatMap",function(f){return this.map(f).sequence()}),addMethod("pluck",function(prop){return this.consume(function(err,x,push,next){err?(push(err),next()):x===nil?push(err,x):_.isObject(x)?(push(null,x[prop]),next()):(push(new Error("Expected Object, got "+typeof x)),next())})});var objectOnly=_.curry(function(strategy,x){if(_.isObject(x))return strategy(x);throw new Error("Expected Object, got "+typeof x)});addMethod("pickBy",function(f){return this.map(objectOnly(function(x){function testAndAdd(prop){seen[prop]!==!0&&f(x[prop],prop)&&(out[prop]=x[prop],seen[prop]=!0)}var out={},seen=isES5?Object.create(null):{},obj=x;if(isES5){do Object.getOwnPropertyNames(obj).forEach(testAndAdd),obj=Object.getPrototypeOf(obj);while(obj)}else for(var k in x)testAndAdd(k);return out}))}),addMethod("pick",function(properties){return this.map(objectOnly(function(x){for(var out={},i=0,length=properties.length;i<length;i++){var p=properties[i];p in x&&(out[p]=x[p])}return out}))}),addMethod("filter",function(f){return this.consume(function(err,x,push,next){if(err)push(err),next();else if(x===nil)push(err,x);else{var fnVal,fnErr;try{fnVal=f(x)}catch(e){fnErr=e}fnErr?push(fnErr):fnVal&&push(null,x),next()}})}),addMethod("flatFilter",function(f){function errorStream(){return _(function(push){push(new Error("Stream returned by function was empty.")),push(null,_.nil)})}return this.flatMap(function(x){return f(x).take(1).otherwise(errorStream()).flatMap(function(bool){return _(bool?[x]:[])})})}),addMethod("reject",function(f){return this.filter(_.compose(_.not,f))}),addMethod("find",function(f){return this.filter(f).take(1)}),addMethod("findWhere",function(props){return this.where(props).take(1)}),addMethod("group",function(f){var lambda=_.isString(f)?_.get(f):f;return this.reduce(function(m,o){var key=lambda(o);return hasOwn.call(m,key)||(m[key]=[]),m[key].push(o),m},{})}),addMethod("compact",function(){return this.filter(function(x){return x})}),addMethod("where",function(props){return this.filter(function(x){for(var k in props)if(x[k]!==props[k])return!1;return!0})}),addMethod("uniqBy",function(compare){var uniques=[];return this.consume(function(err,x,push,next){if(err)push(err),next();else if(x===nil)push(err,x);else{for(var hasErr,seen=!1,i=0,len=uniques.length;i<len;i++){try{seen=compare(x,uniques[i])}catch(e){hasErr=e,seen=!0}if(seen)break}seen||(uniques.push(x),push(null,x)),hasErr&&push(hasErr),next()}})}),addMethod("uniq",function(){if(!_.isUndefined(_global.Set)){var uniques=new _global.Set,size=uniques.size;return this.consume(function(err,x,push,next){err?(push(err),next()):x===nil?push(err,x):x!==x?(push(null,x),next()):(uniques.add(x),uniques.size>size&&(size=uniques.size,push(null,x)),next())})}return this.uniqBy(function(a,b){return a===b})}),addMethod("zipAll",function(){function nextValue(index,max,src,push,next){src.pull(function(err,x){err?(push(err),nextValue(index,max,src,push,next)):x===_.nil?finished||(finished=!0,push(null,nil)):(returned++,z[index]=x,returned===max&&(push(null,z),next()))})}var returned=0,z=[],finished=!1,self=this;return self.collect().flatMap(function(array){return array.length?self.create(function(push,next){returned=0,z=[];for(var i=0,length=array.length;i<length;i++)nextValue(i,length,array[i],push,next)}):self.create([])})}),addMethod("zipEach",function(ys){return this.create([this]).concat(this.create(ys).map(this.create.bind(this))).zipAll()}),addMethod("zip",function(ys){return this.create([this,this.create(ys)]).zipAll()}),addMethod("batch",function(n){return this.batchWithTimeOrCount(-1,n)}),addMethod("batchWithTimeOrCount",function(ms,n){var timeout,batched=[];return this.consume(function(err,x,push,next){err?(push(err),next()):x===nil?(batched.length>0&&(push(null,batched),clearTimeout(timeout)),push(null,nil)):(batched.push(x),batched.length===n?(push(null,batched),batched=[],clearTimeout(timeout)):1===batched.length&&ms>=0&&(timeout=setTimeout(function(){push(null,batched),batched=[]},ms)),next())})}),addMethod("intersperse",function(separator){var started=!1;return this.consume(function(err,x,push,next){err?(push(err),next()):x===nil?push(null,nil):(started?push(null,separator):started=!0,push(null,x),next())})}),addMethod("splitBy",function(sep){function drain(x,push){buffer=(buffer||"")+decoder.write(x);var pieces=buffer.split(sep);buffer=pieces.pop(),pieces.forEach(function(piece){push(null,piece)})}var decoder=new Decoder,buffer=!1;return this.consume(function(err,x,push,next){err?(push(err),next()):x===nil?(_.isString(buffer)&&(drain(decoder.end(),push),push(null,buffer)),push(null,nil)):(drain(x,push),next())})}),addMethod("split",function(){return this.splitBy(/\r?\n/)}),addMethod("slice",function(start,end){var index=0;if(start="number"!=typeof start||start<0?0:start,end="number"!=typeof end?1/0:end,0===start&&end===1/0)return this;if(start>=end)return _([]);var s=this.consume(function(err,x,push,next){var done=x===nil;err?push(err):!done&&index++>=start&&push(null,x),!done&&index<end?next():push(null,nil)});return s.id="slice:"+s.id,s}),addMethod("take",function(n){var s=this.slice(0,n);return s.id="take:"+s.id,s}),addMethod("drop",function(n){return this.slice(n,1/0)}),addMethod("head",function(){return this.take(1)}),addMethod("last",function(){var nothing={},prev=nothing;return this.consume(function(err,x,push,next){err?(push(err),next()):x===nil?(prev!==nothing&&push(null,prev),push(null,nil)):(prev=x,next())})}),addMethod("sortBy",function(f){return this.collect().invoke("sort",[f]).sequence()}),addMethod("sort",function(){return this.sortBy()}),addMethod("through",function(target){function writeErr(err){output.write(new StreamError(err))}var output;return _.isFunction(target)?target(this):(target.pause(),output=this.createChild(),this.on("error",writeErr),target.on("error",writeErr),this.pipe(target).pipe(output))}),addToplevelMethod("pipeline",function(){if(!arguments.length)return this();var rest,startHighland,start=arguments[0];_.isStream(start)||_.isFunction(start.resume)?(startHighland=this(start),rest=slice.call(arguments,1)):(start=this(),startHighland=start,rest=slice.call(arguments));var end=rest.reduce(function(src,dest){return src.through(dest)},startHighland),wrapper=this(function(push,next){end.pull(function(err,x){push(err,x),x!==nil&&next()})});return wrapper.writable=!0,wrapper.write=function(x){return start.write(x)},wrapper.end=function(){return wrapper.writable=!1,start.end()},start.on("drain",function(){wrapper.emit("drain")}),wrapper}),addMethod("sequence",function(){function onOriginalStream(){return curr===original}var original=this,curr=this;return this.create(function(push,next){curr.pull(function(err,x){err?(push(err),next()):_.isArray(x)?(onOriginalStream()?x.forEach(function(y){push(null,y)}):push(null,x),next()):_.isStream(x)?onOriginalStream()?(curr=x,next()):(push(null,x),next()):x===nil?onOriginalStream()?push(null,nil):(curr=original,next()):onOriginalStream()?(push(new Error("Expected Stream, got "+typeof x)),next()):(push(null,x),next())})})}),Stream.prototype.series=Stream.prototype.sequence,_.series=_.sequence,addMethod("flatten",function(){var curr=this,stack=[];return this.createChild(function(push,next){curr.pull(function(err,x){return err?(push(err),void next()):(_.isArray(x)&&(x=_(x)),void(_.isStream(x)?(stack.push(curr),curr=x,next()):x===nil?stack.length?(curr=stack.pop(),next()):push(null,nil):(push(null,x),next())))})})}),addMethod("parallel",function(n){var source=this,running=[],ended=!1,reading_source=!1;if("number"!=typeof n)throw new Error("Must specify a number to parallel().");if(n<=0)throw new Error("The parallelism factor must be positive");return this.create(function(push,next){function flushBuffer(){for(;running.length&&running[0].buffer.length;){for(var buf=running[0].buffer,i=0;i<buf.length;i++){if(buf[i][1]===nil){running.shift();break}push.apply(null,buf[i])}buf.length=0}}running.length<n&&!ended&&!reading_source?(reading_source=!0,source.pull(function(err,x){if(reading_source=!1,err)push(err);else if(x===nil)ended=!0;else if(_.isStream(x)){var run={stream:x,buffer:[]};running.push(run),x.consume(function(_err,y,_push,_next){running[0]===run?y===nil?(running.shift(),flushBuffer(),next()):push(_err,y):run.buffer.push([_err,y]),y!==nil&&_next()}).resume()}else push(new Error("Expected Stream, got "+typeof x));return next()})):!running.length&&ended&&push(null,nil)})}),addMethod("otherwise",function(ys){var xs=this;return xs.consume(function(err,x,push,next){err?(push(err),next()):x===nil?next(_.isFunction(ys)?ys():ys):(push(null,x),next(xs))})}),addMethod("append",function(y){return this.consume(function(err,x,push,next){x===nil?(push(null,y),push(null,_.nil)):(push(err,x),next())})}),addMethod("reduce",function(f,z){return this.consume(function(err,x,push,next){if(x===nil)push(null,z),push(null,_.nil);else if(err)push(err),next();else{try{z=f(z,x)}catch(e){return push(e),void push(null,_.nil)}next()}})}),addMethod("reduce1",function(f){var self=this;return self.createChild(function(push,next){self.pull(function(err,x){err?(push(err),next()):x===nil?push(null,nil):next(self.reduce(f,x))})})}),addMethod("collect",function(){var xs=[];return this.consume(function(err,x,push,next){err?(push(err),next()):x===nil?(push(null,xs),push(null,nil)):(xs.push(x),next())})}),addMethod("scan",function(f,z){var self=this;return this.create([z]).concat(self.consume(function(err,x,push,next){if(x===nil)push(null,_.nil);else if(err)push(err),next();else{try{z=f(z,x)}catch(e){return push(e),void push(null,_.nil)}push(null,z),next()}}))}),addMethod("scan1",function(f){var self=this;return self.createChild(function(push,next){self.pull(function(err,x){err?(push(err),next()):x===nil?push(null,nil):next(self.scan(f,x))})})}),HighlandTransform.prototype["@@transducer/init"]=function(){return this.push},HighlandTransform.prototype["@@transducer/result"]=function(push){return push},HighlandTransform.prototype["@@transducer/step"]=function(push,input){return push(null,input),push},addMethod("transduce",function(xf){function runResult(push,_memo){try{transform["@@transducer/result"](_memo)}catch(e){push(e)}push(null,_.nil)}function runStep(push,_memo,x){try{return transform["@@transducer/step"](_memo,x)}catch(e){return push(e),push(null,_.nil),null}}var transform=null,memo=null;return this.consume(function(err,x,push,next){if(null==transform&&(transform=xf(new HighlandTransform(push)),memo=transform["@@transducer/init"]()),err)push(err),next();else if(x===_.nil)runResult(push,memo);else{var res=runStep(push,memo,x);if(!res)return;memo=res,memo["@@transducer/reduced"]?runResult(memo["@@transducer/value"]):next()}})}),addMethod("concat",function(ys){return ys=_(ys),this.consume(function(err,x,push,next){x===nil?next(ys):(push(err,x),next())})}),addMethod("merge",function(){function srcPullHandler(push,next,src){return function(err,x){err?(push(err),srcsNeedPull.push(src)):x===nil?srcs=srcs.filter(function(s){return s!==src}):src===self?(srcs.push(x),srcsNeedPull.push(x),srcsNeedPull.unshift(self)):(push(null,x),srcsNeedPull.push(src)),async&&(async=!1,next())}}function pullFromAllSources(push,next){var _srcs=srcsNeedPull;srcsNeedPull=[],_srcs.forEach(function(src){src.pull(srcPullHandler(push,next,src))})}function getSourcesSync(push,next){for(var asynchronous,done=!1,pull_cb=function(err,x){asynchronous=!1,done?srcPullHandler(push,next,self)(err,x):err?push(err):x===nil?done=!0:(srcs.push(x),srcsNeedPull.push(x))};!done;)asynchronous=!0,self.pull(pull_cb),asynchronous&&(done=!0,srcs.unshift(self))}var self=this,srcs=[],srcsNeedPull=[],first=!0,async=!1;return this.create(function(push,next){first&&(first=!1,getSourcesSync(push,next)),0===srcs.length?push(null,nil):srcsNeedPull.length?(pullFromAllSources(push,next),next()):async=!0})}),addMethod("mergeWithLimit",function(n){var self=this,processCount=0,waiting=!1;if("number"!=typeof n||n<1)throw new Error("mergeWithLimit expects a positive number, but got: "+n);return n===1/0?this.merge():this.create(function(push,next){self.pull(function(err,x){var done=x===nil;err?(push(err),next()):x===nil?push(null,nil):(processCount++,push(err,x),x.onDestroy(function(){processCount--,waiting&&(waiting=!1,next())}),!done&&processCount<n?next():waiting=!0)})}).merge()}),addMethod("invoke",function(method,args){return this.map(function(x){return x[method].apply(x,args)})}),addMethod("nfcall",function(args){var wrap=_.wrapCallback._relevel(this.create.bind(this));return this.map(function(x){return wrap(x).apply(x,args)})}),addMethod("throttle",function(ms){var last=0-ms;return this.consume(function(err,x,push,next){var now=(new Date).getTime();err?(push(err),next()):x===nil?push(null,nil):now-ms>=last?(last=now,push(null,x),next()):next()})}),addMethod("debounce",function(ms){var t=null,nothing={},last=nothing;return this.consume(function(err,x,push,next){err?(push(err),next()):x===nil?(t&&clearTimeout(t),last!==nothing&&push(null,last),push(null,nil)):(last=x,t&&clearTimeout(t),t=setTimeout(push.bind(this,null,x),ms),next())})}),addMethod("latest",function(){var nothing={},latest=nothing,errors=[],ended=!1,onValue=null;return this.consume(function(err,x,push,next){if(null!=onValue){var cb=onValue;onValue=null,cb(err,x)}err?(errors.push(err),next()):x===nil?ended=!0:(latest=x,next())}).resume(),this.create(function(push,next){var oldErrors=errors;errors=[],oldErrors.length||latest!==nothing||ended?(oldErrors.forEach(push),latest!==nothing&&push(null,latest),ended?push(null,nil):next()):onValue=function(err,x){push(err,x),x!==nil&&next()}})}),StreamMultiplexer.prototype._send=function(err,x){var requests=this._requests;this._requests=new IntMap,requests.forEach(function(requestCb){requestCb(err,x)})},StreamMultiplexer.prototype._resume=function(){if(this._emitting)return void(this._repeatEmit=!0);this._emitting=!0;do if(this._repeatEmit=!1,this._requests.size===this._consumers.size)if(this._saved_token){var token=this._saved_token;this._saved_token=null,this.paused=!0,this._send(token[0],token[1])}else this.paused&&(this.paused=!1,this._stream.pull(this._pullCb));while(this._repeatEmit);this._emitting=!1},StreamMultiplexer.prototype.pull=function(id,cb){if(cb){if(this._requests.has(id))return void cb(new Error("Cannot service a second pull() request while one is in progress."));this._requests.set(id,cb),this._resume()}},StreamMultiplexer.prototype.newStream=function(){var self=this,id=self._nonce++;self._consumers.set(id,!0);var pull=this.pull.bind(this,id);return new this._stream.constructor(newDelegateGenerator(pull)).onDestroy(function(){self.removeConsumer(id)})},StreamMultiplexer.prototype.removeConsumer=function(id){this._consumers.has(id)&&(this._consumers.delete(id),this._requests.delete(id),this._resume())},_.values=function(obj){return _.keys(obj).map(function(k){return obj[k]})},_.keys=function(obj){return _(keys(obj))},_.pairs=function(obj){return _.keys(obj).map(function(k){return[k,obj[k]]})},_.extend=_.curry(function(extensions,target){for(var k in extensions)hasOwn.call(extensions,k)&&(target[k]=extensions[k]);return target}),_.get=_.curry(function(prop,obj){return obj[prop]}),_.set=_.curry(function(prop,val,obj){return obj[prop]=val,obj}),_.log=function(){console.log.apply(console,arguments)},addToplevelMethod("wrapCallback",function(f,mappingHint){var stream=this,mapper=hintMapper(mappingHint);return function(){var self=this,args=slice.call(arguments);return stream(function(push){var cb=function(err){if(err)push(err);else{var cbArgs=slice.call(arguments,1),v=mapper.apply(this,cbArgs);push(null,v)}push(null,nil)};f.apply(self,args.concat([cb]))})}}),addToplevelMethod("streamifyAll",function(arg){if("function"!=typeof arg&&"object"!=typeof arg)throw new TypeError("takes an object or a constructor function");var suffix="Stream",ret=streamifyAll(this.wrapCallback,arg,suffix);return isClass(arg)&&(ret.prototype=streamifyAll(this.wrapCallback,arg.prototype,suffix)),ret}),_.add=_.curry(function(a,b){return a+b}),_.not=function(x){return!x}}).call(exports,__webpack_require__(9),__webpack_require__(21).setImmediate,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";(function(process){function prependListener(emitter,event,fn){return hasPrependListener?emitter.prependListener(event,fn):void(emitter._events&&emitter._events[event]?isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn))}function ReadableState(options,stream){Duplex=Duplex||__webpack_require__(79),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=options.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=__webpack_require__(13).StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){return Duplex=Duplex||__webpack_require__(79),this instanceof Readable?(this._readableState=new ReadableState(options,this),this.readable=!0,options&&"function"==typeof options.read&&(this._read=options.read),void Stream.call(this)):new Readable(options)}function readableAddChunk(stream,state,chunk,encoding,addToFront){var er=chunkInvalid(state,chunk);if(er)stream.emit("error",er);else if(null===chunk)state.reading=!1,onEofChunk(stream,state);else if(state.objectMode||chunk&&chunk.length>0)if(state.ended&&!addToFront){var e=new Error("stream.push() after EOF");stream.emit("error",e)}else if(state.endEmitted&&addToFront){var _e=new Error("stream.unshift() after end event");stream.emit("error",_e)}else{var skipAdd;!state.decoder||addToFront||encoding||(chunk=state.decoder.write(chunk),skipAdd=!state.objectMode&&0===chunk.length),addToFront||(state.reading=!1),skipAdd||(state.flowing&&0===state.length&&!state.sync?(stream.emit("data",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream))),maybeReadMore(stream,state)}else addToFront||(state.reading=!1);return needMoreData(state)}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}function computeNewHighWaterMark(n){return n>=MAX_HWM?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}function howMuchToRead(n,state){return 0===state.length&&state.ended?0:state.objectMode?0===n?0:1:null===n||isNaN(n)?state.flowing&&state.buffer.length?state.buffer[0].length:state.length:n<=0?0:(n>state.highWaterMark&&(state.highWaterMark=computeNewHighWaterMark(n)),n>state.length?state.ended?state.length:(state.needReadable=!0,0):n)}function chunkInvalid(state,chunk){var er=null;return Buffer.isBuffer(chunk)||"string"==typeof chunk||null===chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er}function onEofChunk(stream,state){if(!state.ended){if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,emitReadable(stream)}}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,state.sync?processNextTick(emitReadable_,stream):emitReadable_(stream))}function emitReadable_(stream){debug("emit readable"),stream.emit("readable"),flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,processNextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(var len=state.length;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug("maybeReadMore read 0"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,"data")&&(state.flowing=!0,flow(src))}}function nReadingNextTick(self){debug("readable nexttick read 0"),self.read(0)}function resume(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,processNextTick(resume_,stream,state))}function resume_(stream,state){state.reading||(debug("resume read 0"),stream.read(0)),state.resumeScheduled=!1,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;if(debug("flow",state.flowing),state.flowing)do var chunk=stream.read();while(null!==chunk&&state.flowing)}function fromList(n,state){var ret,list=state.buffer,length=state.length,stringMode=!!state.decoder,objectMode=!!state.objectMode;if(0===list.length)return null;if(0===length)ret=null;else if(objectMode)ret=list.shift();else if(!n||n>=length)ret=stringMode?list.join(""):1===list.length?list[0]:Buffer.concat(list,length),list.length=0;else if(n<list[0].length){var buf=list[0];ret=buf.slice(0,n),list[0]=buf.slice(n)}else if(n===list[0].length)ret=list.shift();else{ret=stringMode?"":bufferShim.allocUnsafe(n);for(var c=0,i=0,l=list.length;i<l&&c<n;i++){var _buf=list[0],cpy=Math.min(n-c,_buf.length);stringMode?ret+=_buf.slice(0,cpy):_buf.copy(ret,c,0,cpy),cpy<_buf.length?list[0]=_buf.slice(cpy):list.shift(),c+=cpy}}return ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error('"endReadable()" called on non-empty stream');state.endEmitted||(state.ended=!0,processNextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit("end"))}function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++)f(xs[i],i)}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}module.exports=Readable;var processNextTick=__webpack_require__(7),isArray=__webpack_require__(34);Readable.ReadableState=ReadableState;var Stream,EE=__webpack_require__(5).EventEmitter,EElistenerCount=function(emitter,type){return emitter.listeners(type).length};!function(){try{Stream=__webpack_require__(6)}catch(_){}finally{Stream||(Stream=__webpack_require__(5).EventEmitter)}}();var Buffer=__webpack_require__(0).Buffer,bufferShim=__webpack_require__(20),util=__webpack_require__(4);util.inherits=__webpack_require__(2);var debugUtil=__webpack_require__(796),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var StringDecoder;util.inherits(Readable,Stream);var Duplex,Duplex,hasPrependListener="function"==typeof EE.prototype.prependListener;Readable.prototype.push=function(chunk,encoding){var state=this._readableState;return state.objectMode||"string"!=typeof chunk||(encoding=encoding||state.defaultEncoding,encoding!==state.encoding&&(chunk=bufferShim.from(chunk,encoding),encoding="")),readableAddChunk(this,state,chunk,encoding,!1)},Readable.prototype.unshift=function(chunk){
var state=this._readableState;return readableAddChunk(this,state,chunk,"",!0)},Readable.prototype.isPaused=function(){return this._readableState.flowing===!1},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=__webpack_require__(13).StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};var MAX_HWM=8388608;Readable.prototype.read=function(n){debug("read",n);var state=this._readableState,nOrig=n;if(("number"!=typeof n||n>0)&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug("read: emitReadable",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(n=howMuchToRead(n,state),0===n&&state.ended)return 0===state.length&&endReadable(this),null;var doRead=state.needReadable;debug("need readable",doRead),(0===state.length||state.length-n<state.highWaterMark)&&(doRead=!0,debug("length less than watermark",doRead)),(state.ended||state.reading)&&(doRead=!1,debug("reading or ended",doRead)),doRead&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1),doRead&&!state.reading&&(n=howMuchToRead(nOrig,state));var ret;return ret=n>0?fromList(n,state):null,null===ret&&(state.needReadable=!0,n=0),state.length-=n,0!==state.length||state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&0===state.length&&endReadable(this),null!==ret&&this.emit("data",ret),ret},Readable.prototype._read=function(n){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(dest,pipeOpts){function onunpipe(readable){debug("onunpipe"),readable===src&&cleanup()}function onend(){debug("onend"),dest.end()}function cleanup(){debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",cleanup),src.removeListener("data",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain()}function ondata(chunk){debug("ondata");var ret=dest.write(chunk);!1===ret&&((1===state.pipesCount&&state.pipes===dest||state.pipesCount>1&&indexOf(state.pipes,dest)!==-1)&&!cleanedUp&&(debug("false write response, pause",src._readableState.awaitDrain),src._readableState.awaitDrain++),src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EElistenerCount(dest,"error")&&dest.emit("error",er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||pipeOpts.end!==!1)&&dest!==process.stdout&&dest!==process.stderr,endFn=doEnd?onend:cleanup;state.endEmitted?processNextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=!1;return src.on("data",ondata),prependListener(dest,"error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState;if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes?this:(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this),this);if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var _i=0;_i<len;_i++)dests[_i].emit("unpipe",this);return this}var i=indexOf(state.pipes,dest);return i===-1?this:(state.pipes.splice(i,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this),this)},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if("data"===ev&&!1!==this._readableState.flowing&&this.resume(),"readable"===ev&&!this._readableState.endEmitted){var state=this._readableState;state.readableListening||(state.readableListening=!0,state.emittedReadable=!1,state.needReadable=!0,state.reading?state.length&&emitReadable(this,state):processNextTick(nReadingNextTick,this))}return res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!0,resume(this,state)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(stream){var state=this._readableState,paused=!1,self=this;stream.on("end",function(){if(debug("wrapped end"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&self.push(chunk)}self.push(null)}),stream.on("data",function(chunk){if(debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),(!state.objectMode||null!==chunk&&void 0!==chunk)&&(state.objectMode||chunk&&chunk.length)){var ret=self.push(chunk);ret||(paused=!0,stream.pause())}});for(var i in stream)void 0===this[i]&&"function"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));var events=["error","close","destroy","pause","resume"];return forEach(events,function(ev){stream.on(ev,self.emit.bind(self,ev))}),self._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},self},Readable._fromList=fromList}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";function TransformState(stream){this.afterTransform=function(er,data){return afterTransform(stream,er,data)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(stream,er,data){var ts=stream._transformState;ts.transforming=!1;var cb=ts.writecb;if(!cb)return stream.emit("error",new Error("no writecb in Transform class"));ts.writechunk=null,ts.writecb=null,null!==data&&void 0!==data&&stream.push(data),cb(er);var rs=stream._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&stream._read(rs.highWaterMark)}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState=new TransformState(this);var stream=this;this._readableState.needReadable=!0,this._readableState.sync=!1,options&&("function"==typeof options.transform&&(this._transform=options.transform),"function"==typeof options.flush&&(this._flush=options.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(er){done(stream,er)}):done(stream)})}function done(stream,er){if(er)return stream.emit("error",er);var ws=stream._writableState,ts=stream._transformState;if(ws.length)throw new Error("Calling transform done when ws.length != 0");if(ts.transforming)throw new Error("Calling transform done when still transforming");return stream.push(null)}module.exports=Transform;var Duplex=__webpack_require__(79),util=__webpack_require__(4);util.inherits=__webpack_require__(2),util.inherits(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("Not implemented")},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;null!==ts.writechunk&&ts.writecb&&!ts.transforming?(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)):ts.needTransform=!0}},function(module,exports,__webpack_require__){"use strict";(function(process,setImmediate){function nop(){}function WriteReq(chunk,encoding,cb){this.chunk=chunk,this.encoding=encoding,this.callback=cb,this.next=null}function WritableState(options,stream){Duplex=Duplex||__webpack_require__(79),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var noDecode=options.decodeStrings===!1;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){onwrite(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){return Duplex=Duplex||__webpack_require__(79),this instanceof Writable||this instanceof Duplex?(this._writableState=new WritableState(options,this),this.writable=!0,options&&("function"==typeof options.write&&(this._write=options.write),"function"==typeof options.writev&&(this._writev=options.writev)),void Stream.call(this)):new Writable(options)}function writeAfterEnd(stream,cb){var er=new Error("write after end");stream.emit("error",er),processNextTick(cb,er)}function validChunk(stream,state,chunk,cb){var valid=!0,er=!1;return null===chunk?er=new TypeError("May not write null values to stream"):Buffer.isBuffer(chunk)||"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er&&(stream.emit("error",er),processNextTick(cb,er),valid=!1),valid}function decodeChunk(state,chunk,encoding){return state.objectMode||state.decodeStrings===!1||"string"!=typeof chunk||(chunk=bufferShim.from(chunk,encoding)),chunk}function writeOrBuffer(stream,state,chunk,encoding,cb){chunk=decodeChunk(state,chunk,encoding),Buffer.isBuffer(chunk)&&(encoding="buffer");var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(ret||(state.needDrain=!0),state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest=new WriteReq(chunk,encoding,cb),last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function onwriteError(stream,state,sync,er,cb){--state.pendingcb,sync?processNextTick(cb,er):cb(er),stream._writableState.errorEmitted=!0,stream.emit("error",er)}function onwriteStateUpdate(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}function onwrite(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if(onwriteStateUpdate(state),er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state);finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?asyncWrite(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}function afterWrite(stream,state,finished,cb){finished||onwriteDrain(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function onwriteDrain(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=new Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0;entry;)buffer[count]=entry,entry=entry.next,count+=1;doWrite(stream,state,!0,state.length,buffer,"",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state)}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback,len=state.objectMode?1:chunk.length;if(doWrite(stream,state,!1,len,chunk,encoding,cb),entry=entry.next,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequestCount=0,state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function prefinish(stream,state){state.prefinished||(state.prefinished=!0,stream.emit("prefinish"))}function finishMaybe(stream,state){var need=needFinish(state);return need&&(0===state.pendingcb?(prefinish(stream,state),state.finished=!0,stream.emit("finish")):prefinish(stream,state)),need}function endWritable(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?processNextTick(cb):stream.once("finish",cb)),state.ended=!0,stream.writable=!1}function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(err){var entry=_this.entry;for(_this.entry=null;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree?state.corkedRequestsFree.next=_this:state.corkedRequestsFree=_this}}module.exports=Writable;var processNextTick=__webpack_require__(7),asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:processNextTick;Writable.WritableState=WritableState;var util=__webpack_require__(4);util.inherits=__webpack_require__(2);var Stream,internalUtil={deprecate:__webpack_require__(37)};!function(){try{Stream=__webpack_require__(6)}catch(_){}finally{Stream||(Stream=__webpack_require__(5).EventEmitter)}}();var Buffer=__webpack_require__(0).Buffer,bufferShim=__webpack_require__(20);util.inherits(Writable,Stream);var Duplex;WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(_){}}();var Duplex;Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState,ret=!1;return"function"==typeof encoding&&(cb=encoding,encoding=null),Buffer.isBuffer(chunk)?encoding="buffer":encoding||(encoding=state.defaultEncoding),"function"!=typeof cb&&(cb=nop),state.ended?writeAfterEnd(this,cb):validChunk(this,state,chunk,cb)&&(state.pendingcb++,ret=writeOrBuffer(this,state,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){var state=this._writableState;state.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if("string"==typeof encoding&&(encoding=encoding.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);return this._writableState.defaultEncoding=encoding,this},Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;"function"==typeof chunk?(cb=chunk,chunk=null,encoding=null):"function"==typeof encoding&&(cb=encoding,encoding=null),null!==chunk&&void 0!==chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||endWritable(this,state,cb)}}).call(exports,__webpack_require__(3),__webpack_require__(21).setImmediate)},function(module,exports,__webpack_require__){(function(process){var Stream=function(){try{return __webpack_require__(6)}catch(_){}}();exports=module.exports=__webpack_require__(255),exports.Stream=Stream||exports,exports.Readable=exports,exports.Writable=__webpack_require__(257),exports.Duplex=__webpack_require__(79),exports.Transform=__webpack_require__(256),exports.PassThrough=__webpack_require__(647),!process.browser&&"disable"===process.env.READABLE_STREAM&&Stream&&(module.exports=Stream)}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";function Connection(conn){var _this=this;if(!(this instanceof Connection))return new Connection(conn);Duplexify.call(this);var peerInfo=void 0;this.getPeerInfo=function(callback){return conn&&conn.getPeerInfo?conn.getPeerInfo(callback):peerInfo?void callback(null,peerInfo):callback(new Error("Peer Info not set yet"))},this.setPeerInfo=function(_peerInfo){return conn&&conn.setPeerInfo?conn.setPeerInfo(_peerInfo):void(peerInfo=_peerInfo)},this.getObservedAddrs=function(callback){return conn&&conn.getObservedAddrs?conn.getObservedAddrs(callback):void callback(null,[])},this.setInnerConn=function(_conn){conn=_conn,_this.setReadable(conn),_this.setWritable(conn)},conn&&this.setInnerConn(conn)}var util=__webpack_require__(14),Duplexify=__webpack_require__(650);module.exports=Connection,util.inherits(Connection,Duplexify)},function(module,exports,__webpack_require__){"use strict";(function(process){function prependListener(emitter,event,fn){return hasPrependListener?emitter.prependListener(event,fn):void(emitter._events&&emitter._events[event]?isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn))}function ReadableState(options,stream){Duplex=Duplex||__webpack_require__(80),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=options.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=__webpack_require__(13).StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){return Duplex=Duplex||__webpack_require__(80),this instanceof Readable?(this._readableState=new ReadableState(options,this),this.readable=!0,options&&"function"==typeof options.read&&(this._read=options.read),void Stream.call(this)):new Readable(options)}function readableAddChunk(stream,state,chunk,encoding,addToFront){var er=chunkInvalid(state,chunk);if(er)stream.emit("error",er);else if(null===chunk)state.reading=!1,onEofChunk(stream,state);else if(state.objectMode||chunk&&chunk.length>0)if(state.ended&&!addToFront){var e=new Error("stream.push() after EOF");stream.emit("error",e)}else if(state.endEmitted&&addToFront){var _e=new Error("stream.unshift() after end event");stream.emit("error",_e)}else{var skipAdd;!state.decoder||addToFront||encoding||(chunk=state.decoder.write(chunk),skipAdd=!state.objectMode&&0===chunk.length),addToFront||(state.reading=!1),skipAdd||(state.flowing&&0===state.length&&!state.sync?(stream.emit("data",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream))),maybeReadMore(stream,state)}else addToFront||(state.reading=!1);return needMoreData(state)}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}function computeNewHighWaterMark(n){return n>=MAX_HWM?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}function howMuchToRead(n,state){return 0===state.length&&state.ended?0:state.objectMode?0===n?0:1:null===n||isNaN(n)?state.flowing&&state.buffer.length?state.buffer[0].length:state.length:n<=0?0:(n>state.highWaterMark&&(state.highWaterMark=computeNewHighWaterMark(n)),n>state.length?state.ended?state.length:(state.needReadable=!0,0):n)}function chunkInvalid(state,chunk){var er=null;return Buffer.isBuffer(chunk)||"string"==typeof chunk||null===chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er}function onEofChunk(stream,state){if(!state.ended){if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,emitReadable(stream)}}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,state.sync?processNextTick(emitReadable_,stream):emitReadable_(stream))}function emitReadable_(stream){debug("emit readable"),stream.emit("readable"),flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,processNextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(var len=state.length;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug("maybeReadMore read 0"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,"data")&&(state.flowing=!0,flow(src))}}function nReadingNextTick(self){debug("readable nexttick read 0"),self.read(0)}function resume(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,processNextTick(resume_,stream,state))}function resume_(stream,state){state.reading||(debug("resume read 0"),stream.read(0)),state.resumeScheduled=!1,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;if(debug("flow",state.flowing),state.flowing)do var chunk=stream.read();while(null!==chunk&&state.flowing)}function fromList(n,state){var ret,list=state.buffer,length=state.length,stringMode=!!state.decoder,objectMode=!!state.objectMode;if(0===list.length)return null;if(0===length)ret=null;else if(objectMode)ret=list.shift();else if(!n||n>=length)ret=stringMode?list.join(""):1===list.length?list[0]:Buffer.concat(list,length),list.length=0;else if(n<list[0].length){var buf=list[0];ret=buf.slice(0,n),list[0]=buf.slice(n)}else if(n===list[0].length)ret=list.shift();else{ret=stringMode?"":bufferShim.allocUnsafe(n);for(var c=0,i=0,l=list.length;i<l&&c<n;i++){var _buf=list[0],cpy=Math.min(n-c,_buf.length);stringMode?ret+=_buf.slice(0,cpy):_buf.copy(ret,c,0,cpy),cpy<_buf.length?list[0]=_buf.slice(cpy):list.shift(),c+=cpy}}return ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error('"endReadable()" called on non-empty stream');state.endEmitted||(state.ended=!0,processNextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit("end"))}function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++)f(xs[i],i)}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}module.exports=Readable;var processNextTick=__webpack_require__(7),isArray=__webpack_require__(34);Readable.ReadableState=ReadableState;var Stream,EE=__webpack_require__(5).EventEmitter,EElistenerCount=function(emitter,type){return emitter.listeners(type).length};!function(){try{Stream=__webpack_require__(6)}catch(_){}finally{Stream||(Stream=__webpack_require__(5).EventEmitter)}}();var Buffer=__webpack_require__(0).Buffer,bufferShim=__webpack_require__(20),util=__webpack_require__(4);util.inherits=__webpack_require__(2);var debugUtil=__webpack_require__(797),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var StringDecoder;util.inherits(Readable,Stream);var Duplex,Duplex,hasPrependListener="function"==typeof EE.prototype.prependListener;Readable.prototype.push=function(chunk,encoding){var state=this._readableState;return state.objectMode||"string"!=typeof chunk||(encoding=encoding||state.defaultEncoding,encoding!==state.encoding&&(chunk=bufferShim.from(chunk,encoding),encoding="")),readableAddChunk(this,state,chunk,encoding,!1)},Readable.prototype.unshift=function(chunk){var state=this._readableState;return readableAddChunk(this,state,chunk,"",!0)},Readable.prototype.isPaused=function(){return this._readableState.flowing===!1},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=__webpack_require__(13).StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};var MAX_HWM=8388608;Readable.prototype.read=function(n){debug("read",n);var state=this._readableState,nOrig=n;if(("number"!=typeof n||n>0)&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug("read: emitReadable",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(n=howMuchToRead(n,state),0===n&&state.ended)return 0===state.length&&endReadable(this),null;var doRead=state.needReadable;debug("need readable",doRead),(0===state.length||state.length-n<state.highWaterMark)&&(doRead=!0,debug("length less than watermark",doRead)),(state.ended||state.reading)&&(doRead=!1,debug("reading or ended",doRead)),doRead&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1),doRead&&!state.reading&&(n=howMuchToRead(nOrig,state));var ret;return ret=n>0?fromList(n,state):null,null===ret&&(state.needReadable=!0,n=0),state.length-=n,0!==state.length||state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&0===state.length&&endReadable(this),null!==ret&&this.emit("data",ret),ret},Readable.prototype._read=function(n){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(dest,pipeOpts){function onunpipe(readable){debug("onunpipe"),readable===src&&cleanup()}function onend(){debug("onend"),dest.end()}function cleanup(){debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",cleanup),src.removeListener("data",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain()}function ondata(chunk){debug("ondata");var ret=dest.write(chunk);!1===ret&&((1===state.pipesCount&&state.pipes===dest||state.pipesCount>1&&indexOf(state.pipes,dest)!==-1)&&!cleanedUp&&(debug("false write response, pause",src._readableState.awaitDrain),src._readableState.awaitDrain++),src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EElistenerCount(dest,"error")&&dest.emit("error",er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||pipeOpts.end!==!1)&&dest!==process.stdout&&dest!==process.stderr,endFn=doEnd?onend:cleanup;state.endEmitted?processNextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=!1;return src.on("data",ondata),prependListener(dest,"error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState;if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes?this:(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this),this);if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var _i=0;_i<len;_i++)dests[_i].emit("unpipe",this);return this}var i=indexOf(state.pipes,dest);return i===-1?this:(state.pipes.splice(i,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this),this)},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if("data"===ev&&!1!==this._readableState.flowing&&this.resume(),"readable"===ev&&!this._readableState.endEmitted){var state=this._readableState;state.readableListening||(state.readableListening=!0,state.emittedReadable=!1,state.needReadable=!0,state.reading?state.length&&emitReadable(this,state):processNextTick(nReadingNextTick,this))}return res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!0,resume(this,state)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(stream){var state=this._readableState,paused=!1,self=this;stream.on("end",function(){if(debug("wrapped end"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&self.push(chunk)}self.push(null)}),stream.on("data",function(chunk){if(debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),(!state.objectMode||null!==chunk&&void 0!==chunk)&&(state.objectMode||chunk&&chunk.length)){var ret=self.push(chunk);ret||(paused=!0,stream.pause())}});for(var i in stream)void 0===this[i]&&"function"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));var events=["error","close","destroy","pause","resume"];return forEach(events,function(ev){stream.on(ev,self.emit.bind(self,ev))}),self._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},self},Readable._fromList=fromList}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";function TransformState(stream){this.afterTransform=function(er,data){return afterTransform(stream,er,data)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(stream,er,data){var ts=stream._transformState;ts.transforming=!1;var cb=ts.writecb;if(!cb)return stream.emit("error",new Error("no writecb in Transform class"));
ts.writechunk=null,ts.writecb=null,null!==data&&void 0!==data&&stream.push(data),cb(er);var rs=stream._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&stream._read(rs.highWaterMark)}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState=new TransformState(this);var stream=this;this._readableState.needReadable=!0,this._readableState.sync=!1,options&&("function"==typeof options.transform&&(this._transform=options.transform),"function"==typeof options.flush&&(this._flush=options.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(er){done(stream,er)}):done(stream)})}function done(stream,er){if(er)return stream.emit("error",er);var ws=stream._writableState,ts=stream._transformState;if(ws.length)throw new Error("Calling transform done when ws.length != 0");if(ts.transforming)throw new Error("Calling transform done when still transforming");return stream.push(null)}module.exports=Transform;var Duplex=__webpack_require__(80),util=__webpack_require__(4);util.inherits=__webpack_require__(2),util.inherits(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("Not implemented")},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;null!==ts.writechunk&&ts.writecb&&!ts.transforming?(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)):ts.needTransform=!0}},function(module,exports,__webpack_require__){"use strict";(function(process,setImmediate){function nop(){}function WriteReq(chunk,encoding,cb){this.chunk=chunk,this.encoding=encoding,this.callback=cb,this.next=null}function WritableState(options,stream){Duplex=Duplex||__webpack_require__(80),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var noDecode=options.decodeStrings===!1;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){onwrite(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){return Duplex=Duplex||__webpack_require__(80),this instanceof Writable||this instanceof Duplex?(this._writableState=new WritableState(options,this),this.writable=!0,options&&("function"==typeof options.write&&(this._write=options.write),"function"==typeof options.writev&&(this._writev=options.writev)),void Stream.call(this)):new Writable(options)}function writeAfterEnd(stream,cb){var er=new Error("write after end");stream.emit("error",er),processNextTick(cb,er)}function validChunk(stream,state,chunk,cb){var valid=!0,er=!1;return null===chunk?er=new TypeError("May not write null values to stream"):Buffer.isBuffer(chunk)||"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er&&(stream.emit("error",er),processNextTick(cb,er),valid=!1),valid}function decodeChunk(state,chunk,encoding){return state.objectMode||state.decodeStrings===!1||"string"!=typeof chunk||(chunk=bufferShim.from(chunk,encoding)),chunk}function writeOrBuffer(stream,state,chunk,encoding,cb){chunk=decodeChunk(state,chunk,encoding),Buffer.isBuffer(chunk)&&(encoding="buffer");var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(ret||(state.needDrain=!0),state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest=new WriteReq(chunk,encoding,cb),last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function onwriteError(stream,state,sync,er,cb){--state.pendingcb,sync?processNextTick(cb,er):cb(er),stream._writableState.errorEmitted=!0,stream.emit("error",er)}function onwriteStateUpdate(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}function onwrite(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if(onwriteStateUpdate(state),er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state);finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?asyncWrite(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}function afterWrite(stream,state,finished,cb){finished||onwriteDrain(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function onwriteDrain(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=new Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0;entry;)buffer[count]=entry,entry=entry.next,count+=1;doWrite(stream,state,!0,state.length,buffer,"",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state)}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback,len=state.objectMode?1:chunk.length;if(doWrite(stream,state,!1,len,chunk,encoding,cb),entry=entry.next,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequestCount=0,state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function prefinish(stream,state){state.prefinished||(state.prefinished=!0,stream.emit("prefinish"))}function finishMaybe(stream,state){var need=needFinish(state);return need&&(0===state.pendingcb?(prefinish(stream,state),state.finished=!0,stream.emit("finish")):prefinish(stream,state)),need}function endWritable(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?processNextTick(cb):stream.once("finish",cb)),state.ended=!0,stream.writable=!1}function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(err){var entry=_this.entry;for(_this.entry=null;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree?state.corkedRequestsFree.next=_this:state.corkedRequestsFree=_this}}module.exports=Writable;var processNextTick=__webpack_require__(7),asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:processNextTick;Writable.WritableState=WritableState;var util=__webpack_require__(4);util.inherits=__webpack_require__(2);var Stream,internalUtil={deprecate:__webpack_require__(37)};!function(){try{Stream=__webpack_require__(6)}catch(_){}finally{Stream||(Stream=__webpack_require__(5).EventEmitter)}}();var Buffer=__webpack_require__(0).Buffer,bufferShim=__webpack_require__(20);util.inherits(Writable,Stream);var Duplex;WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(_){}}();var Duplex;Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState,ret=!1;return"function"==typeof encoding&&(cb=encoding,encoding=null),Buffer.isBuffer(chunk)?encoding="buffer":encoding||(encoding=state.defaultEncoding),"function"!=typeof cb&&(cb=nop),state.ended?writeAfterEnd(this,cb):validChunk(this,state,chunk,cb)&&(state.pendingcb++,ret=writeOrBuffer(this,state,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){var state=this._writableState;state.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if("string"==typeof encoding&&(encoding=encoding.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);return this._writableState.defaultEncoding=encoding,this},Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;"function"==typeof chunk?(cb=chunk,chunk=null,encoding=null):"function"==typeof encoding&&(cb=encoding,encoding=null),null!==chunk&&void 0!==chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||endWritable(this,state,cb)}}).call(exports,__webpack_require__(3),__webpack_require__(21).setImmediate)},function(module,exports,__webpack_require__){function isStream(obj){return obj instanceof stream.Stream}function isReadable(obj){return isStream(obj)&&"function"==typeof obj._read&&"object"==typeof obj._readableState}function isWritable(obj){return isStream(obj)&&"function"==typeof obj._write&&"object"==typeof obj._writableState}function isDuplex(obj){return isReadable(obj)&&isWritable(obj)}var stream=__webpack_require__(6);module.exports=isStream,module.exports.isReadable=isReadable,module.exports.isWritable=isWritable,module.exports.isDuplex=isDuplex},function(module,exports,__webpack_require__){(function(Buffer){var varint=__webpack_require__(659),POOL_SIZE=1e5,MINIMUM_POOL_LENGTH=100,pool=new Buffer(POOL_SIZE);exports.read=function(stream,cb){var msglen=0,prev=null,lock=!1,unlock=function(){lock=!1},readable=function(){if(!lock){if(lock=!0,!msglen){var buf=stream.read();if(!buf)return unlock();prev&&(buf=Buffer.concat([prev,buf]),prev=null);for(var i=0;i<buf.length;i++)if(!(128&buf[i])){msglen=varint.decode(buf);break}if(!msglen)return prev=buf,unlock();buf=buf.slice(varint.decode.bytes),stream.unshift(buf)}var chunk=stream.read(msglen);if(!chunk)return unlock();stream.removeListener("readable",readable),cb(chunk)}};stream.on("readable",readable),readable()},exports.write=function(stream,msg){"string"==typeof msg&&(msg=new Buffer(msg)),varint.encode(msg.length,pool);var lenBuf=pool.slice(0,varint.encode.bytes);pool=pool.slice(varint.encode.bytes),pool.length<MINIMUM_POOL_LENGTH&&(pool=new Buffer(POOL_SIZE)),stream.write(lenBuf),stream.write(msg)}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){exports.encode=__webpack_require__(662),exports.decode=__webpack_require__(661)},function(module,exports,__webpack_require__){"use strict";(function(process){function prependListener(emitter,event,fn){return hasPrependListener?emitter.prependListener(event,fn):void(emitter._events&&emitter._events[event]?isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn))}function ReadableState(options,stream){Duplex=Duplex||__webpack_require__(81),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=options.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=__webpack_require__(13).StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){return Duplex=Duplex||__webpack_require__(81),this instanceof Readable?(this._readableState=new ReadableState(options,this),this.readable=!0,options&&"function"==typeof options.read&&(this._read=options.read),void Stream.call(this)):new Readable(options)}function readableAddChunk(stream,state,chunk,encoding,addToFront){var er=chunkInvalid(state,chunk);if(er)stream.emit("error",er);else if(null===chunk)state.reading=!1,onEofChunk(stream,state);else if(state.objectMode||chunk&&chunk.length>0)if(state.ended&&!addToFront){var e=new Error("stream.push() after EOF");stream.emit("error",e)}else if(state.endEmitted&&addToFront){var _e=new Error("stream.unshift() after end event");stream.emit("error",_e)}else{var skipAdd;!state.decoder||addToFront||encoding||(chunk=state.decoder.write(chunk),skipAdd=!state.objectMode&&0===chunk.length),addToFront||(state.reading=!1),skipAdd||(state.flowing&&0===state.length&&!state.sync?(stream.emit("data",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream))),maybeReadMore(stream,state)}else addToFront||(state.reading=!1);return needMoreData(state)}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}function computeNewHighWaterMark(n){return n>=MAX_HWM?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}function howMuchToRead(n,state){return 0===state.length&&state.ended?0:state.objectMode?0===n?0:1:null===n||isNaN(n)?state.flowing&&state.buffer.length?state.buffer[0].length:state.length:n<=0?0:(n>state.highWaterMark&&(state.highWaterMark=computeNewHighWaterMark(n)),n>state.length?state.ended?state.length:(state.needReadable=!0,0):n)}function chunkInvalid(state,chunk){var er=null;return Buffer.isBuffer(chunk)||"string"==typeof chunk||null===chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er}function onEofChunk(stream,state){if(!state.ended){if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,emitReadable(stream)}}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,state.sync?processNextTick(emitReadable_,stream):emitReadable_(stream))}function emitReadable_(stream){debug("emit readable"),stream.emit("readable"),flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,processNextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(var len=state.length;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug("maybeReadMore read 0"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,"data")&&(state.flowing=!0,flow(src))}}function nReadingNextTick(self){debug("readable nexttick read 0"),self.read(0)}function resume(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,processNextTick(resume_,stream,state))}function resume_(stream,state){state.reading||(debug("resume read 0"),stream.read(0)),state.resumeScheduled=!1,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;if(debug("flow",state.flowing),state.flowing)do var chunk=stream.read();while(null!==chunk&&state.flowing)}function fromList(n,state){var ret,list=state.buffer,length=state.length,stringMode=!!state.decoder,objectMode=!!state.objectMode;if(0===list.length)return null;if(0===length)ret=null;else if(objectMode)ret=list.shift();else if(!n||n>=length)ret=stringMode?list.join(""):1===list.length?list[0]:Buffer.concat(list,length),list.length=0;else if(n<list[0].length){var buf=list[0];ret=buf.slice(0,n),list[0]=buf.slice(n)}else if(n===list[0].length)ret=list.shift();else{ret=stringMode?"":bufferShim.allocUnsafe(n);for(var c=0,i=0,l=list.length;i<l&&c<n;i++){var _buf=list[0],cpy=Math.min(n-c,_buf.length);stringMode?ret+=_buf.slice(0,cpy):_buf.copy(ret,c,0,cpy),cpy<_buf.length?list[0]=_buf.slice(cpy):list.shift(),c+=cpy}}return ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error('"endReadable()" called on non-empty stream');state.endEmitted||(state.ended=!0,processNextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit("end"))}function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++)f(xs[i],i)}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}module.exports=Readable;var processNextTick=__webpack_require__(7),isArray=__webpack_require__(34);Readable.ReadableState=ReadableState;var Stream,EE=__webpack_require__(5).EventEmitter,EElistenerCount=function(emitter,type){return emitter.listeners(type).length};!function(){try{Stream=__webpack_require__(6)}catch(_){}finally{Stream||(Stream=__webpack_require__(5).EventEmitter)}}();var Buffer=__webpack_require__(0).Buffer,bufferShim=__webpack_require__(20),util=__webpack_require__(4);util.inherits=__webpack_require__(2);var debugUtil=__webpack_require__(798),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var StringDecoder;util.inherits(Readable,Stream);var Duplex,Duplex,hasPrependListener="function"==typeof EE.prototype.prependListener;Readable.prototype.push=function(chunk,encoding){var state=this._readableState;return state.objectMode||"string"!=typeof chunk||(encoding=encoding||state.defaultEncoding,encoding!==state.encoding&&(chunk=bufferShim.from(chunk,encoding),encoding="")),readableAddChunk(this,state,chunk,encoding,!1)},Readable.prototype.unshift=function(chunk){var state=this._readableState;return readableAddChunk(this,state,chunk,"",!0)},Readable.prototype.isPaused=function(){return this._readableState.flowing===!1},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=__webpack_require__(13).StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};var MAX_HWM=8388608;Readable.prototype.read=function(n){debug("read",n);var state=this._readableState,nOrig=n;if(("number"!=typeof n||n>0)&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug("read: emitReadable",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(n=howMuchToRead(n,state),0===n&&state.ended)return 0===state.length&&endReadable(this),null;var doRead=state.needReadable;debug("need readable",doRead),(0===state.length||state.length-n<state.highWaterMark)&&(doRead=!0,debug("length less than watermark",doRead)),(state.ended||state.reading)&&(doRead=!1,debug("reading or ended",doRead)),doRead&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1),doRead&&!state.reading&&(n=howMuchToRead(nOrig,state));var ret;return ret=n>0?fromList(n,state):null,null===ret&&(state.needReadable=!0,n=0),state.length-=n,0!==state.length||state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&0===state.length&&endReadable(this),null!==ret&&this.emit("data",ret),ret},Readable.prototype._read=function(n){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(dest,pipeOpts){function onunpipe(readable){debug("onunpipe"),readable===src&&cleanup()}function onend(){debug("onend"),dest.end()}function cleanup(){debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",cleanup),src.removeListener("data",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain()}function ondata(chunk){debug("ondata");var ret=dest.write(chunk);!1===ret&&((1===state.pipesCount&&state.pipes===dest||state.pipesCount>1&&indexOf(state.pipes,dest)!==-1)&&!cleanedUp&&(debug("false write response, pause",src._readableState.awaitDrain),src._readableState.awaitDrain++),src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EElistenerCount(dest,"error")&&dest.emit("error",er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||pipeOpts.end!==!1)&&dest!==process.stdout&&dest!==process.stderr,endFn=doEnd?onend:cleanup;state.endEmitted?processNextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=!1;return src.on("data",ondata),prependListener(dest,"error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState;if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes?this:(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this),this);if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var _i=0;_i<len;_i++)dests[_i].emit("unpipe",this);return this}var i=indexOf(state.pipes,dest);return i===-1?this:(state.pipes.splice(i,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this),this)},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if("data"===ev&&!1!==this._readableState.flowing&&this.resume(),"readable"===ev&&!this._readableState.endEmitted){var state=this._readableState;state.readableListening||(state.readableListening=!0,state.emittedReadable=!1,state.needReadable=!0,state.reading?state.length&&emitReadable(this,state):processNextTick(nReadingNextTick,this))}return res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!0,resume(this,state)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(stream){var state=this._readableState,paused=!1,self=this;stream.on("end",function(){if(debug("wrapped end"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&self.push(chunk)}self.push(null)}),stream.on("data",function(chunk){if(debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),(!state.objectMode||null!==chunk&&void 0!==chunk)&&(state.objectMode||chunk&&chunk.length)){var ret=self.push(chunk);ret||(paused=!0,stream.pause())}});for(var i in stream)void 0===this[i]&&"function"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));var events=["error","close","destroy","pause","resume"];return forEach(events,function(ev){stream.on(ev,self.emit.bind(self,ev))}),self._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},self},Readable._fromList=fromList}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";function TransformState(stream){this.afterTransform=function(er,data){return afterTransform(stream,er,data)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(stream,er,data){var ts=stream._transformState;ts.transforming=!1;var cb=ts.writecb;if(!cb)return stream.emit("error",new Error("no writecb in Transform class"));ts.writechunk=null,ts.writecb=null,null!==data&&void 0!==data&&stream.push(data),cb(er);var rs=stream._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&stream._read(rs.highWaterMark)}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState=new TransformState(this);var stream=this;this._readableState.needReadable=!0,this._readableState.sync=!1,options&&("function"==typeof options.transform&&(this._transform=options.transform),"function"==typeof options.flush&&(this._flush=options.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(er){done(stream,er)}):done(stream)})}function done(stream,er){if(er)return stream.emit("error",er);var ws=stream._writableState,ts=stream._transformState;if(ws.length)throw new Error("Calling transform done when ws.length != 0");if(ts.transforming)throw new Error("Calling transform done when still transforming");return stream.push(null)}module.exports=Transform;var Duplex=__webpack_require__(81),util=__webpack_require__(4);util.inherits=__webpack_require__(2),util.inherits(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("Not implemented")},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;null!==ts.writechunk&&ts.writecb&&!ts.transforming?(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)):ts.needTransform=!0}},function(module,exports,__webpack_require__){"use strict";(function(process,setImmediate){function nop(){}function WriteReq(chunk,encoding,cb){this.chunk=chunk,this.encoding=encoding,this.callback=cb,this.next=null}function WritableState(options,stream){Duplex=Duplex||__webpack_require__(81),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var noDecode=options.decodeStrings===!1;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){onwrite(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){return Duplex=Duplex||__webpack_require__(81),this instanceof Writable||this instanceof Duplex?(this._writableState=new WritableState(options,this),this.writable=!0,options&&("function"==typeof options.write&&(this._write=options.write),"function"==typeof options.writev&&(this._writev=options.writev)),void Stream.call(this)):new Writable(options)}function writeAfterEnd(stream,cb){var er=new Error("write after end");stream.emit("error",er),processNextTick(cb,er)}function validChunk(stream,state,chunk,cb){var valid=!0,er=!1;return null===chunk?er=new TypeError("May not write null values to stream"):Buffer.isBuffer(chunk)||"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er&&(stream.emit("error",er),processNextTick(cb,er),valid=!1),valid}function decodeChunk(state,chunk,encoding){return state.objectMode||state.decodeStrings===!1||"string"!=typeof chunk||(chunk=bufferShim.from(chunk,encoding)),chunk}function writeOrBuffer(stream,state,chunk,encoding,cb){chunk=decodeChunk(state,chunk,encoding),Buffer.isBuffer(chunk)&&(encoding="buffer");var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(ret||(state.needDrain=!0),state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest=new WriteReq(chunk,encoding,cb),last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function onwriteError(stream,state,sync,er,cb){--state.pendingcb,sync?processNextTick(cb,er):cb(er),stream._writableState.errorEmitted=!0,stream.emit("error",er)}function onwriteStateUpdate(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}function onwrite(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if(onwriteStateUpdate(state),er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state);finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?asyncWrite(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}function afterWrite(stream,state,finished,cb){finished||onwriteDrain(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function onwriteDrain(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=new Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0;entry;)buffer[count]=entry,entry=entry.next,count+=1;doWrite(stream,state,!0,state.length,buffer,"",holder.finish),
state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state)}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback,len=state.objectMode?1:chunk.length;if(doWrite(stream,state,!1,len,chunk,encoding,cb),entry=entry.next,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequestCount=0,state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function prefinish(stream,state){state.prefinished||(state.prefinished=!0,stream.emit("prefinish"))}function finishMaybe(stream,state){var need=needFinish(state);return need&&(0===state.pendingcb?(prefinish(stream,state),state.finished=!0,stream.emit("finish")):prefinish(stream,state)),need}function endWritable(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?processNextTick(cb):stream.once("finish",cb)),state.ended=!0,stream.writable=!1}function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(err){var entry=_this.entry;for(_this.entry=null;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree?state.corkedRequestsFree.next=_this:state.corkedRequestsFree=_this}}module.exports=Writable;var processNextTick=__webpack_require__(7),asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:processNextTick;Writable.WritableState=WritableState;var util=__webpack_require__(4);util.inherits=__webpack_require__(2);var Stream,internalUtil={deprecate:__webpack_require__(37)};!function(){try{Stream=__webpack_require__(6)}catch(_){}finally{Stream||(Stream=__webpack_require__(5).EventEmitter)}}();var Buffer=__webpack_require__(0).Buffer,bufferShim=__webpack_require__(20);util.inherits(Writable,Stream);var Duplex;WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(_){}}();var Duplex;Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState,ret=!1;return"function"==typeof encoding&&(cb=encoding,encoding=null),Buffer.isBuffer(chunk)?encoding="buffer":encoding||(encoding=state.defaultEncoding),"function"!=typeof cb&&(cb=nop),state.ended?writeAfterEnd(this,cb):validChunk(this,state,chunk,cb)&&(state.pendingcb++,ret=writeOrBuffer(this,state,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){var state=this._writableState;state.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if("string"==typeof encoding&&(encoding=encoding.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);return this._writableState.defaultEncoding=encoding,this},Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;"function"==typeof chunk?(cb=chunk,chunk=null,encoding=null):"function"==typeof encoding&&(cb=encoding,encoding=null),null!==chunk&&void 0!==chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||endWritable(this,state,cb)}}).call(exports,__webpack_require__(3),__webpack_require__(21).setImmediate)},function(module,exports,__webpack_require__){(function(process){var Stream=function(){try{return __webpack_require__(6)}catch(_){}}();exports=module.exports=__webpack_require__(266),exports.Stream=Stream||exports,exports.Readable=exports,exports.Writable=__webpack_require__(268),exports.Duplex=__webpack_require__(81),exports.Transform=__webpack_require__(267),exports.PassThrough=__webpack_require__(663),!process.browser&&"disable"===process.env.READABLE_STREAM&&Stream&&(module.exports=Stream)}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";var multihashing=__webpack_require__(177);exports.keyHash=function(bytes){return multihashing(bytes,"sha2-256")}},function(module,exports,__webpack_require__){(function(process,setImmediate,module,Buffer){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(root,factory){__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_FACTORY__=factory,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(this,function(){var requirejs,require,define;return function(undef){function hasProp(obj,prop){return hasOwn.call(obj,prop)}function normalize(name,baseName){var nameParts,nameSegment,mapValue,foundMap,lastIndex,foundI,foundStarMap,starI,i,j,part,baseParts=baseName&&baseName.split("/"),map=config.map,starMap=map&&map["*"]||{};if(name&&"."===name.charAt(0))if(baseName){for(baseParts=baseParts.slice(0,baseParts.length-1),name=name.split("/"),lastIndex=name.length-1,config.nodeIdCompat&&jsSuffixRegExp.test(name[lastIndex])&&(name[lastIndex]=name[lastIndex].replace(jsSuffixRegExp,"")),name=baseParts.concat(name),i=0;i<name.length;i+=1)if(part=name[i],"."===part)name.splice(i,1),i-=1;else if(".."===part){if(1===i&&(".."===name[2]||".."===name[0]))break;i>0&&(name.splice(i-1,2),i-=2)}name=name.join("/")}else 0===name.indexOf("./")&&(name=name.substring(2));if((baseParts||starMap)&&map){for(nameParts=name.split("/"),i=nameParts.length;i>0;i-=1){if(nameSegment=nameParts.slice(0,i).join("/"),baseParts)for(j=baseParts.length;j>0;j-=1)if(mapValue=map[baseParts.slice(0,j).join("/")],mapValue&&(mapValue=mapValue[nameSegment])){foundMap=mapValue,foundI=i;break}if(foundMap)break;!foundStarMap&&starMap&&starMap[nameSegment]&&(foundStarMap=starMap[nameSegment],starI=i)}!foundMap&&foundStarMap&&(foundMap=foundStarMap,foundI=starI),foundMap&&(nameParts.splice(0,foundI,foundMap),name=nameParts.join("/"))}return name}function makeRequire(relName,forceSync){return function(){return req.apply(undef,aps.call(arguments,0).concat([relName,forceSync]))}}function makeNormalize(relName){return function(name){return normalize(name,relName)}}function makeLoad(depName){return function(value){defined[depName]=value}}function callDep(name){if(hasProp(waiting,name)){var args=waiting[name];delete waiting[name],defining[name]=!0,main.apply(undef,args)}if(!hasProp(defined,name)&&!hasProp(defining,name))throw new Error("No "+name);return defined[name]}function splitPrefix(name){var prefix,index=name?name.indexOf("!"):-1;return index>-1&&(prefix=name.substring(0,index),name=name.substring(index+1,name.length)),[prefix,name]}function makeConfig(name){return function(){return config&&config.config&&config.config[name]||{}}}var main,req,makeMap,handlers,defined={},waiting={},config={},defining={},hasOwn=Object.prototype.hasOwnProperty,aps=[].slice,jsSuffixRegExp=/\.js$/;makeMap=function(name,relName){var plugin,parts=splitPrefix(name),prefix=parts[0];return name=parts[1],prefix&&(prefix=normalize(prefix,relName),plugin=callDep(prefix)),prefix?name=plugin&&plugin.normalize?plugin.normalize(name,makeNormalize(relName)):normalize(name,relName):(name=normalize(name,relName),parts=splitPrefix(name),prefix=parts[0],name=parts[1],prefix&&(plugin=callDep(prefix))),{f:prefix?prefix+"!"+name:name,n:name,pr:prefix,p:plugin}},handlers={require:function(name){return makeRequire(name)},exports:function(name){var e=defined[name];return"undefined"!=typeof e?e:defined[name]={}},module:function(name){return{id:name,uri:"",exports:defined[name],config:makeConfig(name)}}},main=function(name,deps,callback,relName){var cjsModule,depName,ret,map,i,usingExports,args=[],callbackType=typeof callback;if(relName=relName||name,"undefined"===callbackType||"function"===callbackType){for(deps=!deps.length&&callback.length?["require","exports","module"]:deps,i=0;i<deps.length;i+=1)if(map=makeMap(deps[i],relName),depName=map.f,"require"===depName)args[i]=handlers.require(name);else if("exports"===depName)args[i]=handlers.exports(name),usingExports=!0;else if("module"===depName)cjsModule=args[i]=handlers.module(name);else if(hasProp(defined,depName)||hasProp(waiting,depName)||hasProp(defining,depName))args[i]=callDep(depName);else{if(!map.p)throw new Error(name+" missing "+depName);map.p.load(map.n,makeRequire(relName,!0),makeLoad(depName),{}),args[i]=defined[depName]}ret=callback?callback.apply(defined[name],args):void 0,name&&(cjsModule&&cjsModule.exports!==undef&&cjsModule.exports!==defined[name]?defined[name]=cjsModule.exports:ret===undef&&usingExports||(defined[name]=ret))}else name&&(defined[name]=callback)},requirejs=require=req=function(deps,callback,relName,forceSync,alt){if("string"==typeof deps)return handlers[deps]?handlers[deps](callback):callDep(makeMap(deps,callback).f);if(!deps.splice){if(config=deps,config.deps&&req(config.deps,config.callback),!callback)return;callback.splice?(deps=callback,callback=relName,relName=null):deps=undef}return callback=callback||function(){},"function"==typeof relName&&(relName=forceSync,forceSync=alt),forceSync?main(undef,deps,callback,relName):setTimeout(function(){main(undef,deps,callback,relName)},4),req},req.config=function(cfg){return req(cfg)},requirejs._defined=defined,define=function(name,deps,callback){deps.splice||(callback=deps,deps=[]),hasProp(defined,name)||hasProp(waiting,name)||(waiting[name]=[name,deps,callback])},define.amd={jQuery:!0}}(),define("node_modules/almond/almond",function(){}),function(){function initModule(forge){function ByteStringBuffer(b){if(this.data="",this.read=0,"string"==typeof b)this.data=b;else if(util.isArrayBuffer(b)||util.isArrayBufferView(b)){var arr=new Uint8Array(b);try{this.data=String.fromCharCode.apply(null,arr)}catch(e){for(var i=0;i<arr.length;++i)this.putByte(arr[i])}}else(b instanceof ByteStringBuffer||"object"==typeof b&&"string"==typeof b.data&&"number"==typeof b.read)&&(this.data=b.data,this.read=b.read);this._constructedStringLength=0}function DataBuffer(b,options){options=options||{},this.read=options.readOffset||0,this.growSize=options.growSize||1024;var isArrayBuffer=util.isArrayBuffer(b),isArrayBufferView=util.isArrayBufferView(b);return isArrayBuffer||isArrayBufferView?(isArrayBuffer?this.data=new DataView(b):this.data=new DataView(b.buffer,b.byteOffset,b.byteLength),void(this.write="writeOffset"in options?options.writeOffset:this.data.byteLength)):(this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!==b&&void 0!==b&&this.putBytes(b),void("writeOffset"in options&&(this.write=options.writeOffset)))}var util=forge.util=forge.util||{};!function(){function handler(event){if(event.source===window&&event.data===msg){event.stopPropagation();var copy=callbacks.slice();callbacks.length=0,copy.forEach(function(callback){callback()})}}if("undefined"!=typeof process&&process.nextTick)return util.nextTick=process.nextTick,void("function"==typeof setImmediate?util.setImmediate=setImmediate:util.setImmediate=util.nextTick);if("function"==typeof setImmediate)return util.setImmediate=setImmediate,void(util.nextTick=function(callback){return setImmediate(callback)});if(util.setImmediate=function(callback){setTimeout(callback,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var msg="forge.setImmediate",callbacks=[];util.setImmediate=function(callback){callbacks.push(callback),1===callbacks.length&&window.postMessage(msg,"*")},window.addEventListener("message",handler,!0)}if("undefined"!=typeof MutationObserver){var now=Date.now(),attr=!0,div=document.createElement("div"),callbacks=[];new MutationObserver(function(){var copy=callbacks.slice();callbacks.length=0,copy.forEach(function(callback){callback()})}).observe(div,{attributes:!0});var oldSetImmediate=util.setImmediate;util.setImmediate=function(callback){Date.now()-now>15?(now=Date.now(),oldSetImmediate(callback)):(callbacks.push(callback),1===callbacks.length&&div.setAttribute("a",attr=!attr))}}util.nextTick=util.setImmediate}(),util.isArray=Array.isArray||function(x){return"[object Array]"===Object.prototype.toString.call(x)},util.isArrayBuffer=function(x){return"undefined"!=typeof ArrayBuffer&&x instanceof ArrayBuffer},util.isArrayBufferView=function(x){return x&&util.isArrayBuffer(x.buffer)&&void 0!==x.byteLength},util.ByteBuffer=ByteStringBuffer,util.ByteStringBuffer=ByteStringBuffer;var _MAX_CONSTRUCTED_STRING_LENGTH=4096;util.ByteStringBuffer.prototype._optimizeConstructedString=function(x){this._constructedStringLength+=x,this._constructedStringLength>_MAX_CONSTRUCTED_STRING_LENGTH&&(this.data.substr(0,1),this._constructedStringLength=0)},util.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},util.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},util.ByteStringBuffer.prototype.putByte=function(b){return this.putBytes(String.fromCharCode(b))},util.ByteStringBuffer.prototype.fillWithByte=function(b,n){b=String.fromCharCode(b);for(var d=this.data;n>0;)1&n&&(d+=b),n>>>=1,n>0&&(b+=b);return this.data=d,this._optimizeConstructedString(n),this},util.ByteStringBuffer.prototype.putBytes=function(bytes){return this.data+=bytes,this._optimizeConstructedString(bytes.length),this},util.ByteStringBuffer.prototype.putString=function(str){return this.putBytes(util.encodeUtf8(str))},util.ByteStringBuffer.prototype.putInt16=function(i){return this.putBytes(String.fromCharCode(i>>8&255)+String.fromCharCode(255&i))},util.ByteStringBuffer.prototype.putInt24=function(i){return this.putBytes(String.fromCharCode(i>>16&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(255&i))},util.ByteStringBuffer.prototype.putInt32=function(i){return this.putBytes(String.fromCharCode(i>>24&255)+String.fromCharCode(i>>16&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(255&i))},util.ByteStringBuffer.prototype.putInt16Le=function(i){return this.putBytes(String.fromCharCode(255&i)+String.fromCharCode(i>>8&255))},util.ByteStringBuffer.prototype.putInt24Le=function(i){return this.putBytes(String.fromCharCode(255&i)+String.fromCharCode(i>>8&255)+String.fromCharCode(i>>16&255))},util.ByteStringBuffer.prototype.putInt32Le=function(i){return this.putBytes(String.fromCharCode(255&i)+String.fromCharCode(i>>8&255)+String.fromCharCode(i>>16&255)+String.fromCharCode(i>>24&255))},util.ByteStringBuffer.prototype.putInt=function(i,n){var bytes="";do n-=8,bytes+=String.fromCharCode(i>>n&255);while(n>0);return this.putBytes(bytes)},util.ByteStringBuffer.prototype.putSignedInt=function(i,n){return i<0&&(i+=2<<n-1),this.putInt(i,n)},util.ByteStringBuffer.prototype.putBuffer=function(buffer){return this.putBytes(buffer.getBytes())},util.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},util.ByteStringBuffer.prototype.getInt16=function(){var rval=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,rval},util.ByteStringBuffer.prototype.getInt24=function(){var rval=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,rval},util.ByteStringBuffer.prototype.getInt32=function(){var rval=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,rval},util.ByteStringBuffer.prototype.getInt16Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,rval},util.ByteStringBuffer.prototype.getInt24Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,rval},util.ByteStringBuffer.prototype.getInt32Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,rval},util.ByteStringBuffer.prototype.getInt=function(n){var rval=0;do rval=(rval<<8)+this.data.charCodeAt(this.read++),n-=8;while(n>0);return rval},util.ByteStringBuffer.prototype.getSignedInt=function(n){var x=this.getInt(n),max=2<<n-2;return x>=max&&(x-=max<<1),x},util.ByteStringBuffer.prototype.getBytes=function(count){var rval;return count?(count=Math.min(this.length(),count),rval=this.data.slice(this.read,this.read+count),this.read+=count):0===count?rval="":(rval=0===this.read?this.data:this.data.slice(this.read),this.clear()),rval},util.ByteStringBuffer.prototype.bytes=function(count){return"undefined"==typeof count?this.data.slice(this.read):this.data.slice(this.read,this.read+count)},util.ByteStringBuffer.prototype.at=function(i){return this.data.charCodeAt(this.read+i)},util.ByteStringBuffer.prototype.setAt=function(i,b){return this.data=this.data.substr(0,this.read+i)+String.fromCharCode(b)+this.data.substr(this.read+i+1),this},util.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},util.ByteStringBuffer.prototype.copy=function(){var c=util.createBuffer(this.data);return c.read=this.read,c},util.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},util.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},util.ByteStringBuffer.prototype.truncate=function(count){var len=Math.max(0,this.length()-count);return this.data=this.data.substr(this.read,len),this.read=0,this},util.ByteStringBuffer.prototype.toHex=function(){for(var rval="",i=this.read;i<this.data.length;++i){var b=this.data.charCodeAt(i);b<16&&(rval+="0"),rval+=b.toString(16)}return rval},util.ByteStringBuffer.prototype.toString=function(){return util.decodeUtf8(this.bytes())},util.DataBuffer=DataBuffer,util.DataBuffer.prototype.length=function(){return this.write-this.read},util.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},util.DataBuffer.prototype.accommodate=function(amount,growSize){if(this.length()>=amount)return this;growSize=Math.max(growSize||this.growSize,amount);var src=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),dst=new Uint8Array(this.length()+growSize);return dst.set(src),this.data=new DataView(dst.buffer),this},util.DataBuffer.prototype.putByte=function(b){return this.accommodate(1),this.data.setUint8(this.write++,b),this},util.DataBuffer.prototype.fillWithByte=function(b,n){this.accommodate(n);for(var i=0;i<n;++i)this.data.setUint8(b);return this},util.DataBuffer.prototype.putBytes=function(bytes,encoding){if(util.isArrayBufferView(bytes)){var src=new Uint8Array(bytes.buffer,bytes.byteOffset,bytes.byteLength),len=src.byteLength-src.byteOffset;this.accommodate(len);var dst=new Uint8Array(this.data.buffer,this.write);return dst.set(src),this.write+=len,this}if(util.isArrayBuffer(bytes)){var src=new Uint8Array(bytes);this.accommodate(src.byteLength);var dst=new Uint8Array(this.data.buffer);return dst.set(src,this.write),this.write+=src.byteLength,this}if(bytes instanceof util.DataBuffer||"object"==typeof bytes&&"number"==typeof bytes.read&&"number"==typeof bytes.write&&util.isArrayBufferView(bytes.data)){var src=new Uint8Array(bytes.data.byteLength,bytes.read,bytes.length());this.accommodate(src.byteLength);var dst=new Uint8Array(bytes.data.byteLength,this.write);return dst.set(src),this.write+=src.byteLength,this}if(bytes instanceof util.ByteStringBuffer&&(bytes=bytes.data,encoding="binary"),encoding=encoding||"binary","string"==typeof bytes){var view;if("hex"===encoding)return this.accommodate(Math.ceil(bytes.length/2)),view=new Uint8Array(this.data.buffer,this.write),this.write+=util.binary.hex.decode(bytes,view,this.write),this;if("base64"===encoding)return this.accommodate(3*Math.ceil(bytes.length/4)),view=new Uint8Array(this.data.buffer,this.write),this.write+=util.binary.base64.decode(bytes,view,this.write),this;if("utf8"===encoding&&(bytes=util.encodeUtf8(bytes),encoding="binary"),"binary"===encoding||"raw"===encoding)return this.accommodate(bytes.length),view=new Uint8Array(this.data.buffer,this.write),this.write+=util.binary.raw.decode(view),this;if("utf16"===encoding)return this.accommodate(2*bytes.length),view=new Uint16Array(this.data.buffer,this.write),this.write+=util.text.utf16.encode(view),this;throw new Error("Invalid encoding: "+encoding)}throw Error("Invalid parameter: "+bytes)},util.DataBuffer.prototype.putBuffer=function(buffer){return this.putBytes(buffer),buffer.clear(),this},util.DataBuffer.prototype.putString=function(str){return this.putBytes(str,"utf16")},util.DataBuffer.prototype.putInt16=function(i){return this.accommodate(2),this.data.setInt16(this.write,i),this.write+=2,this},util.DataBuffer.prototype.putInt24=function(i){return this.accommodate(3),this.data.setInt16(this.write,i>>8&65535),this.data.setInt8(this.write,i>>16&255),this.write+=3,this},util.DataBuffer.prototype.putInt32=function(i){return this.accommodate(4),this.data.setInt32(this.write,i),this.write+=4,this},util.DataBuffer.prototype.putInt16Le=function(i){return this.accommodate(2),this.data.setInt16(this.write,i,!0),this.write+=2,this},util.DataBuffer.prototype.putInt24Le=function(i){return this.accommodate(3),this.data.setInt8(this.write,i>>16&255),this.data.setInt16(this.write,i>>8&65535,!0),this.write+=3,this},util.DataBuffer.prototype.putInt32Le=function(i){return this.accommodate(4),this.data.setInt32(this.write,i,!0),this.write+=4,this},util.DataBuffer.prototype.putInt=function(i,n){this.accommodate(n/8);do n-=8,this.data.setInt8(this.write++,i>>n&255);while(n>0);return this},util.DataBuffer.prototype.putSignedInt=function(i,n){return this.accommodate(n/8),i<0&&(i+=2<<n-1),this.putInt(i,n)},util.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},util.DataBuffer.prototype.getInt16=function(){var rval=this.data.getInt16(this.read);return this.read+=2,rval},util.DataBuffer.prototype.getInt24=function(){var rval=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,rval},util.DataBuffer.prototype.getInt32=function(){var rval=this.data.getInt32(this.read);return this.read+=4,rval},util.DataBuffer.prototype.getInt16Le=function(){var rval=this.data.getInt16(this.read,!0);return this.read+=2,rval},util.DataBuffer.prototype.getInt24Le=function(){var rval=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,rval},util.DataBuffer.prototype.getInt32Le=function(){var rval=this.data.getInt32(this.read,!0);return this.read+=4,rval},util.DataBuffer.prototype.getInt=function(n){var rval=0;do rval=(rval<<8)+this.data.getInt8(this.read++),n-=8;while(n>0);return rval},util.DataBuffer.prototype.getSignedInt=function(n){var x=this.getInt(n),max=2<<n-2;return x>=max&&(x-=max<<1),x},util.DataBuffer.prototype.getBytes=function(count){var rval;return count?(count=Math.min(this.length(),count),rval=this.data.slice(this.read,this.read+count),this.read+=count):0===count?rval="":(rval=0===this.read?this.data:this.data.slice(this.read),this.clear()),rval},util.DataBuffer.prototype.bytes=function(count){return"undefined"==typeof count?this.data.slice(this.read):this.data.slice(this.read,this.read+count)},util.DataBuffer.prototype.at=function(i){return this.data.getUint8(this.read+i)},util.DataBuffer.prototype.setAt=function(i,b){return this.data.setUint8(i,b),this},util.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},util.DataBuffer.prototype.copy=function(){return new util.DataBuffer(this)},util.DataBuffer.prototype.compact=function(){if(this.read>0){var src=new Uint8Array(this.data.buffer,this.read),dst=new Uint8Array(src.byteLength);dst.set(src),this.data=new DataView(dst),this.write-=this.read,this.read=0}return this},util.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},util.DataBuffer.prototype.truncate=function(count){return this.write=Math.max(0,this.length()-count),this.read=Math.min(this.read,this.write),this},util.DataBuffer.prototype.toHex=function(){for(var rval="",i=this.read;i<this.data.byteLength;++i){var b=this.data.getUint8(i);b<16&&(rval+="0"),rval+=b.toString(16)}return rval},util.DataBuffer.prototype.toString=function(encoding){var view=new Uint8Array(this.data,this.read,this.length());if(encoding=encoding||"utf8","binary"===encoding||"raw"===encoding)return util.binary.raw.encode(view);if("hex"===encoding)return util.binary.hex.encode(view);if("base64"===encoding)return util.binary.base64.encode(view);if("utf8"===encoding)return util.text.utf8.decode(view);if("utf16"===encoding)return util.text.utf16.decode(view);throw new Error("Invalid encoding: "+encoding)},util.createBuffer=function(input,encoding){return encoding=encoding||"raw",void 0!==input&&"utf8"===encoding&&(input=util.encodeUtf8(input)),new util.ByteBuffer(input)},util.fillString=function(c,n){for(var s="";n>0;)1&n&&(s+=c),n>>>=1,n>0&&(c+=c);return s},util.xorBytes=function(s1,s2,n){for(var s3="",b="",t="",i=0,c=0;n>0;--n,++i)b=s1.charCodeAt(i)^s2.charCodeAt(i),c>=10&&(s3+=t,t="",c=0),t+=String.fromCharCode(b),++c;return s3+=t},util.hexToBytes=function(hex){var rval="",i=0;for(hex.length&!0&&(i=1,rval+=String.fromCharCode(parseInt(hex[0],16)));i<hex.length;i+=2)rval+=String.fromCharCode(parseInt(hex.substr(i,2),16));return rval},util.bytesToHex=function(bytes){return util.createBuffer(bytes).toHex()},util.int32ToBytes=function(i){return String.fromCharCode(i>>24&255)+String.fromCharCode(i>>16&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(255&i)};var _base64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_base64Idx=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];util.encode64=function(input,maxline){for(var chr1,chr2,chr3,line="",output="",i=0;i<input.length;)chr1=input.charCodeAt(i++),chr2=input.charCodeAt(i++),chr3=input.charCodeAt(i++),line+=_base64.charAt(chr1>>2),line+=_base64.charAt((3&chr1)<<4|chr2>>4),isNaN(chr2)?line+="==":(line+=_base64.charAt((15&chr2)<<2|chr3>>6),line+=isNaN(chr3)?"=":_base64.charAt(63&chr3)),maxline&&line.length>maxline&&(output+=line.substr(0,maxline)+"\r\n",line=line.substr(maxline));return output+=line},util.decode64=function(input){input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var enc1,enc2,enc3,enc4,output="",i=0;i<input.length;)enc1=_base64Idx[input.charCodeAt(i++)-43],enc2=_base64Idx[input.charCodeAt(i++)-43],enc3=_base64Idx[input.charCodeAt(i++)-43],enc4=_base64Idx[input.charCodeAt(i++)-43],output+=String.fromCharCode(enc1<<2|enc2>>4),64!==enc3&&(output+=String.fromCharCode((15&enc2)<<4|enc3>>2),64!==enc4&&(output+=String.fromCharCode((3&enc3)<<6|enc4)));return output},util.encodeUtf8=function(str){return unescape(encodeURIComponent(str))},util.decodeUtf8=function(str){return decodeURIComponent(escape(str))},util.binary={raw:{},hex:{},base64:{}},util.binary.raw.encode=function(bytes){return String.fromCharCode.apply(null,bytes)},util.binary.raw.decode=function(str,output,offset){var out=output;out||(out=new Uint8Array(str.length)),offset=offset||0;for(var j=offset,i=0;i<str.length;++i)out[j++]=str.charCodeAt(i);return output?j-offset:out},util.binary.hex.encode=util.bytesToHex,util.binary.hex.decode=function(hex,output,offset){var out=output;out||(out=new Uint8Array(Math.ceil(hex.length/2))),offset=offset||0;var i=0,j=offset;for(1&hex.length&&(i=1,out[j++]=parseInt(hex[0],16));i<hex.length;i+=2)out[j++]=parseInt(hex.substr(i,2),16);return output?j-offset:out},util.binary.base64.encode=function(input,maxline){for(var chr1,chr2,chr3,line="",output="",i=0;i<input.byteLength;)chr1=input[i++],chr2=input[i++],chr3=input[i++],line+=_base64.charAt(chr1>>2),line+=_base64.charAt((3&chr1)<<4|chr2>>4),isNaN(chr2)?line+="==":(line+=_base64.charAt((15&chr2)<<2|chr3>>6),line+=isNaN(chr3)?"=":_base64.charAt(63&chr3)),maxline&&line.length>maxline&&(output+=line.substr(0,maxline)+"\r\n",line=line.substr(maxline));return output+=line},util.binary.base64.decode=function(input,output,offset){var out=output;out||(out=new Uint8Array(3*Math.ceil(input.length/4))),input=input.replace(/[^A-Za-z0-9\+\/\=]/g,""),offset=offset||0;for(var enc1,enc2,enc3,enc4,i=0,j=offset;i<input.length;)enc1=_base64Idx[input.charCodeAt(i++)-43],enc2=_base64Idx[input.charCodeAt(i++)-43],enc3=_base64Idx[input.charCodeAt(i++)-43],enc4=_base64Idx[input.charCodeAt(i++)-43],out[j++]=enc1<<2|enc2>>4,64!==enc3&&(out[j++]=(15&enc2)<<4|enc3>>2,64!==enc4&&(out[j++]=(3&enc3)<<6|enc4));return output?j-offset:out.subarray(0,j)},util.text={utf8:{},utf16:{}},util.text.utf8.encode=function(str,output,offset){str=util.encodeUtf8(str);var out=output;out||(out=new Uint8Array(str.length)),offset=offset||0;for(var j=offset,i=0;i<str.length;++i)out[j++]=str.charCodeAt(i);return output?j-offset:out},util.text.utf8.decode=function(bytes){return util.decodeUtf8(String.fromCharCode.apply(null,bytes))},util.text.utf16.encode=function(str,output,offset){var out=output;out||(out=new Uint8Array(2*str.length));var view=new Uint16Array(out.buffer);offset=offset||0;for(var j=offset,k=offset,i=0;i<str.length;++i)view[k++]=str.charCodeAt(i),j+=2;return output?j-offset:out},util.text.utf16.decode=function(bytes){return String.fromCharCode.apply(null,new Uint16Array(bytes.buffer))},util.deflate=function(api,bytes,raw){if(bytes=util.decode64(api.deflate(util.encode64(bytes)).rval),raw){var start=2,flg=bytes.charCodeAt(1);32&flg&&(start=6),bytes=bytes.substring(start,bytes.length-4)}return bytes},util.inflate=function(api,bytes,raw){var rval=api.inflate(util.encode64(bytes)).rval;return null===rval?null:util.decode64(rval)};var _setStorageObject=function(api,id,obj){if(!api)throw new Error("WebStorage not available.");var rval;if(null===obj?rval=api.removeItem(id):(obj=util.encode64(JSON.stringify(obj)),rval=api.setItem(id,obj)),"undefined"!=typeof rval&&rval.rval!==!0){var error=new Error(rval.error.message);throw error.id=rval.error.id,error.name=rval.error.name,error}},_getStorageObject=function(api,id){if(!api)throw new Error("WebStorage not available.");var rval=api.getItem(id);if(api.init)if(null===rval.rval){if(rval.error){var error=new Error(rval.error.message);throw error.id=rval.error.id,error.name=rval.error.name,error}rval=null}else rval=rval.rval;return null!==rval&&(rval=JSON.parse(util.decode64(rval))),rval},_setItem=function(api,id,key,data){var obj=_getStorageObject(api,id);null===obj&&(obj={}),obj[key]=data,_setStorageObject(api,id,obj)},_getItem=function(api,id,key){var rval=_getStorageObject(api,id);return null!==rval&&(rval=key in rval?rval[key]:null),rval},_removeItem=function(api,id,key){var obj=_getStorageObject(api,id);if(null!==obj&&key in obj){delete obj[key];var empty=!0;for(var prop in obj){empty=!1;break}empty&&(obj=null),_setStorageObject(api,id,obj)}},_clearItems=function(api,id){_setStorageObject(api,id,null)},_callStorageFunction=function(func,args,location){var rval=null;"undefined"==typeof location&&(location=["web","flash"]);var type,done=!1,exception=null;
for(var idx in location){type=location[idx];try{if("flash"===type||"both"===type){if(null===args[0])throw new Error("Flash local storage not available.");rval=func.apply(this,args),done="flash"===type}"web"!==type&&"both"!==type||(args[0]=localStorage,rval=func.apply(this,args),done=!0)}catch(ex){exception=ex}if(done)break}if(!done)throw exception;return rval};util.setItem=function(api,id,key,data,location){_callStorageFunction(_setItem,arguments,location)},util.getItem=function(api,id,key,location){return _callStorageFunction(_getItem,arguments,location)},util.removeItem=function(api,id,key,location){_callStorageFunction(_removeItem,arguments,location)},util.clearItems=function(api,id,location){_callStorageFunction(_clearItems,arguments,location)},util.parseUrl=function(str){var regex=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;regex.lastIndex=0;var m=regex.exec(str),url=null===m?null:{full:str,scheme:m[1],host:m[2],port:m[3],path:m[4]};return url&&(url.fullHost=url.host,url.port?80!==url.port&&"http"===url.scheme?url.fullHost+=":"+url.port:443!==url.port&&"https"===url.scheme&&(url.fullHost+=":"+url.port):"http"===url.scheme?url.port=80:"https"===url.scheme&&(url.port=443),url.full=url.scheme+"://"+url.fullHost),url};var _queryVariables=null;util.getQueryVariables=function(query){var rval,parse=function(q){for(var rval={},kvpairs=q.split("&"),i=0;i<kvpairs.length;i++){var key,val,pos=kvpairs[i].indexOf("=");pos>0?(key=kvpairs[i].substring(0,pos),val=kvpairs[i].substring(pos+1)):(key=kvpairs[i],val=null),key in rval||(rval[key]=[]),key in Object.prototype||null===val||rval[key].push(unescape(val))}return rval};return"undefined"==typeof query?(null===_queryVariables&&(_queryVariables="undefined"!=typeof window&&window.location&&window.location.search?parse(window.location.search.substring(1)):{}),rval=_queryVariables):rval=parse(query),rval},util.parseFragment=function(fragment){var fp=fragment,fq="",pos=fragment.indexOf("?");pos>0&&(fp=fragment.substring(0,pos),fq=fragment.substring(pos+1));var path=fp.split("/");path.length>0&&""===path[0]&&path.shift();var query=""===fq?{}:util.getQueryVariables(fq);return{pathString:fp,queryString:fq,path:path,query:query}},util.makeRequest=function(reqString){var frag=util.parseFragment(reqString),req={path:frag.pathString,query:frag.queryString,getPath:function(i){return"undefined"==typeof i?frag.path:frag.path[i]},getQuery:function(k,i){var rval;return"undefined"==typeof k?rval=frag.query:(rval=frag.query[k],rval&&"undefined"!=typeof i&&(rval=rval[i])),rval},getQueryLast:function(k,_default){var rval,vals=req.getQuery(k);return rval=vals?vals[vals.length-1]:_default}};return req},util.makeLink=function(path,query,fragment){path=jQuery.isArray(path)?path.join("/"):path;var qstr=jQuery.param(query||{});return fragment=fragment||"",path+(qstr.length>0?"?"+qstr:"")+(fragment.length>0?"#"+fragment:"")},util.setPath=function(object,keys,value){if("object"==typeof object&&null!==object)for(var i=0,len=keys.length;i<len;){var next=keys[i++];if(i==len)object[next]=value;else{var hasNext=next in object;(!hasNext||hasNext&&"object"!=typeof object[next]||hasNext&&null===object[next])&&(object[next]={}),object=object[next]}}},util.getPath=function(object,keys,_default){for(var i=0,len=keys.length,hasNext=!0;hasNext&&i<len&&"object"==typeof object&&null!==object;){var next=keys[i++];hasNext=next in object,hasNext&&(object=object[next])}return hasNext?object:_default},util.deletePath=function(object,keys){if("object"==typeof object&&null!==object)for(var i=0,len=keys.length;i<len;){var next=keys[i++];if(i==len)delete object[next];else{if(!(next in object)||"object"!=typeof object[next]||null===object[next])break;object=object[next]}}},util.isEmpty=function(obj){for(var prop in obj)if(obj.hasOwnProperty(prop))return!1;return!0},util.format=function(format){for(var match,part,re=/%./g,argi=0,parts=[],last=0;match=re.exec(format);){part=format.substring(last,re.lastIndex-2),part.length>0&&parts.push(part),last=re.lastIndex;var code=match[0][1];switch(code){case"s":case"o":argi<arguments.length?parts.push(arguments[argi++ +1]):parts.push("<?>");break;case"%":parts.push("%");break;default:parts.push("<%"+code+"?>")}}return parts.push(format.substring(last)),parts.join("")},util.formatNumber=function(number,decimals,dec_point,thousands_sep){var n=number,c=isNaN(decimals=Math.abs(decimals))?2:decimals,d=void 0===dec_point?",":dec_point,t=void 0===thousands_sep?".":thousands_sep,s=n<0?"-":"",i=parseInt(n=Math.abs(+n||0).toFixed(c),10)+"",j=i.length>3?i.length%3:0;return s+(j?i.substr(0,j)+t:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+t)+(c?d+Math.abs(n-i).toFixed(c).slice(2):"")},util.formatSize=function(size){return size=size>=1073741824?util.formatNumber(size/1073741824,2,".","")+" GiB":size>=1048576?util.formatNumber(size/1048576,2,".","")+" MiB":size>=1024?util.formatNumber(size/1024,0)+" KiB":util.formatNumber(size,0)+" bytes"},util.bytesFromIP=function(ip){return ip.indexOf(".")!==-1?util.bytesFromIPv4(ip):ip.indexOf(":")!==-1?util.bytesFromIPv6(ip):null},util.bytesFromIPv4=function(ip){if(ip=ip.split("."),4!==ip.length)return null;for(var b=util.createBuffer(),i=0;i<ip.length;++i){var num=parseInt(ip[i],10);if(isNaN(num))return null;b.putByte(num)}return b.getBytes()},util.bytesFromIPv6=function(ip){var blanks=0;ip=ip.split(":").filter(function(e){return 0===e.length&&++blanks,!0});for(var zeros=2*(8-ip.length+blanks),b=util.createBuffer(),i=0;i<8;++i)if(ip[i]&&0!==ip[i].length){var bytes=util.hexToBytes(ip[i]);bytes.length<2&&b.putByte(0),b.putBytes(bytes)}else b.fillWithByte(0,zeros),zeros=0;return b.getBytes()},util.bytesToIP=function(bytes){return 4===bytes.length?util.bytesToIPv4(bytes):16===bytes.length?util.bytesToIPv6(bytes):null},util.bytesToIPv4=function(bytes){if(4!==bytes.length)return null;for(var ip=[],i=0;i<bytes.length;++i)ip.push(bytes.charCodeAt(i));return ip.join(".")},util.bytesToIPv6=function(bytes){if(16!==bytes.length)return null;for(var ip=[],zeroGroups=[],zeroMaxGroup=0,i=0;i<bytes.length;i+=2){for(var hex=util.bytesToHex(bytes[i]+bytes[i+1]);"0"===hex[0]&&"0"!==hex;)hex=hex.substr(1);if("0"===hex){var last=zeroGroups[zeroGroups.length-1],idx=ip.length;last&&idx===last.end+1?(last.end=idx,last.end-last.start>zeroGroups[zeroMaxGroup].end-zeroGroups[zeroMaxGroup].start&&(zeroMaxGroup=zeroGroups.length-1)):zeroGroups.push({start:idx,end:idx})}ip.push(hex)}if(zeroGroups.length>0){var group=zeroGroups[zeroMaxGroup];group.end-group.start>0&&(ip.splice(group.start,group.end-group.start+1,""),0===group.start&&ip.unshift(""),7===group.end&&ip.push(""))}return ip.join(":")},util.estimateCores=function(options,callback){function sample(max,samples,numWorkers){if(0===samples){var avg=Math.floor(max.reduce(function(avg,x){return avg+x},0)/max.length);return util.cores=Math.max(1,avg),URL.revokeObjectURL(blobUrl),callback(null,util.cores)}map(numWorkers,function(err,results){max.push(reduce(numWorkers,results)),sample(max,samples-1,numWorkers)})}function map(numWorkers,callback){for(var workers=[],results=[],i=0;i<numWorkers;++i){var worker=new Worker(blobUrl);worker.addEventListener("message",function(e){if(results.push(e.data),results.length===numWorkers){for(var i=0;i<numWorkers;++i)workers[i].terminate();callback(null,results)}}),workers.push(worker)}for(var i=0;i<numWorkers;++i)workers[i].postMessage(i)}function reduce(numWorkers,results){for(var overlaps=[],n=0;n<numWorkers;++n)for(var r1=results[n],overlap=overlaps[n]=[],i=0;i<numWorkers;++i)if(n!==i){var r2=results[i];(r1.st>r2.st&&r1.st<r2.et||r2.st>r1.st&&r2.st<r1.et)&&overlap.push(i)}return overlaps.reduce(function(max,overlap){return Math.max(max,overlap.length)},0)}if("function"==typeof options&&(callback=options,options={}),options=options||{},"cores"in util&&!options.update)return callback(null,util.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return util.cores=navigator.hardwareConcurrency,callback(null,util.cores);if("undefined"==typeof Worker)return util.cores=1,callback(null,util.cores);if("undefined"==typeof Blob)return util.cores=2,callback(null,util.cores);var blobUrl=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(e){for(var st=Date.now(),et=st+4;Date.now()<et;);self.postMessage({st:st,et:et})})}.toString(),")()"],{type:"application/javascript"}));sample([],5,16)}}var name="util";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/util",["require","module"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){forge.cipher=forge.cipher||{},forge.cipher.algorithms=forge.cipher.algorithms||{},forge.cipher.createCipher=function(algorithm,key){var api=algorithm;if("string"==typeof api&&(api=forge.cipher.getAlgorithm(api),api&&(api=api())),!api)throw new Error("Unsupported algorithm: "+algorithm);return new forge.cipher.BlockCipher({algorithm:api,key:key,decrypt:!1})},forge.cipher.createDecipher=function(algorithm,key){var api=algorithm;if("string"==typeof api&&(api=forge.cipher.getAlgorithm(api),api&&(api=api())),!api)throw new Error("Unsupported algorithm: "+algorithm);return new forge.cipher.BlockCipher({algorithm:api,key:key,decrypt:!0})},forge.cipher.registerAlgorithm=function(name,algorithm){name=name.toUpperCase(),forge.cipher.algorithms[name]=algorithm},forge.cipher.getAlgorithm=function(name){return name=name.toUpperCase(),name in forge.cipher.algorithms?forge.cipher.algorithms[name]:null};var BlockCipher=forge.cipher.BlockCipher=function(options){this.algorithm=options.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=options.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=options.decrypt,this.algorithm.initialize(options)};BlockCipher.prototype.start=function(options){options=options||{};var opts={};for(var key in options)opts[key]=options[key];opts.decrypt=this._decrypt,this._finish=!1,this._input=forge.util.createBuffer(),this.output=options.output||forge.util.createBuffer(),this.mode.start(opts)},BlockCipher.prototype.update=function(input){for(input&&this._input.putBuffer(input);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},BlockCipher.prototype.finish=function(pad){!pad||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(input){return pad(this.blockSize,input,!1)},this.mode.unpad=function(output){return pad(this.blockSize,output,!0)});var options={};return options.decrypt=this._decrypt,options.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,options))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,options))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,options)))}}var name="cipher";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/cipher",["require","module","./util"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){function transformIV(iv){if("string"==typeof iv&&(iv=forge.util.createBuffer(iv)),forge.util.isArray(iv)&&iv.length>4){var tmp=iv;iv=forge.util.createBuffer();for(var i=0;i<tmp.length;++i)iv.putByte(tmp[i])}return forge.util.isArray(iv)||(iv=[iv.getInt32(),iv.getInt32(),iv.getInt32(),iv.getInt32()]),iv}function inc32(block){block[block.length-1]=block[block.length-1]+1&4294967295}function from64To32(num){return[num/4294967296|0,4294967295&num]}forge.cipher=forge.cipher||{};var modes=forge.cipher.modes=forge.cipher.modes||{};modes.ecb=function(options){options=options||{},this.name="ECB",this.cipher=options.cipher,this.blockSize=options.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},modes.ecb.prototype.start=function(options){},modes.ecb.prototype.encrypt=function(input,output,finish){if(input.length()<this.blockSize&&!(finish&&input.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=input.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)output.putInt32(this._outBlock[i])},modes.ecb.prototype.decrypt=function(input,output,finish){if(input.length()<this.blockSize&&!(finish&&input.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=input.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)output.putInt32(this._outBlock[i])},modes.ecb.prototype.pad=function(input,options){var padding=input.length()===this.blockSize?this.blockSize:this.blockSize-input.length();return input.fillWithByte(padding,padding),!0},modes.ecb.prototype.unpad=function(output,options){if(options.overflow>0)return!1;var len=output.length(),count=output.at(len-1);return!(count>this.blockSize<<2)&&(output.truncate(count),!0)},modes.cbc=function(options){options=options||{},this.name="CBC",this.cipher=options.cipher,this.blockSize=options.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},modes.cbc.prototype.start=function(options){if(null===options.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in options))throw new Error("Invalid IV parameter.");this._iv=transformIV(options.iv),this._prev=this._iv.slice(0)}},modes.cbc.prototype.encrypt=function(input,output,finish){if(input.length()<this.blockSize&&!(finish&&input.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=this._prev[i]^input.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)output.putInt32(this._outBlock[i]);this._prev=this._outBlock},modes.cbc.prototype.decrypt=function(input,output,finish){if(input.length()<this.blockSize&&!(finish&&input.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=input.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)output.putInt32(this._prev[i]^this._outBlock[i]);this._prev=this._inBlock.slice(0)},modes.cbc.prototype.pad=function(input,options){var padding=input.length()===this.blockSize?this.blockSize:this.blockSize-input.length();return input.fillWithByte(padding,padding),!0},modes.cbc.prototype.unpad=function(output,options){if(options.overflow>0)return!1;var len=output.length(),count=output.at(len-1);return!(count>this.blockSize<<2)&&(output.truncate(count),!0)},modes.cfb=function(options){options=options||{},this.name="CFB",this.cipher=options.cipher,this.blockSize=options.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=forge.util.createBuffer(),this._partialBytes=0},modes.cfb.prototype.start=function(options){if(!("iv"in options))throw new Error("Invalid IV parameter.");this._iv=transformIV(options.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},modes.cfb.prototype.encrypt=function(input,output,finish){var inputLength=input.length();if(0===inputLength)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&inputLength>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=input.getInt32()^this._outBlock[i],output.putInt32(this._inBlock[i]);else{var partialBytes=(this.blockSize-inputLength)%this.blockSize;partialBytes>0&&(partialBytes=this.blockSize-partialBytes),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=input.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(partialBytes>0)input.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),partialBytes>0&&!finish)return output.putBytes(this._partialOutput.getBytes(partialBytes-this._partialBytes)),this._partialBytes=partialBytes,!0;output.putBytes(this._partialOutput.getBytes(inputLength-this._partialBytes)),this._partialBytes=0}},modes.cfb.prototype.decrypt=function(input,output,finish){var inputLength=input.length();if(0===inputLength)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&inputLength>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=input.getInt32(),output.putInt32(this._inBlock[i]^this._outBlock[i]);else{var partialBytes=(this.blockSize-inputLength)%this.blockSize;partialBytes>0&&(partialBytes=this.blockSize-partialBytes),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=input.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(partialBytes>0)input.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),partialBytes>0&&!finish)return output.putBytes(this._partialOutput.getBytes(partialBytes-this._partialBytes)),this._partialBytes=partialBytes,!0;output.putBytes(this._partialOutput.getBytes(inputLength-this._partialBytes)),this._partialBytes=0}},modes.ofb=function(options){options=options||{},this.name="OFB",this.cipher=options.cipher,this.blockSize=options.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=forge.util.createBuffer(),this._partialBytes=0},modes.ofb.prototype.start=function(options){if(!("iv"in options))throw new Error("Invalid IV parameter.");this._iv=transformIV(options.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},modes.ofb.prototype.encrypt=function(input,output,finish){var inputLength=input.length();if(0===input.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&inputLength>=this.blockSize)for(var i=0;i<this._ints;++i)output.putInt32(input.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];else{var partialBytes=(this.blockSize-inputLength)%this.blockSize;partialBytes>0&&(partialBytes=this.blockSize-partialBytes),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(input.getInt32()^this._outBlock[i]);if(partialBytes>0)input.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),partialBytes>0&&!finish)return output.putBytes(this._partialOutput.getBytes(partialBytes-this._partialBytes)),this._partialBytes=partialBytes,!0;output.putBytes(this._partialOutput.getBytes(inputLength-this._partialBytes)),this._partialBytes=0}},modes.ofb.prototype.decrypt=modes.ofb.prototype.encrypt,modes.ctr=function(options){options=options||{},this.name="CTR",this.cipher=options.cipher,this.blockSize=options.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=forge.util.createBuffer(),this._partialBytes=0},modes.ctr.prototype.start=function(options){if(!("iv"in options))throw new Error("Invalid IV parameter.");this._iv=transformIV(options.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},modes.ctr.prototype.encrypt=function(input,output,finish){var inputLength=input.length();if(0===inputLength)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&inputLength>=this.blockSize)for(var i=0;i<this._ints;++i)output.putInt32(input.getInt32()^this._outBlock[i]);else{var partialBytes=(this.blockSize-inputLength)%this.blockSize;partialBytes>0&&(partialBytes=this.blockSize-partialBytes),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(input.getInt32()^this._outBlock[i]);if(partialBytes>0&&(input.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),partialBytes>0&&!finish)return output.putBytes(this._partialOutput.getBytes(partialBytes-this._partialBytes)),this._partialBytes=partialBytes,!0;output.putBytes(this._partialOutput.getBytes(inputLength-this._partialBytes)),this._partialBytes=0}inc32(this._inBlock)},modes.ctr.prototype.decrypt=modes.ctr.prototype.encrypt,modes.gcm=function(options){options=options||{},this.name="GCM",this.cipher=options.cipher,this.blockSize=options.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=forge.util.createBuffer(),this._partialBytes=0,this._R=3774873600},modes.gcm.prototype.start=function(options){if(!("iv"in options))throw new Error("Invalid IV parameter.");var iv=forge.util.createBuffer(options.iv);this._cipherLength=0;var additionalData;if(additionalData="additionalData"in options?forge.util.createBuffer(options.additionalData):forge.util.createBuffer(),"tagLength"in options?this._tagLength=options.tagLength:this._tagLength=128,this._tag=null,options.decrypt&&(this._tag=forge.util.createBuffer(options.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var ivLength=iv.length();if(12===ivLength)this._j0=[iv.getInt32(),iv.getInt32(),iv.getInt32(),1];else{for(this._j0=[0,0,0,0];iv.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[iv.getInt32(),iv.getInt32(),iv.getInt32(),iv.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(from64To32(8*ivLength)))}this._inBlock=this._j0.slice(0),inc32(this._inBlock),this._partialBytes=0,additionalData=forge.util.createBuffer(additionalData),this._aDataLength=from64To32(8*additionalData.length());var overflow=additionalData.length()%this.blockSize;for(overflow&&additionalData.fillWithByte(0,this.blockSize-overflow),this._s=[0,0,0,0];additionalData.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[additionalData.getInt32(),additionalData.getInt32(),additionalData.getInt32(),additionalData.getInt32()])},modes.gcm.prototype.encrypt=function(input,output,finish){var inputLength=input.length();if(0===inputLength)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&inputLength>=this.blockSize){for(var i=0;i<this._ints;++i)output.putInt32(this._outBlock[i]^=input.getInt32());this._cipherLength+=this.blockSize}else{var partialBytes=(this.blockSize-inputLength)%this.blockSize;partialBytes>0&&(partialBytes=this.blockSize-partialBytes),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(input.getInt32()^this._outBlock[i]);if(0===partialBytes||finish){if(finish){var overflow=inputLength%this.blockSize;this._cipherLength+=overflow,this._partialOutput.truncate(this.blockSize-overflow)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),partialBytes>0&&!finish)return input.read-=this.blockSize,output.putBytes(this._partialOutput.getBytes(partialBytes-this._partialBytes)),this._partialBytes=partialBytes,!0;output.putBytes(this._partialOutput.getBytes(inputLength-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),inc32(this._inBlock)},modes.gcm.prototype.decrypt=function(input,output,finish){var inputLength=input.length();if(inputLength<this.blockSize&&!(finish&&inputLength>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),inc32(this._inBlock),this._hashBlock[0]=input.getInt32(),this._hashBlock[1]=input.getInt32(),this._hashBlock[2]=input.getInt32(),this._hashBlock[3]=input.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)output.putInt32(this._outBlock[i]^this._hashBlock[i]);inputLength<this.blockSize?this._cipherLength+=inputLength%this.blockSize:this._cipherLength+=this.blockSize},modes.gcm.prototype.afterFinish=function(output,options){var rval=!0;options.decrypt&&options.overflow&&output.truncate(this.blockSize-options.overflow),this.tag=forge.util.createBuffer();var lengths=this._aDataLength.concat(from64To32(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,lengths);var tag=[];this.cipher.encrypt(this._j0,tag);for(var i=0;i<this._ints;++i)this.tag.putInt32(this._s[i]^tag[i]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),options.decrypt&&this.tag.bytes()!==this._tag&&(rval=!1),rval},modes.gcm.prototype.multiply=function(x,y){for(var z_i=[0,0,0,0],v_i=y.slice(0),i=0;i<128;++i){var x_i=x[i/32|0]&1<<31-i%32;x_i&&(z_i[0]^=v_i[0],z_i[1]^=v_i[1],z_i[2]^=v_i[2],z_i[3]^=v_i[3]),this.pow(v_i,v_i)}return z_i},modes.gcm.prototype.pow=function(x,out){for(var lsb=1&x[3],i=3;i>0;--i)out[i]=x[i]>>>1|(1&x[i-1])<<31;out[0]=x[0]>>>1,lsb&&(out[0]^=this._R)},modes.gcm.prototype.tableMultiply=function(x){for(var z=[0,0,0,0],i=0;i<32;++i){var idx=i/8|0,x_i=x[idx]>>>4*(7-i%8)&15,ah=this._m[i][x_i];z[0]^=ah[0],z[1]^=ah[1],z[2]^=ah[2],z[3]^=ah[3]}return z},modes.gcm.prototype.ghash=function(h,y,x){return y[0]^=x[0],y[1]^=x[1],y[2]^=x[2],y[3]^=x[3],this.tableMultiply(y)},modes.gcm.prototype.generateHashTable=function(h,bits){for(var multiplier=8/bits,perInt=4*multiplier,size=16*multiplier,m=new Array(size),i=0;i<size;++i){var tmp=[0,0,0,0],idx=i/perInt|0,shft=(perInt-1-i%perInt)*bits;tmp[idx]=1<<bits-1<<shft,m[i]=this.generateSubHashTable(this.multiply(tmp,h),bits)}return m},modes.gcm.prototype.generateSubHashTable=function(mid,bits){var size=1<<bits,half=size>>>1,m=new Array(size);m[half]=mid.slice(0);for(var i=half>>>1;i>0;)this.pow(m[2*i],m[i]=[]),i>>=1;for(i=2;i<half;){for(var j=1;j<i;++j){var m_i=m[i],m_j=m[j];m[i+j]=[m_i[0]^m_j[0],m_i[1]^m_j[1],m_i[2]^m_j[2],m_i[3]^m_j[3]]}i*=2}for(m[0]=[0,0,0,0],i=half+1;i<size;++i){var c=m[i^half];m[i]=[mid[0]^c[0],mid[1]^c[1],mid[2]^c[2],mid[3]^c[3]]}return m}}var name="cipherModes";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/cipherModes",["require","module","./util"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){function registerAlgorithm(name,mode){var factory=function(){return new forge.aes.Algorithm(name,mode)};forge.cipher.registerAlgorithm(name,factory)}function initialize(){init=!0,rcon=[0,1,2,4,8,16,32,64,128,27,54];for(var xtime=new Array(256),i=0;i<128;++i)xtime[i]=i<<1,xtime[i+128]=i+128<<1^283;sbox=new Array(256),isbox=new Array(256),mix=new Array(4),imix=new Array(4);for(var i=0;i<4;++i)mix[i]=new Array(256),imix[i]=new Array(256);for(var e2,e4,e8,sx,sx2,me,ime,e=0,ei=0,i=0;i<256;++i){sx=ei^ei<<1^ei<<2^ei<<3^ei<<4,sx=sx>>8^255&sx^99,sbox[e]=sx,isbox[sx]=e,sx2=xtime[sx],e2=xtime[e],e4=xtime[e2],e8=xtime[e4],me=sx2<<24^sx<<16^sx<<8^(sx^sx2),ime=(e2^e4^e8)<<24^(e^e8)<<16^(e^e4^e8)<<8^(e^e2^e8);for(var n=0;n<4;++n)mix[n][e]=me,imix[n][sx]=ime,me=me<<24|me>>>8,ime=ime<<24|ime>>>8;0===e?e=ei=1:(e=e2^xtime[xtime[xtime[e2^e8]]],ei^=xtime[xtime[ei]])}}function _expandKey(key,decrypt){for(var temp,w=key.slice(0),iNk=1,Nk=w.length,Nr1=Nk+6+1,end=Nb*Nr1,i=Nk;i<end;++i)temp=w[i-1],i%Nk===0?(temp=sbox[temp>>>16&255]<<24^sbox[temp>>>8&255]<<16^sbox[255&temp]<<8^sbox[temp>>>24]^rcon[iNk]<<24,iNk++):Nk>6&&i%Nk===4&&(temp=sbox[temp>>>24]<<24^sbox[temp>>>16&255]<<16^sbox[temp>>>8&255]<<8^sbox[255&temp]),w[i]=w[i-Nk]^temp;if(decrypt){var tmp,m0=imix[0],m1=imix[1],m2=imix[2],m3=imix[3],wnew=w.slice(0);end=w.length;for(var i=0,wi=end-Nb;i<end;i+=Nb,wi-=Nb)if(0===i||i===end-Nb)wnew[i]=w[wi],wnew[i+1]=w[wi+3],wnew[i+2]=w[wi+2],wnew[i+3]=w[wi+1];else for(var n=0;n<Nb;++n)tmp=w[wi+n],wnew[i+(3&-n)]=m0[sbox[tmp>>>24]]^m1[sbox[tmp>>>16&255]]^m2[sbox[tmp>>>8&255]]^m3[sbox[255&tmp]];w=wnew}return w}function _updateBlock(w,input,output,decrypt){var m0,m1,m2,m3,sub,Nr=w.length/4-1;decrypt?(m0=imix[0],m1=imix[1],m2=imix[2],m3=imix[3],sub=isbox):(m0=mix[0],m1=mix[1],m2=mix[2],m3=mix[3],sub=sbox);var a,b,c,d,a2,b2,c2;a=input[0]^w[0],b=input[decrypt?3:1]^w[1],c=input[2]^w[2],d=input[decrypt?1:3]^w[3];for(var i=3,round=1;round<Nr;++round)a2=m0[a>>>24]^m1[b>>>16&255]^m2[c>>>8&255]^m3[255&d]^w[++i],b2=m0[b>>>24]^m1[c>>>16&255]^m2[d>>>8&255]^m3[255&a]^w[++i],c2=m0[c>>>24]^m1[d>>>16&255]^m2[a>>>8&255]^m3[255&b]^w[++i],d=m0[d>>>24]^m1[a>>>16&255]^m2[b>>>8&255]^m3[255&c]^w[++i],a=a2,b=b2,c=c2;output[0]=sub[a>>>24]<<24^sub[b>>>16&255]<<16^sub[c>>>8&255]<<8^sub[255&d]^w[++i],output[decrypt?3:1]=sub[b>>>24]<<24^sub[c>>>16&255]<<16^sub[d>>>8&255]<<8^sub[255&a]^w[++i],output[2]=sub[c>>>24]<<24^sub[d>>>16&255]<<16^sub[a>>>8&255]<<8^sub[255&b]^w[++i],output[decrypt?1:3]=sub[d>>>24]<<24^sub[a>>>16&255]<<16^sub[b>>>8&255]<<8^sub[255&c]^w[++i]}function _createCipher(options){options=options||{};var cipher,mode=(options.mode||"CBC").toUpperCase(),algorithm="AES-"+mode;cipher=options.decrypt?forge.cipher.createDecipher(algorithm,options.key):forge.cipher.createCipher(algorithm,options.key);var start=cipher.start;return cipher.start=function(iv,options){var output=null;options instanceof forge.util.ByteBuffer&&(output=options,options={}),options=options||{},options.output=output,options.iv=iv,start.call(cipher,options)},cipher}forge.aes=forge.aes||{},forge.aes.startEncrypting=function(key,iv,output,mode){var cipher=_createCipher({key:key,output:output,decrypt:!1,mode:mode});return cipher.start(iv),cipher},forge.aes.createEncryptionCipher=function(key,mode){return _createCipher({key:key,output:null,decrypt:!1,mode:mode})},forge.aes.startDecrypting=function(key,iv,output,mode){var cipher=_createCipher({
key:key,output:output,decrypt:!0,mode:mode});return cipher.start(iv),cipher},forge.aes.createDecryptionCipher=function(key,mode){return _createCipher({key:key,output:null,decrypt:!0,mode:mode})},forge.aes.Algorithm=function(name,mode){init||initialize();var self=this;self.name=name,self.mode=new mode({blockSize:16,cipher:{encrypt:function(inBlock,outBlock){return _updateBlock(self._w,inBlock,outBlock,!1)},decrypt:function(inBlock,outBlock){return _updateBlock(self._w,inBlock,outBlock,!0)}}}),self._init=!1},forge.aes.Algorithm.prototype.initialize=function(options){if(!this._init){var tmp,key=options.key;if("string"!=typeof key||16!==key.length&&24!==key.length&&32!==key.length){if(forge.util.isArray(key)&&(16===key.length||24===key.length||32===key.length)){tmp=key,key=forge.util.createBuffer();for(var i=0;i<tmp.length;++i)key.putByte(tmp[i])}}else key=forge.util.createBuffer(key);if(!forge.util.isArray(key)){tmp=key,key=[];var len=tmp.length();if(16===len||24===len||32===len){len>>>=2;for(var i=0;i<len;++i)key.push(tmp.getInt32())}}if(!forge.util.isArray(key)||4!==key.length&&6!==key.length&&8!==key.length)throw new Error("Invalid key parameter.");var mode=this.mode.name,encryptOp=["CFB","OFB","CTR","GCM"].indexOf(mode)!==-1;this._w=_expandKey(key,options.decrypt&&!encryptOp),this._init=!0}},forge.aes._expandKey=function(key,decrypt){return init||initialize(),_expandKey(key,decrypt)},forge.aes._updateBlock=_updateBlock,registerAlgorithm("AES-ECB",forge.cipher.modes.ecb),registerAlgorithm("AES-CBC",forge.cipher.modes.cbc),registerAlgorithm("AES-CFB",forge.cipher.modes.cfb),registerAlgorithm("AES-OFB",forge.cipher.modes.ofb),registerAlgorithm("AES-CTR",forge.cipher.modes.ctr),registerAlgorithm("AES-GCM",forge.cipher.modes.gcm);var sbox,isbox,rcon,mix,imix,init=!1,Nb=4}var name="aes";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/aes",["require","module","./cipher","./cipherModes","./util"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){forge.pki=forge.pki||{};var oids=forge.pki.oids=forge.oids=forge.oids||{};oids["1.2.840.113549.1.1.1"]="rsaEncryption",oids.rsaEncryption="1.2.840.113549.1.1.1",oids["1.2.840.113549.1.1.4"]="md5WithRSAEncryption",oids.md5WithRSAEncryption="1.2.840.113549.1.1.4",oids["1.2.840.113549.1.1.5"]="sha1WithRSAEncryption",oids.sha1WithRSAEncryption="1.2.840.113549.1.1.5",oids["1.2.840.113549.1.1.7"]="RSAES-OAEP",oids["RSAES-OAEP"]="1.2.840.113549.1.1.7",oids["1.2.840.113549.1.1.8"]="mgf1",oids.mgf1="1.2.840.113549.1.1.8",oids["1.2.840.113549.1.1.9"]="pSpecified",oids.pSpecified="1.2.840.113549.1.1.9",oids["1.2.840.113549.1.1.10"]="RSASSA-PSS",oids["RSASSA-PSS"]="1.2.840.113549.1.1.10",oids["1.2.840.113549.1.1.11"]="sha256WithRSAEncryption",oids.sha256WithRSAEncryption="1.2.840.113549.1.1.11",oids["1.2.840.113549.1.1.12"]="sha384WithRSAEncryption",oids.sha384WithRSAEncryption="1.2.840.113549.1.1.12",oids["1.2.840.113549.1.1.13"]="sha512WithRSAEncryption",oids.sha512WithRSAEncryption="1.2.840.113549.1.1.13",oids["1.3.14.3.2.7"]="desCBC",oids.desCBC="1.3.14.3.2.7",oids["1.3.14.3.2.26"]="sha1",oids.sha1="1.3.14.3.2.26",oids["2.16.840.1.101.3.4.2.1"]="sha256",oids.sha256="2.16.840.1.101.3.4.2.1",oids["2.16.840.1.101.3.4.2.2"]="sha384",oids.sha384="2.16.840.1.101.3.4.2.2",oids["2.16.840.1.101.3.4.2.3"]="sha512",oids.sha512="2.16.840.1.101.3.4.2.3",oids["1.2.840.113549.2.5"]="md5",oids.md5="1.2.840.113549.2.5",oids["1.2.840.113549.1.7.1"]="data",oids.data="1.2.840.113549.1.7.1",oids["1.2.840.113549.1.7.2"]="signedData",oids.signedData="1.2.840.113549.1.7.2",oids["1.2.840.113549.1.7.3"]="envelopedData",oids.envelopedData="1.2.840.113549.1.7.3",oids["1.2.840.113549.1.7.4"]="signedAndEnvelopedData",oids.signedAndEnvelopedData="1.2.840.113549.1.7.4",oids["1.2.840.113549.1.7.5"]="digestedData",oids.digestedData="1.2.840.113549.1.7.5",oids["1.2.840.113549.1.7.6"]="encryptedData",oids.encryptedData="1.2.840.113549.1.7.6",oids["1.2.840.113549.1.9.1"]="emailAddress",oids.emailAddress="1.2.840.113549.1.9.1",oids["1.2.840.113549.1.9.2"]="unstructuredName",oids.unstructuredName="1.2.840.113549.1.9.2",oids["1.2.840.113549.1.9.3"]="contentType",oids.contentType="1.2.840.113549.1.9.3",oids["1.2.840.113549.1.9.4"]="messageDigest",oids.messageDigest="1.2.840.113549.1.9.4",oids["1.2.840.113549.1.9.5"]="signingTime",oids.signingTime="1.2.840.113549.1.9.5",oids["1.2.840.113549.1.9.6"]="counterSignature",oids.counterSignature="1.2.840.113549.1.9.6",oids["1.2.840.113549.1.9.7"]="challengePassword",oids.challengePassword="1.2.840.113549.1.9.7",oids["1.2.840.113549.1.9.8"]="unstructuredAddress",oids.unstructuredAddress="1.2.840.113549.1.9.8",oids["1.2.840.113549.1.9.14"]="extensionRequest",oids.extensionRequest="1.2.840.113549.1.9.14",oids["1.2.840.113549.1.9.20"]="friendlyName",oids.friendlyName="1.2.840.113549.1.9.20",oids["1.2.840.113549.1.9.21"]="localKeyId",oids.localKeyId="1.2.840.113549.1.9.21",oids["1.2.840.113549.1.9.22.1"]="x509Certificate",oids.x509Certificate="1.2.840.113549.1.9.22.1",oids["1.2.840.113549.1.12.10.1.1"]="keyBag",oids.keyBag="1.2.840.113549.1.12.10.1.1",oids["1.2.840.113549.1.12.10.1.2"]="pkcs8ShroudedKeyBag",oids.pkcs8ShroudedKeyBag="1.2.840.113549.1.12.10.1.2",oids["1.2.840.113549.1.12.10.1.3"]="certBag",oids.certBag="1.2.840.113549.1.12.10.1.3",oids["1.2.840.113549.1.12.10.1.4"]="crlBag",oids.crlBag="1.2.840.113549.1.12.10.1.4",oids["1.2.840.113549.1.12.10.1.5"]="secretBag",oids.secretBag="1.2.840.113549.1.12.10.1.5",oids["1.2.840.113549.1.12.10.1.6"]="safeContentsBag",oids.safeContentsBag="1.2.840.113549.1.12.10.1.6",oids["1.2.840.113549.1.5.13"]="pkcs5PBES2",oids.pkcs5PBES2="1.2.840.113549.1.5.13",oids["1.2.840.113549.1.5.12"]="pkcs5PBKDF2",oids.pkcs5PBKDF2="1.2.840.113549.1.5.12",oids["1.2.840.113549.1.12.1.1"]="pbeWithSHAAnd128BitRC4",oids.pbeWithSHAAnd128BitRC4="1.2.840.113549.1.12.1.1",oids["1.2.840.113549.1.12.1.2"]="pbeWithSHAAnd40BitRC4",oids.pbeWithSHAAnd40BitRC4="1.2.840.113549.1.12.1.2",oids["1.2.840.113549.1.12.1.3"]="pbeWithSHAAnd3-KeyTripleDES-CBC",oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]="1.2.840.113549.1.12.1.3",oids["1.2.840.113549.1.12.1.4"]="pbeWithSHAAnd2-KeyTripleDES-CBC",oids["pbeWithSHAAnd2-KeyTripleDES-CBC"]="1.2.840.113549.1.12.1.4",oids["1.2.840.113549.1.12.1.5"]="pbeWithSHAAnd128BitRC2-CBC",oids["pbeWithSHAAnd128BitRC2-CBC"]="1.2.840.113549.1.12.1.5",oids["1.2.840.113549.1.12.1.6"]="pbewithSHAAnd40BitRC2-CBC",oids["pbewithSHAAnd40BitRC2-CBC"]="1.2.840.113549.1.12.1.6",oids["1.2.840.113549.3.7"]="des-EDE3-CBC",oids["des-EDE3-CBC"]="1.2.840.113549.3.7",oids["2.16.840.1.101.3.4.1.2"]="aes128-CBC",oids["aes128-CBC"]="2.16.840.1.101.3.4.1.2",oids["2.16.840.1.101.3.4.1.22"]="aes192-CBC",oids["aes192-CBC"]="2.16.840.1.101.3.4.1.22",oids["2.16.840.1.101.3.4.1.42"]="aes256-CBC",oids["aes256-CBC"]="2.16.840.1.101.3.4.1.42",oids["2.5.4.3"]="commonName",oids.commonName="2.5.4.3",oids["2.5.4.5"]="serialName",oids.serialName="2.5.4.5",oids["2.5.4.6"]="countryName",oids.countryName="2.5.4.6",oids["2.5.4.7"]="localityName",oids.localityName="2.5.4.7",oids["2.5.4.8"]="stateOrProvinceName",oids.stateOrProvinceName="2.5.4.8",oids["2.5.4.10"]="organizationName",oids.organizationName="2.5.4.10",oids["2.5.4.11"]="organizationalUnitName",oids.organizationalUnitName="2.5.4.11",oids["2.16.840.1.113730.1.1"]="nsCertType",oids.nsCertType="2.16.840.1.113730.1.1",oids["2.5.29.1"]="authorityKeyIdentifier",oids["2.5.29.2"]="keyAttributes",oids["2.5.29.3"]="certificatePolicies",oids["2.5.29.4"]="keyUsageRestriction",oids["2.5.29.5"]="policyMapping",oids["2.5.29.6"]="subtreesConstraint",oids["2.5.29.7"]="subjectAltName",oids["2.5.29.8"]="issuerAltName",oids["2.5.29.9"]="subjectDirectoryAttributes",oids["2.5.29.10"]="basicConstraints",oids["2.5.29.11"]="nameConstraints",oids["2.5.29.12"]="policyConstraints",oids["2.5.29.13"]="basicConstraints",oids["2.5.29.14"]="subjectKeyIdentifier",oids.subjectKeyIdentifier="2.5.29.14",oids["2.5.29.15"]="keyUsage",oids.keyUsage="2.5.29.15",oids["2.5.29.16"]="privateKeyUsagePeriod",oids["2.5.29.17"]="subjectAltName",oids.subjectAltName="2.5.29.17",oids["2.5.29.18"]="issuerAltName",oids.issuerAltName="2.5.29.18",oids["2.5.29.19"]="basicConstraints",oids.basicConstraints="2.5.29.19",oids["2.5.29.20"]="cRLNumber",oids["2.5.29.21"]="cRLReason",oids["2.5.29.22"]="expirationDate",oids["2.5.29.23"]="instructionCode",oids["2.5.29.24"]="invalidityDate",oids["2.5.29.25"]="cRLDistributionPoints",oids["2.5.29.26"]="issuingDistributionPoint",oids["2.5.29.27"]="deltaCRLIndicator",oids["2.5.29.28"]="issuingDistributionPoint",oids["2.5.29.29"]="certificateIssuer",oids["2.5.29.30"]="nameConstraints",oids["2.5.29.31"]="cRLDistributionPoints",oids["2.5.29.32"]="certificatePolicies",oids["2.5.29.33"]="policyMappings",oids["2.5.29.34"]="policyConstraints",oids["2.5.29.35"]="authorityKeyIdentifier",oids["2.5.29.36"]="policyConstraints",oids["2.5.29.37"]="extKeyUsage",oids.extKeyUsage="2.5.29.37",oids["2.5.29.46"]="freshestCRL",oids["2.5.29.54"]="inhibitAnyPolicy",oids["1.3.6.1.5.5.7.3.1"]="serverAuth",oids.serverAuth="1.3.6.1.5.5.7.3.1",oids["1.3.6.1.5.5.7.3.2"]="clientAuth",oids.clientAuth="1.3.6.1.5.5.7.3.2",oids["1.3.6.1.5.5.7.3.3"]="codeSigning",oids.codeSigning="1.3.6.1.5.5.7.3.3",oids["1.3.6.1.5.5.7.3.4"]="emailProtection",oids.emailProtection="1.3.6.1.5.5.7.3.4",oids["1.3.6.1.5.5.7.3.8"]="timeStamping",oids.timeStamping="1.3.6.1.5.5.7.3.8"}var name="oids";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/oids",["require","module"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){var asn1=forge.asn1=forge.asn1||{};asn1.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},asn1.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},asn1.create=function(tagClass,type,constructed,value){if(forge.util.isArray(value)){for(var tmp=[],i=0;i<value.length;++i)void 0!==value[i]&&tmp.push(value[i]);value=tmp}return{tagClass:tagClass,type:type,constructed:constructed,composed:constructed||forge.util.isArray(value),value:value}};var _getValueLength=asn1.getBerValueLength=function(b){var b2=b.getByte();if(128!==b2){var length,longForm=128&b2;return length=longForm?b.getInt((127&b2)<<3):b2}};asn1.fromDer=function(bytes,strict){if(void 0===strict&&(strict=!0),"string"==typeof bytes&&(bytes=forge.util.createBuffer(bytes)),bytes.length()<2){var error=new Error("Too few bytes to parse DER.");throw error.bytes=bytes.length(),error}var b1=bytes.getByte(),tagClass=192&b1,type=31&b1,length=_getValueLength(bytes);if(bytes.length()<length){if(strict){var error=new Error("Too few bytes to read ASN.1 value.");throw error.detail=bytes.length()+" < "+length,error}length=bytes.length()}var value,constructed=32===(32&b1),composed=constructed;if(!composed&&tagClass===asn1.Class.UNIVERSAL&&type===asn1.Type.BITSTRING&&length>1){var read=bytes.read,unused=bytes.getByte();if(0===unused){b1=bytes.getByte();var tc=192&b1;if(tc===asn1.Class.UNIVERSAL||tc===asn1.Class.CONTEXT_SPECIFIC)try{var len=_getValueLength(bytes);composed=len===length-(bytes.read-read),composed&&(++read,--length)}catch(ex){}}bytes.read=read}if(composed)if(value=[],void 0===length)for(;;){if(bytes.bytes(2)===String.fromCharCode(0,0)){bytes.getBytes(2);break}value.push(asn1.fromDer(bytes,strict))}else for(var start=bytes.length();length>0;)value.push(asn1.fromDer(bytes,strict)),length-=start-bytes.length(),start=bytes.length();else{if(void 0===length){if(strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");length=bytes.length()}if(type===asn1.Type.BMPSTRING){value="";for(var i=0;i<length;i+=2)value+=String.fromCharCode(bytes.getInt16())}else value=bytes.getBytes(length)}return asn1.create(tagClass,type,constructed,value)},asn1.toDer=function(obj){var bytes=forge.util.createBuffer(),b1=obj.tagClass|obj.type,value=forge.util.createBuffer();if(obj.composed){obj.constructed?b1|=32:value.putByte(0);for(var i=0;i<obj.value.length;++i)void 0!==obj.value[i]&&value.putBuffer(asn1.toDer(obj.value[i]))}else if(obj.type===asn1.Type.BMPSTRING)for(var i=0;i<obj.value.length;++i)value.putInt16(obj.value.charCodeAt(i));else value.putBytes(obj.value);if(bytes.putByte(b1),value.length()<=127)bytes.putByte(127&value.length());else{var len=value.length(),lenBytes="";do lenBytes+=String.fromCharCode(255&len),len>>>=8;while(len>0);bytes.putByte(128|lenBytes.length);for(var i=lenBytes.length-1;i>=0;--i)bytes.putByte(lenBytes.charCodeAt(i))}return bytes.putBuffer(value),bytes},asn1.oidToDer=function(oid){var values=oid.split("."),bytes=forge.util.createBuffer();bytes.putByte(40*parseInt(values[0],10)+parseInt(values[1],10));for(var last,valueBytes,value,b,i=2;i<values.length;++i){last=!0,valueBytes=[],value=parseInt(values[i],10);do b=127&value,value>>>=7,last||(b|=128),valueBytes.push(b),last=!1;while(value>0);for(var n=valueBytes.length-1;n>=0;--n)bytes.putByte(valueBytes[n])}return bytes},asn1.derToOid=function(bytes){var oid;"string"==typeof bytes&&(bytes=forge.util.createBuffer(bytes));var b=bytes.getByte();oid=Math.floor(b/40)+"."+b%40;for(var value=0;bytes.length()>0;)b=bytes.getByte(),value<<=7,128&b?value+=127&b:(oid+="."+(value+b),value=0);return oid},asn1.utcTimeToDate=function(utc){var date=new Date,year=parseInt(utc.substr(0,2),10);year=year>=50?1900+year:2e3+year;var MM=parseInt(utc.substr(2,2),10)-1,DD=parseInt(utc.substr(4,2),10),hh=parseInt(utc.substr(6,2),10),mm=parseInt(utc.substr(8,2),10),ss=0;if(utc.length>11){var c=utc.charAt(10),end=10;"+"!==c&&"-"!==c&&(ss=parseInt(utc.substr(10,2),10),end+=2)}if(date.setUTCFullYear(year,MM,DD),date.setUTCHours(hh,mm,ss,0),end&&(c=utc.charAt(end),"+"===c||"-"===c)){var hhoffset=parseInt(utc.substr(end+1,2),10),mmoffset=parseInt(utc.substr(end+4,2),10),offset=60*hhoffset+mmoffset;offset*=6e4,"+"===c?date.setTime(+date-offset):date.setTime(+date+offset)}return date},asn1.generalizedTimeToDate=function(gentime){var date=new Date,YYYY=parseInt(gentime.substr(0,4),10),MM=parseInt(gentime.substr(4,2),10)-1,DD=parseInt(gentime.substr(6,2),10),hh=parseInt(gentime.substr(8,2),10),mm=parseInt(gentime.substr(10,2),10),ss=parseInt(gentime.substr(12,2),10),fff=0,offset=0,isUTC=!1;"Z"===gentime.charAt(gentime.length-1)&&(isUTC=!0);var end=gentime.length-5,c=gentime.charAt(end);if("+"===c||"-"===c){var hhoffset=parseInt(gentime.substr(end+1,2),10),mmoffset=parseInt(gentime.substr(end+4,2),10);offset=60*hhoffset+mmoffset,offset*=6e4,"+"===c&&(offset*=-1),isUTC=!0}return"."===gentime.charAt(14)&&(fff=1e3*parseFloat(gentime.substr(14),10)),isUTC?(date.setUTCFullYear(YYYY,MM,DD),date.setUTCHours(hh,mm,ss,fff),date.setTime(+date+offset)):(date.setFullYear(YYYY,MM,DD),date.setHours(hh,mm,ss,fff)),date},asn1.dateToUtcTime=function(date){if("string"==typeof date)return date;var rval="",format=[];format.push((""+date.getUTCFullYear()).substr(2)),format.push(""+(date.getUTCMonth()+1)),format.push(""+date.getUTCDate()),format.push(""+date.getUTCHours()),format.push(""+date.getUTCMinutes()),format.push(""+date.getUTCSeconds());for(var i=0;i<format.length;++i)format[i].length<2&&(rval+="0"),rval+=format[i];return rval+="Z"},asn1.dateToGeneralizedTime=function(date){if("string"==typeof date)return date;var rval="",format=[];format.push(""+date.getUTCFullYear()),format.push(""+(date.getUTCMonth()+1)),format.push(""+date.getUTCDate()),format.push(""+date.getUTCHours()),format.push(""+date.getUTCMinutes()),format.push(""+date.getUTCSeconds());for(var i=0;i<format.length;++i)format[i].length<2&&(rval+="0"),rval+=format[i];return rval+="Z"},asn1.integerToDer=function(x){var rval=forge.util.createBuffer();if(x>=-128&&x<128)return rval.putSignedInt(x,8);if(x>=-32768&&x<32768)return rval.putSignedInt(x,16);if(x>=-8388608&&x<8388608)return rval.putSignedInt(x,24);if(x>=-2147483648&&x<2147483648)return rval.putSignedInt(x,32);var error=new Error("Integer too large; max is 32-bits.");throw error.integer=x,error},asn1.derToInteger=function(bytes){"string"==typeof bytes&&(bytes=forge.util.createBuffer(bytes));var n=8*bytes.length();if(n>32)throw new Error("Integer too large; max is 32-bits.");return bytes.getSignedInt(n)},asn1.validate=function(obj,v,capture,errors){var rval=!1;if(obj.tagClass!==v.tagClass&&"undefined"!=typeof v.tagClass||obj.type!==v.type&&"undefined"!=typeof v.type)errors&&(obj.tagClass!==v.tagClass&&errors.push("["+v.name+'] Expected tag class "'+v.tagClass+'", got "'+obj.tagClass+'"'),obj.type!==v.type&&errors.push("["+v.name+'] Expected type "'+v.type+'", got "'+obj.type+'"'));else if(obj.constructed===v.constructed||"undefined"==typeof v.constructed){if(rval=!0,v.value&&forge.util.isArray(v.value))for(var j=0,i=0;rval&&i<v.value.length;++i)rval=v.value[i].optional||!1,obj.value[j]&&(rval=asn1.validate(obj.value[j],v.value[i],capture,errors),rval?++j:v.value[i].optional&&(rval=!0)),!rval&&errors&&errors.push("["+v.name+'] Tag class "'+v.tagClass+'", type "'+v.type+'" expected value length "'+v.value.length+'", got "'+obj.value.length+'"');rval&&capture&&(v.capture&&(capture[v.capture]=obj.value),v.captureAsn1&&(capture[v.captureAsn1]=obj))}else errors&&errors.push("["+v.name+'] Expected constructed "'+v.constructed+'", got "'+obj.constructed+'"');return rval};var _nonLatinRegex=/[^\\u0000-\\u00ff]/;asn1.prettyPrint=function(obj,level,indentation){var rval="";level=level||0,indentation=indentation||2,level>0&&(rval+="\n");for(var indent="",i=0;i<level*indentation;++i)indent+=" ";switch(rval+=indent+"Tag: ",obj.tagClass){case asn1.Class.UNIVERSAL:rval+="Universal:";break;case asn1.Class.APPLICATION:rval+="Application:";break;case asn1.Class.CONTEXT_SPECIFIC:rval+="Context-Specific:";break;case asn1.Class.PRIVATE:rval+="Private:"}if(obj.tagClass===asn1.Class.UNIVERSAL)switch(rval+=obj.type,obj.type){case asn1.Type.NONE:rval+=" (None)";break;case asn1.Type.BOOLEAN:rval+=" (Boolean)";break;case asn1.Type.BITSTRING:rval+=" (Bit string)";break;case asn1.Type.INTEGER:rval+=" (Integer)";break;case asn1.Type.OCTETSTRING:rval+=" (Octet string)";break;case asn1.Type.NULL:rval+=" (Null)";break;case asn1.Type.OID:rval+=" (Object Identifier)";break;case asn1.Type.ODESC:rval+=" (Object Descriptor)";break;case asn1.Type.EXTERNAL:rval+=" (External or Instance of)";break;case asn1.Type.REAL:rval+=" (Real)";break;case asn1.Type.ENUMERATED:rval+=" (Enumerated)";break;case asn1.Type.EMBEDDED:rval+=" (Embedded PDV)";break;case asn1.Type.UTF8:rval+=" (UTF8)";break;case asn1.Type.ROID:rval+=" (Relative Object Identifier)";break;case asn1.Type.SEQUENCE:rval+=" (Sequence)";break;case asn1.Type.SET:rval+=" (Set)";break;case asn1.Type.PRINTABLESTRING:rval+=" (Printable String)";break;case asn1.Type.IA5String:rval+=" (IA5String (ASCII))";break;case asn1.Type.UTCTIME:rval+=" (UTC time)";break;case asn1.Type.GENERALIZEDTIME:rval+=" (Generalized time)";break;case asn1.Type.BMPSTRING:rval+=" (BMP String)"}else rval+=obj.type;if(rval+="\n",rval+=indent+"Constructed: "+obj.constructed+"\n",obj.composed){for(var subvalues=0,sub="",i=0;i<obj.value.length;++i)void 0!==obj.value[i]&&(subvalues+=1,sub+=asn1.prettyPrint(obj.value[i],level+1,indentation),i+1<obj.value.length&&(sub+=","));rval+=indent+"Sub values: "+subvalues+sub}else{if(rval+=indent+"Value: ",obj.type===asn1.Type.OID){var oid=asn1.derToOid(obj.value);rval+=oid,forge.pki&&forge.pki.oids&&oid in forge.pki.oids&&(rval+=" ("+forge.pki.oids[oid]+") ")}if(obj.type===asn1.Type.INTEGER)try{rval+=asn1.derToInteger(obj.value)}catch(ex){rval+="0x"+forge.util.bytesToHex(obj.value)}else obj.type===asn1.Type.OCTETSTRING?(_nonLatinRegex.test(obj.value)||(rval+="("+obj.value+") "),rval+="0x"+forge.util.bytesToHex(obj.value)):rval+=obj.type===asn1.Type.UTF8?forge.util.decodeUtf8(obj.value):obj.type===asn1.Type.PRINTABLESTRING||obj.type===asn1.Type.IA5String?obj.value:_nonLatinRegex.test(obj.value)?"0x"+forge.util.bytesToHex(obj.value):0===obj.value.length?"[null]":obj.value}return rval}}var name="asn1";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/asn1",["require","module","./util","./oids"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){function _init(){_padding=String.fromCharCode(128),_padding+=forge.util.fillString(String.fromCharCode(0),64),_g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],_r=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],_k=new Array(64);for(var i=0;i<64;++i)_k[i]=Math.floor(4294967296*Math.abs(Math.sin(i+1)));_initialized=!0}function _update(s,w,bytes){for(var t,a,b,c,d,f,r,i,len=bytes.length();len>=64;){for(a=s.h0,b=s.h1,c=s.h2,d=s.h3,i=0;i<16;++i)w[i]=bytes.getInt32Le(),f=d^b&(c^d),t=a+f+_k[i]+w[i],r=_r[i],a=d,d=c,c=b,b+=t<<r|t>>>32-r;for(;i<32;++i)f=c^d&(b^c),t=a+f+_k[i]+w[_g[i]],r=_r[i],a=d,d=c,c=b,b+=t<<r|t>>>32-r;for(;i<48;++i)f=b^c^d,t=a+f+_k[i]+w[_g[i]],r=_r[i],a=d,d=c,c=b,b+=t<<r|t>>>32-r;for(;i<64;++i)f=c^(b|~d),t=a+f+_k[i]+w[_g[i]],r=_r[i],a=d,d=c,c=b,b+=t<<r|t>>>32-r;s.h0=s.h0+a|0,s.h1=s.h1+b|0,s.h2=s.h2+c|0,s.h3=s.h3+d|0,len-=64}}var md5=forge.md5=forge.md5||{};forge.md=forge.md||{},forge.md.algorithms=forge.md.algorithms||{},forge.md.md5=forge.md.algorithms.md5=md5,md5.create=function(){_initialized||_init();var _state=null,_input=forge.util.createBuffer(),_w=new Array(16),md={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return md.start=function(){md.messageLength=0,md.fullMessageLength=md.messageLength64=[];for(var int32s=md.messageLengthSize/4,i=0;i<int32s;++i)md.fullMessageLength.push(0);return _input=forge.util.createBuffer(),_state={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},md},md.start(),md.update=function(msg,encoding){"utf8"===encoding&&(msg=forge.util.encodeUtf8(msg));var len=msg.length;md.messageLength+=len,len=[len/4294967296>>>0,len>>>0];for(var i=md.fullMessageLength.length-1;i>=0;--i)md.fullMessageLength[i]+=len[1],len[1]=len[0]+(md.fullMessageLength[i]/4294967296>>>0),md.fullMessageLength[i]=md.fullMessageLength[i]>>>0,len[0]=len[1]/4294967296>>>0;return _input.putBytes(msg),_update(_state,_w,_input),(_input.read>2048||0===_input.length())&&_input.compact(),md},md.digest=function(){var finalBlock=forge.util.createBuffer();finalBlock.putBytes(_input.bytes());var remaining=md.fullMessageLength[md.fullMessageLength.length-1]+md.messageLengthSize,overflow=remaining&md.blockLength-1;finalBlock.putBytes(_padding.substr(0,md.blockLength-overflow));for(var bits,carry=0,i=md.fullMessageLength.length-1;i>=0;--i)bits=8*md.fullMessageLength[i]+carry,carry=bits/4294967296>>>0,finalBlock.putInt32Le(bits>>>0);var s2={h0:_state.h0,h1:_state.h1,h2:_state.h2,h3:_state.h3};_update(s2,_w,finalBlock);var rval=forge.util.createBuffer();return rval.putInt32Le(s2.h0),rval.putInt32Le(s2.h1),rval.putInt32Le(s2.h2),rval.putInt32Le(s2.h3),rval},md};var _padding=null,_g=null,_r=null,_k=null,_initialized=!1}var name="md5";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/md5",["require","module","./util"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){function _init(){_padding=String.fromCharCode(128),_padding+=forge.util.fillString(String.fromCharCode(0),64),_initialized=!0}function _update(s,w,bytes){for(var t,a,b,c,d,e,f,i,len=bytes.length();len>=64;){for(a=s.h0,b=s.h1,c=s.h2,d=s.h3,e=s.h4,i=0;i<16;++i)t=bytes.getInt32(),w[i]=t,f=d^b&(c^d),t=(a<<5|a>>>27)+f+e+1518500249+t,e=d,d=c,c=b<<30|b>>>2,b=a,a=t;for(;i<20;++i)t=w[i-3]^w[i-8]^w[i-14]^w[i-16],t=t<<1|t>>>31,w[i]=t,f=d^b&(c^d),t=(a<<5|a>>>27)+f+e+1518500249+t,e=d,d=c,c=b<<30|b>>>2,b=a,a=t;for(;i<32;++i)t=w[i-3]^w[i-8]^w[i-14]^w[i-16],t=t<<1|t>>>31,w[i]=t,f=b^c^d,t=(a<<5|a>>>27)+f+e+1859775393+t,e=d,d=c,c=b<<30|b>>>2,b=a,a=t;for(;i<40;++i)t=w[i-6]^w[i-16]^w[i-28]^w[i-32],t=t<<2|t>>>30,w[i]=t,f=b^c^d,t=(a<<5|a>>>27)+f+e+1859775393+t,e=d,d=c,c=b<<30|b>>>2,b=a,a=t;for(;i<60;++i)t=w[i-6]^w[i-16]^w[i-28]^w[i-32],t=t<<2|t>>>30,w[i]=t,f=b&c|d&(b^c),t=(a<<5|a>>>27)+f+e+2400959708+t,e=d,d=c,c=b<<30|b>>>2,b=a,a=t;for(;i<80;++i)t=w[i-6]^w[i-16]^w[i-28]^w[i-32],t=t<<2|t>>>30,w[i]=t,f=b^c^d,t=(a<<5|a>>>27)+f+e+3395469782+t,e=d,d=c,c=b<<30|b>>>2,b=a,a=t;s.h0=s.h0+a|0,s.h1=s.h1+b|0,s.h2=s.h2+c|0,s.h3=s.h3+d|0,s.h4=s.h4+e|0,len-=64}}var sha1=forge.sha1=forge.sha1||{};forge.md=forge.md||{},forge.md.algorithms=forge.md.algorithms||{},forge.md.sha1=forge.md.algorithms.sha1=sha1,sha1.create=function(){_initialized||_init();var _state=null,_input=forge.util.createBuffer(),_w=new Array(80),md={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return md.start=function(){md.messageLength=0,md.fullMessageLength=md.messageLength64=[];for(var int32s=md.messageLengthSize/4,i=0;i<int32s;++i)md.fullMessageLength.push(0);return _input=forge.util.createBuffer(),_state={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},md},md.start(),md.update=function(msg,encoding){"utf8"===encoding&&(msg=forge.util.encodeUtf8(msg));var len=msg.length;md.messageLength+=len,len=[len/4294967296>>>0,len>>>0];for(var i=md.fullMessageLength.length-1;i>=0;--i)md.fullMessageLength[i]+=len[1],len[1]=len[0]+(md.fullMessageLength[i]/4294967296>>>0),md.fullMessageLength[i]=md.fullMessageLength[i]>>>0,len[0]=len[1]/4294967296>>>0;return _input.putBytes(msg),_update(_state,_w,_input),(_input.read>2048||0===_input.length())&&_input.compact(),md},md.digest=function(){var finalBlock=forge.util.createBuffer();finalBlock.putBytes(_input.bytes());var remaining=md.fullMessageLength[md.fullMessageLength.length-1]+md.messageLengthSize,overflow=remaining&md.blockLength-1;finalBlock.putBytes(_padding.substr(0,md.blockLength-overflow));for(var next,carry,bits=(forge.util.createBuffer(),8*md.fullMessageLength[0]),i=0;i<md.fullMessageLength.length;++i)next=8*md.fullMessageLength[i+1],carry=next/4294967296>>>0,bits+=carry,finalBlock.putInt32(bits>>>0),bits=next;var s2={h0:_state.h0,h1:_state.h1,h2:_state.h2,h3:_state.h3,h4:_state.h4};_update(s2,_w,finalBlock);var rval=forge.util.createBuffer();return rval.putInt32(s2.h0),rval.putInt32(s2.h1),rval.putInt32(s2.h2),rval.putInt32(s2.h3),rval.putInt32(s2.h4),rval},md};var _padding=null,_initialized=!1}var name="sha1";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/sha1",["require","module","./util"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){function _init(){_padding=String.fromCharCode(128),_padding+=forge.util.fillString(String.fromCharCode(0),64),_k=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],_initialized=!0}function _update(s,w,bytes){for(var t1,t2,s0,s1,ch,maj,i,a,b,c,d,e,f,g,h,len=bytes.length();len>=64;){for(i=0;i<16;++i)w[i]=bytes.getInt32();for(;i<64;++i)t1=w[i-2],t1=(t1>>>17|t1<<15)^(t1>>>19|t1<<13)^t1>>>10,t2=w[i-15],t2=(t2>>>7|t2<<25)^(t2>>>18|t2<<14)^t2>>>3,w[i]=t1+w[i-7]+t2+w[i-16]|0;for(a=s.h0,b=s.h1,c=s.h2,d=s.h3,e=s.h4,f=s.h5,g=s.h6,h=s.h7,i=0;i<64;++i)s1=(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7),ch=g^e&(f^g),s0=(a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10),maj=a&b|c&(a^b),t1=h+s1+ch+_k[i]+w[i],t2=s0+maj,h=g,g=f,f=e,e=d+t1|0,
d=c,c=b,b=a,a=t1+t2|0;s.h0=s.h0+a|0,s.h1=s.h1+b|0,s.h2=s.h2+c|0,s.h3=s.h3+d|0,s.h4=s.h4+e|0,s.h5=s.h5+f|0,s.h6=s.h6+g|0,s.h7=s.h7+h|0,len-=64}}var sha256=forge.sha256=forge.sha256||{};forge.md=forge.md||{},forge.md.algorithms=forge.md.algorithms||{},forge.md.sha256=forge.md.algorithms.sha256=sha256,sha256.create=function(){_initialized||_init();var _state=null,_input=forge.util.createBuffer(),_w=new Array(64),md={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return md.start=function(){md.messageLength=0,md.fullMessageLength=md.messageLength64=[];for(var int32s=md.messageLengthSize/4,i=0;i<int32s;++i)md.fullMessageLength.push(0);return _input=forge.util.createBuffer(),_state={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},md},md.start(),md.update=function(msg,encoding){"utf8"===encoding&&(msg=forge.util.encodeUtf8(msg));var len=msg.length;md.messageLength+=len,len=[len/4294967296>>>0,len>>>0];for(var i=md.fullMessageLength.length-1;i>=0;--i)md.fullMessageLength[i]+=len[1],len[1]=len[0]+(md.fullMessageLength[i]/4294967296>>>0),md.fullMessageLength[i]=md.fullMessageLength[i]>>>0,len[0]=len[1]/4294967296>>>0;return _input.putBytes(msg),_update(_state,_w,_input),(_input.read>2048||0===_input.length())&&_input.compact(),md},md.digest=function(){var finalBlock=forge.util.createBuffer();finalBlock.putBytes(_input.bytes());var remaining=md.fullMessageLength[md.fullMessageLength.length-1]+md.messageLengthSize,overflow=remaining&md.blockLength-1;finalBlock.putBytes(_padding.substr(0,md.blockLength-overflow));for(var next,carry,bits=(forge.util.createBuffer(),8*md.fullMessageLength[0]),i=0;i<md.fullMessageLength.length;++i)next=8*md.fullMessageLength[i+1],carry=next/4294967296>>>0,bits+=carry,finalBlock.putInt32(bits>>>0),bits=next;var s2={h0:_state.h0,h1:_state.h1,h2:_state.h2,h3:_state.h3,h4:_state.h4,h5:_state.h5,h6:_state.h6,h7:_state.h7};_update(s2,_w,finalBlock);var rval=forge.util.createBuffer();return rval.putInt32(s2.h0),rval.putInt32(s2.h1),rval.putInt32(s2.h2),rval.putInt32(s2.h3),rval.putInt32(s2.h4),rval.putInt32(s2.h5),rval.putInt32(s2.h6),rval.putInt32(s2.h7),rval},md};var _padding=null,_initialized=!1,_k=null}var name="sha256";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/sha256",["require","module","./util"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){function _init(){_padding=String.fromCharCode(128),_padding+=forge.util.fillString(String.fromCharCode(0),128),_k=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],_states={},_states["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],_states["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],_states["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],_states["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],_initialized=!0}function _update(s,w,bytes){for(var t1_hi,t1_lo,t2_hi,t2_lo,s0_hi,s0_lo,s1_hi,s1_lo,ch_hi,ch_lo,maj_hi,maj_lo,a_hi,a_lo,b_hi,b_lo,c_hi,c_lo,d_hi,d_lo,e_hi,e_lo,f_hi,f_lo,g_hi,g_lo,h_hi,h_lo,i,hi,lo,w2,w7,w15,w16,len=bytes.length();len>=128;){for(i=0;i<16;++i)w[i][0]=bytes.getInt32()>>>0,w[i][1]=bytes.getInt32()>>>0;for(;i<80;++i)w2=w[i-2],hi=w2[0],lo=w2[1],t1_hi=((hi>>>19|lo<<13)^(lo>>>29|hi<<3)^hi>>>6)>>>0,t1_lo=((hi<<13|lo>>>19)^(lo<<3|hi>>>29)^(hi<<26|lo>>>6))>>>0,w15=w[i-15],hi=w15[0],lo=w15[1],t2_hi=((hi>>>1|lo<<31)^(hi>>>8|lo<<24)^hi>>>7)>>>0,t2_lo=((hi<<31|lo>>>1)^(hi<<24|lo>>>8)^(hi<<25|lo>>>7))>>>0,w7=w[i-7],w16=w[i-16],lo=t1_lo+w7[1]+t2_lo+w16[1],w[i][0]=t1_hi+w7[0]+t2_hi+w16[0]+(lo/4294967296>>>0)>>>0,w[i][1]=lo>>>0;for(a_hi=s[0][0],a_lo=s[0][1],b_hi=s[1][0],b_lo=s[1][1],c_hi=s[2][0],c_lo=s[2][1],d_hi=s[3][0],d_lo=s[3][1],e_hi=s[4][0],e_lo=s[4][1],f_hi=s[5][0],f_lo=s[5][1],g_hi=s[6][0],g_lo=s[6][1],h_hi=s[7][0],h_lo=s[7][1],i=0;i<80;++i)s1_hi=((e_hi>>>14|e_lo<<18)^(e_hi>>>18|e_lo<<14)^(e_lo>>>9|e_hi<<23))>>>0,s1_lo=((e_hi<<18|e_lo>>>14)^(e_hi<<14|e_lo>>>18)^(e_lo<<23|e_hi>>>9))>>>0,ch_hi=(g_hi^e_hi&(f_hi^g_hi))>>>0,ch_lo=(g_lo^e_lo&(f_lo^g_lo))>>>0,s0_hi=((a_hi>>>28|a_lo<<4)^(a_lo>>>2|a_hi<<30)^(a_lo>>>7|a_hi<<25))>>>0,s0_lo=((a_hi<<4|a_lo>>>28)^(a_lo<<30|a_hi>>>2)^(a_lo<<25|a_hi>>>7))>>>0,maj_hi=(a_hi&b_hi|c_hi&(a_hi^b_hi))>>>0,maj_lo=(a_lo&b_lo|c_lo&(a_lo^b_lo))>>>0,lo=h_lo+s1_lo+ch_lo+_k[i][1]+w[i][1],t1_hi=h_hi+s1_hi+ch_hi+_k[i][0]+w[i][0]+(lo/4294967296>>>0)>>>0,t1_lo=lo>>>0,lo=s0_lo+maj_lo,t2_hi=s0_hi+maj_hi+(lo/4294967296>>>0)>>>0,t2_lo=lo>>>0,h_hi=g_hi,h_lo=g_lo,g_hi=f_hi,g_lo=f_lo,f_hi=e_hi,f_lo=e_lo,lo=d_lo+t1_lo,e_hi=d_hi+t1_hi+(lo/4294967296>>>0)>>>0,e_lo=lo>>>0,d_hi=c_hi,d_lo=c_lo,c_hi=b_hi,c_lo=b_lo,b_hi=a_hi,b_lo=a_lo,lo=t1_lo+t2_lo,a_hi=t1_hi+t2_hi+(lo/4294967296>>>0)>>>0,a_lo=lo>>>0;lo=s[0][1]+a_lo,s[0][0]=s[0][0]+a_hi+(lo/4294967296>>>0)>>>0,s[0][1]=lo>>>0,lo=s[1][1]+b_lo,s[1][0]=s[1][0]+b_hi+(lo/4294967296>>>0)>>>0,s[1][1]=lo>>>0,lo=s[2][1]+c_lo,s[2][0]=s[2][0]+c_hi+(lo/4294967296>>>0)>>>0,s[2][1]=lo>>>0,lo=s[3][1]+d_lo,s[3][0]=s[3][0]+d_hi+(lo/4294967296>>>0)>>>0,s[3][1]=lo>>>0,lo=s[4][1]+e_lo,s[4][0]=s[4][0]+e_hi+(lo/4294967296>>>0)>>>0,s[4][1]=lo>>>0,lo=s[5][1]+f_lo,s[5][0]=s[5][0]+f_hi+(lo/4294967296>>>0)>>>0,s[5][1]=lo>>>0,lo=s[6][1]+g_lo,s[6][0]=s[6][0]+g_hi+(lo/4294967296>>>0)>>>0,s[6][1]=lo>>>0,lo=s[7][1]+h_lo,s[7][0]=s[7][0]+h_hi+(lo/4294967296>>>0)>>>0,s[7][1]=lo>>>0,len-=128}}var sha512=forge.sha512=forge.sha512||{};forge.md=forge.md||{},forge.md.algorithms=forge.md.algorithms||{},forge.md.sha512=forge.md.algorithms.sha512=sha512;var sha384=forge.sha384=forge.sha512.sha384=forge.sha512.sha384||{};sha384.create=function(){return sha512.create("SHA-384")},forge.md.sha384=forge.md.algorithms.sha384=sha384,forge.sha512.sha256=forge.sha512.sha256||{create:function(){return sha512.create("SHA-512/256")}},forge.md["sha512/256"]=forge.md.algorithms["sha512/256"]=forge.sha512.sha256,forge.sha512.sha224=forge.sha512.sha224||{create:function(){return sha512.create("SHA-512/224")}},forge.md["sha512/224"]=forge.md.algorithms["sha512/224"]=forge.sha512.sha224,sha512.create=function(algorithm){if(_initialized||_init(),"undefined"==typeof algorithm&&(algorithm="SHA-512"),!(algorithm in _states))throw new Error("Invalid SHA-512 algorithm: "+algorithm);for(var _state=_states[algorithm],_h=null,_input=forge.util.createBuffer(),_w=new Array(80),wi=0;wi<80;++wi)_w[wi]=new Array(2);var md={algorithm:algorithm.replace("-","").toLowerCase(),blockLength:128,digestLength:64,messageLength:0,fullMessageLength:null,messageLengthSize:16};return md.start=function(){md.messageLength=0,md.fullMessageLength=md.messageLength128=[];for(var int32s=md.messageLengthSize/4,i=0;i<int32s;++i)md.fullMessageLength.push(0);_input=forge.util.createBuffer(),_h=new Array(_state.length);for(var i=0;i<_state.length;++i)_h[i]=_state[i].slice(0);return md},md.start(),md.update=function(msg,encoding){"utf8"===encoding&&(msg=forge.util.encodeUtf8(msg));var len=msg.length;md.messageLength+=len,len=[len/4294967296>>>0,len>>>0];for(var i=md.fullMessageLength.length-1;i>=0;--i)md.fullMessageLength[i]+=len[1],len[1]=len[0]+(md.fullMessageLength[i]/4294967296>>>0),md.fullMessageLength[i]=md.fullMessageLength[i]>>>0,len[0]=len[1]/4294967296>>>0;return _input.putBytes(msg),_update(_h,_w,_input),(_input.read>2048||0===_input.length())&&_input.compact(),md},md.digest=function(){var finalBlock=forge.util.createBuffer();finalBlock.putBytes(_input.bytes());var remaining=md.fullMessageLength[md.fullMessageLength.length-1]+md.messageLengthSize,overflow=remaining&md.blockLength-1;finalBlock.putBytes(_padding.substr(0,md.blockLength-overflow));for(var next,carry,bits=(forge.util.createBuffer(),8*md.fullMessageLength[0]),i=0;i<md.fullMessageLength.length;++i)next=8*md.fullMessageLength[i+1],carry=next/4294967296>>>0,bits+=carry,finalBlock.putInt32(bits>>>0),bits=next;for(var h=new Array(_h.length),i=0;i<_h.length;++i)h[i]=_h[i].slice(0);_update(h,_w,finalBlock);var hlen,rval=forge.util.createBuffer();hlen="SHA-512"===algorithm?h.length:"SHA-384"===algorithm?h.length-2:h.length-4;for(var i=0;i<hlen;++i)rval.putInt32(h[i][0]),i===hlen-1&&"SHA-512/224"===algorithm||rval.putInt32(h[i][1]);return rval},md};var _padding=null,_initialized=!1,_k=null,_states=null}var name="sha512";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/sha512",["require","module","./util"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){forge.md=forge.md||{},forge.md.algorithms={md5:forge.md5,sha1:forge.sha1,sha256:forge.sha256},forge.md.md5=forge.md5,forge.md.sha1=forge.sha1,forge.md.sha256=forge.sha256}var name="md";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/md",["require","module","./md5","./sha1","./sha256","./sha512"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){var hmac=forge.hmac=forge.hmac||{};hmac.create=function(){var _key=null,_md=null,_ipadding=null,_opadding=null,ctx={};return ctx.start=function(md,key){if(null!==md)if("string"==typeof md){if(md=md.toLowerCase(),!(md in forge.md.algorithms))throw new Error('Unknown hash algorithm "'+md+'"');_md=forge.md.algorithms[md].create()}else _md=md;if(null===key)key=_key;else{if("string"==typeof key)key=forge.util.createBuffer(key);else if(forge.util.isArray(key)){var tmp=key;key=forge.util.createBuffer();for(var i=0;i<tmp.length;++i)key.putByte(tmp[i])}var keylen=key.length();keylen>_md.blockLength&&(_md.start(),_md.update(key.bytes()),key=_md.digest()),_ipadding=forge.util.createBuffer(),_opadding=forge.util.createBuffer(),keylen=key.length();for(var i=0;i<keylen;++i){var tmp=key.at(i);_ipadding.putByte(54^tmp),_opadding.putByte(92^tmp)}if(keylen<_md.blockLength)for(var tmp=_md.blockLength-keylen,i=0;i<tmp;++i)_ipadding.putByte(54),_opadding.putByte(92);_key=key,_ipadding=_ipadding.bytes(),_opadding=_opadding.bytes()}_md.start(),_md.update(_ipadding)},ctx.update=function(bytes){_md.update(bytes)},ctx.getMac=function(){var inner=_md.digest().bytes();return _md.start(),_md.update(_opadding),_md.update(inner),_md.digest()},ctx.digest=ctx.getMac,ctx}}var name="hmac";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/hmac",["require","module","./md","./util"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){function foldHeader(header){for(var rval=header.name+": ",values=[],insertSpace=function(match,$1){return" "+$1},i=0;i<header.values.length;++i)values.push(header.values[i].replace(/^(\S+\r\n)/,insertSpace));rval+=values.join(",")+"\r\n";for(var length=0,candidate=-1,i=0;i<rval.length;++i,++length)if(length>65&&candidate!==-1){var insert=rval[candidate];","===insert?(++candidate,rval=rval.substr(0,candidate)+"\r\n "+rval.substr(candidate)):rval=rval.substr(0,candidate)+"\r\n"+insert+rval.substr(candidate+1),length=i-candidate-1,candidate=-1,++i}else" "!==rval[i]&&"\t"!==rval[i]&&","!==rval[i]||(candidate=i);return rval}function ltrim(str){return str.replace(/^\s+/,"")}var pem=forge.pem=forge.pem||{};pem.encode=function(msg,options){options=options||{};var header,rval="-----BEGIN "+msg.type+"-----\r\n";if(msg.procType&&(header={name:"Proc-Type",values:[String(msg.procType.version),msg.procType.type]},rval+=foldHeader(header)),msg.contentDomain&&(header={name:"Content-Domain",values:[msg.contentDomain]},rval+=foldHeader(header)),msg.dekInfo&&(header={name:"DEK-Info",values:[msg.dekInfo.algorithm]},msg.dekInfo.parameters&&header.values.push(msg.dekInfo.parameters),rval+=foldHeader(header)),msg.headers)for(var i=0;i<msg.headers.length;++i)rval+=foldHeader(msg.headers[i]);return msg.procType&&(rval+="\r\n"),rval+=forge.util.encode64(msg.body,options.maxline||64)+"\r\n",rval+="-----END "+msg.type+"-----\r\n"},pem.decode=function(str){for(var match,rval=[],rMessage=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,rHeader=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,rCRLF=/\r?\n/;;){if(match=rMessage.exec(str),!match)break;var msg={type:match[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:forge.util.decode64(match[3])};if(rval.push(msg),match[2]){for(var lines=match[2].split(rCRLF),li=0;match&&li<lines.length;){for(var line=lines[li].replace(/\s+$/,""),nl=li+1;nl<lines.length;++nl){var next=lines[nl];if(!/\s/.test(next[0]))break;line+=next,li=nl}if(match=line.match(rHeader)){for(var header={name:match[1],values:[]},values=match[2].split(","),vi=0;vi<values.length;++vi)header.values.push(ltrim(values[vi]));if(msg.procType)if(msg.contentDomain||"Content-Domain"!==header.name)if(msg.dekInfo||"DEK-Info"!==header.name)msg.headers.push(header);else{if(0===header.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');msg.dekInfo={algorithm:values[0],parameters:values[1]||null}}else msg.contentDomain=values[0]||"";else{if("Proc-Type"!==header.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==header.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');msg.procType={version:values[0],type:values[1]}}}++li}if("ENCRYPTED"===msg.procType&&!msg.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===rval.length)throw new Error("Invalid PEM formatted message.");return rval}}var name="pem";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/pem",["require","module","./util"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){function registerAlgorithm(name,mode){var factory=function(){return new forge.des.Algorithm(name,mode)};forge.cipher.registerAlgorithm(name,factory)}function _createKeys(key){for(var tmp,pc2bytes0=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],pc2bytes1=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],pc2bytes2=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],pc2bytes3=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],pc2bytes4=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],pc2bytes5=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],pc2bytes6=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],pc2bytes7=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],pc2bytes8=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],pc2bytes9=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],pc2bytes10=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],pc2bytes11=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],pc2bytes12=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],pc2bytes13=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],iterations=key.length()>8?3:1,keys=[],shifts=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],n=0,j=0;j<iterations;j++){var left=key.getInt32(),right=key.getInt32();tmp=252645135&(left>>>4^right),right^=tmp,left^=tmp<<4,tmp=65535&(right>>>-16^left),left^=tmp,right^=tmp<<-16,tmp=858993459&(left>>>2^right),right^=tmp,left^=tmp<<2,tmp=65535&(right>>>-16^left),left^=tmp,right^=tmp<<-16,tmp=1431655765&(left>>>1^right),right^=tmp,left^=tmp<<1,tmp=16711935&(right>>>8^left),left^=tmp,right^=tmp<<8,tmp=1431655765&(left>>>1^right),right^=tmp,left^=tmp<<1,tmp=left<<8|right>>>20&240,left=right<<24|right<<8&16711680|right>>>8&65280|right>>>24&240,right=tmp;for(var i=0;i<shifts.length;++i){shifts[i]?(left=left<<2|left>>>26,right=right<<2|right>>>26):(left=left<<1|left>>>27,right=right<<1|right>>>27),left&=-15,right&=-15;var lefttmp=pc2bytes0[left>>>28]|pc2bytes1[left>>>24&15]|pc2bytes2[left>>>20&15]|pc2bytes3[left>>>16&15]|pc2bytes4[left>>>12&15]|pc2bytes5[left>>>8&15]|pc2bytes6[left>>>4&15],righttmp=pc2bytes7[right>>>28]|pc2bytes8[right>>>24&15]|pc2bytes9[right>>>20&15]|pc2bytes10[right>>>16&15]|pc2bytes11[right>>>12&15]|pc2bytes12[right>>>8&15]|pc2bytes13[right>>>4&15];tmp=65535&(righttmp>>>16^lefttmp),keys[n++]=lefttmp^tmp,keys[n++]=righttmp^tmp<<16}}return keys}function _updateBlock(keys,input,output,decrypt){var looping,iterations=32===keys.length?3:9;looping=3===iterations?decrypt?[30,-2,-2]:[0,32,2]:decrypt?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var tmp,left=input[0],right=input[1];tmp=252645135&(left>>>4^right),right^=tmp,left^=tmp<<4,tmp=65535&(left>>>16^right),right^=tmp,left^=tmp<<16,tmp=858993459&(right>>>2^left),left^=tmp,right^=tmp<<2,tmp=16711935&(right>>>8^left),left^=tmp,right^=tmp<<8,tmp=1431655765&(left>>>1^right),right^=tmp,left^=tmp<<1,left=left<<1|left>>>31,right=right<<1|right>>>31;for(var j=0;j<iterations;j+=3){for(var endloop=looping[j+1],loopinc=looping[j+2],i=looping[j];i!=endloop;i+=loopinc){var right1=right^keys[i],right2=(right>>>4|right<<28)^keys[i+1];tmp=left,left=right,right=tmp^(spfunction2[right1>>>24&63]|spfunction4[right1>>>16&63]|spfunction6[right1>>>8&63]|spfunction8[63&right1]|spfunction1[right2>>>24&63]|spfunction3[right2>>>16&63]|spfunction5[right2>>>8&63]|spfunction7[63&right2])}tmp=left,left=right,right=tmp}left=left>>>1|left<<31,right=right>>>1|right<<31,tmp=1431655765&(left>>>1^right),right^=tmp,left^=tmp<<1,tmp=16711935&(right>>>8^left),left^=tmp,right^=tmp<<8,tmp=858993459&(right>>>2^left),left^=tmp,right^=tmp<<2,tmp=65535&(left>>>16^right),right^=tmp,left^=tmp<<16,tmp=252645135&(left>>>4^right),right^=tmp,left^=tmp<<4,output[0]=left,output[1]=right}function _createCipher(options){options=options||{};var cipher,mode=(options.mode||"CBC").toUpperCase(),algorithm="DES-"+mode;cipher=options.decrypt?forge.cipher.createDecipher(algorithm,options.key):forge.cipher.createCipher(algorithm,options.key);var start=cipher.start;return cipher.start=function(iv,options){var output=null;options instanceof forge.util.ByteBuffer&&(output=options,options={}),options=options||{},options.output=output,options.iv=iv,start.call(cipher,options)},cipher}forge.des=forge.des||{},forge.des.startEncrypting=function(key,iv,output,mode){var cipher=_createCipher({key:key,output:output,decrypt:!1,mode:mode||(null===iv?"ECB":"CBC")});return cipher.start(iv),cipher},forge.des.createEncryptionCipher=function(key,mode){return _createCipher({key:key,output:null,decrypt:!1,mode:mode})},forge.des.startDecrypting=function(key,iv,output,mode){var cipher=_createCipher({key:key,output:output,decrypt:!0,mode:mode||(null===iv?"ECB":"CBC")});return cipher.start(iv),cipher},forge.des.createDecryptionCipher=function(key,mode){return _createCipher({key:key,output:null,decrypt:!0,mode:mode})},forge.des.Algorithm=function(name,mode){var self=this;self.name=name,self.mode=new mode({blockSize:8,cipher:{encrypt:function(inBlock,outBlock){return _updateBlock(self._keys,inBlock,outBlock,!1)},decrypt:function(inBlock,outBlock){return _updateBlock(self._keys,inBlock,outBlock,!0)}}}),self._init=!1},forge.des.Algorithm.prototype.initialize=function(options){if(!this._init){var key=forge.util.createBuffer(options.key);if(0===this.name.indexOf("3DES")&&24!==key.length())throw new Error("Invalid Triple-DES key size: "+8*key.length());this._keys=_createKeys(key),this._init=!0}},registerAlgorithm("DES-ECB",forge.cipher.modes.ecb),registerAlgorithm("DES-CBC",forge.cipher.modes.cbc),registerAlgorithm("DES-CFB",forge.cipher.modes.cfb),registerAlgorithm("DES-OFB",forge.cipher.modes.ofb),registerAlgorithm("DES-CTR",forge.cipher.modes.ctr),registerAlgorithm("3DES-ECB",forge.cipher.modes.ecb),registerAlgorithm("3DES-CBC",forge.cipher.modes.cbc),registerAlgorithm("3DES-CFB",forge.cipher.modes.cfb),registerAlgorithm("3DES-OFB",forge.cipher.modes.ofb),registerAlgorithm("3DES-CTR",forge.cipher.modes.ctr);var spfunction1=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],spfunction2=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],spfunction3=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],spfunction4=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],spfunction5=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],spfunction6=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],spfunction7=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],spfunction8=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696]}var name="des";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/des",["require","module","./cipher","./cipherModes","./util"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){var crypto,pkcs5=forge.pkcs5=forge.pkcs5||{},_nodejs="undefined"!=typeof process&&process.versions&&process.versions.node;_nodejs&&!forge.disableNativeCode&&(crypto=require("crypto")),forge.pbkdf2=pkcs5.pbkdf2=function(p,s,c,dkLen,md,callback){
function outer(){return i>len?callback(null,dk):(prf.start(null,null),prf.update(s),prf.update(forge.util.int32ToBytes(i)),xor=u_c1=prf.digest().getBytes(),j=2,void inner())}function inner(){return j<=c?(prf.start(null,null),prf.update(u_c1),u_c=prf.digest().getBytes(),xor=forge.util.xorBytes(xor,u_c,hLen),u_c1=u_c,++j,forge.util.setImmediate(inner)):(dk+=i<len?xor:xor.substr(0,r),++i,void outer())}if("function"==typeof md&&(callback=md,md=null),_nodejs&&!forge.disableNativeCode&&crypto.pbkdf2&&(null===md||"object"!=typeof md)&&(crypto.pbkdf2Sync.length>4||!md||"sha1"===md))return"string"!=typeof md&&(md="sha1"),s=new Buffer(s,"binary"),callback?4===crypto.pbkdf2Sync.length?crypto.pbkdf2(p,s,c,dkLen,function(err,key){return err?callback(err):void callback(null,key.toString("binary"))}):crypto.pbkdf2(p,s,c,dkLen,md,function(err,key){return err?callback(err):void callback(null,key.toString("binary"))}):4===crypto.pbkdf2Sync.length?crypto.pbkdf2Sync(p,s,c,dkLen).toString("binary"):crypto.pbkdf2Sync(p,s,c,dkLen,md).toString("binary");if("undefined"!=typeof md&&null!==md||(md=forge.md.sha1.create()),"string"==typeof md){if(!(md in forge.md.algorithms))throw new Error("Unknown hash algorithm: "+md);md=forge.md[md].create()}var hLen=md.digestLength;if(dkLen>4294967295*hLen){var err=new Error("Derived key is too long.");if(callback)return callback(err);throw err}var len=Math.ceil(dkLen/hLen),r=dkLen-(len-1)*hLen,prf=forge.hmac.create();prf.start(md,p);var xor,u_c,u_c1,dk="";if(!callback){for(var i=1;i<=len;++i){prf.start(null,null),prf.update(s),prf.update(forge.util.int32ToBytes(i)),xor=u_c1=prf.digest().getBytes();for(var j=2;j<=c;++j)prf.start(null,null),prf.update(u_c1),u_c=prf.digest().getBytes(),xor=forge.util.xorBytes(xor,u_c,hLen),u_c1=u_c;dk+=i<len?xor:xor.substr(0,r)}return dk}var j,i=1;outer()}}var name="pbkdf2";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/pbkdf2",["require","module","./hmac","./md","./util"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){var _nodejs="undefined"!=typeof process&&process.versions&&process.versions.node,_crypto=null;forge.disableNativeCode||!_nodejs||process.versions["node-webkit"]||(_crypto=require("crypto"));var prng=forge.prng=forge.prng||{};prng.create=function(plugin){function _reseed(callback){if(ctx.pools[0].messageLength>=32)return _seed(),callback();var needed=32-ctx.pools[0].messageLength<<5;ctx.seedFile(needed,function(err,bytes){return err?callback(err):(ctx.collect(bytes),_seed(),void callback())})}function _reseedSync(){if(ctx.pools[0].messageLength>=32)return _seed();var needed=32-ctx.pools[0].messageLength<<5;ctx.collect(ctx.seedFileSync(needed)),_seed()}function _seed(){var md=ctx.plugin.md.create();md.update(ctx.pools[0].digest().getBytes()),ctx.pools[0].start();for(var k=1,i=1;i<32;++i)k=31===k?2147483648:k<<2,k%ctx.reseeds===0&&(md.update(ctx.pools[i].digest().getBytes()),ctx.pools[i].start());var keyBytes=md.digest().getBytes();md.start(),md.update(keyBytes);var seedBytes=md.digest().getBytes();ctx.key=ctx.plugin.formatKey(keyBytes),ctx.seed=ctx.plugin.formatSeed(seedBytes),ctx.reseeds=4294967295===ctx.reseeds?0:ctx.reseeds+1,ctx.generated=0}function defaultSeedFile(needed){var getRandomValues=null;if("undefined"!=typeof window){var _crypto=window.crypto||window.msCrypto;_crypto&&_crypto.getRandomValues&&(getRandomValues=function(arr){return _crypto.getRandomValues(arr)})}var b=forge.util.createBuffer();if(getRandomValues)for(;b.length()<needed;){var count=Math.max(1,Math.min(needed-b.length(),65536)/4),entropy=new Uint32Array(Math.floor(count));try{getRandomValues(entropy);for(var i=0;i<entropy.length;++i)b.putInt32(entropy[i])}catch(e){if(!("undefined"!=typeof QuotaExceededError&&e instanceof QuotaExceededError))throw e}}if(b.length()<needed)for(var hi,lo,next,seed=Math.floor(65536*Math.random());b.length()<needed;){lo=16807*(65535&seed),hi=16807*(seed>>16),lo+=(32767&hi)<<16,lo+=hi>>15,lo=(2147483647&lo)+(lo>>31),seed=4294967295&lo;for(var i=0;i<3;++i)next=seed>>>(i<<3),next^=Math.floor(256*Math.random()),b.putByte(String.fromCharCode(255&next))}return b.getBytes(needed)}for(var ctx={plugin:plugin,key:null,seed:null,time:null,reseeds:0,generated:0},md=plugin.md,pools=new Array(32),i=0;i<32;++i)pools[i]=md.create();return ctx.pools=pools,ctx.pool=0,ctx.generate=function(count,callback){function generate(err){if(err)return callback(err);if(b.length()>=count)return callback(null,b.getBytes(count));if(ctx.generated>1048575&&(ctx.key=null),null===ctx.key)return forge.util.nextTick(function(){_reseed(generate)});var bytes=cipher(ctx.key,ctx.seed);ctx.generated+=bytes.length,b.putBytes(bytes),ctx.key=formatKey(cipher(ctx.key,increment(ctx.seed))),ctx.seed=formatSeed(cipher(ctx.key,ctx.seed)),forge.util.setImmediate(generate)}if(!callback)return ctx.generateSync(count);var cipher=ctx.plugin.cipher,increment=ctx.plugin.increment,formatKey=ctx.plugin.formatKey,formatSeed=ctx.plugin.formatSeed,b=forge.util.createBuffer();ctx.key=null,generate()},ctx.generateSync=function(count){var cipher=ctx.plugin.cipher,increment=ctx.plugin.increment,formatKey=ctx.plugin.formatKey,formatSeed=ctx.plugin.formatSeed;ctx.key=null;for(var b=forge.util.createBuffer();b.length()<count;){ctx.generated>1048575&&(ctx.key=null),null===ctx.key&&_reseedSync();var bytes=cipher(ctx.key,ctx.seed);ctx.generated+=bytes.length,b.putBytes(bytes),ctx.key=formatKey(cipher(ctx.key,increment(ctx.seed))),ctx.seed=formatSeed(cipher(ctx.key,ctx.seed))}return b.getBytes(count)},_crypto?(ctx.seedFile=function(needed,callback){_crypto.randomBytes(needed,function(err,bytes){return err?callback(err):void callback(null,bytes.toString())})},ctx.seedFileSync=function(needed){return _crypto.randomBytes(needed).toString()}):(ctx.seedFile=function(needed,callback){try{callback(null,defaultSeedFile(needed))}catch(e){callback(e)}},ctx.seedFileSync=defaultSeedFile),ctx.collect=function(bytes){for(var count=bytes.length,i=0;i<count;++i)ctx.pools[ctx.pool].update(bytes.substr(i,1)),ctx.pool=31===ctx.pool?0:ctx.pool+1},ctx.collectInt=function(i,n){for(var bytes="",x=0;x<n;x+=8)bytes+=String.fromCharCode(i>>x&255);ctx.collect(bytes)},ctx.registerWorker=function(worker){if(worker===self)ctx.seedFile=function(needed,callback){function listener(e){var data=e.data;data.forge&&data.forge.prng&&(self.removeEventListener("message",listener),callback(data.forge.prng.err,data.forge.prng.bytes))}self.addEventListener("message",listener),self.postMessage({forge:{prng:{needed:needed}}})};else{var listener=function(e){var data=e.data;data.forge&&data.forge.prng&&ctx.seedFile(data.forge.prng.needed,function(err,bytes){worker.postMessage({forge:{prng:{err:err,bytes:bytes}}})})};worker.addEventListener("message",listener)}},ctx}}var name="prng";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/prng",["require","module","./md","./util"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){forge.random&&forge.random.getBytes||!function(jQuery){function spawnPrng(){var ctx=forge.prng.create(prng_aes);return ctx.getBytes=function(count,callback){return ctx.generate(count,callback)},ctx.getBytesSync=function(count){return ctx.generate(count)},ctx}var prng_aes={},_prng_aes_output=new Array(4),_prng_aes_buffer=forge.util.createBuffer();prng_aes.formatKey=function(key){var tmp=forge.util.createBuffer(key);return key=new Array(4),key[0]=tmp.getInt32(),key[1]=tmp.getInt32(),key[2]=tmp.getInt32(),key[3]=tmp.getInt32(),forge.aes._expandKey(key,!1)},prng_aes.formatSeed=function(seed){var tmp=forge.util.createBuffer(seed);return seed=new Array(4),seed[0]=tmp.getInt32(),seed[1]=tmp.getInt32(),seed[2]=tmp.getInt32(),seed[3]=tmp.getInt32(),seed},prng_aes.cipher=function(key,seed){return forge.aes._updateBlock(key,seed,_prng_aes_output,!1),_prng_aes_buffer.putInt32(_prng_aes_output[0]),_prng_aes_buffer.putInt32(_prng_aes_output[1]),_prng_aes_buffer.putInt32(_prng_aes_output[2]),_prng_aes_buffer.putInt32(_prng_aes_output[3]),_prng_aes_buffer.getBytes()},prng_aes.increment=function(seed){return++seed[3],seed},prng_aes.md=forge.md.sha256;var _ctx=spawnPrng(),_nodejs="undefined"!=typeof process&&process.versions&&process.versions.node,getRandomValues=null;if("undefined"!=typeof window){var _crypto=window.crypto||window.msCrypto;_crypto&&_crypto.getRandomValues&&(getRandomValues=function(arr){return _crypto.getRandomValues(arr)})}if(forge.disableNativeCode||!_nodejs&&!getRandomValues){if("undefined"==typeof window||void 0===window.document,_ctx.collectInt(+new Date,32),"undefined"!=typeof navigator){var _navBytes="";for(var key in navigator)try{"string"==typeof navigator[key]&&(_navBytes+=navigator[key])}catch(e){}_ctx.collect(_navBytes),_navBytes=null}jQuery&&(jQuery().mousemove(function(e){_ctx.collectInt(e.clientX,16),_ctx.collectInt(e.clientY,16)}),jQuery().keypress(function(e){_ctx.collectInt(e.charCode,8)}))}if(forge.random)for(var key in _ctx)forge.random[key]=_ctx[key];else forge.random=_ctx;forge.random.createInstance=spawnPrng}("undefined"!=typeof jQuery?jQuery:null)}var name="random";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/random",["require","module","./aes","./md","./prng","./util"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){var piTable=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],s=[1,2,3,5],rol=function(word,bits){return word<<bits&65535|(65535&word)>>16-bits},ror=function(word,bits){return(65535&word)>>bits|word<<16-bits&65535};forge.rc2=forge.rc2||{},forge.rc2.expandKey=function(key,effKeyBits){"string"==typeof key&&(key=forge.util.createBuffer(key)),effKeyBits=effKeyBits||128;var i,L=key,T=key.length(),T1=effKeyBits,T8=Math.ceil(T1/8),TM=255>>(7&T1);for(i=T;i<128;i++)L.putByte(piTable[L.at(i-1)+L.at(i-T)&255]);for(L.setAt(128-T8,piTable[L.at(128-T8)&TM]),i=127-T8;i>=0;i--)L.setAt(i,piTable[L.at(i+1)^L.at(i+T8)]);return L};var createCipher=function(key,bits,encrypt){var mixRound,mashRound,i,j,_finish=!1,_input=null,_output=null,_iv=null,K=[];for(key=forge.rc2.expandKey(key,bits),i=0;i<64;i++)K.push(key.getInt16Le());encrypt?(mixRound=function(R){for(i=0;i<4;i++)R[i]+=K[j]+(R[(i+3)%4]&R[(i+2)%4])+(~R[(i+3)%4]&R[(i+1)%4]),R[i]=rol(R[i],s[i]),j++},mashRound=function(R){for(i=0;i<4;i++)R[i]+=K[63&R[(i+3)%4]]}):(mixRound=function(R){for(i=3;i>=0;i--)R[i]=ror(R[i],s[i]),R[i]-=K[j]+(R[(i+3)%4]&R[(i+2)%4])+(~R[(i+3)%4]&R[(i+1)%4]),j--},mashRound=function(R){for(i=3;i>=0;i--)R[i]-=K[63&R[(i+3)%4]]});var runPlan=function(plan){var R=[];for(i=0;i<4;i++){var val=_input.getInt16Le();null!==_iv&&(encrypt?val^=_iv.getInt16Le():_iv.putInt16Le(val)),R.push(65535&val)}j=encrypt?0:63;for(var ptr=0;ptr<plan.length;ptr++)for(var ctr=0;ctr<plan[ptr][0];ctr++)plan[ptr][1](R);for(i=0;i<4;i++)null!==_iv&&(encrypt?_iv.putInt16Le(R[i]):R[i]^=_iv.getInt16Le()),_output.putInt16Le(R[i])},cipher=null;return cipher={start:function(iv,output){iv&&"string"==typeof iv&&(iv=forge.util.createBuffer(iv)),_finish=!1,_input=forge.util.createBuffer(),_output=output||new forge.util.createBuffer,_iv=iv,cipher.output=_output},update:function(input){for(_finish||_input.putBuffer(input);_input.length()>=8;)runPlan([[5,mixRound],[1,mashRound],[6,mixRound],[1,mashRound],[5,mixRound]])},finish:function(pad){var rval=!0;if(encrypt)if(pad)rval=pad(8,_input,!encrypt);else{var padding=8===_input.length()?8:8-_input.length();_input.fillWithByte(padding,padding)}if(rval&&(_finish=!0,cipher.update()),!encrypt&&(rval=0===_input.length()))if(pad)rval=pad(8,_output,!encrypt);else{var len=_output.length(),count=_output.at(len-1);count>len?rval=!1:_output.truncate(count)}return rval}}};forge.rc2.startEncrypting=function(key,iv,output){var cipher=forge.rc2.createEncryptionCipher(key,128);return cipher.start(iv,output),cipher},forge.rc2.createEncryptionCipher=function(key,bits){return createCipher(key,bits,!0)},forge.rc2.startDecrypting=function(key,iv,output){var cipher=forge.rc2.createDecryptionCipher(key,128);return cipher.start(iv,output),cipher},forge.rc2.createDecryptionCipher=function(key,bits){return createCipher(key,bits,!1)}}var name="rc2";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/rc2",["require","module","./util"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){function BigInteger(a,b,c){this.data=[],null!=a&&("number"==typeof a?this.fromNumber(a,b,c):null==b&&"string"!=typeof a?this.fromString(a,256):this.fromString(a,b))}function nbi(){return new BigInteger(null)}function am1(i,x,w,j,c,n){for(;--n>=0;){var v=x*this.data[i++]+w.data[j]+c;c=Math.floor(v/67108864),w.data[j++]=67108863&v}return c}function am2(i,x,w,j,c,n){for(var xl=32767&x,xh=x>>15;--n>=0;){var l=32767&this.data[i],h=this.data[i++]>>15,m=xh*l+h*xl;l=xl*l+((32767&m)<<15)+w.data[j]+(1073741823&c),c=(l>>>30)+(m>>>15)+xh*h+(c>>>30),w.data[j++]=1073741823&l}return c}function am3(i,x,w,j,c,n){for(var xl=16383&x,xh=x>>14;--n>=0;){var l=16383&this.data[i],h=this.data[i++]>>14,m=xh*l+h*xl;l=xl*l+((16383&m)<<14)+w.data[j]+c,c=(l>>28)+(m>>14)+xh*h,w.data[j++]=268435455&l}return c}function int2char(n){return BI_RM.charAt(n)}function intAt(s,i){var c=BI_RC[s.charCodeAt(i)];return null==c?-1:c}function bnpCopyTo(r){for(var i=this.t-1;i>=0;--i)r.data[i]=this.data[i];r.t=this.t,r.s=this.s}function bnpFromInt(x){this.t=1,this.s=x<0?-1:0,x>0?this.data[0]=x:x<-1?this.data[0]=x+this.DV:this.t=0}function nbv(i){var r=nbi();return r.fromInt(i),r}function bnpFromString(s,b){var k;if(16==b)k=4;else if(8==b)k=3;else if(256==b)k=8;else if(2==b)k=1;else if(32==b)k=5;else{if(4!=b)return void this.fromRadix(s,b);k=2}this.t=0,this.s=0;for(var i=s.length,mi=!1,sh=0;--i>=0;){var x=8==k?255&s[i]:intAt(s,i);x<0?"-"==s.charAt(i)&&(mi=!0):(mi=!1,0==sh?this.data[this.t++]=x:sh+k>this.DB?(this.data[this.t-1]|=(x&(1<<this.DB-sh)-1)<<sh,this.data[this.t++]=x>>this.DB-sh):this.data[this.t-1]|=x<<sh,sh+=k,sh>=this.DB&&(sh-=this.DB))}8==k&&0!=(128&s[0])&&(this.s=-1,sh>0&&(this.data[this.t-1]|=(1<<this.DB-sh)-1<<sh)),this.clamp(),mi&&BigInteger.ZERO.subTo(this,this)}function bnpClamp(){for(var c=this.s&this.DM;this.t>0&&this.data[this.t-1]==c;)--this.t}function bnToString(b){if(this.s<0)return"-"+this.negate().toString(b);var k;if(16==b)k=4;else if(8==b)k=3;else if(2==b)k=1;else if(32==b)k=5;else{if(4!=b)return this.toRadix(b);k=2}var d,km=(1<<k)-1,m=!1,r="",i=this.t,p=this.DB-i*this.DB%k;if(i-- >0)for(p<this.DB&&(d=this.data[i]>>p)>0&&(m=!0,r=int2char(d));i>=0;)p<k?(d=(this.data[i]&(1<<p)-1)<<k-p,d|=this.data[--i]>>(p+=this.DB-k)):(d=this.data[i]>>(p-=k)&km,p<=0&&(p+=this.DB,--i)),d>0&&(m=!0),m&&(r+=int2char(d));return m?r:"0"}function bnNegate(){var r=nbi();return BigInteger.ZERO.subTo(this,r),r}function bnAbs(){return this.s<0?this.negate():this}function bnCompareTo(a){var r=this.s-a.s;if(0!=r)return r;var i=this.t;if(r=i-a.t,0!=r)return this.s<0?-r:r;for(;--i>=0;)if(0!=(r=this.data[i]-a.data[i]))return r;return 0}function nbits(x){var t,r=1;return 0!=(t=x>>>16)&&(x=t,r+=16),0!=(t=x>>8)&&(x=t,r+=8),0!=(t=x>>4)&&(x=t,r+=4),0!=(t=x>>2)&&(x=t,r+=2),0!=(t=x>>1)&&(x=t,r+=1),r}function bnBitLength(){return this.t<=0?0:this.DB*(this.t-1)+nbits(this.data[this.t-1]^this.s&this.DM)}function bnpDLShiftTo(n,r){var i;for(i=this.t-1;i>=0;--i)r.data[i+n]=this.data[i];for(i=n-1;i>=0;--i)r.data[i]=0;r.t=this.t+n,r.s=this.s}function bnpDRShiftTo(n,r){for(var i=n;i<this.t;++i)r.data[i-n]=this.data[i];r.t=Math.max(this.t-n,0),r.s=this.s}function bnpLShiftTo(n,r){var i,bs=n%this.DB,cbs=this.DB-bs,bm=(1<<cbs)-1,ds=Math.floor(n/this.DB),c=this.s<<bs&this.DM;for(i=this.t-1;i>=0;--i)r.data[i+ds+1]=this.data[i]>>cbs|c,c=(this.data[i]&bm)<<bs;for(i=ds-1;i>=0;--i)r.data[i]=0;r.data[ds]=c,r.t=this.t+ds+1,r.s=this.s,r.clamp()}function bnpRShiftTo(n,r){r.s=this.s;var ds=Math.floor(n/this.DB);if(ds>=this.t)return void(r.t=0);var bs=n%this.DB,cbs=this.DB-bs,bm=(1<<bs)-1;r.data[0]=this.data[ds]>>bs;for(var i=ds+1;i<this.t;++i)r.data[i-ds-1]|=(this.data[i]&bm)<<cbs,r.data[i-ds]=this.data[i]>>bs;bs>0&&(r.data[this.t-ds-1]|=(this.s&bm)<<cbs),r.t=this.t-ds,r.clamp()}function bnpSubTo(a,r){for(var i=0,c=0,m=Math.min(a.t,this.t);i<m;)c+=this.data[i]-a.data[i],r.data[i++]=c&this.DM,c>>=this.DB;if(a.t<this.t){for(c-=a.s;i<this.t;)c+=this.data[i],r.data[i++]=c&this.DM,c>>=this.DB;c+=this.s}else{for(c+=this.s;i<a.t;)c-=a.data[i],r.data[i++]=c&this.DM,c>>=this.DB;c-=a.s}r.s=c<0?-1:0,c<-1?r.data[i++]=this.DV+c:c>0&&(r.data[i++]=c),r.t=i,r.clamp()}function bnpMultiplyTo(a,r){var x=this.abs(),y=a.abs(),i=x.t;for(r.t=i+y.t;--i>=0;)r.data[i]=0;for(i=0;i<y.t;++i)r.data[i+x.t]=x.am(0,y.data[i],r,i,0,x.t);r.s=0,r.clamp(),this.s!=a.s&&BigInteger.ZERO.subTo(r,r)}function bnpSquareTo(r){for(var x=this.abs(),i=r.t=2*x.t;--i>=0;)r.data[i]=0;for(i=0;i<x.t-1;++i){var c=x.am(i,x.data[i],r,2*i,0,1);(r.data[i+x.t]+=x.am(i+1,2*x.data[i],r,2*i+1,c,x.t-i-1))>=x.DV&&(r.data[i+x.t]-=x.DV,r.data[i+x.t+1]=1)}r.t>0&&(r.data[r.t-1]+=x.am(i,x.data[i],r,2*i,0,1)),r.s=0,r.clamp()}function bnpDivRemTo(m,q,r){var pm=m.abs();if(!(pm.t<=0)){var pt=this.abs();if(pt.t<pm.t)return null!=q&&q.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=nbi());var y=nbi(),ts=this.s,ms=m.s,nsh=this.DB-nbits(pm.data[pm.t-1]);nsh>0?(pm.lShiftTo(nsh,y),pt.lShiftTo(nsh,r)):(pm.copyTo(y),pt.copyTo(r));var ys=y.t,y0=y.data[ys-1];if(0!=y0){var yt=y0*(1<<this.F1)+(ys>1?y.data[ys-2]>>this.F2:0),d1=this.FV/yt,d2=(1<<this.F1)/yt,e=1<<this.F2,i=r.t,j=i-ys,t=null==q?nbi():q;for(y.dlShiftTo(j,t),r.compareTo(t)>=0&&(r.data[r.t++]=1,r.subTo(t,r)),BigInteger.ONE.dlShiftTo(ys,t),t.subTo(y,y);y.t<ys;)y.data[y.t++]=0;for(;--j>=0;){var qd=r.data[--i]==y0?this.DM:Math.floor(r.data[i]*d1+(r.data[i-1]+e)*d2);if((r.data[i]+=y.am(0,qd,r,j,0,ys))<qd)for(y.dlShiftTo(j,t),r.subTo(t,r);r.data[i]<--qd;)r.subTo(t,r)}null!=q&&(r.drShiftTo(ys,q),ts!=ms&&BigInteger.ZERO.subTo(q,q)),r.t=ys,r.clamp(),nsh>0&&r.rShiftTo(nsh,r),ts<0&&BigInteger.ZERO.subTo(r,r)}}}function bnMod(a){var r=nbi();return this.abs().divRemTo(a,null,r),this.s<0&&r.compareTo(BigInteger.ZERO)>0&&a.subTo(r,r),r}function Classic(m){this.m=m}function cConvert(x){return x.s<0||x.compareTo(this.m)>=0?x.mod(this.m):x}function cRevert(x){return x}function cReduce(x){x.divRemTo(this.m,null,x)}function cMulTo(x,y,r){x.multiplyTo(y,r),this.reduce(r)}function cSqrTo(x,r){x.squareTo(r),this.reduce(r)}function bnpInvDigit(){if(this.t<1)return 0;var x=this.data[0];if(0==(1&x))return 0;var y=3&x;return y=y*(2-(15&x)*y)&15,y=y*(2-(255&x)*y)&255,y=y*(2-((65535&x)*y&65535))&65535,y=y*(2-x*y%this.DV)%this.DV,y>0?this.DV-y:-y}function Montgomery(m){this.m=m,this.mp=m.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<m.DB-15)-1,this.mt2=2*m.t}function montConvert(x){var r=nbi();return x.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),x.s<0&&r.compareTo(BigInteger.ZERO)>0&&this.m.subTo(r,r),r}function montRevert(x){var r=nbi();return x.copyTo(r),this.reduce(r),r}function montReduce(x){for(;x.t<=this.mt2;)x.data[x.t++]=0;for(var i=0;i<this.m.t;++i){var j=32767&x.data[i],u0=j*this.mpl+((j*this.mph+(x.data[i]>>15)*this.mpl&this.um)<<15)&x.DM;for(j=i+this.m.t,x.data[j]+=this.m.am(0,u0,x,i,0,this.m.t);x.data[j]>=x.DV;)x.data[j]-=x.DV,x.data[++j]++}x.clamp(),x.drShiftTo(this.m.t,x),x.compareTo(this.m)>=0&&x.subTo(this.m,x)}function montSqrTo(x,r){x.squareTo(r),this.reduce(r)}function montMulTo(x,y,r){x.multiplyTo(y,r),this.reduce(r)}function bnpIsEven(){return 0==(this.t>0?1&this.data[0]:this.s)}function bnpExp(e,z){if(e>4294967295||e<1)return BigInteger.ONE;var r=nbi(),r2=nbi(),g=z.convert(this),i=nbits(e)-1;for(g.copyTo(r);--i>=0;)if(z.sqrTo(r,r2),(e&1<<i)>0)z.mulTo(r2,g,r);else{var t=r;r=r2,r2=t}return z.revert(r)}function bnModPowInt(e,m){var z;return z=e<256||m.isEven()?new Classic(m):new Montgomery(m),this.exp(e,z)}function bnClone(){var r=nbi();return this.copyTo(r),r}function bnIntValue(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function bnByteValue(){return 0==this.t?this.s:this.data[0]<<24>>24}function bnShortValue(){return 0==this.t?this.s:this.data[0]<<16>>16}function bnpChunkSize(r){return Math.floor(Math.LN2*this.DB/Math.log(r))}function bnSigNum(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1}function bnpToRadix(b){if(null==b&&(b=10),0==this.signum()||b<2||b>36)return"0";var cs=this.chunkSize(b),a=Math.pow(b,cs),d=nbv(a),y=nbi(),z=nbi(),r="";for(this.divRemTo(d,y,z);y.signum()>0;)r=(a+z.intValue()).toString(b).substr(1)+r,y.divRemTo(d,y,z);return z.intValue().toString(b)+r}function bnpFromRadix(s,b){this.fromInt(0),null==b&&(b=10);for(var cs=this.chunkSize(b),d=Math.pow(b,cs),mi=!1,j=0,w=0,i=0;i<s.length;++i){var x=intAt(s,i);x<0?"-"==s.charAt(i)&&0==this.signum()&&(mi=!0):(w=b*w+x,++j>=cs&&(this.dMultiply(d),this.dAddOffset(w,0),j=0,w=0))}j>0&&(this.dMultiply(Math.pow(b,j)),this.dAddOffset(w,0)),mi&&BigInteger.ZERO.subTo(this,this)}function bnpFromNumber(a,b,c){if("number"==typeof b)if(a<2)this.fromInt(1);else for(this.fromNumber(a,c),this.testBit(a-1)||this.bitwiseTo(BigInteger.ONE.shiftLeft(a-1),op_or,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(b);)this.dAddOffset(2,0),this.bitLength()>a&&this.subTo(BigInteger.ONE.shiftLeft(a-1),this);else{var x=new Array,t=7&a;x.length=(a>>3)+1,b.nextBytes(x),t>0?x[0]&=(1<<t)-1:x[0]=0,this.fromString(x,256)}}function bnToByteArray(){var i=this.t,r=new Array;r[0]=this.s;var d,p=this.DB-i*this.DB%8,k=0;if(i-- >0)for(p<this.DB&&(d=this.data[i]>>p)!=(this.s&this.DM)>>p&&(r[k++]=d|this.s<<this.DB-p);i>=0;)p<8?(d=(this.data[i]&(1<<p)-1)<<8-p,d|=this.data[--i]>>(p+=this.DB-8)):(d=this.data[i]>>(p-=8)&255,p<=0&&(p+=this.DB,--i)),0!=(128&d)&&(d|=-256),0==k&&(128&this.s)!=(128&d)&&++k,(k>0||d!=this.s)&&(r[k++]=d);return r}function bnEquals(a){return 0==this.compareTo(a)}function bnMin(a){return this.compareTo(a)<0?this:a}function bnMax(a){return this.compareTo(a)>0?this:a}function bnpBitwiseTo(a,op,r){var i,f,m=Math.min(a.t,this.t);for(i=0;i<m;++i)r.data[i]=op(this.data[i],a.data[i]);if(a.t<this.t){for(f=a.s&this.DM,i=m;i<this.t;++i)r.data[i]=op(this.data[i],f);r.t=this.t}else{for(f=this.s&this.DM,i=m;i<a.t;++i)r.data[i]=op(f,a.data[i]);r.t=a.t}r.s=op(this.s,a.s),r.clamp()}function op_and(x,y){return x&y}function bnAnd(a){var r=nbi();return this.bitwiseTo(a,op_and,r),r}function op_or(x,y){return x|y}function bnOr(a){var r=nbi();return this.bitwiseTo(a,op_or,r),r}function op_xor(x,y){return x^y}function bnXor(a){var r=nbi();return this.bitwiseTo(a,op_xor,r),r}function op_andnot(x,y){return x&~y}function bnAndNot(a){var r=nbi();return this.bitwiseTo(a,op_andnot,r),r}function bnNot(){for(var r=nbi(),i=0;i<this.t;++i)r.data[i]=this.DM&~this.data[i];return r.t=this.t,r.s=~this.s,r}function bnShiftLeft(n){var r=nbi();return n<0?this.rShiftTo(-n,r):this.lShiftTo(n,r),r}function bnShiftRight(n){var r=nbi();return n<0?this.lShiftTo(-n,r):this.rShiftTo(n,r),r}function lbit(x){if(0==x)return-1;var r=0;return 0==(65535&x)&&(x>>=16,r+=16),0==(255&x)&&(x>>=8,r+=8),0==(15&x)&&(x>>=4,r+=4),0==(3&x)&&(x>>=2,r+=2),0==(1&x)&&++r,r}function bnGetLowestSetBit(){for(var i=0;i<this.t;++i)if(0!=this.data[i])return i*this.DB+lbit(this.data[i]);return this.s<0?this.t*this.DB:-1}function cbit(x){for(var r=0;0!=x;)x&=x-1,++r;return r}function bnBitCount(){for(var r=0,x=this.s&this.DM,i=0;i<this.t;++i)r+=cbit(this.data[i]^x);return r}function bnTestBit(n){var j=Math.floor(n/this.DB);return j>=this.t?0!=this.s:0!=(this.data[j]&1<<n%this.DB)}function bnpChangeBit(n,op){var r=BigInteger.ONE.shiftLeft(n);return this.bitwiseTo(r,op,r),r}function bnSetBit(n){return this.changeBit(n,op_or)}function bnClearBit(n){return this.changeBit(n,op_andnot)}function bnFlipBit(n){return this.changeBit(n,op_xor)}function bnpAddTo(a,r){for(var i=0,c=0,m=Math.min(a.t,this.t);i<m;)c+=this.data[i]+a.data[i],r.data[i++]=c&this.DM,c>>=this.DB;if(a.t<this.t){for(c+=a.s;i<this.t;)c+=this.data[i],r.data[i++]=c&this.DM,c>>=this.DB;c+=this.s}else{for(c+=this.s;i<a.t;)c+=a.data[i],r.data[i++]=c&this.DM,c>>=this.DB;c+=a.s}r.s=c<0?-1:0,c>0?r.data[i++]=c:c<-1&&(r.data[i++]=this.DV+c),r.t=i,r.clamp()}function bnAdd(a){var r=nbi();return this.addTo(a,r),r}function bnSubtract(a){var r=nbi();return this.subTo(a,r),r}function bnMultiply(a){var r=nbi();return this.multiplyTo(a,r),r}function bnDivide(a){var r=nbi();return this.divRemTo(a,r,null),r}function bnRemainder(a){var r=nbi();return this.divRemTo(a,null,r),r}function bnDivideAndRemainder(a){var q=nbi(),r=nbi();return this.divRemTo(a,q,r),new Array(q,r)}function bnpDMultiply(n){this.data[this.t]=this.am(0,n-1,this,0,0,this.t),++this.t,this.clamp()}function bnpDAddOffset(n,w){if(0!=n){for(;this.t<=w;)this.data[this.t++]=0;for(this.data[w]+=n;this.data[w]>=this.DV;)this.data[w]-=this.DV,++w>=this.t&&(this.data[this.t++]=0),++this.data[w]}}function NullExp(){}function nNop(x){return x}function nMulTo(x,y,r){x.multiplyTo(y,r)}function nSqrTo(x,r){x.squareTo(r)}function bnPow(e){return this.exp(e,new NullExp)}function bnpMultiplyLowerTo(a,n,r){var i=Math.min(this.t+a.t,n);for(r.s=0,r.t=i;i>0;)r.data[--i]=0;var j;for(j=r.t-this.t;i<j;++i)r.data[i+this.t]=this.am(0,a.data[i],r,i,0,this.t);for(j=Math.min(a.t,n);i<j;++i)this.am(0,a.data[i],r,i,0,n-i);r.clamp()}function bnpMultiplyUpperTo(a,n,r){--n;var i=r.t=this.t+a.t-n;for(r.s=0;--i>=0;)r.data[i]=0;for(i=Math.max(n-this.t,0);i<a.t;++i)r.data[this.t+i-n]=this.am(n-i,a.data[i],r,0,0,this.t+i-n);r.clamp(),r.drShiftTo(1,r)}function Barrett(m){this.r2=nbi(),this.q3=nbi(),BigInteger.ONE.dlShiftTo(2*m.t,this.r2),this.mu=this.r2.divide(m),this.m=m}function barrettConvert(x){if(x.s<0||x.t>2*this.m.t)return x.mod(this.m);if(x.compareTo(this.m)<0)return x;var r=nbi();return x.copyTo(r),this.reduce(r),r}function barrettRevert(x){return x}function barrettReduce(x){for(x.drShiftTo(this.m.t-1,this.r2),x.t>this.m.t+1&&(x.t=this.m.t+1,x.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);x.compareTo(this.r2)<0;)x.dAddOffset(1,this.m.t+1);for(x.subTo(this.r2,x);x.compareTo(this.m)>=0;)x.subTo(this.m,x)}function barrettSqrTo(x,r){x.squareTo(r),this.reduce(r)}function barrettMulTo(x,y,r){x.multiplyTo(y,r),this.reduce(r)}function bnModPow(e,m){var k,z,i=e.bitLength(),r=nbv(1);if(i<=0)return r;k=i<18?1:i<48?3:i<144?4:i<768?5:6,z=i<8?new Classic(m):m.isEven()?new Barrett(m):new Montgomery(m);var g=new Array,n=3,k1=k-1,km=(1<<k)-1;if(g[1]=z.convert(this),k>1){var g2=nbi();for(z.sqrTo(g[1],g2);n<=km;)g[n]=nbi(),z.mulTo(g2,g[n-2],g[n]),n+=2}var w,t,j=e.t-1,is1=!0,r2=nbi();for(i=nbits(e.data[j])-1;j>=0;){for(i>=k1?w=e.data[j]>>i-k1&km:(w=(e.data[j]&(1<<i+1)-1)<<k1-i,j>0&&(w|=e.data[j-1]>>this.DB+i-k1)),n=k;0==(1&w);)w>>=1,--n;if((i-=n)<0&&(i+=this.DB,--j),is1)g[w].copyTo(r),is1=!1;else{for(;n>1;)z.sqrTo(r,r2),z.sqrTo(r2,r),n-=2;n>0?z.sqrTo(r,r2):(t=r,r=r2,r2=t),z.mulTo(r2,g[w],r)}for(;j>=0&&0==(e.data[j]&1<<i);)z.sqrTo(r,r2),t=r,r=r2,r2=t,--i<0&&(i=this.DB-1,--j)}return z.revert(r)}function bnGCD(a){var x=this.s<0?this.negate():this.clone(),y=a.s<0?a.negate():a.clone();if(x.compareTo(y)<0){var t=x;x=y,y=t}var i=x.getLowestSetBit(),g=y.getLowestSetBit();if(g<0)return x;for(i<g&&(g=i),g>0&&(x.rShiftTo(g,x),y.rShiftTo(g,y));x.signum()>0;)(i=x.getLowestSetBit())>0&&x.rShiftTo(i,x),(i=y.getLowestSetBit())>0&&y.rShiftTo(i,y),x.compareTo(y)>=0?(x.subTo(y,x),x.rShiftTo(1,x)):(y.subTo(x,y),y.rShiftTo(1,y));return g>0&&y.lShiftTo(g,y),y}function bnpModInt(n){if(n<=0)return 0;var d=this.DV%n,r=this.s<0?n-1:0;if(this.t>0)if(0==d)r=this.data[0]%n;else for(var i=this.t-1;i>=0;--i)r=(d*r+this.data[i])%n;return r}function bnModInverse(m){var ac=m.isEven();if(this.isEven()&&ac||0==m.signum())return BigInteger.ZERO;for(var u=m.clone(),v=this.clone(),a=nbv(1),b=nbv(0),c=nbv(0),d=nbv(1);0!=u.signum();){for(;u.isEven();)u.rShiftTo(1,u),ac?(a.isEven()&&b.isEven()||(a.addTo(this,a),b.subTo(m,b)),a.rShiftTo(1,a)):b.isEven()||b.subTo(m,b),
b.rShiftTo(1,b);for(;v.isEven();)v.rShiftTo(1,v),ac?(c.isEven()&&d.isEven()||(c.addTo(this,c),d.subTo(m,d)),c.rShiftTo(1,c)):d.isEven()||d.subTo(m,d),d.rShiftTo(1,d);u.compareTo(v)>=0?(u.subTo(v,u),ac&&a.subTo(c,a),b.subTo(d,b)):(v.subTo(u,v),ac&&c.subTo(a,c),d.subTo(b,d))}return 0!=v.compareTo(BigInteger.ONE)?BigInteger.ZERO:d.compareTo(m)>=0?d.subtract(m):d.signum()<0?(d.addTo(m,d),d.signum()<0?d.add(m):d):d}function bnIsProbablePrime(t){var i,x=this.abs();if(1==x.t&&x.data[0]<=lowprimes[lowprimes.length-1]){for(i=0;i<lowprimes.length;++i)if(x.data[0]==lowprimes[i])return!0;return!1}if(x.isEven())return!1;for(i=1;i<lowprimes.length;){for(var m=lowprimes[i],j=i+1;j<lowprimes.length&&m<lplim;)m*=lowprimes[j++];for(m=x.modInt(m);i<j;)if(m%lowprimes[i++]==0)return!1}return x.millerRabin(t)}function bnpMillerRabin(t){var n1=this.subtract(BigInteger.ONE),k=n1.getLowestSetBit();if(k<=0)return!1;for(var a,r=n1.shiftRight(k),prng=bnGetPrng(),i=0;i<t;++i){do a=new BigInteger(this.bitLength(),prng);while(a.compareTo(BigInteger.ONE)<=0||a.compareTo(n1)>=0);var y=a.modPow(r,this);if(0!=y.compareTo(BigInteger.ONE)&&0!=y.compareTo(n1)){for(var j=1;j++<k&&0!=y.compareTo(n1);)if(y=y.modPowInt(2,this),0==y.compareTo(BigInteger.ONE))return!1;if(0!=y.compareTo(n1))return!1}}return!0}function bnGetPrng(){return{nextBytes:function(x){for(var i=0;i<x.length;++i)x[i]=Math.floor(256*Math.random())}}}var dbits,canary=0xdeadbeefcafe,j_lm=15715070==(16777215&canary);"undefined"==typeof navigator?(BigInteger.prototype.am=am3,dbits=28):j_lm&&"Microsoft Internet Explorer"==navigator.appName?(BigInteger.prototype.am=am2,dbits=30):j_lm&&"Netscape"!=navigator.appName?(BigInteger.prototype.am=am1,dbits=26):(BigInteger.prototype.am=am3,dbits=28),BigInteger.prototype.DB=dbits,BigInteger.prototype.DM=(1<<dbits)-1,BigInteger.prototype.DV=1<<dbits;var BI_FP=52;BigInteger.prototype.FV=Math.pow(2,BI_FP),BigInteger.prototype.F1=BI_FP-dbits,BigInteger.prototype.F2=2*dbits-BI_FP;var rr,vv,BI_RM="0123456789abcdefghijklmnopqrstuvwxyz",BI_RC=new Array;for(rr="0".charCodeAt(0),vv=0;vv<=9;++vv)BI_RC[rr++]=vv;for(rr="a".charCodeAt(0),vv=10;vv<36;++vv)BI_RC[rr++]=vv;for(rr="A".charCodeAt(0),vv=10;vv<36;++vv)BI_RC[rr++]=vv;Classic.prototype.convert=cConvert,Classic.prototype.revert=cRevert,Classic.prototype.reduce=cReduce,Classic.prototype.mulTo=cMulTo,Classic.prototype.sqrTo=cSqrTo,Montgomery.prototype.convert=montConvert,Montgomery.prototype.revert=montRevert,Montgomery.prototype.reduce=montReduce,Montgomery.prototype.mulTo=montMulTo,Montgomery.prototype.sqrTo=montSqrTo,BigInteger.prototype.copyTo=bnpCopyTo,BigInteger.prototype.fromInt=bnpFromInt,BigInteger.prototype.fromString=bnpFromString,BigInteger.prototype.clamp=bnpClamp,BigInteger.prototype.dlShiftTo=bnpDLShiftTo,BigInteger.prototype.drShiftTo=bnpDRShiftTo,BigInteger.prototype.lShiftTo=bnpLShiftTo,BigInteger.prototype.rShiftTo=bnpRShiftTo,BigInteger.prototype.subTo=bnpSubTo,BigInteger.prototype.multiplyTo=bnpMultiplyTo,BigInteger.prototype.squareTo=bnpSquareTo,BigInteger.prototype.divRemTo=bnpDivRemTo,BigInteger.prototype.invDigit=bnpInvDigit,BigInteger.prototype.isEven=bnpIsEven,BigInteger.prototype.exp=bnpExp,BigInteger.prototype.toString=bnToString,BigInteger.prototype.negate=bnNegate,BigInteger.prototype.abs=bnAbs,BigInteger.prototype.compareTo=bnCompareTo,BigInteger.prototype.bitLength=bnBitLength,BigInteger.prototype.mod=bnMod,BigInteger.prototype.modPowInt=bnModPowInt,BigInteger.ZERO=nbv(0),BigInteger.ONE=nbv(1),NullExp.prototype.convert=nNop,NullExp.prototype.revert=nNop,NullExp.prototype.mulTo=nMulTo,NullExp.prototype.sqrTo=nSqrTo,Barrett.prototype.convert=barrettConvert,Barrett.prototype.revert=barrettRevert,Barrett.prototype.reduce=barrettReduce,Barrett.prototype.mulTo=barrettMulTo,Barrett.prototype.sqrTo=barrettSqrTo;var lowprimes=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],lplim=(1<<26)/lowprimes[lowprimes.length-1];BigInteger.prototype.chunkSize=bnpChunkSize,BigInteger.prototype.toRadix=bnpToRadix,BigInteger.prototype.fromRadix=bnpFromRadix,BigInteger.prototype.fromNumber=bnpFromNumber,BigInteger.prototype.bitwiseTo=bnpBitwiseTo,BigInteger.prototype.changeBit=bnpChangeBit,BigInteger.prototype.addTo=bnpAddTo,BigInteger.prototype.dMultiply=bnpDMultiply,BigInteger.prototype.dAddOffset=bnpDAddOffset,BigInteger.prototype.multiplyLowerTo=bnpMultiplyLowerTo,BigInteger.prototype.multiplyUpperTo=bnpMultiplyUpperTo,BigInteger.prototype.modInt=bnpModInt,BigInteger.prototype.millerRabin=bnpMillerRabin,BigInteger.prototype.clone=bnClone,BigInteger.prototype.intValue=bnIntValue,BigInteger.prototype.byteValue=bnByteValue,BigInteger.prototype.shortValue=bnShortValue,BigInteger.prototype.signum=bnSigNum,BigInteger.prototype.toByteArray=bnToByteArray,BigInteger.prototype.equals=bnEquals,BigInteger.prototype.min=bnMin,BigInteger.prototype.max=bnMax,BigInteger.prototype.and=bnAnd,BigInteger.prototype.or=bnOr,BigInteger.prototype.xor=bnXor,BigInteger.prototype.andNot=bnAndNot,BigInteger.prototype.not=bnNot,BigInteger.prototype.shiftLeft=bnShiftLeft,BigInteger.prototype.shiftRight=bnShiftRight,BigInteger.prototype.getLowestSetBit=bnGetLowestSetBit,BigInteger.prototype.bitCount=bnBitCount,BigInteger.prototype.testBit=bnTestBit,BigInteger.prototype.setBit=bnSetBit,BigInteger.prototype.clearBit=bnClearBit,BigInteger.prototype.flipBit=bnFlipBit,BigInteger.prototype.add=bnAdd,BigInteger.prototype.subtract=bnSubtract,BigInteger.prototype.multiply=bnMultiply,BigInteger.prototype.divide=bnDivide,BigInteger.prototype.remainder=bnRemainder,BigInteger.prototype.divideAndRemainder=bnDivideAndRemainder,BigInteger.prototype.modPow=bnModPow,BigInteger.prototype.modInverse=bnModInverse,BigInteger.prototype.pow=bnPow,BigInteger.prototype.gcd=bnGCD,BigInteger.prototype.isProbablePrime=bnIsProbablePrime,forge.jsbn=forge.jsbn||{},forge.jsbn.BigInteger=BigInteger}var name="jsbn";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/jsbn",["require","module"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){function rsa_mgf1(seed,maskLength,hash){hash||(hash=forge.md.sha1.create());for(var t="",count=Math.ceil(maskLength/hash.digestLength),i=0;i<count;++i){var c=String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,255&i);hash.start(),hash.update(seed+c),t+=hash.digest().getBytes()}return t.substring(0,maskLength)}var pkcs1=forge.pkcs1=forge.pkcs1||{};pkcs1.encode_rsa_oaep=function(key,message,options){var label,seed,md,mgf1Md;"string"==typeof options?(label=options,seed=arguments[3]||void 0,md=arguments[4]||void 0):options&&(label=options.label||void 0,seed=options.seed||void 0,md=options.md||void 0,options.mgf1&&options.mgf1.md&&(mgf1Md=options.mgf1.md)),md?md.start():md=forge.md.sha1.create(),mgf1Md||(mgf1Md=md);var keyLength=Math.ceil(key.n.bitLength()/8),maxLength=keyLength-2*md.digestLength-2;if(message.length>maxLength){var error=new Error("RSAES-OAEP input message length is too long.");throw error.length=message.length,error.maxLength=maxLength,error}label||(label=""),md.update(label,"raw");for(var lHash=md.digest(),PS="",PS_length=maxLength-message.length,i=0;i<PS_length;i++)PS+="\0";var DB=lHash.getBytes()+PS+""+message;if(seed){if(seed.length!==md.digestLength){var error=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw error.seedLength=seed.length,error.digestLength=md.digestLength,error}}else seed=forge.random.getBytes(md.digestLength);var dbMask=rsa_mgf1(seed,keyLength-md.digestLength-1,mgf1Md),maskedDB=forge.util.xorBytes(DB,dbMask,DB.length),seedMask=rsa_mgf1(maskedDB,md.digestLength,mgf1Md),maskedSeed=forge.util.xorBytes(seed,seedMask,seed.length);return"\0"+maskedSeed+maskedDB},pkcs1.decode_rsa_oaep=function(key,em,options){var label,md,mgf1Md;"string"==typeof options?(label=options,md=arguments[3]||void 0):options&&(label=options.label||void 0,md=options.md||void 0,options.mgf1&&options.mgf1.md&&(mgf1Md=options.mgf1.md));var keyLength=Math.ceil(key.n.bitLength()/8);if(em.length!==keyLength){var error=new Error("RSAES-OAEP encoded message length is invalid.");throw error.length=em.length,error.expectedLength=keyLength,error}if(void 0===md?md=forge.md.sha1.create():md.start(),mgf1Md||(mgf1Md=md),keyLength<2*md.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");label||(label=""),md.update(label,"raw");for(var lHash=md.digest().getBytes(),y=em.charAt(0),maskedSeed=em.substring(1,md.digestLength+1),maskedDB=em.substring(1+md.digestLength),seedMask=rsa_mgf1(maskedDB,md.digestLength,mgf1Md),seed=forge.util.xorBytes(maskedSeed,seedMask,maskedSeed.length),dbMask=rsa_mgf1(seed,keyLength-md.digestLength-1,mgf1Md),db=forge.util.xorBytes(maskedDB,dbMask,maskedDB.length),lHashPrime=db.substring(0,md.digestLength),error="\0"!==y,i=0;i<md.digestLength;++i)error|=lHash.charAt(i)!==lHashPrime.charAt(i);for(var in_ps=1,index=md.digestLength,j=md.digestLength;j<db.length;j++){var code=db.charCodeAt(j),is_0=1&code^1,error_mask=in_ps?65534:0;error|=code&error_mask,in_ps&=is_0,index+=in_ps}if(error||1!==db.charCodeAt(index))throw new Error("Invalid RSAES-OAEP padding.");return db.substring(index+1)}}var name="pkcs1";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/pkcs1",["require","module","./util","./random","./sha1"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){function primeincFindPrime(bits,rng,options,callback){return"workers"in options?primeincFindPrimeWithWorkers(bits,rng,options,callback):primeincFindPrimeWithoutWorkers(bits,rng,options,callback)}function primeincFindPrimeWithoutWorkers(bits,rng,options,callback){var num=generateRandom(bits,rng),deltaIdx=0,mrTests=getMillerRabinTests(num.bitLength());"millerRabinTests"in options&&(mrTests=options.millerRabinTests);var maxBlockTime=10;"maxBlockTime"in options&&(maxBlockTime=options.maxBlockTime);var start=+new Date;do{if(num.bitLength()>bits&&(num=generateRandom(bits,rng)),num.isProbablePrime(mrTests))return callback(null,num);num.dAddOffset(GCD_30_DELTA[deltaIdx++%8],0)}while(maxBlockTime<0||+new Date-start<maxBlockTime);forge.util.setImmediate(function(){primeincFindPrimeWithoutWorkers(bits,rng,options,callback)})}function primeincFindPrimeWithWorkers(bits,rng,options,callback){function generate(){function workerMessage(e){if(!found){--running;var data=e.data;if(data.found){for(var i=0;i<workers.length;++i)workers[i].terminate();return found=!0,callback(null,new BigInteger(data.prime,16))}num.bitLength()>bits&&(num=generateRandom(bits,rng));var hex=num.toString(16);e.target.postMessage({hex:hex,workLoad:workLoad}),num.dAddOffset(range,0)}}numWorkers=Math.max(1,numWorkers);for(var workers=[],i=0;i<numWorkers;++i)workers[i]=new Worker(workerScript);for(var running=numWorkers,i=0;i<numWorkers;++i)workers[i].addEventListener("message",workerMessage);var found=!1}if("undefined"==typeof Worker)return primeincFindPrimeWithoutWorkers(bits,rng,options,callback);var num=generateRandom(bits,rng),numWorkers=options.workers,workLoad=options.workLoad||100,range=30*workLoad/8,workerScript=options.workerScript||"forge/prime.worker.js";return numWorkers===-1?forge.util.estimateCores(function(err,cores){err&&(cores=2),numWorkers=cores-1,generate()}):void generate()}function generateRandom(bits,rng){var num=new BigInteger(bits,rng),bits1=bits-1;return num.testBit(bits1)||num.bitwiseTo(BigInteger.ONE.shiftLeft(bits1),op_or,num),num.dAddOffset(31-num.mod(THIRTY).byteValue(),0),num}function getMillerRabinTests(bits){return bits<=100?27:bits<=150?18:bits<=200?15:bits<=250?12:bits<=300?9:bits<=350?8:bits<=400?7:bits<=500?6:bits<=600?5:bits<=800?4:bits<=1250?3:2}if(!forge.prime){var prime=forge.prime=forge.prime||{},BigInteger=forge.jsbn.BigInteger,GCD_30_DELTA=[6,4,2,4,2,4,6,2],THIRTY=new BigInteger(null);THIRTY.fromInt(30);var op_or=function(x,y){return x|y};prime.generateProbablePrime=function(bits,options,callback){"function"==typeof options&&(callback=options,options={}),options=options||{};var algorithm=options.algorithm||"PRIMEINC";"string"==typeof algorithm&&(algorithm={name:algorithm}),algorithm.options=algorithm.options||{};var prng=options.prng||forge.random,rng={nextBytes:function(x){for(var b=prng.getBytesSync(x.length),i=0;i<x.length;++i)x[i]=b.charCodeAt(i)}};if("PRIMEINC"===algorithm.name)return primeincFindPrime(bits,rng,algorithm.options,callback);throw new Error("Invalid prime generation algorithm: "+algorithm.name)}}}var name="prime";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/prime",["require","module","./util","./jsbn","./random"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){function _encodePkcs1_v1_5(m,key,bt){var eb=forge.util.createBuffer(),k=Math.ceil(key.n.bitLength()/8);if(m.length>k-11){var error=new Error("Message is too long for PKCS#1 v1.5 padding.");throw error.length=m.length,error.max=k-11,error}eb.putByte(0),eb.putByte(bt);var padByte,padNum=k-3-m.length;if(0===bt||1===bt){padByte=0===bt?0:255;for(var i=0;i<padNum;++i)eb.putByte(padByte)}else for(;padNum>0;){for(var numZeros=0,padBytes=forge.random.getBytes(padNum),i=0;i<padNum;++i)padByte=padBytes.charCodeAt(i),0===padByte?++numZeros:eb.putByte(padByte);padNum=numZeros}return eb.putByte(0),eb.putBytes(m),eb}function _decodePkcs1_v1_5(em,key,pub,ml){var k=Math.ceil(key.n.bitLength()/8),eb=forge.util.createBuffer(em),first=eb.getByte(),bt=eb.getByte();if(0!==first||pub&&0!==bt&&1!==bt||!pub&&2!=bt||pub&&0===bt&&"undefined"==typeof ml)throw new Error("Encryption block is invalid.");var padNum=0;if(0===bt){padNum=k-3-ml;for(var i=0;i<padNum;++i)if(0!==eb.getByte())throw new Error("Encryption block is invalid.")}else if(1===bt)for(padNum=0;eb.length()>1;){if(255!==eb.getByte()){--eb.read;break}++padNum}else if(2===bt)for(padNum=0;eb.length()>1;){if(0===eb.getByte()){--eb.read;break}++padNum}var zero=eb.getByte();if(0!==zero||padNum!==k-3-eb.length())throw new Error("Encryption block is invalid.");return eb.getBytes()}function _generateKeyPair(state,options,callback){function generate(){getPrime(state.pBits,function(err,num){return err?callback(err):(state.p=num,null!==state.q?finish(err,state.q):void getPrime(state.qBits,finish))})}function getPrime(bits,callback){forge.prime.generateProbablePrime(bits,opts,callback)}function finish(err,num){if(err)return callback(err);if(state.q=num,state.p.compareTo(state.q)<0){var tmp=state.p;state.p=state.q,state.q=tmp}if(0!==state.p.subtract(BigInteger.ONE).gcd(state.e).compareTo(BigInteger.ONE))return state.p=null,void generate();if(0!==state.q.subtract(BigInteger.ONE).gcd(state.e).compareTo(BigInteger.ONE))return state.q=null,void getPrime(state.qBits,finish);if(state.p1=state.p.subtract(BigInteger.ONE),state.q1=state.q.subtract(BigInteger.ONE),state.phi=state.p1.multiply(state.q1),0!==state.phi.gcd(state.e).compareTo(BigInteger.ONE))return state.p=state.q=null,void generate();if(state.n=state.p.multiply(state.q),state.n.bitLength()!==state.bits)return state.q=null,void getPrime(state.qBits,finish);var d=state.e.modInverse(state.phi);state.keys={privateKey:pki.rsa.setPrivateKey(state.n,state.e,d,state.p,state.q,d.mod(state.p1),d.mod(state.q1),state.q.modInverse(state.p)),publicKey:pki.rsa.setPublicKey(state.n,state.e)},callback(null,state.keys)}"function"==typeof options&&(callback=options,options={}),options=options||{};var opts={algorithm:{name:options.algorithm||"PRIMEINC",options:{workers:options.workers||2,workLoad:options.workLoad||100,workerScript:options.workerScript}}};"prng"in options&&(opts.prng=options.prng),generate()}function _bnToBytes(b){var hex=b.toString(16);return hex[0]>="8"&&(hex="00"+hex),forge.util.hexToBytes(hex)}function _getMillerRabinTests(bits){return bits<=100?27:bits<=150?18:bits<=200?15:bits<=250?12:bits<=300?9:bits<=350?8:bits<=400?7:bits<=500?6:bits<=600?5:bits<=800?4:bits<=1250?3:2}if("undefined"==typeof BigInteger)var BigInteger=forge.jsbn.BigInteger;var asn1=forge.asn1;forge.pki=forge.pki||{},forge.pki.rsa=forge.rsa=forge.rsa||{};var pki=forge.pki,GCD_30_DELTA=[6,4,2,4,2,4,6,2],privateKeyValidator={name:"PrivateKeyInfo",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},rsaPrivateKeyValidator={name:"RSAPrivateKey",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},rsaPublicKeyValidator={name:"RSAPublicKey",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},publicKeyValidator=forge.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},emsaPkcs1v15encode=function(md){var oid;if(!(md.algorithm in pki.oids)){var error=new Error("Unknown message digest algorithm.");throw error.algorithm=md.algorithm,error}oid=pki.oids[md.algorithm];var oidBytes=asn1.oidToDer(oid).getBytes(),digestInfo=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[]),digestAlgorithm=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[]);digestAlgorithm.value.push(asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,oidBytes)),digestAlgorithm.value.push(asn1.create(asn1.Class.UNIVERSAL,asn1.Type.NULL,!1,""));var digest=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,md.digest().getBytes());return digestInfo.value.push(digestAlgorithm),digestInfo.value.push(digest),asn1.toDer(digestInfo).getBytes()},_modPow=function(x,key,pub){if(pub)return x.modPow(key.e,key.n);if(!key.p||!key.q)return x.modPow(key.d,key.n);key.dP||(key.dP=key.d.mod(key.p.subtract(BigInteger.ONE))),key.dQ||(key.dQ=key.d.mod(key.q.subtract(BigInteger.ONE))),key.qInv||(key.qInv=key.q.modInverse(key.p));var r;do r=new BigInteger(forge.util.bytesToHex(forge.random.getBytes(key.n.bitLength()/8)),16);while(r.compareTo(key.n)>=0||!r.gcd(key.n).equals(BigInteger.ONE));x=x.multiply(r.modPow(key.e,key.n)).mod(key.n);for(var xp=x.mod(key.p).modPow(key.dP,key.p),xq=x.mod(key.q).modPow(key.dQ,key.q);xp.compareTo(xq)<0;)xp=xp.add(key.p);var y=xp.subtract(xq).multiply(key.qInv).mod(key.p).multiply(key.q).add(xq);return y=y.multiply(r.modInverse(key.n)).mod(key.n)};pki.rsa.encrypt=function(m,key,bt){var eb,pub=bt,k=Math.ceil(key.n.bitLength()/8);bt!==!1&&bt!==!0?(pub=2===bt,eb=_encodePkcs1_v1_5(m,key,bt)):(eb=forge.util.createBuffer(),eb.putBytes(m));for(var x=new BigInteger(eb.toHex(),16),y=_modPow(x,key,pub),yhex=y.toString(16),ed=forge.util.createBuffer(),zeros=k-Math.ceil(yhex.length/2);zeros>0;)ed.putByte(0),--zeros;return ed.putBytes(forge.util.hexToBytes(yhex)),ed.getBytes()},pki.rsa.decrypt=function(ed,key,pub,ml){var k=Math.ceil(key.n.bitLength()/8);if(ed.length!==k){var error=new Error("Encrypted message length is invalid.");throw error.length=ed.length,error.expected=k,error}var y=new BigInteger(forge.util.createBuffer(ed).toHex(),16);if(y.compareTo(key.n)>=0)throw new Error("Encrypted message is invalid.");for(var x=_modPow(y,key,pub),xhex=x.toString(16),eb=forge.util.createBuffer(),zeros=k-Math.ceil(xhex.length/2);zeros>0;)eb.putByte(0),--zeros;return eb.putBytes(forge.util.hexToBytes(xhex)),ml!==!1?_decodePkcs1_v1_5(eb.getBytes(),key,pub):eb.getBytes()},pki.rsa.createKeyPairGenerationState=function(bits,e,options){"string"==typeof bits&&(bits=parseInt(bits,10)),bits=bits||2048,options=options||{};var rval,prng=options.prng||forge.random,rng={nextBytes:function(x){for(var b=prng.getBytesSync(x.length),i=0;i<x.length;++i)x[i]=b.charCodeAt(i)}},algorithm=options.algorithm||"PRIMEINC";if("PRIMEINC"!==algorithm)throw new Error("Invalid key generation algorithm: "+algorithm);return rval={algorithm:algorithm,state:0,bits:bits,rng:rng,eInt:e||65537,e:new BigInteger(null),p:null,q:null,qBits:bits>>1,pBits:bits-(bits>>1),pqState:0,num:null,keys:null},rval.e.fromInt(rval.eInt),rval},pki.rsa.stepKeyPairGenerationState=function(state,n){"algorithm"in state||(state.algorithm="PRIMEINC");var THIRTY=new BigInteger(null);THIRTY.fromInt(30);for(var t2,deltaIdx=0,op_or=function(x,y){return x|y},t1=+new Date,total=0;null===state.keys&&(n<=0||total<n);){if(0===state.state){var bits=null===state.p?state.pBits:state.qBits,bits1=bits-1;0===state.pqState?(state.num=new BigInteger(bits,state.rng),state.num.testBit(bits1)||state.num.bitwiseTo(BigInteger.ONE.shiftLeft(bits1),op_or,state.num),state.num.dAddOffset(31-state.num.mod(THIRTY).byteValue(),0),deltaIdx=0,++state.pqState):1===state.pqState?state.num.bitLength()>bits?state.pqState=0:state.num.isProbablePrime(_getMillerRabinTests(state.num.bitLength()))?++state.pqState:state.num.dAddOffset(GCD_30_DELTA[deltaIdx++%8],0):2===state.pqState?state.pqState=0===state.num.subtract(BigInteger.ONE).gcd(state.e).compareTo(BigInteger.ONE)?3:0:3===state.pqState&&(state.pqState=0,null===state.p?state.p=state.num:state.q=state.num,null!==state.p&&null!==state.q&&++state.state,state.num=null)}else if(1===state.state)state.p.compareTo(state.q)<0&&(state.num=state.p,state.p=state.q,state.q=state.num),++state.state;else if(2===state.state)state.p1=state.p.subtract(BigInteger.ONE),state.q1=state.q.subtract(BigInteger.ONE),state.phi=state.p1.multiply(state.q1),++state.state;else if(3===state.state)0===state.phi.gcd(state.e).compareTo(BigInteger.ONE)?++state.state:(state.p=null,state.q=null,state.state=0);else if(4===state.state)state.n=state.p.multiply(state.q),state.n.bitLength()===state.bits?++state.state:(state.q=null,state.state=0);else if(5===state.state){var d=state.e.modInverse(state.phi);state.keys={privateKey:pki.rsa.setPrivateKey(state.n,state.e,d,state.p,state.q,d.mod(state.p1),d.mod(state.q1),state.q.modInverse(state.p)),publicKey:pki.rsa.setPublicKey(state.n,state.e)}}t2=+new Date,total+=t2-t1,t1=t2}return null!==state.keys},pki.rsa.generateKeyPair=function(bits,e,options,callback){1===arguments.length?"object"==typeof bits?(options=bits,bits=void 0):"function"==typeof bits&&(callback=bits,bits=void 0):2===arguments.length?"number"==typeof bits?"function"==typeof e?(callback=e,e=void 0):"number"!=typeof e&&(options=e,e=void 0):(options=bits,callback=e,bits=void 0,e=void 0):3===arguments.length&&("number"==typeof e?"function"==typeof options&&(callback=options,options=void 0):(callback=options,options=e,e=void 0)),options=options||{},void 0===bits&&(bits=options.bits||2048),void 0===e&&(e=options.e||65537);var state=pki.rsa.createKeyPairGenerationState(bits,e,options);return callback?void _generateKeyPair(state,options,callback):(pki.rsa.stepKeyPairGenerationState(state,0),state.keys)},pki.setRsaPublicKey=pki.rsa.setPublicKey=function(n,e){var key={n:n,e:e};return key.encrypt=function(data,scheme,schemeOptions){if("string"==typeof scheme?scheme=scheme.toUpperCase():void 0===scheme&&(scheme="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===scheme)scheme={encode:function(m,key,pub){return _encodePkcs1_v1_5(m,key,2).getBytes()}};else if("RSA-OAEP"===scheme||"RSAES-OAEP"===scheme)scheme={encode:function(m,key){return forge.pkcs1.encode_rsa_oaep(key,m,schemeOptions)}};else if(["RAW","NONE","NULL",null].indexOf(scheme)!==-1)scheme={encode:function(e){return e}};else if("string"==typeof scheme)throw new Error('Unsupported encryption scheme: "'+scheme+'".');var e=scheme.encode(data,key,!0);return pki.rsa.encrypt(e,key,!0)},key.verify=function(digest,signature,scheme){"string"==typeof scheme?scheme=scheme.toUpperCase():void 0===scheme&&(scheme="RSASSA-PKCS1-V1_5"),"RSASSA-PKCS1-V1_5"===scheme?scheme={verify:function(digest,d){d=_decodePkcs1_v1_5(d,key,!0);var obj=asn1.fromDer(d);return digest===obj.value[1].value}}:"NONE"!==scheme&&"NULL"!==scheme&&null!==scheme||(scheme={verify:function(digest,d){return d=_decodePkcs1_v1_5(d,key,!0),digest===d}});var d=pki.rsa.decrypt(signature,key,!0,!1);return scheme.verify(digest,d,key.n.bitLength())},key},pki.setRsaPrivateKey=pki.rsa.setPrivateKey=function(n,e,d,p,q,dP,dQ,qInv){var key={n:n,e:e,d:d,p:p,q:q,dP:dP,dQ:dQ,qInv:qInv};return key.decrypt=function(data,scheme,schemeOptions){"string"==typeof scheme?scheme=scheme.toUpperCase():void 0===scheme&&(scheme="RSAES-PKCS1-V1_5");var d=pki.rsa.decrypt(data,key,!1,!1);if("RSAES-PKCS1-V1_5"===scheme)scheme={decode:_decodePkcs1_v1_5};else if("RSA-OAEP"===scheme||"RSAES-OAEP"===scheme)scheme={decode:function(d,key){return forge.pkcs1.decode_rsa_oaep(key,d,schemeOptions)}};else{if(["RAW","NONE","NULL",null].indexOf(scheme)===-1)throw new Error('Unsupported encryption scheme: "'+scheme+'".');scheme={decode:function(d){return d}}}return scheme.decode(d,key,!1)},key.sign=function(md,scheme){var bt=!1;"string"==typeof scheme&&(scheme=scheme.toUpperCase()),void 0===scheme||"RSASSA-PKCS1-V1_5"===scheme?(scheme={encode:emsaPkcs1v15encode},bt=1):"NONE"!==scheme&&"NULL"!==scheme&&null!==scheme||(scheme={encode:function(){return md}},bt=1);var d=scheme.encode(md,key.n.bitLength());return pki.rsa.encrypt(d,key,bt)},key},pki.wrapRsaPrivateKey=function(rsaKey){return asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,asn1.integerToDer(0).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(pki.oids.rsaEncryption).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.NULL,!1,"")]),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,asn1.toDer(rsaKey).getBytes())])},pki.privateKeyFromAsn1=function(obj){var capture={},errors=[];if(asn1.validate(obj,privateKeyValidator,capture,errors)&&(obj=asn1.fromDer(forge.util.createBuffer(capture.privateKey))),capture={},errors=[],!asn1.validate(obj,rsaPrivateKeyValidator,capture,errors)){var error=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw error.errors=errors,error}var n,e,d,p,q,dP,dQ,qInv;return n=forge.util.createBuffer(capture.privateKeyModulus).toHex(),e=forge.util.createBuffer(capture.privateKeyPublicExponent).toHex(),d=forge.util.createBuffer(capture.privateKeyPrivateExponent).toHex(),p=forge.util.createBuffer(capture.privateKeyPrime1).toHex(),q=forge.util.createBuffer(capture.privateKeyPrime2).toHex(),dP=forge.util.createBuffer(capture.privateKeyExponent1).toHex(),dQ=forge.util.createBuffer(capture.privateKeyExponent2).toHex(),qInv=forge.util.createBuffer(capture.privateKeyCoefficient).toHex(),pki.setRsaPrivateKey(new BigInteger(n,16),new BigInteger(e,16),new BigInteger(d,16),new BigInteger(p,16),new BigInteger(q,16),new BigInteger(dP,16),new BigInteger(dQ,16),new BigInteger(qInv,16))},pki.privateKeyToAsn1=pki.privateKeyToRSAPrivateKey=function(key){return asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,asn1.integerToDer(0).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,_bnToBytes(key.n)),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,_bnToBytes(key.e)),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,_bnToBytes(key.d)),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,_bnToBytes(key.p)),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,_bnToBytes(key.q)),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,_bnToBytes(key.dP)),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,_bnToBytes(key.dQ)),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,_bnToBytes(key.qInv))]);
},pki.publicKeyFromAsn1=function(obj){var capture={},errors=[];if(asn1.validate(obj,publicKeyValidator,capture,errors)){var oid=asn1.derToOid(capture.publicKeyOid);if(oid!==pki.oids.rsaEncryption){var error=new Error("Cannot read public key. Unknown OID.");throw error.oid=oid,error}obj=capture.rsaPublicKey}if(errors=[],!asn1.validate(obj,rsaPublicKeyValidator,capture,errors)){var error=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw error.errors=errors,error}var n=forge.util.createBuffer(capture.publicKeyModulus).toHex(),e=forge.util.createBuffer(capture.publicKeyExponent).toHex();return pki.setRsaPublicKey(new BigInteger(n,16),new BigInteger(e,16))},pki.publicKeyToAsn1=pki.publicKeyToSubjectPublicKeyInfo=function(key){return asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(pki.oids.rsaEncryption).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.NULL,!1,"")]),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.BITSTRING,!1,[pki.publicKeyToRSAPublicKey(key)])])},pki.publicKeyToRSAPublicKey=function(key){return asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,_bnToBytes(key.n)),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,_bnToBytes(key.e))])}}var name="rsa";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/rsa",["require","module","./asn1","./jsbn","./oids","./pkcs1","./prime","./random","./util"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){function hash(md,bytes){return md.start().update(bytes).digest().getBytes()}if("undefined"==typeof BigInteger)var BigInteger=forge.jsbn.BigInteger;var asn1=forge.asn1,pki=forge.pki=forge.pki||{};pki.pbe=forge.pbe=forge.pbe||{};var oids=pki.oids,encryptedPrivateKeyValidator={name:"EncryptedPrivateKeyInfo",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},PBES2AlgorithmsValidator={name:"PBES2Algorithms",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.INTEGER,onstructed:!0,capture:"kdfIterationCount"}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},pkcs12PbeParamsValidator={name:"pkcs-12PbeParams",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.INTEGER,constructed:!1,capture:"iterations"}]};pki.encryptPrivateKeyInfo=function(obj,password,options){options=options||{},options.saltSize=options.saltSize||8,options.count=options.count||2048,options.algorithm=options.algorithm||"aes128";var dkLen,encryptionAlgorithm,encryptedData,salt=forge.random.getBytesSync(options.saltSize),count=options.count,countBytes=asn1.integerToDer(count);if(0===options.algorithm.indexOf("aes")||"des"===options.algorithm){var ivLen,encOid,cipherFn;switch(options.algorithm){case"aes128":dkLen=16,ivLen=16,encOid=oids["aes128-CBC"],cipherFn=forge.aes.createEncryptionCipher;break;case"aes192":dkLen=24,ivLen=16,encOid=oids["aes192-CBC"],cipherFn=forge.aes.createEncryptionCipher;break;case"aes256":dkLen=32,ivLen=16,encOid=oids["aes256-CBC"],cipherFn=forge.aes.createEncryptionCipher;break;case"des":dkLen=8,ivLen=8,encOid=oids.desCBC,cipherFn=forge.des.createEncryptionCipher;break;default:var error=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw error.algorithm=options.algorithm,error}var dk=forge.pkcs5.pbkdf2(password,salt,count,dkLen),iv=forge.random.getBytesSync(ivLen),cipher=cipherFn(dk);cipher.start(iv),cipher.update(asn1.toDer(obj)),cipher.finish(),encryptedData=cipher.output.getBytes(),encryptionAlgorithm=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(oids.pkcs5PBES2).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(oids.pkcs5PBKDF2).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,salt),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,countBytes.getBytes())])]),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(encOid).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,iv)])])])}else{if("3des"!==options.algorithm){var error=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw error.algorithm=options.algorithm,error}dkLen=24;var saltBytes=new forge.util.ByteBuffer(salt),dk=pki.pbe.generatePkcs12Key(password,saltBytes,1,count,dkLen),iv=pki.pbe.generatePkcs12Key(password,saltBytes,2,count,dkLen),cipher=forge.des.createEncryptionCipher(dk);cipher.start(iv),cipher.update(asn1.toDer(obj)),cipher.finish(),encryptedData=cipher.output.getBytes(),encryptionAlgorithm=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,salt),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,countBytes.getBytes())])])}var rval=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[encryptionAlgorithm,asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,encryptedData)]);return rval},pki.decryptPrivateKeyInfo=function(obj,password){var rval=null,capture={},errors=[];if(!asn1.validate(obj,encryptedPrivateKeyValidator,capture,errors)){var error=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw error.errors=errors,error}var oid=asn1.derToOid(capture.encryptionOid),cipher=pki.pbe.getCipher(oid,capture.encryptionParams,password),encrypted=forge.util.createBuffer(capture.encryptedData);return cipher.update(encrypted),cipher.finish()&&(rval=asn1.fromDer(cipher.output)),rval},pki.encryptedPrivateKeyToPem=function(epki,maxline){var msg={type:"ENCRYPTED PRIVATE KEY",body:asn1.toDer(epki).getBytes()};return forge.pem.encode(msg,{maxline:maxline})},pki.encryptedPrivateKeyFromPem=function(pem){var msg=forge.pem.decode(pem)[0];if("ENCRYPTED PRIVATE KEY"!==msg.type){var error=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw error.headerType=msg.type,error}if(msg.procType&&"ENCRYPTED"===msg.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return asn1.fromDer(msg.body)},pki.encryptRsaPrivateKey=function(rsaKey,password,options){if(options=options||{},!options.legacy){var rval=pki.wrapRsaPrivateKey(pki.privateKeyToAsn1(rsaKey));return rval=pki.encryptPrivateKeyInfo(rval,password,options),pki.encryptedPrivateKeyToPem(rval)}var algorithm,iv,dkLen,cipherFn;switch(options.algorithm){case"aes128":algorithm="AES-128-CBC",dkLen=16,iv=forge.random.getBytesSync(16),cipherFn=forge.aes.createEncryptionCipher;break;case"aes192":algorithm="AES-192-CBC",dkLen=24,iv=forge.random.getBytesSync(16),cipherFn=forge.aes.createEncryptionCipher;break;case"aes256":algorithm="AES-256-CBC",dkLen=32,iv=forge.random.getBytesSync(16),cipherFn=forge.aes.createEncryptionCipher;break;case"3des":algorithm="DES-EDE3-CBC",dkLen=24,iv=forge.random.getBytesSync(8),cipherFn=forge.des.createEncryptionCipher;break;case"des":algorithm="DES-CBC",dkLen=8,iv=forge.random.getBytesSync(8),cipherFn=forge.des.createEncryptionCipher;break;default:var error=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+options.algorithm+'".');throw error.algorithm=options.algorithm,error}var dk=forge.pbe.opensslDeriveBytes(password,iv.substr(0,8),dkLen),cipher=cipherFn(dk);cipher.start(iv),cipher.update(asn1.toDer(pki.privateKeyToAsn1(rsaKey))),cipher.finish();var msg={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:algorithm,parameters:forge.util.bytesToHex(iv).toUpperCase()},body:cipher.output.getBytes()};return forge.pem.encode(msg)},pki.decryptRsaPrivateKey=function(pem,password){var rval=null,msg=forge.pem.decode(pem)[0];if("ENCRYPTED PRIVATE KEY"!==msg.type&&"PRIVATE KEY"!==msg.type&&"RSA PRIVATE KEY"!==msg.type){var error=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw error.headerType=error,error}if(msg.procType&&"ENCRYPTED"===msg.procType.type){var dkLen,cipherFn;switch(msg.dekInfo.algorithm){case"DES-CBC":dkLen=8,cipherFn=forge.des.createDecryptionCipher;break;case"DES-EDE3-CBC":dkLen=24,cipherFn=forge.des.createDecryptionCipher;break;case"AES-128-CBC":dkLen=16,cipherFn=forge.aes.createDecryptionCipher;break;case"AES-192-CBC":dkLen=24,cipherFn=forge.aes.createDecryptionCipher;break;case"AES-256-CBC":dkLen=32,cipherFn=forge.aes.createDecryptionCipher;break;case"RC2-40-CBC":dkLen=5,cipherFn=function(key){return forge.rc2.createDecryptionCipher(key,40)};break;case"RC2-64-CBC":dkLen=8,cipherFn=function(key){return forge.rc2.createDecryptionCipher(key,64)};break;case"RC2-128-CBC":dkLen=16,cipherFn=function(key){return forge.rc2.createDecryptionCipher(key,128)};break;default:var error=new Error('Could not decrypt private key; unsupported encryption algorithm "'+msg.dekInfo.algorithm+'".');throw error.algorithm=msg.dekInfo.algorithm,error}var iv=forge.util.hexToBytes(msg.dekInfo.parameters),dk=forge.pbe.opensslDeriveBytes(password,iv.substr(0,8),dkLen),cipher=cipherFn(dk);if(cipher.start(iv),cipher.update(forge.util.createBuffer(msg.body)),!cipher.finish())return rval;rval=cipher.output.getBytes()}else rval=msg.body;return rval="ENCRYPTED PRIVATE KEY"===msg.type?pki.decryptPrivateKeyInfo(asn1.fromDer(rval),password):asn1.fromDer(rval),null!==rval&&(rval=pki.privateKeyFromAsn1(rval)),rval},pki.pbe.generatePkcs12Key=function(password,salt,id,iter,n,md){var j,l;"undefined"!=typeof md&&null!==md||(md=forge.md.sha1.create());var u=md.digestLength,v=md.blockLength,result=new forge.util.ByteBuffer,passBuf=new forge.util.ByteBuffer;if(null!==password&&void 0!==password){for(l=0;l<password.length;l++)passBuf.putInt16(password.charCodeAt(l));passBuf.putInt16(0)}var p=passBuf.length(),s=salt.length(),D=new forge.util.ByteBuffer;D.fillWithByte(id,v);var Slen=v*Math.ceil(s/v),S=new forge.util.ByteBuffer;for(l=0;l<Slen;l++)S.putByte(salt.at(l%s));var Plen=v*Math.ceil(p/v),P=new forge.util.ByteBuffer;for(l=0;l<Plen;l++)P.putByte(passBuf.at(l%p));var I=S;I.putBuffer(P);for(var c=Math.ceil(n/u),i=1;i<=c;i++){var buf=new forge.util.ByteBuffer;buf.putBytes(D.bytes()),buf.putBytes(I.bytes());for(var round=0;round<iter;round++)md.start(),md.update(buf.getBytes()),buf=md.digest();var B=new forge.util.ByteBuffer;for(l=0;l<v;l++)B.putByte(buf.at(l%u));var k=Math.ceil(s/v)+Math.ceil(p/v),Inew=new forge.util.ByteBuffer;for(j=0;j<k;j++){var chunk=new forge.util.ByteBuffer(I.getBytes(v)),x=511;for(l=B.length()-1;l>=0;l--)x>>=8,x+=B.at(l)+chunk.at(l),chunk.setAt(l,255&x);Inew.putBuffer(chunk)}I=Inew,result.putBuffer(buf)}return result.truncate(result.length()-n),result},pki.pbe.getCipher=function(oid,params,password){switch(oid){case pki.oids.pkcs5PBES2:return pki.pbe.getCipherForPBES2(oid,params,password);case pki.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case pki.oids["pbewithSHAAnd40BitRC2-CBC"]:return pki.pbe.getCipherForPKCS12PBE(oid,params,password);default:var error=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw error.oid=oid,error.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],error}},pki.pbe.getCipherForPBES2=function(oid,params,password){var capture={},errors=[];if(!asn1.validate(params,PBES2AlgorithmsValidator,capture,errors)){var error=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw error.errors=errors,error}if(oid=asn1.derToOid(capture.kdfOid),oid!==pki.oids.pkcs5PBKDF2){var error=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw error.oid=oid,error.supportedOids=["pkcs5PBKDF2"],error}if(oid=asn1.derToOid(capture.encOid),oid!==pki.oids["aes128-CBC"]&&oid!==pki.oids["aes192-CBC"]&&oid!==pki.oids["aes256-CBC"]&&oid!==pki.oids["des-EDE3-CBC"]&&oid!==pki.oids.desCBC){var error=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw error.oid=oid,error.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],error}var salt=capture.kdfSalt,count=forge.util.createBuffer(capture.kdfIterationCount);count=count.getInt(count.length()<<3);var dkLen,cipherFn;switch(pki.oids[oid]){case"aes128-CBC":dkLen=16,cipherFn=forge.aes.createDecryptionCipher;break;case"aes192-CBC":dkLen=24,cipherFn=forge.aes.createDecryptionCipher;break;case"aes256-CBC":dkLen=32,cipherFn=forge.aes.createDecryptionCipher;break;case"des-EDE3-CBC":dkLen=24,cipherFn=forge.des.createDecryptionCipher;break;case"desCBC":dkLen=8,cipherFn=forge.des.createDecryptionCipher}var dk=forge.pkcs5.pbkdf2(password,salt,count,dkLen),iv=capture.encIv,cipher=cipherFn(dk);return cipher.start(iv),cipher},pki.pbe.getCipherForPKCS12PBE=function(oid,params,password){var capture={},errors=[];if(!asn1.validate(params,pkcs12PbeParamsValidator,capture,errors)){var error=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw error.errors=errors,error}var salt=forge.util.createBuffer(capture.salt),count=forge.util.createBuffer(capture.iterations);count=count.getInt(count.length()<<3);var dkLen,dIvLen,cipherFn;switch(oid){case pki.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:dkLen=24,dIvLen=8,cipherFn=forge.des.startDecrypting;break;case pki.oids["pbewithSHAAnd40BitRC2-CBC"]:dkLen=5,dIvLen=8,cipherFn=function(key,iv){var cipher=forge.rc2.createDecryptionCipher(key,40);return cipher.start(iv,null),cipher};break;default:var error=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw error.oid=oid,error}var key=pki.pbe.generatePkcs12Key(password,salt,1,count,dkLen),iv=pki.pbe.generatePkcs12Key(password,salt,2,count,dIvLen);return cipherFn(key,iv)},pki.pbe.opensslDeriveBytes=function(password,salt,dkLen,md){"undefined"!=typeof md&&null!==md||(md=forge.md.md5.create()),null===salt&&(salt="");for(var digests=[hash(md,password+salt)],length=16,i=1;length<dkLen;++i,length+=16)digests.push(hash(md,digests[i-1]+password+salt));return digests.join("").substr(0,dkLen)}}var name="pbe";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/pbe",["require","module","./aes","./asn1","./des","./md","./oids","./pem","./pbkdf2","./random","./rc2","./rsa","./util"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){var asn1=forge.asn1,p7v=forge.pkcs7asn1=forge.pkcs7asn1||{};forge.pkcs7=forge.pkcs7||{},forge.pkcs7.asn1=p7v;var contentInfoValidator={name:"ContentInfo",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:asn1.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};p7v.contentInfoValidator=contentInfoValidator;var encryptedContentInfoValidator={name:"EncryptedContentInfo",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:asn1.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:asn1.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};p7v.envelopedDataValidator={name:"EnvelopedData",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(encryptedContentInfoValidator)},p7v.encryptedDataValidator={name:"EncryptedData",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.INTEGER,constructed:!1,capture:"version"}].concat(encryptedContentInfoValidator)};var signerValidator={name:"SignerInfo",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:asn1.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:asn1.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:asn1.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};p7v.signedDataValidator={name:"SignedData",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},contentInfoValidator,{name:"SignedData.Certificates",tagClass:asn1.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:asn1.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SET,capture:"signerInfos",optional:!0,value:[signerValidator]}]},p7v.recipientInfoValidator={name:"RecipientInfo",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:asn1.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}}var name="pkcs7asn1";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/pkcs7asn1",["require","module","./asn1","./util"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){forge.mgf=forge.mgf||{};var mgf1=forge.mgf.mgf1=forge.mgf1=forge.mgf1||{};mgf1.create=function(md){var mgf={generate:function(seed,maskLen){for(var t=new forge.util.ByteBuffer,len=Math.ceil(maskLen/md.digestLength),i=0;i<len;i++){var c=new forge.util.ByteBuffer;c.putInt32(i),md.start(),md.update(seed+c.getBytes()),t.putBuffer(md.digest())}return t.truncate(t.length()-maskLen),t.getBytes()}};return mgf}}var name="mgf1";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/mgf1",["require","module","./util"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){forge.mgf=forge.mgf||{},forge.mgf.mgf1=forge.mgf1}var name="mgf";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/mgf",["require","module","./mgf1"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){var pss=forge.pss=forge.pss||{};pss.create=function(options){3===arguments.length&&(options={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var hash=options.md,mgf=options.mgf,hLen=hash.digestLength,salt_=options.salt||null;"string"==typeof salt_&&(salt_=forge.util.createBuffer(salt_));var sLen;if("saltLength"in options)sLen=options.saltLength;else{if(null===salt_)throw new Error("Salt length not specified or specific salt not given.");sLen=salt_.length()}if(null!==salt_&&salt_.length()!==sLen)throw new Error("Given salt length does not match length of given salt.");var prng=options.prng||forge.random,pssobj={};return pssobj.encode=function(md,modBits){var i,emBits=modBits-1,emLen=Math.ceil(emBits/8),mHash=md.digest().getBytes();if(emLen<hLen+sLen+2)throw new Error("Message is too long to encrypt.");var salt;salt=null===salt_?prng.getBytesSync(sLen):salt_.bytes();var m_=new forge.util.ByteBuffer;m_.fillWithByte(0,8),m_.putBytes(mHash),m_.putBytes(salt),hash.start(),hash.update(m_.getBytes());var h=hash.digest().getBytes(),ps=new forge.util.ByteBuffer;ps.fillWithByte(0,emLen-sLen-hLen-2),ps.putByte(1),ps.putBytes(salt);var db=ps.getBytes(),maskLen=emLen-hLen-1,dbMask=mgf.generate(h,maskLen),maskedDB="";for(i=0;i<maskLen;i++)maskedDB+=String.fromCharCode(db.charCodeAt(i)^dbMask.charCodeAt(i));var mask=65280>>8*emLen-emBits&255;return maskedDB=String.fromCharCode(maskedDB.charCodeAt(0)&~mask)+maskedDB.substr(1),maskedDB+h+String.fromCharCode(188)},pssobj.verify=function(mHash,em,modBits){var i,emBits=modBits-1,emLen=Math.ceil(emBits/8);if(em=em.substr(-emLen),emLen<hLen+sLen+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==em.charCodeAt(emLen-1))throw new Error("Encoded message does not end in 0xBC.");var maskLen=emLen-hLen-1,maskedDB=em.substr(0,maskLen),h=em.substr(maskLen,hLen),mask=65280>>8*emLen-emBits&255;if(0!==(maskedDB.charCodeAt(0)&mask))throw new Error("Bits beyond keysize not zero as expected.");var dbMask=mgf.generate(h,maskLen),db="";for(i=0;i<maskLen;i++)db+=String.fromCharCode(maskedDB.charCodeAt(i)^dbMask.charCodeAt(i));db=String.fromCharCode(db.charCodeAt(0)&~mask)+db.substr(1);var checkLen=emLen-hLen-sLen-2;for(i=0;i<checkLen;i++)if(0!==db.charCodeAt(i))throw new Error("Leftmost octets not zero as expected");if(1!==db.charCodeAt(checkLen))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var salt=db.substr(-sLen),m_=new forge.util.ByteBuffer;m_.fillWithByte(0,8),m_.putBytes(mHash),m_.putBytes(salt),hash.start(),hash.update(m_.getBytes());var h_=hash.digest().getBytes();return h===h_},pssobj}}var name="pss";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/pss",["require","module","./random","./util"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){function _getAttribute(obj,options){"string"==typeof options&&(options={shortName:options});for(var attr,rval=null,i=0;null===rval&&i<obj.attributes.length;++i)attr=obj.attributes[i],options.type&&options.type===attr.type?rval=attr:options.name&&options.name===attr.name?rval=attr:options.shortName&&options.shortName===attr.shortName&&(rval=attr);return rval}function _dnToAsn1(obj){for(var attr,set,rval=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[]),attrs=obj.attributes,i=0;i<attrs.length;++i){attr=attrs[i];var value=attr.value,valueTagClass=asn1.Type.PRINTABLESTRING;"valueTagClass"in attr&&(valueTagClass=attr.valueTagClass,valueTagClass===asn1.Type.UTF8&&(value=forge.util.encodeUtf8(value))),set=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SET,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(attr.type).getBytes()),asn1.create(asn1.Class.UNIVERSAL,valueTagClass,!1,value)])]),rval.value.push(set)}return rval}function _fillMissingFields(attrs){for(var attr,i=0;i<attrs.length;++i){if(attr=attrs[i],"undefined"==typeof attr.name&&(attr.type&&attr.type in pki.oids?attr.name=pki.oids[attr.type]:attr.shortName&&attr.shortName in _shortNames&&(attr.name=pki.oids[_shortNames[attr.shortName]])),"undefined"==typeof attr.type){
if(!(attr.name&&attr.name in pki.oids)){var error=new Error("Attribute type not specified.");throw error.attribute=attr,error}attr.type=pki.oids[attr.name]}if("undefined"==typeof attr.shortName&&attr.name&&attr.name in _shortNames&&(attr.shortName=_shortNames[attr.name]),attr.type===oids.extensionRequest&&(attr.valueConstructed=!0,attr.valueTagClass=asn1.Type.SEQUENCE,!attr.value&&attr.extensions)){attr.value=[];for(var ei=0;ei<attr.extensions.length;++ei)attr.value.push(pki.certificateExtensionToAsn1(_fillMissingExtensionFields(attr.extensions[ei])))}if("undefined"==typeof attr.value){var error=new Error("Attribute value not specified.");throw error.attribute=attr,error}}}function _fillMissingExtensionFields(e,options){if(options=options||{},"undefined"==typeof e.name&&e.id&&e.id in pki.oids&&(e.name=pki.oids[e.id]),"undefined"==typeof e.id){if(!(e.name&&e.name in pki.oids)){var error=new Error("Extension ID not specified.");throw error.extension=e,error}e.id=pki.oids[e.name]}if("undefined"!=typeof e.value)return e;if("keyUsage"===e.name){var unused=0,b2=0,b3=0;e.digitalSignature&&(b2|=128,unused=7),e.nonRepudiation&&(b2|=64,unused=6),e.keyEncipherment&&(b2|=32,unused=5),e.dataEncipherment&&(b2|=16,unused=4),e.keyAgreement&&(b2|=8,unused=3),e.keyCertSign&&(b2|=4,unused=2),e.cRLSign&&(b2|=2,unused=1),e.encipherOnly&&(b2|=1,unused=0),e.decipherOnly&&(b3|=128,unused=7);var value=String.fromCharCode(unused);0!==b3?value+=String.fromCharCode(b2)+String.fromCharCode(b3):0!==b2&&(value+=String.fromCharCode(b2)),e.value=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.BITSTRING,!1,value)}else if("basicConstraints"===e.name)e.value=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(asn1.create(asn1.Class.UNIVERSAL,asn1.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,asn1.integerToDer(e.pathLenConstraint).getBytes()));else if("extKeyUsage"===e.name){e.value=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[]);var seq=e.value.value;for(var key in e)e[key]===!0&&(key in oids?seq.push(asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(oids[key]).getBytes())):key.indexOf(".")!==-1&&seq.push(asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(key).getBytes())))}else if("nsCertType"===e.name){var unused=0,b2=0;e.client&&(b2|=128,unused=7),e.server&&(b2|=64,unused=6),e.email&&(b2|=32,unused=5),e.objsign&&(b2|=16,unused=4),e.reserved&&(b2|=8,unused=3),e.sslCA&&(b2|=4,unused=2),e.emailCA&&(b2|=2,unused=1),e.objCA&&(b2|=1,unused=0);var value=String.fromCharCode(unused);0!==b2&&(value+=String.fromCharCode(b2)),e.value=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.BITSTRING,!1,value)}else if("subjectAltName"===e.name||"issuerAltName"===e.name){e.value=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[]);for(var altName,n=0;n<e.altNames.length;++n){altName=e.altNames[n];var value=altName.value;if(7===altName.type&&altName.ip){if(value=forge.util.bytesFromIP(altName.ip),null===value){var error=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw error.extension=e,error}}else 8===altName.type&&(value=altName.oid?asn1.oidToDer(asn1.oidToDer(altName.oid)):asn1.oidToDer(value));e.value.value.push(asn1.create(asn1.Class.CONTEXT_SPECIFIC,altName.type,!1,value))}}else if("subjectKeyIdentifier"===e.name&&options.cert){var ski=options.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=ski.toHex(),e.value=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,ski.getBytes())}if("undefined"==typeof e.value){var error=new Error("Extension value not specified.");throw error.extension=e,error}return e}function _signatureParametersToAsn1(oid,params){switch(oid){case oids["RSASSA-PSS"]:var parts=[];return void 0!==params.hash.algorithmOid&&parts.push(asn1.create(asn1.Class.CONTEXT_SPECIFIC,0,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(params.hash.algorithmOid).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.NULL,!1,"")])])),void 0!==params.mgf.algorithmOid&&parts.push(asn1.create(asn1.Class.CONTEXT_SPECIFIC,1,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(params.mgf.algorithmOid).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(params.mgf.hash.algorithmOid).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.NULL,!1,"")])])])),void 0!==params.saltLength&&parts.push(asn1.create(asn1.Class.CONTEXT_SPECIFIC,2,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,asn1.integerToDer(params.saltLength).getBytes())])),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,parts);default:return asn1.create(asn1.Class.UNIVERSAL,asn1.Type.NULL,!1,"")}}function _CRIAttributesToAsn1(csr){var rval=asn1.create(asn1.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===csr.attributes.length)return rval;for(var attrs=csr.attributes,i=0;i<attrs.length;++i){var attr=attrs[i],value=attr.value,valueTagClass=asn1.Type.UTF8;"valueTagClass"in attr&&(valueTagClass=attr.valueTagClass),valueTagClass===asn1.Type.UTF8&&(value=forge.util.encodeUtf8(value));var valueConstructed=!1;"valueConstructed"in attr&&(valueConstructed=attr.valueConstructed);var seq=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(attr.type).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SET,!0,[asn1.create(asn1.Class.UNIVERSAL,valueTagClass,valueConstructed,value)])]);rval.value.push(seq)}return rval}var asn1=forge.asn1,pki=forge.pki=forge.pki||{},oids=pki.oids,_shortNames={};_shortNames.CN=oids.commonName,_shortNames.commonName="CN",_shortNames.C=oids.countryName,_shortNames.countryName="C",_shortNames.L=oids.localityName,_shortNames.localityName="L",_shortNames.ST=oids.stateOrProvinceName,_shortNames.stateOrProvinceName="ST",_shortNames.O=oids.organizationName,_shortNames.organizationName="O",_shortNames.OU=oids.organizationalUnitName,_shortNames.organizationalUnitName="OU",_shortNames.E=oids.emailAddress,_shortNames.emailAddress="E";var publicKeyValidator=forge.pki.rsa.publicKeyValidator,x509CertificateValidator={name:"Certificate",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:asn1.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:asn1.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},publicKeyValidator,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:asn1.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.BITSTRING,constructed:!1,capture:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:asn1.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.BITSTRING,constructed:!1,capture:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:asn1.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:asn1.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.BITSTRING,constructed:!1,capture:"certSignature"}]},rsassaPssParameterValidator={name:"rsapss",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:asn1.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:asn1.Class.UNIVERSAL,type:asn1.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:asn1.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:asn1.Class.UNIVERSAL,type:asn1.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:asn1.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:asn1.Class.UNIVERSAL,type:asn1.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:asn1.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:asn1.Class.UNIVERSAL,type:asn1.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},certificationRequestInfoValidator={name:"CertificationRequestInfo",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},publicKeyValidator,{name:"CertificationRequestInfo.attributes",tagClass:asn1.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SET,constructed:!0}]}]}]},certificationRequestValidator={name:"CertificationRequest",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[certificationRequestInfoValidator,{name:"CertificationRequest.signatureAlgorithm",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:asn1.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.BITSTRING,constructed:!1,capture:"csrSignature"}]};pki.RDNAttributesAsArray=function(rdn,md){for(var set,attr,obj,rval=[],si=0;si<rdn.value.length;++si){set=rdn.value[si];for(var i=0;i<set.value.length;++i)obj={},attr=set.value[i],obj.type=asn1.derToOid(attr.value[0].value),obj.value=attr.value[1].value,obj.valueTagClass=attr.value[1].type,obj.type in oids&&(obj.name=oids[obj.type],obj.name in _shortNames&&(obj.shortName=_shortNames[obj.name])),md&&(md.update(obj.type),md.update(obj.value)),rval.push(obj)}return rval},pki.CRIAttributesAsArray=function(attributes){for(var rval=[],si=0;si<attributes.length;++si)for(var seq=attributes[si],type=asn1.derToOid(seq.value[0].value),values=seq.value[1].value,vi=0;vi<values.length;++vi){var obj={};if(obj.type=type,obj.value=values[vi].value,obj.valueTagClass=values[vi].type,obj.type in oids&&(obj.name=oids[obj.type],obj.name in _shortNames&&(obj.shortName=_shortNames[obj.name])),obj.type===oids.extensionRequest){obj.extensions=[];for(var ei=0;ei<obj.value.length;++ei)obj.extensions.push(pki.certificateExtensionFromAsn1(obj.value[ei]))}rval.push(obj)}return rval};var _readSignatureParameters=function(oid,obj,fillDefaults){var params={};if(oid!==oids["RSASSA-PSS"])return params;fillDefaults&&(params={hash:{algorithmOid:oids.sha1},mgf:{algorithmOid:oids.mgf1,hash:{algorithmOid:oids.sha1}},saltLength:20});var capture={},errors=[];if(!asn1.validate(obj,rsassaPssParameterValidator,capture,errors)){var error=new Error("Cannot read RSASSA-PSS parameter block.");throw error.errors=errors,error}return void 0!==capture.hashOid&&(params.hash=params.hash||{},params.hash.algorithmOid=asn1.derToOid(capture.hashOid)),void 0!==capture.maskGenOid&&(params.mgf=params.mgf||{},params.mgf.algorithmOid=asn1.derToOid(capture.maskGenOid),params.mgf.hash=params.mgf.hash||{},params.mgf.hash.algorithmOid=asn1.derToOid(capture.maskGenHashOid)),void 0!==capture.saltLength&&(params.saltLength=capture.saltLength.charCodeAt(0)),params};pki.certificateFromPem=function(pem,computeHash,strict){var msg=forge.pem.decode(pem)[0];if("CERTIFICATE"!==msg.type&&"X509 CERTIFICATE"!==msg.type&&"TRUSTED CERTIFICATE"!==msg.type){var error=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw error.headerType=msg.type,error}if(msg.procType&&"ENCRYPTED"===msg.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var obj=asn1.fromDer(msg.body,strict);return pki.certificateFromAsn1(obj,computeHash)},pki.certificateToPem=function(cert,maxline){var msg={type:"CERTIFICATE",body:asn1.toDer(pki.certificateToAsn1(cert)).getBytes()};return forge.pem.encode(msg,{maxline:maxline})},pki.publicKeyFromPem=function(pem){var msg=forge.pem.decode(pem)[0];if("PUBLIC KEY"!==msg.type&&"RSA PUBLIC KEY"!==msg.type){var error=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw error.headerType=msg.type,error}if(msg.procType&&"ENCRYPTED"===msg.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var obj=asn1.fromDer(msg.body);return pki.publicKeyFromAsn1(obj)},pki.publicKeyToPem=function(key,maxline){var msg={type:"PUBLIC KEY",body:asn1.toDer(pki.publicKeyToAsn1(key)).getBytes()};return forge.pem.encode(msg,{maxline:maxline})},pki.publicKeyToRSAPublicKeyPem=function(key,maxline){var msg={type:"RSA PUBLIC KEY",body:asn1.toDer(pki.publicKeyToRSAPublicKey(key)).getBytes()};return forge.pem.encode(msg,{maxline:maxline})},pki.getPublicKeyFingerprint=function(key,options){options=options||{};var bytes,md=options.md||forge.md.sha1.create(),type=options.type||"RSAPublicKey";switch(type){case"RSAPublicKey":bytes=asn1.toDer(pki.publicKeyToRSAPublicKey(key)).getBytes();break;case"SubjectPublicKeyInfo":bytes=asn1.toDer(pki.publicKeyToAsn1(key)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+options.type+'".')}md.start(),md.update(bytes);var digest=md.digest();if("hex"===options.encoding){var hex=digest.toHex();return options.delimiter?hex.match(/.{2}/g).join(options.delimiter):hex}if("binary"===options.encoding)return digest.getBytes();if(options.encoding)throw new Error('Unknown encoding "'+options.encoding+'".');return digest},pki.certificationRequestFromPem=function(pem,computeHash,strict){var msg=forge.pem.decode(pem)[0];if("CERTIFICATE REQUEST"!==msg.type){var error=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw error.headerType=msg.type,error}if(msg.procType&&"ENCRYPTED"===msg.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var obj=asn1.fromDer(msg.body,strict);return pki.certificationRequestFromAsn1(obj,computeHash)},pki.certificationRequestToPem=function(csr,maxline){var msg={type:"CERTIFICATE REQUEST",body:asn1.toDer(pki.certificationRequestToAsn1(csr)).getBytes()};return forge.pem.encode(msg,{maxline:maxline})},pki.createCertificate=function(){var cert={};return cert.version=2,cert.serialNumber="00",cert.signatureOid=null,cert.signature=null,cert.siginfo={},cert.siginfo.algorithmOid=null,cert.validity={},cert.validity.notBefore=new Date,cert.validity.notAfter=new Date,cert.issuer={},cert.issuer.getField=function(sn){return _getAttribute(cert.issuer,sn)},cert.issuer.addField=function(attr){_fillMissingFields([attr]),cert.issuer.attributes.push(attr)},cert.issuer.attributes=[],cert.issuer.hash=null,cert.subject={},cert.subject.getField=function(sn){return _getAttribute(cert.subject,sn)},cert.subject.addField=function(attr){_fillMissingFields([attr]),cert.subject.attributes.push(attr)},cert.subject.attributes=[],cert.subject.hash=null,cert.extensions=[],cert.publicKey=null,cert.md=null,cert.setSubject=function(attrs,uniqueId){_fillMissingFields(attrs),cert.subject.attributes=attrs,delete cert.subject.uniqueId,uniqueId&&(cert.subject.uniqueId=uniqueId),cert.subject.hash=null},cert.setIssuer=function(attrs,uniqueId){_fillMissingFields(attrs),cert.issuer.attributes=attrs,delete cert.issuer.uniqueId,uniqueId&&(cert.issuer.uniqueId=uniqueId),cert.issuer.hash=null},cert.setExtensions=function(exts){for(var i=0;i<exts.length;++i)_fillMissingExtensionFields(exts[i],{cert:cert});cert.extensions=exts},cert.getExtension=function(options){"string"==typeof options&&(options={name:options});for(var ext,rval=null,i=0;null===rval&&i<cert.extensions.length;++i)ext=cert.extensions[i],options.id&&ext.id===options.id?rval=ext:options.name&&ext.name===options.name&&(rval=ext);return rval},cert.sign=function(key,md){cert.md=md||forge.md.sha1.create();var algorithmOid=oids[cert.md.algorithm+"WithRSAEncryption"];if(!algorithmOid){var error=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw error.algorithm=cert.md.algorithm,error}cert.signatureOid=cert.siginfo.algorithmOid=algorithmOid,cert.tbsCertificate=pki.getTBSCertificate(cert);var bytes=asn1.toDer(cert.tbsCertificate);cert.md.update(bytes.getBytes()),cert.signature=key.sign(cert.md)},cert.verify=function(child){var rval=!1;if(!cert.issued(child)){var issuer=child.issuer,subject=cert.subject,error=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw error.expectedIssuer=issuer.attributes,error.actualIssuer=subject.attributes,error}var md=child.md;if(null===md){if(child.signatureOid in oids){var oid=oids[child.signatureOid];switch(oid){case"sha1WithRSAEncryption":md=forge.md.sha1.create();break;case"md5WithRSAEncryption":md=forge.md.md5.create();break;case"sha256WithRSAEncryption":md=forge.md.sha256.create();break;case"sha512WithRSAEncryption":md=forge.md.sha512.create();break;case"RSASSA-PSS":md=forge.md.sha256.create()}}if(null===md){var error=new Error("Could not compute certificate digest. Unknown signature OID.");throw error.signatureOid=child.signatureOid,error}var tbsCertificate=child.tbsCertificate||pki.getTBSCertificate(child),bytes=asn1.toDer(tbsCertificate);md.update(bytes.getBytes())}if(null!==md){var scheme;switch(child.signatureOid){case oids.sha1WithRSAEncryption:scheme=void 0;break;case oids["RSASSA-PSS"]:var hash,mgf;if(hash=oids[child.signatureParameters.mgf.hash.algorithmOid],void 0===hash||void 0===forge.md[hash]){var error=new Error("Unsupported MGF hash function.");throw error.oid=child.signatureParameters.mgf.hash.algorithmOid,error.name=hash,error}if(mgf=oids[child.signatureParameters.mgf.algorithmOid],void 0===mgf||void 0===forge.mgf[mgf]){var error=new Error("Unsupported MGF function.");throw error.oid=child.signatureParameters.mgf.algorithmOid,error.name=mgf,error}if(mgf=forge.mgf[mgf].create(forge.md[hash].create()),hash=oids[child.signatureParameters.hash.algorithmOid],void 0===hash||void 0===forge.md[hash])throw{message:"Unsupported RSASSA-PSS hash function.",oid:child.signatureParameters.hash.algorithmOid,name:hash};scheme=forge.pss.create(forge.md[hash].create(),mgf,child.signatureParameters.saltLength)}rval=cert.publicKey.verify(md.digest().getBytes(),child.signature,scheme)}return rval},cert.isIssuer=function(parent){var rval=!1,i=cert.issuer,s=parent.subject;if(i.hash&&s.hash)rval=i.hash===s.hash;else if(i.attributes.length===s.attributes.length){rval=!0;for(var iattr,sattr,n=0;rval&&n<i.attributes.length;++n)iattr=i.attributes[n],sattr=s.attributes[n],iattr.type===sattr.type&&iattr.value===sattr.value||(rval=!1)}return rval},cert.issued=function(child){return child.isIssuer(cert)},cert.generateSubjectKeyIdentifier=function(){return pki.getPublicKeyFingerprint(cert.publicKey,{type:"RSAPublicKey"})},cert.verifySubjectKeyIdentifier=function(){for(var oid=oids.subjectKeyIdentifier,i=0;i<cert.extensions.length;++i){var ext=cert.extensions[i];if(ext.id===oid){var ski=cert.generateSubjectKeyIdentifier().getBytes();return forge.util.hexToBytes(ext.subjectKeyIdentifier)===ski}}return!1},cert},pki.certificateFromAsn1=function(obj,computeHash){var capture={},errors=[];if(!asn1.validate(obj,x509CertificateValidator,capture,errors)){var error=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw error.errors=errors,error}if("string"!=typeof capture.certSignature){for(var certSignature="\0",i=0;i<capture.certSignature.length;++i)certSignature+=asn1.toDer(capture.certSignature[i]).getBytes();capture.certSignature=certSignature}var oid=asn1.derToOid(capture.publicKeyOid);if(oid!==pki.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var cert=pki.createCertificate();cert.version=capture.certVersion?capture.certVersion.charCodeAt(0):0;var serial=forge.util.createBuffer(capture.certSerialNumber);cert.serialNumber=serial.toHex(),cert.signatureOid=forge.asn1.derToOid(capture.certSignatureOid),cert.signatureParameters=_readSignatureParameters(cert.signatureOid,capture.certSignatureParams,!0),cert.siginfo.algorithmOid=forge.asn1.derToOid(capture.certinfoSignatureOid),cert.siginfo.parameters=_readSignatureParameters(cert.siginfo.algorithmOid,capture.certinfoSignatureParams,!1);var signature=forge.util.createBuffer(capture.certSignature);++signature.read,cert.signature=signature.getBytes();var validity=[];if(void 0!==capture.certValidity1UTCTime&&validity.push(asn1.utcTimeToDate(capture.certValidity1UTCTime)),void 0!==capture.certValidity2GeneralizedTime&&validity.push(asn1.generalizedTimeToDate(capture.certValidity2GeneralizedTime)),void 0!==capture.certValidity3UTCTime&&validity.push(asn1.utcTimeToDate(capture.certValidity3UTCTime)),void 0!==capture.certValidity4GeneralizedTime&&validity.push(asn1.generalizedTimeToDate(capture.certValidity4GeneralizedTime)),validity.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(validity.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(cert.validity.notBefore=validity[0],cert.validity.notAfter=validity[1],cert.tbsCertificate=capture.tbsCertificate,computeHash){if(cert.md=null,cert.signatureOid in oids){var oid=oids[cert.signatureOid];switch(oid){case"sha1WithRSAEncryption":cert.md=forge.md.sha1.create();break;case"md5WithRSAEncryption":cert.md=forge.md.md5.create();break;case"sha256WithRSAEncryption":cert.md=forge.md.sha256.create();break;case"sha512WithRSAEncryption":cert.md=forge.md.sha512.create();break;case"RSASSA-PSS":cert.md=forge.md.sha256.create()}}if(null===cert.md){var error=new Error("Could not compute certificate digest. Unknown signature OID.");throw error.signatureOid=cert.signatureOid,error}var bytes=asn1.toDer(cert.tbsCertificate);cert.md.update(bytes.getBytes())}var imd=forge.md.sha1.create();cert.issuer.getField=function(sn){return _getAttribute(cert.issuer,sn)},cert.issuer.addField=function(attr){_fillMissingFields([attr]),cert.issuer.attributes.push(attr)},cert.issuer.attributes=pki.RDNAttributesAsArray(capture.certIssuer,imd),capture.certIssuerUniqueId&&(cert.issuer.uniqueId=capture.certIssuerUniqueId),cert.issuer.hash=imd.digest().toHex();var smd=forge.md.sha1.create();return cert.subject.getField=function(sn){return _getAttribute(cert.subject,sn)},cert.subject.addField=function(attr){_fillMissingFields([attr]),cert.subject.attributes.push(attr)},cert.subject.attributes=pki.RDNAttributesAsArray(capture.certSubject,smd),capture.certSubjectUniqueId&&(cert.subject.uniqueId=capture.certSubjectUniqueId),cert.subject.hash=smd.digest().toHex(),capture.certExtensions?cert.extensions=pki.certificateExtensionsFromAsn1(capture.certExtensions):cert.extensions=[],cert.publicKey=pki.publicKeyFromAsn1(capture.subjectPublicKeyInfo),cert},pki.certificateExtensionsFromAsn1=function(exts){for(var rval=[],i=0;i<exts.value.length;++i)for(var extseq=exts.value[i],ei=0;ei<extseq.value.length;++ei)rval.push(pki.certificateExtensionFromAsn1(extseq.value[ei]));return rval},pki.certificateExtensionFromAsn1=function(ext){var e={};if(e.id=asn1.derToOid(ext.value[0].value),e.critical=!1,ext.value[1].type===asn1.Type.BOOLEAN?(e.critical=0!==ext.value[1].value.charCodeAt(0),e.value=ext.value[2].value):e.value=ext.value[1].value,e.id in oids)if(e.name=oids[e.id],"keyUsage"===e.name){var ev=asn1.fromDer(e.value),b2=0,b3=0;ev.value.length>1&&(b2=ev.value.charCodeAt(1),b3=ev.value.length>2?ev.value.charCodeAt(2):0),e.digitalSignature=128===(128&b2),e.nonRepudiation=64===(64&b2),e.keyEncipherment=32===(32&b2),e.dataEncipherment=16===(16&b2),e.keyAgreement=8===(8&b2),e.keyCertSign=4===(4&b2),e.cRLSign=2===(2&b2),e.encipherOnly=1===(1&b2),e.decipherOnly=128===(128&b3)}else if("basicConstraints"===e.name){var ev=asn1.fromDer(e.value);ev.value.length>0&&ev.value[0].type===asn1.Type.BOOLEAN?e.cA=0!==ev.value[0].value.charCodeAt(0):e.cA=!1;var value=null;ev.value.length>0&&ev.value[0].type===asn1.Type.INTEGER?value=ev.value[0].value:ev.value.length>1&&(value=ev.value[1].value),null!==value&&(e.pathLenConstraint=asn1.derToInteger(value))}else if("extKeyUsage"===e.name)for(var ev=asn1.fromDer(e.value),vi=0;vi<ev.value.length;++vi){var oid=asn1.derToOid(ev.value[vi].value);oid in oids?e[oids[oid]]=!0:e[oid]=!0}else if("nsCertType"===e.name){var ev=asn1.fromDer(e.value),b2=0;ev.value.length>1&&(b2=ev.value.charCodeAt(1)),e.client=128===(128&b2),e.server=64===(64&b2),e.email=32===(32&b2),e.objsign=16===(16&b2),e.reserved=8===(8&b2),e.sslCA=4===(4&b2),e.emailCA=2===(2&b2),e.objCA=1===(1&b2)}else if("subjectAltName"===e.name||"issuerAltName"===e.name){e.altNames=[];for(var gn,ev=asn1.fromDer(e.value),n=0;n<ev.value.length;++n){gn=ev.value[n];var altName={type:gn.type,value:gn.value};switch(e.altNames.push(altName),gn.type){case 1:case 2:case 6:break;case 7:altName.ip=forge.util.bytesToIP(gn.value);break;case 8:altName.oid=asn1.derToOid(gn.value)}}}else if("subjectKeyIdentifier"===e.name){var ev=asn1.fromDer(e.value);e.subjectKeyIdentifier=forge.util.bytesToHex(ev.value)}return e},pki.certificationRequestFromAsn1=function(obj,computeHash){var capture={},errors=[];if(!asn1.validate(obj,certificationRequestValidator,capture,errors)){var error=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw error.errors=errors,error}if("string"!=typeof capture.csrSignature){for(var csrSignature="\0",i=0;i<capture.csrSignature.length;++i)csrSignature+=asn1.toDer(capture.csrSignature[i]).getBytes();capture.csrSignature=csrSignature}var oid=asn1.derToOid(capture.publicKeyOid);if(oid!==pki.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var csr=pki.createCertificationRequest();csr.version=capture.csrVersion?capture.csrVersion.charCodeAt(0):0,csr.signatureOid=forge.asn1.derToOid(capture.csrSignatureOid),csr.signatureParameters=_readSignatureParameters(csr.signatureOid,capture.csrSignatureParams,!0),csr.siginfo.algorithmOid=forge.asn1.derToOid(capture.csrSignatureOid),csr.siginfo.parameters=_readSignatureParameters(csr.siginfo.algorithmOid,capture.csrSignatureParams,!1);var signature=forge.util.createBuffer(capture.csrSignature);if(++signature.read,csr.signature=signature.getBytes(),csr.certificationRequestInfo=capture.certificationRequestInfo,computeHash){if(csr.md=null,csr.signatureOid in oids){var oid=oids[csr.signatureOid];switch(oid){case"sha1WithRSAEncryption":csr.md=forge.md.sha1.create();break;case"md5WithRSAEncryption":csr.md=forge.md.md5.create();break;case"sha256WithRSAEncryption":csr.md=forge.md.sha256.create();break;case"sha512WithRSAEncryption":csr.md=forge.md.sha512.create();break;case"RSASSA-PSS":csr.md=forge.md.sha256.create()}}if(null===csr.md){var error=new Error("Could not compute certification request digest. Unknown signature OID.");throw error.signatureOid=csr.signatureOid,error}var bytes=asn1.toDer(csr.certificationRequestInfo);csr.md.update(bytes.getBytes())}var smd=forge.md.sha1.create();return csr.subject.getField=function(sn){return _getAttribute(csr.subject,sn)},csr.subject.addField=function(attr){_fillMissingFields([attr]),csr.subject.attributes.push(attr)},csr.subject.attributes=pki.RDNAttributesAsArray(capture.certificationRequestInfoSubject,smd),csr.subject.hash=smd.digest().toHex(),csr.publicKey=pki.publicKeyFromAsn1(capture.subjectPublicKeyInfo),csr.getAttribute=function(sn){return _getAttribute(csr,sn)},csr.addAttribute=function(attr){_fillMissingFields([attr]),csr.attributes.push(attr)},csr.attributes=pki.CRIAttributesAsArray(capture.certificationRequestInfoAttributes||[]),csr},pki.createCertificationRequest=function(){var csr={};return csr.version=0,csr.signatureOid=null,csr.signature=null,csr.siginfo={},csr.siginfo.algorithmOid=null,csr.subject={},csr.subject.getField=function(sn){return _getAttribute(csr.subject,sn)},csr.subject.addField=function(attr){_fillMissingFields([attr]),
csr.subject.attributes.push(attr)},csr.subject.attributes=[],csr.subject.hash=null,csr.publicKey=null,csr.attributes=[],csr.getAttribute=function(sn){return _getAttribute(csr,sn)},csr.addAttribute=function(attr){_fillMissingFields([attr]),csr.attributes.push(attr)},csr.md=null,csr.setSubject=function(attrs){_fillMissingFields(attrs),csr.subject.attributes=attrs,csr.subject.hash=null},csr.setAttributes=function(attrs){_fillMissingFields(attrs),csr.attributes=attrs},csr.sign=function(key,md){csr.md=md||forge.md.sha1.create();var algorithmOid=oids[csr.md.algorithm+"WithRSAEncryption"];if(!algorithmOid){var error=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw error.algorithm=csr.md.algorithm,error}csr.signatureOid=csr.siginfo.algorithmOid=algorithmOid,csr.certificationRequestInfo=pki.getCertificationRequestInfo(csr);var bytes=asn1.toDer(csr.certificationRequestInfo);csr.md.update(bytes.getBytes()),csr.signature=key.sign(csr.md)},csr.verify=function(){var rval=!1,md=csr.md;if(null===md){if(csr.signatureOid in oids){var oid=oids[csr.signatureOid];switch(oid){case"sha1WithRSAEncryption":md=forge.md.sha1.create();break;case"md5WithRSAEncryption":md=forge.md.md5.create();break;case"sha256WithRSAEncryption":md=forge.md.sha256.create();break;case"sha512WithRSAEncryption":md=forge.md.sha512.create();break;case"RSASSA-PSS":md=forge.md.sha256.create()}}if(null===md){var error=new Error("Could not compute certification request digest. Unknown signature OID.");throw error.signatureOid=csr.signatureOid,error}var cri=csr.certificationRequestInfo||pki.getCertificationRequestInfo(csr),bytes=asn1.toDer(cri);md.update(bytes.getBytes())}if(null!==md){var scheme;switch(csr.signatureOid){case oids.sha1WithRSAEncryption:break;case oids["RSASSA-PSS"]:var hash,mgf;if(hash=oids[csr.signatureParameters.mgf.hash.algorithmOid],void 0===hash||void 0===forge.md[hash]){var error=new Error("Unsupported MGF hash function.");throw error.oid=csr.signatureParameters.mgf.hash.algorithmOid,error.name=hash,error}if(mgf=oids[csr.signatureParameters.mgf.algorithmOid],void 0===mgf||void 0===forge.mgf[mgf]){var error=new Error("Unsupported MGF function.");throw error.oid=csr.signatureParameters.mgf.algorithmOid,error.name=mgf,error}if(mgf=forge.mgf[mgf].create(forge.md[hash].create()),hash=oids[csr.signatureParameters.hash.algorithmOid],void 0===hash||void 0===forge.md[hash]){var error=new Error("Unsupported RSASSA-PSS hash function.");throw error.oid=csr.signatureParameters.hash.algorithmOid,error.name=hash,error}scheme=forge.pss.create(forge.md[hash].create(),mgf,csr.signatureParameters.saltLength)}rval=csr.publicKey.verify(md.digest().getBytes(),csr.signature,scheme)}return rval},csr},pki.getTBSCertificate=function(cert){var tbs=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.CONTEXT_SPECIFIC,0,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,asn1.integerToDer(cert.version).getBytes())]),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,forge.util.hexToBytes(cert.serialNumber)),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(cert.siginfo.algorithmOid).getBytes()),_signatureParametersToAsn1(cert.siginfo.algorithmOid,cert.siginfo.parameters)]),_dnToAsn1(cert.issuer),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.UTCTIME,!1,asn1.dateToUtcTime(cert.validity.notBefore)),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.UTCTIME,!1,asn1.dateToUtcTime(cert.validity.notAfter))]),_dnToAsn1(cert.subject),pki.publicKeyToAsn1(cert.publicKey)]);return cert.issuer.uniqueId&&tbs.value.push(asn1.create(asn1.Class.CONTEXT_SPECIFIC,1,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.BITSTRING,!1,String.fromCharCode(0)+cert.issuer.uniqueId)])),cert.subject.uniqueId&&tbs.value.push(asn1.create(asn1.Class.CONTEXT_SPECIFIC,2,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.BITSTRING,!1,String.fromCharCode(0)+cert.subject.uniqueId)])),cert.extensions.length>0&&tbs.value.push(pki.certificateExtensionsToAsn1(cert.extensions)),tbs},pki.getCertificationRequestInfo=function(csr){var cri=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,asn1.integerToDer(csr.version).getBytes()),_dnToAsn1(csr.subject),pki.publicKeyToAsn1(csr.publicKey),_CRIAttributesToAsn1(csr)]);return cri},pki.distinguishedNameToAsn1=function(dn){return _dnToAsn1(dn)},pki.certificateToAsn1=function(cert){var tbsCertificate=cert.tbsCertificate||pki.getTBSCertificate(cert);return asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[tbsCertificate,asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(cert.signatureOid).getBytes()),_signatureParametersToAsn1(cert.signatureOid,cert.signatureParameters)]),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.BITSTRING,!1,String.fromCharCode(0)+cert.signature)])},pki.certificateExtensionsToAsn1=function(exts){var rval=asn1.create(asn1.Class.CONTEXT_SPECIFIC,3,!0,[]),seq=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[]);rval.value.push(seq);for(var i=0;i<exts.length;++i)seq.value.push(pki.certificateExtensionToAsn1(exts[i]));return rval},pki.certificateExtensionToAsn1=function(ext){var extseq=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[]);extseq.value.push(asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(ext.id).getBytes())),ext.critical&&extseq.value.push(asn1.create(asn1.Class.UNIVERSAL,asn1.Type.BOOLEAN,!1,String.fromCharCode(255)));var value=ext.value;return"string"!=typeof ext.value&&(value=asn1.toDer(value).getBytes()),extseq.value.push(asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,value)),extseq},pki.certificationRequestToAsn1=function(csr){var cri=csr.certificationRequestInfo||pki.getCertificationRequestInfo(csr);return asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[cri,asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(csr.signatureOid).getBytes()),_signatureParametersToAsn1(csr.signatureOid,csr.signatureParameters)]),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.BITSTRING,!1,String.fromCharCode(0)+csr.signature)])},pki.createCaStore=function(certs){function getBySubject(subject){if(!subject.hash){var md=forge.md.sha1.create();subject.attributes=pki.RDNAttributesAsArray(_dnToAsn1(subject),md),subject.hash=md.digest().toHex()}return caStore.certs[subject.hash]||null}var caStore={certs:{}};if(caStore.getIssuer=function(cert){var rval=getBySubject(cert.issuer);return rval},caStore.addCertificate=function(cert){if("string"==typeof cert&&(cert=forge.pki.certificateFromPem(cert)),!cert.subject.hash){var md=forge.md.sha1.create();cert.subject.attributes=pki.RDNAttributesAsArray(_dnToAsn1(cert.subject),md),cert.subject.hash=md.digest().toHex()}if(cert.subject.hash in caStore.certs){var tmp=caStore.certs[cert.subject.hash];forge.util.isArray(tmp)||(tmp=[tmp]),tmp.push(cert)}else caStore.certs[cert.subject.hash]=cert},caStore.hasCertificate=function(cert){var match=getBySubject(cert.subject);if(!match)return!1;forge.util.isArray(match)||(match=[match]);for(var der1=asn1.toDer(pki.certificateToAsn1(cert)).getBytes(),i=0;i<match.length;++i){var der2=asn1.toDer(pki.certificateToAsn1(match[i])).getBytes();if(der1===der2)return!0}return!1},certs)for(var i=0;i<certs.length;++i){var cert=certs[i];caStore.addCertificate(cert)}return caStore},pki.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},pki.verifyCertificateChain=function(caStore,chain,verify){chain=chain.slice(0);var certs=chain.slice(0),now=new Date,first=!0,error=null,depth=0;do{var cert=chain.shift(),parent=null,selfSigned=!1;if((now<cert.validity.notBefore||now>cert.validity.notAfter)&&(error={message:"Certificate is not valid yet or has expired.",error:pki.certificateError.certificate_expired,notBefore:cert.validity.notBefore,notAfter:cert.validity.notAfter,now:now}),null===error){if(parent=chain[0]||caStore.getIssuer(cert),null===parent&&cert.isIssuer(cert)&&(selfSigned=!0,parent=cert),parent){var parents=parent;forge.util.isArray(parents)||(parents=[parents]);for(var verified=!1;!verified&&parents.length>0;){parent=parents.shift();try{verified=parent.verify(cert)}catch(ex){}}verified||(error={message:"Certificate signature is invalid.",error:pki.certificateError.bad_certificate})}null!==error||parent&&!selfSigned||caStore.hasCertificate(cert)||(error={message:"Certificate is not trusted.",error:pki.certificateError.unknown_ca})}if(null===error&&parent&&!cert.isIssuer(parent)&&(error={message:"Certificate issuer is invalid.",error:pki.certificateError.bad_certificate}),null===error)for(var se={keyUsage:!0,basicConstraints:!0},i=0;null===error&&i<cert.extensions.length;++i){var ext=cert.extensions[i];!ext.critical||ext.name in se||(error={message:"Certificate has an unsupported critical extension.",error:pki.certificateError.unsupported_certificate})}if(null===error&&(!first||0===chain.length&&(!parent||selfSigned))){var bcExt=cert.getExtension("basicConstraints"),keyUsageExt=cert.getExtension("keyUsage");if(null!==keyUsageExt&&(keyUsageExt.keyCertSign&&null!==bcExt||(error={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:pki.certificateError.bad_certificate})),null!==error||null===bcExt||bcExt.cA||(error={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:pki.certificateError.bad_certificate}),null===error&&null!==keyUsageExt&&"pathLenConstraint"in bcExt){var pathLen=depth-1;pathLen>bcExt.pathLenConstraint&&(error={message:"Certificate basicConstraints pathLenConstraint violated.",error:pki.certificateError.bad_certificate})}}var vfd=null===error||error.error,ret=verify?verify(vfd,depth,certs):vfd;if(ret!==!0)throw vfd===!0&&(error={message:"The application rejected the certificate.",error:pki.certificateError.bad_certificate}),(ret||0===ret)&&("object"!=typeof ret||forge.util.isArray(ret)?"string"==typeof ret&&(error.error=ret):(ret.message&&(error.message=ret.message),ret.error&&(error.error=ret.error))),error;error=null,first=!1,++depth}while(chain.length>0);return!0}}var name="x509";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge.pki}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/x509",["require","module","./aes","./asn1","./des","./md","./mgf","./oids","./pem","./pss","./rsa","./util"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){function _getBagsByAttribute(safeContents,attrName,attrValue,bagType){for(var result=[],i=0;i<safeContents.length;i++)for(var j=0;j<safeContents[i].safeBags.length;j++){var bag=safeContents[i].safeBags[j];void 0!==bagType&&bag.type!==bagType||(null!==attrName?void 0!==bag.attributes[attrName]&&bag.attributes[attrName].indexOf(attrValue)>=0&&result.push(bag):result.push(bag))}return result}function _decodePkcs7Data(data){if(data.composed||data.constructed){for(var value=forge.util.createBuffer(),i=0;i<data.value.length;++i)value.putBytes(data.value[i].value);data.composed=data.constructed=!1,data.value=value.getBytes()}return data}function _decodeAuthenticatedSafe(pfx,authSafe,strict,password){if(authSafe=asn1.fromDer(authSafe,strict),authSafe.tagClass!==asn1.Class.UNIVERSAL||authSafe.type!==asn1.Type.SEQUENCE||authSafe.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<authSafe.value.length;i++){var contentInfo=authSafe.value[i],capture={},errors=[];if(!asn1.validate(contentInfo,contentInfoValidator,capture,errors)){var error=new Error("Cannot read ContentInfo.");throw error.errors=errors,error}var obj={encrypted:!1},safeContents=null,data=capture.content.value[0];switch(asn1.derToOid(capture.contentType)){case pki.oids.data:if(data.tagClass!==asn1.Class.UNIVERSAL||data.type!==asn1.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");safeContents=_decodePkcs7Data(data).value;break;case pki.oids.encryptedData:safeContents=_decryptSafeContents(data,password),obj.encrypted=!0;break;default:var error=new Error("Unsupported PKCS#12 contentType.");throw error.contentType=asn1.derToOid(capture.contentType),error}obj.safeBags=_decodeSafeContents(safeContents,strict,password),pfx.safeContents.push(obj)}}function _decryptSafeContents(data,password){var capture={},errors=[];if(!asn1.validate(data,forge.pkcs7.asn1.encryptedDataValidator,capture,errors)){var error=new Error("Cannot read EncryptedContentInfo.");throw error.errors=errors,error}var oid=asn1.derToOid(capture.contentType);if(oid!==pki.oids.data){var error=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw error.oid=oid,error}oid=asn1.derToOid(capture.encAlgorithm);var cipher=pki.pbe.getCipher(oid,capture.encParameter,password),encryptedContentAsn1=_decodePkcs7Data(capture.encryptedContentAsn1),encrypted=forge.util.createBuffer(encryptedContentAsn1.value);if(cipher.update(encrypted),!cipher.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return cipher.output.getBytes()}function _decodeSafeContents(safeContents,strict,password){if(!strict&&0===safeContents.length)return[];if(safeContents=asn1.fromDer(safeContents,strict),safeContents.tagClass!==asn1.Class.UNIVERSAL||safeContents.type!==asn1.Type.SEQUENCE||safeContents.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var res=[],i=0;i<safeContents.value.length;i++){var safeBag=safeContents.value[i],capture={},errors=[];if(!asn1.validate(safeBag,safeBagValidator,capture,errors)){var error=new Error("Cannot read SafeBag.");throw error.errors=errors,error}var bag={type:asn1.derToOid(capture.bagId),attributes:_decodeBagAttributes(capture.bagAttributes)};res.push(bag);var validator,decoder,bagAsn1=capture.bagValue.value[0];switch(bag.type){case pki.oids.pkcs8ShroudedKeyBag:if(bagAsn1=pki.decryptPrivateKeyInfo(bagAsn1,password),null===bagAsn1)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case pki.oids.keyBag:try{bag.key=pki.privateKeyFromAsn1(bagAsn1)}catch(e){bag.key=null,bag.asn1=bagAsn1}continue;case pki.oids.certBag:validator=certBagValidator,decoder=function(){if(asn1.derToOid(capture.certId)!==pki.oids.x509Certificate){var error=new Error("Unsupported certificate type, only X.509 supported.");throw error.oid=asn1.derToOid(capture.certId),error}var certAsn1=asn1.fromDer(capture.cert,strict);try{bag.cert=pki.certificateFromAsn1(certAsn1,!0)}catch(e){bag.cert=null,bag.asn1=certAsn1}};break;default:var error=new Error("Unsupported PKCS#12 SafeBag type.");throw error.oid=bag.type,error}if(void 0!==validator&&!asn1.validate(bagAsn1,validator,capture,errors)){var error=new Error("Cannot read PKCS#12 "+validator.name);throw error.errors=errors,error}decoder()}return res}function _decodeBagAttributes(attributes){var decodedAttrs={};if(void 0!==attributes)for(var i=0;i<attributes.length;++i){var capture={},errors=[];if(!asn1.validate(attributes[i],attributeValidator,capture,errors)){var error=new Error("Cannot read PKCS#12 BagAttribute.");throw error.errors=errors,error}var oid=asn1.derToOid(capture.oid);if(void 0!==pki.oids[oid]){decodedAttrs[pki.oids[oid]]=[];for(var j=0;j<capture.values.length;++j)decodedAttrs[pki.oids[oid]].push(capture.values[j].value)}}return decodedAttrs}var asn1=forge.asn1,pki=forge.pki,p12=forge.pkcs12=forge.pkcs12||{},contentInfoValidator={name:"ContentInfo",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:asn1.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},pfxValidator={name:"PFX",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.INTEGER,constructed:!1,capture:"version"},contentInfoValidator,{name:"PFX.macData",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:asn1.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},safeBagValidator={name:"SafeBag",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:asn1.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},attributeValidator={name:"Attribute",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SET,constructed:!0,capture:"values"}]},certBagValidator={name:"CertBag",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:asn1.Class.UNIVERSAL,type:asn1.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:asn1.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:asn1.Class.UNIVERSAL,type:asn1.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};p12.pkcs12FromAsn1=function(obj,strict,password){"string"==typeof strict?(password=strict,strict=!0):void 0===strict&&(strict=!0);var capture={},errors=[];if(!asn1.validate(obj,pfxValidator,capture,errors)){var error=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw error.errors=error,error}var pfx={version:capture.version.charCodeAt(0),safeContents:[],getBags:function(filter){var localKeyId,rval={};return"localKeyId"in filter?localKeyId=filter.localKeyId:"localKeyIdHex"in filter&&(localKeyId=forge.util.hexToBytes(filter.localKeyIdHex)),void 0===localKeyId&&!("friendlyName"in filter)&&"bagType"in filter&&(rval[filter.bagType]=_getBagsByAttribute(pfx.safeContents,null,null,filter.bagType)),void 0!==localKeyId&&(rval.localKeyId=_getBagsByAttribute(pfx.safeContents,"localKeyId",localKeyId,filter.bagType)),"friendlyName"in filter&&(rval.friendlyName=_getBagsByAttribute(pfx.safeContents,"friendlyName",filter.friendlyName,filter.bagType)),rval},getBagsByFriendlyName:function(friendlyName,bagType){return _getBagsByAttribute(pfx.safeContents,"friendlyName",friendlyName,bagType)},getBagsByLocalKeyId:function(localKeyId,bagType){return _getBagsByAttribute(pfx.safeContents,"localKeyId",localKeyId,bagType)}};if(3!==capture.version.charCodeAt(0)){var error=new Error("PKCS#12 PFX of version other than 3 not supported.");throw error.version=capture.version.charCodeAt(0),error}if(asn1.derToOid(capture.contentType)!==pki.oids.data){var error=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw error.oid=asn1.derToOid(capture.contentType),error}var data=capture.content.value[0];if(data.tagClass!==asn1.Class.UNIVERSAL||data.type!==asn1.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(data=_decodePkcs7Data(data),capture.mac){var md=null,macKeyBytes=0,macAlgorithm=asn1.derToOid(capture.macAlgorithm);switch(macAlgorithm){case pki.oids.sha1:md=forge.md.sha1.create(),macKeyBytes=20;break;case pki.oids.sha256:md=forge.md.sha256.create(),macKeyBytes=32;break;case pki.oids.sha384:md=forge.md.sha384.create(),macKeyBytes=48;break;case pki.oids.sha512:md=forge.md.sha512.create(),macKeyBytes=64;break;case pki.oids.md5:md=forge.md.md5.create(),macKeyBytes=16}if(null===md)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+macAlgorithm);var macSalt=new forge.util.ByteBuffer(capture.macSalt),macIterations="macIterations"in capture?parseInt(forge.util.bytesToHex(capture.macIterations),16):1,macKey=p12.generateKey(password,macSalt,3,macIterations,macKeyBytes,md),mac=forge.hmac.create();mac.start(md,macKey),mac.update(data.value);var macValue=mac.getMac();if(macValue.getBytes()!==capture.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return _decodeAuthenticatedSafe(pfx,data.value,strict,password),pfx},p12.toPkcs12Asn1=function(key,cert,password,options){options=options||{},options.saltSize=options.saltSize||8,options.count=options.count||2048,options.algorithm=options.algorithm||options.encAlgorithm||"aes128","useMac"in options||(options.useMac=!0),"localKeyId"in options||(options.localKeyId=null),"generateLocalKeyId"in options||(options.generateLocalKeyId=!0);var bagAttrs,localKeyId=options.localKeyId;if(null!==localKeyId)localKeyId=forge.util.hexToBytes(localKeyId);else if(options.generateLocalKeyId)if(cert){var pairedCert=forge.util.isArray(cert)?cert[0]:cert;"string"==typeof pairedCert&&(pairedCert=pki.certificateFromPem(pairedCert));var sha1=forge.md.sha1.create();sha1.update(asn1.toDer(pki.certificateToAsn1(pairedCert)).getBytes()),localKeyId=sha1.digest().getBytes()}else localKeyId=forge.random.getBytes(20);var attrs=[];null!==localKeyId&&attrs.push(asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(pki.oids.localKeyId).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SET,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,localKeyId)])])),"friendlyName"in options&&attrs.push(asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(pki.oids.friendlyName).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SET,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.BMPSTRING,!1,options.friendlyName)])])),attrs.length>0&&(bagAttrs=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SET,!0,attrs));var contents=[],chain=[];null!==cert&&(chain=forge.util.isArray(cert)?cert:[cert]);for(var certSafeBags=[],i=0;i<chain.length;++i){cert=chain[i],"string"==typeof cert&&(cert=pki.certificateFromPem(cert));var certBagAttrs=0===i?bagAttrs:void 0,certAsn1=pki.certificateToAsn1(cert),certSafeBag=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(pki.oids.certBag).getBytes()),asn1.create(asn1.Class.CONTEXT_SPECIFIC,0,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(pki.oids.x509Certificate).getBytes()),asn1.create(asn1.Class.CONTEXT_SPECIFIC,0,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,asn1.toDer(certAsn1).getBytes())])])]),certBagAttrs]);certSafeBags.push(certSafeBag)}if(certSafeBags.length>0){var certSafeContents=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,certSafeBags),certCI=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(pki.oids.data).getBytes()),asn1.create(asn1.Class.CONTEXT_SPECIFIC,0,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,asn1.toDer(certSafeContents).getBytes())])]);contents.push(certCI)}var keyBag=null;if(null!==key){var pkAsn1=pki.wrapRsaPrivateKey(pki.privateKeyToAsn1(key));keyBag=null===password?asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(pki.oids.keyBag).getBytes()),asn1.create(asn1.Class.CONTEXT_SPECIFIC,0,!0,[pkAsn1]),bagAttrs]):asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(pki.oids.pkcs8ShroudedKeyBag).getBytes()),asn1.create(asn1.Class.CONTEXT_SPECIFIC,0,!0,[pki.encryptPrivateKeyInfo(pkAsn1,password,options)]),bagAttrs]);var keySafeContents=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[keyBag]),keyCI=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(pki.oids.data).getBytes()),asn1.create(asn1.Class.CONTEXT_SPECIFIC,0,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,asn1.toDer(keySafeContents).getBytes())])]);contents.push(keyCI)}var macData,safe=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,contents);if(options.useMac){var sha1=forge.md.sha1.create(),macSalt=new forge.util.ByteBuffer(forge.random.getBytes(options.saltSize)),count=options.count,key=p12.generateKey(password,macSalt,3,count,20),mac=forge.hmac.create();mac.start(sha1,key),mac.update(asn1.toDer(safe).getBytes());var macValue=mac.getMac();macData=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(pki.oids.sha1).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.NULL,!1,"")]),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,macValue.getBytes())]),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,macSalt.getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,asn1.integerToDer(count).getBytes())])}return asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,asn1.integerToDer(3).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(pki.oids.data).getBytes()),asn1.create(asn1.Class.CONTEXT_SPECIFIC,0,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,asn1.toDer(safe).getBytes())])]),macData])},p12.generateKey=forge.pbe.generatePkcs12Key}var name="pkcs12";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/pkcs12",["require","module","./asn1","./hmac","./oids","./pkcs7asn1","./pbe","./random","./rsa","./sha1","./util","./x509"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){var asn1=forge.asn1,pki=forge.pki=forge.pki||{};pki.pemToDer=function(pem){var msg=forge.pem.decode(pem)[0];if(msg.procType&&"ENCRYPTED"===msg.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return forge.util.createBuffer(msg.body)},pki.privateKeyFromPem=function(pem){var msg=forge.pem.decode(pem)[0];if("PRIVATE KEY"!==msg.type&&"RSA PRIVATE KEY"!==msg.type){var error=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw error.headerType=msg.type,error}if(msg.procType&&"ENCRYPTED"===msg.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var obj=asn1.fromDer(msg.body);return pki.privateKeyFromAsn1(obj)},pki.privateKeyToPem=function(key,maxline){var msg={type:"RSA PRIVATE KEY",body:asn1.toDer(pki.privateKeyToAsn1(key)).getBytes()};return forge.pem.encode(msg,{maxline:maxline})},pki.privateKeyInfoToPem=function(pki,maxline){var msg={type:"PRIVATE KEY",body:asn1.toDer(pki).getBytes()};return forge.pem.encode(msg,{maxline:maxline})}}var name="pki";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/pki",["require","module","./asn1","./oids","./pbe","./pem","./pbkdf2","./pkcs12","./pss","./rsa","./util","./x509"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){var prf_TLS1=function(secret,label,seed,length){var rval=forge.util.createBuffer(),idx=secret.length>>1,slen=idx+(1&secret.length),s1=secret.substr(0,slen),s2=secret.substr(idx,slen),ai=forge.util.createBuffer(),hmac=forge.hmac.create();seed=label+seed;var md5itr=Math.ceil(length/16),sha1itr=Math.ceil(length/20);hmac.start("MD5",s1);var md5bytes=forge.util.createBuffer();ai.putBytes(seed);for(var i=0;i<md5itr;++i)hmac.start(null,null),hmac.update(ai.getBytes()),ai.putBuffer(hmac.digest()),hmac.start(null,null),hmac.update(ai.bytes()+seed),md5bytes.putBuffer(hmac.digest());hmac.start("SHA1",s2);var sha1bytes=forge.util.createBuffer();ai.clear(),ai.putBytes(seed);for(var i=0;i<sha1itr;++i)hmac.start(null,null),hmac.update(ai.getBytes()),ai.putBuffer(hmac.digest()),hmac.start(null,null),hmac.update(ai.bytes()+seed),sha1bytes.putBuffer(hmac.digest());return rval.putBytes(forge.util.xorBytes(md5bytes.getBytes(),sha1bytes.getBytes(),length)),rval},hmac_sha1=function(key,seqNum,record){var hmac=forge.hmac.create();hmac.start("SHA1",key);var b=forge.util.createBuffer();return b.putInt32(seqNum[0]),b.putInt32(seqNum[1]),b.putByte(record.type),b.putByte(record.version.major),b.putByte(record.version.minor),
b.putInt16(record.length),b.putBytes(record.fragment.bytes()),hmac.update(b.getBytes()),hmac.digest().getBytes()},deflate=function(c,record,s){var rval=!1;try{var bytes=c.deflate(record.fragment.getBytes());record.fragment=forge.util.createBuffer(bytes),record.length=bytes.length,rval=!0}catch(ex){}return rval},inflate=function(c,record,s){var rval=!1;try{var bytes=c.inflate(record.fragment.getBytes());record.fragment=forge.util.createBuffer(bytes),record.length=bytes.length,rval=!0}catch(ex){}return rval},readVector=function(b,lenBytes){var len=0;switch(lenBytes){case 1:len=b.getByte();break;case 2:len=b.getInt16();break;case 3:len=b.getInt24();break;case 4:len=b.getInt32()}return forge.util.createBuffer(b.getBytes(len))},writeVector=function(b,lenBytes,v){b.putInt(v.length(),lenBytes<<3),b.putBuffer(v)},tls={};tls.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}},tls.SupportedVersions=[tls.Versions.TLS_1_1,tls.Versions.TLS_1_0],tls.Version=tls.SupportedVersions[0],tls.MaxFragment=15360,tls.ConnectionEnd={server:0,client:1},tls.PRFAlgorithm={tls_prf_sha256:0},tls.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},tls.CipherType={stream:0,block:1,aead:2},tls.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},tls.CompressionMethod={none:0,deflate:1},tls.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},tls.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},tls.Alert={},tls.Alert.Level={warning:1,fatal:2},tls.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},tls.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},tls.CipherSuites={},tls.getCipherSuite=function(twoBytes){var rval=null;for(var key in tls.CipherSuites){var cs=tls.CipherSuites[key];if(cs.id[0]===twoBytes.charCodeAt(0)&&cs.id[1]===twoBytes.charCodeAt(1)){rval=cs;break}}return rval},tls.handleUnexpected=function(c,record){var ignore=!c.open&&c.entity===tls.ConnectionEnd.client;ignore||c.error(c,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.unexpected_message}})},tls.handleHelloRequest=function(c,record,length){!c.handshaking&&c.handshakes>0&&(tls.queue(c,tls.createAlert(c,{level:tls.Alert.Level.warning,description:tls.Alert.Description.no_renegotiation})),tls.flush(c)),c.process()},tls.parseHelloMessage=function(c,record,length){var msg=null,client=c.entity===tls.ConnectionEnd.client;if(length<38)c.error(c,{message:client?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.illegal_parameter}});else{var b=record.fragment,remaining=b.length();if(msg={version:{major:b.getByte(),minor:b.getByte()},random:forge.util.createBuffer(b.getBytes(32)),session_id:readVector(b,1),extensions:[]},client?(msg.cipher_suite=b.getBytes(2),msg.compression_method=b.getByte()):(msg.cipher_suites=readVector(b,2),msg.compression_methods=readVector(b,1)),remaining=length-(remaining-b.length()),remaining>0){for(var exts=readVector(b,2);exts.length()>0;)msg.extensions.push({type:[exts.getByte(),exts.getByte()],data:readVector(exts,2)});if(!client)for(var i=0;i<msg.extensions.length;++i){var ext=msg.extensions[i];if(0===ext.type[0]&&0===ext.type[1])for(var snl=readVector(ext.data,2);snl.length()>0;){var snType=snl.getByte();if(0!==snType)break;c.session.extensions.server_name.serverNameList.push(readVector(snl,2).getBytes())}}}if(c.session.version&&(msg.version.major!==c.session.version.major||msg.version.minor!==c.session.version.minor))return c.error(c,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.protocol_version}});if(client)c.session.cipherSuite=tls.getCipherSuite(msg.cipher_suite);else for(var tmp=forge.util.createBuffer(msg.cipher_suites.bytes());tmp.length()>0&&(c.session.cipherSuite=tls.getCipherSuite(tmp.getBytes(2)),null===c.session.cipherSuite););if(null===c.session.cipherSuite)return c.error(c,{message:"No cipher suites in common.",send:!0,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.handshake_failure},cipherSuite:forge.util.bytesToHex(msg.cipher_suite)});client?c.session.compressionMethod=msg.compression_method:c.session.compressionMethod=tls.CompressionMethod.none}return msg},tls.createSecurityParameters=function(c,msg){var client=c.entity===tls.ConnectionEnd.client,msgRandom=msg.random.bytes(),cRandom=client?c.session.sp.client_random:msgRandom,sRandom=client?msgRandom:tls.createRandom().getBytes();c.session.sp={entity:c.entity,prf_algorithm:tls.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:c.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:cRandom,server_random:sRandom}},tls.handleServerHello=function(c,record,length){var msg=tls.parseHelloMessage(c,record,length);if(!c.fail){if(!(msg.version.minor<=c.version.minor))return c.error(c,{message:"Incompatible TLS version.",send:!0,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.protocol_version}});c.version.minor=msg.version.minor,c.session.version=c.version;var sessionId=msg.session_id.bytes();sessionId.length>0&&sessionId===c.session.id?(c.expect=SCC,c.session.resuming=!0,c.session.sp.server_random=msg.random.bytes()):(c.expect=SCE,c.session.resuming=!1,tls.createSecurityParameters(c,msg)),c.session.id=sessionId,c.process()}},tls.handleClientHello=function(c,record,length){var msg=tls.parseHelloMessage(c,record,length);if(!c.fail){var sessionId=msg.session_id.bytes(),session=null;if(c.sessionCache&&(session=c.sessionCache.getSession(sessionId),null===session?sessionId="":(session.version.major!==msg.version.major||session.version.minor>msg.version.minor)&&(session=null,sessionId="")),0===sessionId.length&&(sessionId=forge.random.getBytes(32)),c.session.id=sessionId,c.session.clientHelloVersion=msg.version,c.session.sp={},session)c.version=c.session.version=session.version,c.session.sp=session.sp;else{for(var version,i=1;i<tls.SupportedVersions.length&&(version=tls.SupportedVersions[i],!(version.minor<=msg.version.minor));++i);c.version={major:version.major,minor:version.minor},c.session.version=c.version}null!==session?(c.expect=CCC,c.session.resuming=!0,c.session.sp.client_random=msg.random.bytes()):(c.expect=c.verifyClient!==!1?CCE:CKE,c.session.resuming=!1,tls.createSecurityParameters(c,msg)),c.open=!0,tls.queue(c,tls.createRecord(c,{type:tls.ContentType.handshake,data:tls.createServerHello(c)})),c.session.resuming?(tls.queue(c,tls.createRecord(c,{type:tls.ContentType.change_cipher_spec,data:tls.createChangeCipherSpec()})),c.state.pending=tls.createConnectionState(c),c.state.current.write=c.state.pending.write,tls.queue(c,tls.createRecord(c,{type:tls.ContentType.handshake,data:tls.createFinished(c)}))):(tls.queue(c,tls.createRecord(c,{type:tls.ContentType.handshake,data:tls.createCertificate(c)})),c.fail||(tls.queue(c,tls.createRecord(c,{type:tls.ContentType.handshake,data:tls.createServerKeyExchange(c)})),c.verifyClient!==!1&&tls.queue(c,tls.createRecord(c,{type:tls.ContentType.handshake,data:tls.createCertificateRequest(c)})),tls.queue(c,tls.createRecord(c,{type:tls.ContentType.handshake,data:tls.createServerHelloDone(c)})))),tls.flush(c),c.process()}},tls.handleCertificate=function(c,record,length){if(length<3)return c.error(c,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.illegal_parameter}});var cert,asn1,b=record.fragment,msg={certificate_list:readVector(b,3)},certs=[];try{for(;msg.certificate_list.length()>0;)cert=readVector(msg.certificate_list,3),asn1=forge.asn1.fromDer(cert),cert=forge.pki.certificateFromAsn1(asn1,!0),certs.push(cert)}catch(ex){return c.error(c,{message:"Could not parse certificate list.",cause:ex,send:!0,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.bad_certificate}})}var client=c.entity===tls.ConnectionEnd.client;!client&&c.verifyClient!==!0||0!==certs.length?0===certs.length?c.expect=client?SKE:CKE:(client?c.session.serverCertificate=certs[0]:c.session.clientCertificate=certs[0],tls.verifyCertificateChain(c,certs)&&(c.expect=client?SKE:CKE)):c.error(c,{message:client?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.illegal_parameter}}),c.process()},tls.handleServerKeyExchange=function(c,record,length){return length>0?c.error(c,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.unsupported_certificate}}):(c.expect=SCR,void c.process())},tls.handleClientKeyExchange=function(c,record,length){if(length<48)return c.error(c,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.unsupported_certificate}});var b=record.fragment,msg={enc_pre_master_secret:readVector(b,2).getBytes()},privateKey=null;if(c.getPrivateKey)try{privateKey=c.getPrivateKey(c,c.session.serverCertificate),privateKey=forge.pki.privateKeyFromPem(privateKey)}catch(ex){c.error(c,{message:"Could not get private key.",cause:ex,send:!0,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.internal_error}})}if(null===privateKey)return c.error(c,{message:"No private key set.",send:!0,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.internal_error}});try{var sp=c.session.sp;sp.pre_master_secret=privateKey.decrypt(msg.enc_pre_master_secret);var version=c.session.clientHelloVersion;if(version.major!==sp.pre_master_secret.charCodeAt(0)||version.minor!==sp.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch(ex){sp.pre_master_secret=forge.random.getBytes(48)}c.expect=CCC,null!==c.session.clientCertificate&&(c.expect=CCV),c.process()},tls.handleCertificateRequest=function(c,record,length){if(length<3)return c.error(c,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.illegal_parameter}});var b=record.fragment,msg={certificate_types:readVector(b,1),certificate_authorities:readVector(b,2)};c.session.certificateRequest=msg,c.expect=SHD,c.process()},tls.handleCertificateVerify=function(c,record,length){if(length<2)return c.error(c,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.illegal_parameter}});var b=record.fragment;b.read-=4;var msgBytes=b.bytes();b.read+=4;var msg={signature:readVector(b,2).getBytes()},verify=forge.util.createBuffer();verify.putBuffer(c.session.md5.digest()),verify.putBuffer(c.session.sha1.digest()),verify=verify.getBytes();try{var cert=c.session.clientCertificate;if(!cert.publicKey.verify(verify,msg.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");c.session.md5.update(msgBytes),c.session.sha1.update(msgBytes)}catch(ex){return c.error(c,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.handshake_failure}})}c.expect=CCC,c.process()},tls.handleServerHelloDone=function(c,record,length){if(length>0)return c.error(c,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.record_overflow}});if(null===c.serverCertificate){var error={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.insufficient_security}},depth=0,ret=c.verify(c,error.alert.description,depth,[]);if(ret!==!0)return(ret||0===ret)&&("object"!=typeof ret||forge.util.isArray(ret)?"number"==typeof ret&&(error.alert.description=ret):(ret.message&&(error.message=ret.message),ret.alert&&(error.alert.description=ret.alert))),c.error(c,error)}null!==c.session.certificateRequest&&(record=tls.createRecord(c,{type:tls.ContentType.handshake,data:tls.createCertificate(c)}),tls.queue(c,record)),record=tls.createRecord(c,{type:tls.ContentType.handshake,data:tls.createClientKeyExchange(c)}),tls.queue(c,record),c.expect=SER;var callback=function(c,signature){null!==c.session.certificateRequest&&null!==c.session.clientCertificate&&tls.queue(c,tls.createRecord(c,{type:tls.ContentType.handshake,data:tls.createCertificateVerify(c,signature)})),tls.queue(c,tls.createRecord(c,{type:tls.ContentType.change_cipher_spec,data:tls.createChangeCipherSpec()})),c.state.pending=tls.createConnectionState(c),c.state.current.write=c.state.pending.write,tls.queue(c,tls.createRecord(c,{type:tls.ContentType.handshake,data:tls.createFinished(c)})),c.expect=SCC,tls.flush(c),c.process()};return null===c.session.certificateRequest||null===c.session.clientCertificate?callback(c,null):void tls.getClientSignature(c,callback)},tls.handleChangeCipherSpec=function(c,record){if(1!==record.fragment.getByte())return c.error(c,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.illegal_parameter}});var client=c.entity===tls.ConnectionEnd.client;(c.session.resuming&&client||!c.session.resuming&&!client)&&(c.state.pending=tls.createConnectionState(c)),c.state.current.read=c.state.pending.read,(!c.session.resuming&&client||c.session.resuming&&!client)&&(c.state.pending=null),c.expect=client?SFI:CFI,c.process()},tls.handleFinished=function(c,record,length){var b=record.fragment;b.read-=4;var msgBytes=b.bytes();b.read+=4;var vd=record.fragment.getBytes();b=forge.util.createBuffer(),b.putBuffer(c.session.md5.digest()),b.putBuffer(c.session.sha1.digest());var client=c.entity===tls.ConnectionEnd.client,label=client?"server finished":"client finished",sp=c.session.sp,vdl=12,prf=prf_TLS1;return b=prf(sp.master_secret,label,b.getBytes(),vdl),b.getBytes()!==vd?c.error(c,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.decrypt_error}}):(c.session.md5.update(msgBytes),c.session.sha1.update(msgBytes),(c.session.resuming&&client||!c.session.resuming&&!client)&&(tls.queue(c,tls.createRecord(c,{type:tls.ContentType.change_cipher_spec,data:tls.createChangeCipherSpec()})),c.state.current.write=c.state.pending.write,c.state.pending=null,tls.queue(c,tls.createRecord(c,{type:tls.ContentType.handshake,data:tls.createFinished(c)}))),c.expect=client?SAD:CAD,c.handshaking=!1,++c.handshakes,c.peerCertificate=client?c.session.serverCertificate:c.session.clientCertificate,tls.flush(c),c.isConnected=!0,c.connected(c),void c.process())},tls.handleAlert=function(c,record){var msg,b=record.fragment,alert={level:b.getByte(),description:b.getByte()};switch(alert.description){case tls.Alert.Description.close_notify:msg="Connection closed.";break;case tls.Alert.Description.unexpected_message:msg="Unexpected message.";break;case tls.Alert.Description.bad_record_mac:msg="Bad record MAC.";break;case tls.Alert.Description.decryption_failed:msg="Decryption failed.";break;case tls.Alert.Description.record_overflow:msg="Record overflow.";break;case tls.Alert.Description.decompression_failure:msg="Decompression failed.";break;case tls.Alert.Description.handshake_failure:msg="Handshake failure.";break;case tls.Alert.Description.bad_certificate:msg="Bad certificate.";break;case tls.Alert.Description.unsupported_certificate:msg="Unsupported certificate.";break;case tls.Alert.Description.certificate_revoked:msg="Certificate revoked.";break;case tls.Alert.Description.certificate_expired:msg="Certificate expired.";break;case tls.Alert.Description.certificate_unknown:msg="Certificate unknown.";break;case tls.Alert.Description.illegal_parameter:msg="Illegal parameter.";break;case tls.Alert.Description.unknown_ca:msg="Unknown certificate authority.";break;case tls.Alert.Description.access_denied:msg="Access denied.";break;case tls.Alert.Description.decode_error:msg="Decode error.";break;case tls.Alert.Description.decrypt_error:msg="Decrypt error.";break;case tls.Alert.Description.export_restriction:msg="Export restriction.";break;case tls.Alert.Description.protocol_version:msg="Unsupported protocol version.";break;case tls.Alert.Description.insufficient_security:msg="Insufficient security.";break;case tls.Alert.Description.internal_error:msg="Internal error.";break;case tls.Alert.Description.user_canceled:msg="User canceled.";break;case tls.Alert.Description.no_renegotiation:msg="Renegotiation not supported.";break;default:msg="Unknown error."}return alert.description===tls.Alert.Description.close_notify?c.close():(c.error(c,{message:msg,send:!1,origin:c.entity===tls.ConnectionEnd.client?"server":"client",alert:alert}),void c.process())},tls.handleHandshake=function(c,record){var b=record.fragment,type=b.getByte(),length=b.getInt24();if(length>b.length())return c.fragmented=record,record.fragment=forge.util.createBuffer(),b.read-=4,c.process();c.fragmented=null,b.read-=4;var bytes=b.bytes(length+4);b.read+=4,type in hsTable[c.entity][c.expect]?(c.entity!==tls.ConnectionEnd.server||c.open||c.fail||(c.handshaking=!0,c.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:forge.md.md5.create(),sha1:forge.md.sha1.create()}),type!==tls.HandshakeType.hello_request&&type!==tls.HandshakeType.certificate_verify&&type!==tls.HandshakeType.finished&&(c.session.md5.update(bytes),c.session.sha1.update(bytes)),hsTable[c.entity][c.expect][type](c,record,length)):tls.handleUnexpected(c,record)},tls.handleApplicationData=function(c,record){c.data.putBuffer(record.fragment),c.dataReady(c),c.process()},tls.handleHeartbeat=function(c,record){var b=record.fragment,type=b.getByte(),length=b.getInt16(),payload=b.getBytes(length);if(type===tls.HeartbeatMessageType.heartbeat_request){if(c.handshaking||length>payload.length)return c.process();tls.queue(c,tls.createRecord(c,{type:tls.ContentType.heartbeat,data:tls.createHeartbeat(tls.HeartbeatMessageType.heartbeat_response,payload)})),tls.flush(c)}else if(type===tls.HeartbeatMessageType.heartbeat_response){if(payload!==c.expectedHeartbeatPayload)return c.process();c.heartbeatReceived&&c.heartbeatReceived(c,forge.util.createBuffer(payload))}c.process()};var SHE=0,SCE=1,SKE=2,SCR=3,SHD=4,SCC=5,SFI=6,SAD=7,SER=8,CHE=0,CCE=1,CKE=2,CCV=3,CCC=4,CFI=5,CAD=6,__=tls.handleUnexpected,R0=tls.handleChangeCipherSpec,R1=tls.handleAlert,R2=tls.handleHandshake,R3=tls.handleApplicationData,R4=tls.handleHeartbeat,ctTable=[];ctTable[tls.ConnectionEnd.client]=[[__,R1,R2,__,R4],[__,R1,R2,__,R4],[__,R1,R2,__,R4],[__,R1,R2,__,R4],[__,R1,R2,__,R4],[R0,R1,__,__,R4],[__,R1,R2,__,R4],[__,R1,R2,R3,R4],[__,R1,R2,__,R4]],ctTable[tls.ConnectionEnd.server]=[[__,R1,R2,__,R4],[__,R1,R2,__,R4],[__,R1,R2,__,R4],[__,R1,R2,__,R4],[R0,R1,__,__,R4],[__,R1,R2,__,R4],[__,R1,R2,R3,R4],[__,R1,R2,__,R4]];var H0=tls.handleHelloRequest,H1=tls.handleServerHello,H2=tls.handleCertificate,H3=tls.handleServerKeyExchange,H4=tls.handleCertificateRequest,H5=tls.handleServerHelloDone,H6=tls.handleFinished,hsTable=[];hsTable[tls.ConnectionEnd.client]=[[__,__,H1,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__],[H0,__,__,__,__,__,__,__,__,__,__,H2,H3,H4,H5,__,__,__,__,__,__],[H0,__,__,__,__,__,__,__,__,__,__,__,H3,H4,H5,__,__,__,__,__,__],[H0,__,__,__,__,__,__,__,__,__,__,__,__,H4,H5,__,__,__,__,__,__],[H0,__,__,__,__,__,__,__,__,__,__,__,__,__,H5,__,__,__,__,__,__],[H0,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__],[H0,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,H6],[H0,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__],[H0,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__]];var H7=tls.handleClientHello,H8=tls.handleClientKeyExchange,H9=tls.handleCertificateVerify;hsTable[tls.ConnectionEnd.server]=[[__,H7,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__],[__,__,__,__,__,__,__,__,__,__,__,H2,__,__,__,__,__,__,__,__,__],[__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,H8,__,__,__,__],[__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,H9,__,__,__,__,__],[__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__],[__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,H6],[__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__],[__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__,__]],tls.generateKeys=function(c,sp){var prf=prf_TLS1,random=sp.client_random+sp.server_random;c.session.resuming||(sp.master_secret=prf(sp.pre_master_secret,"master secret",random,48).bytes(),sp.pre_master_secret=null),random=sp.server_random+sp.client_random;var length=2*sp.mac_key_length+2*sp.enc_key_length,tls10=c.version.major===tls.Versions.TLS_1_0.major&&c.version.minor===tls.Versions.TLS_1_0.minor;tls10&&(length+=2*sp.fixed_iv_length);var km=prf(sp.master_secret,"key expansion",random,length),rval={client_write_MAC_key:km.getBytes(sp.mac_key_length),server_write_MAC_key:km.getBytes(sp.mac_key_length),client_write_key:km.getBytes(sp.enc_key_length),server_write_key:km.getBytes(sp.enc_key_length)};return tls10&&(rval.client_write_IV=km.getBytes(sp.fixed_iv_length),rval.server_write_IV=km.getBytes(sp.fixed_iv_length)),rval},tls.createConnectionState=function(c){var client=c.entity===tls.ConnectionEnd.client,createMode=function(){var mode={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(record){return!0},compressionState:null,compressFunction:function(record){return!0},updateSequenceNumber:function(){4294967295===mode.sequenceNumber[1]?(mode.sequenceNumber[1]=0,++mode.sequenceNumber[0]):++mode.sequenceNumber[1]}};return mode},state={read:createMode(),write:createMode()};if(state.read.update=function(c,record){return state.read.cipherFunction(record,state.read)?state.read.compressFunction(c,record,state.read)||c.error(c,{message:"Could not decompress record.",send:!0,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.decompression_failure}}):c.error(c,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.bad_record_mac}}),!c.fail},state.write.update=function(c,record){return state.write.compressFunction(c,record,state.write)?state.write.cipherFunction(record,state.write)||c.error(c,{message:"Could not encrypt record.",send:!1,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.internal_error}}):c.error(c,{message:"Could not compress record.",send:!1,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.internal_error}}),!c.fail},c.session){var sp=c.session.sp;switch(c.session.cipherSuite.initSecurityParameters(sp),sp.keys=tls.generateKeys(c,sp),state.read.macKey=client?sp.keys.server_write_MAC_key:sp.keys.client_write_MAC_key,state.write.macKey=client?sp.keys.client_write_MAC_key:sp.keys.server_write_MAC_key,c.session.cipherSuite.initConnectionState(state,c,sp),sp.compression_algorithm){case tls.CompressionMethod.none:break;case tls.CompressionMethod.deflate:state.read.compressFunction=inflate,state.write.compressFunction=deflate;break;default:throw new Error("Unsupported compression algorithm.")}}return state},tls.createRandom=function(){var d=new Date,utc=+d+6e4*d.getTimezoneOffset(),rval=forge.util.createBuffer();return rval.putInt32(utc),rval.putBytes(forge.random.getBytes(28)),rval},tls.createRecord=function(c,options){if(!options.data)return null;var record={type:options.type,version:{major:c.version.major,minor:c.version.minor},length:options.data.length(),fragment:options.data};return record},tls.createAlert=function(c,alert){var b=forge.util.createBuffer();return b.putByte(alert.level),b.putByte(alert.description),tls.createRecord(c,{type:tls.ContentType.alert,data:b})},tls.createClientHello=function(c){c.session.clientHelloVersion={major:c.version.major,minor:c.version.minor};for(var cipherSuites=forge.util.createBuffer(),i=0;i<c.cipherSuites.length;++i){var cs=c.cipherSuites[i];cipherSuites.putByte(cs.id[0]),cipherSuites.putByte(cs.id[1])}var cSuites=cipherSuites.length(),compressionMethods=forge.util.createBuffer();compressionMethods.putByte(tls.CompressionMethod.none);var cMethods=compressionMethods.length(),extensions=forge.util.createBuffer();if(c.virtualHost){var ext=forge.util.createBuffer();ext.putByte(0),ext.putByte(0);var serverName=forge.util.createBuffer();serverName.putByte(0),writeVector(serverName,2,forge.util.createBuffer(c.virtualHost));var snList=forge.util.createBuffer();writeVector(snList,2,serverName),writeVector(ext,2,snList),extensions.putBuffer(ext)}var extLength=extensions.length();extLength>0&&(extLength+=2);var sessionId=c.session.id,length=sessionId.length+1+2+4+28+2+cSuites+1+cMethods+extLength,rval=forge.util.createBuffer();return rval.putByte(tls.HandshakeType.client_hello),rval.putInt24(length),rval.putByte(c.version.major),rval.putByte(c.version.minor),rval.putBytes(c.session.sp.client_random),writeVector(rval,1,forge.util.createBuffer(sessionId)),writeVector(rval,2,cipherSuites),writeVector(rval,1,compressionMethods),extLength>0&&writeVector(rval,2,extensions),rval},tls.createServerHello=function(c){var sessionId=c.session.id,length=sessionId.length+1+2+4+28+2+1,rval=forge.util.createBuffer();return rval.putByte(tls.HandshakeType.server_hello),rval.putInt24(length),rval.putByte(c.version.major),rval.putByte(c.version.minor),rval.putBytes(c.session.sp.server_random),writeVector(rval,1,forge.util.createBuffer(sessionId)),rval.putByte(c.session.cipherSuite.id[0]),rval.putByte(c.session.cipherSuite.id[1]),rval.putByte(c.session.compressionMethod),rval},tls.createCertificate=function(c){var client=c.entity===tls.ConnectionEnd.client,cert=null;if(c.getCertificate){var hint;hint=client?c.session.certificateRequest:c.session.extensions.server_name.serverNameList,cert=c.getCertificate(c,hint)}var certList=forge.util.createBuffer();if(null!==cert)try{forge.util.isArray(cert)||(cert=[cert]);for(var asn1=null,i=0;i<cert.length;++i){var msg=forge.pem.decode(cert[i])[0];if("CERTIFICATE"!==msg.type&&"X509 CERTIFICATE"!==msg.type&&"TRUSTED CERTIFICATE"!==msg.type){var error=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw error.headerType=msg.type,error}if(msg.procType&&"ENCRYPTED"===msg.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var der=forge.util.createBuffer(msg.body);null===asn1&&(asn1=forge.asn1.fromDer(der.bytes(),!1));var certBuffer=forge.util.createBuffer();writeVector(certBuffer,3,der),certList.putBuffer(certBuffer)}cert=forge.pki.certificateFromAsn1(asn1),client?c.session.clientCertificate=cert:c.session.serverCertificate=cert}catch(ex){return c.error(c,{message:"Could not send certificate list.",cause:ex,send:!0,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.bad_certificate}})}var length=3+certList.length(),rval=forge.util.createBuffer();return rval.putByte(tls.HandshakeType.certificate),rval.putInt24(length),writeVector(rval,3,certList),rval},tls.createClientKeyExchange=function(c){var b=forge.util.createBuffer();b.putByte(c.session.clientHelloVersion.major),b.putByte(c.session.clientHelloVersion.minor),b.putBytes(forge.random.getBytes(46));var sp=c.session.sp;sp.pre_master_secret=b.getBytes();var key=c.session.serverCertificate.publicKey;b=key.encrypt(sp.pre_master_secret);var length=b.length+2,rval=forge.util.createBuffer();return rval.putByte(tls.HandshakeType.client_key_exchange),rval.putInt24(length),rval.putInt16(b.length),rval.putBytes(b),rval},tls.createServerKeyExchange=function(c){var length=0,rval=forge.util.createBuffer();return length>0&&(rval.putByte(tls.HandshakeType.server_key_exchange),rval.putInt24(length)),rval},tls.getClientSignature=function(c,callback){var b=forge.util.createBuffer();b.putBuffer(c.session.md5.digest()),b.putBuffer(c.session.sha1.digest()),b=b.getBytes(),c.getSignature=c.getSignature||function(c,b,callback){var privateKey=null;if(c.getPrivateKey)try{privateKey=c.getPrivateKey(c,c.session.clientCertificate),privateKey=forge.pki.privateKeyFromPem(privateKey)}catch(ex){c.error(c,{message:"Could not get private key.",cause:ex,send:!0,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.internal_error}})}null===privateKey?c.error(c,{message:"No private key set.",send:!0,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.internal_error}}):b=privateKey.sign(b,null),callback(c,b)},c.getSignature(c,b,callback)},tls.createCertificateVerify=function(c,signature){var length=signature.length+2,rval=forge.util.createBuffer();return rval.putByte(tls.HandshakeType.certificate_verify),rval.putInt24(length),rval.putInt16(signature.length),rval.putBytes(signature),rval},tls.createCertificateRequest=function(c){var certTypes=forge.util.createBuffer();certTypes.putByte(1);var cAs=forge.util.createBuffer();for(var key in c.caStore.certs){var cert=c.caStore.certs[key],dn=forge.pki.distinguishedNameToAsn1(cert.subject);cAs.putBuffer(forge.asn1.toDer(dn))}var length=1+certTypes.length()+2+cAs.length(),rval=forge.util.createBuffer();return rval.putByte(tls.HandshakeType.certificate_request),rval.putInt24(length),writeVector(rval,1,certTypes),writeVector(rval,2,cAs),rval},tls.createServerHelloDone=function(c){var rval=forge.util.createBuffer();return rval.putByte(tls.HandshakeType.server_hello_done),rval.putInt24(0),rval},tls.createChangeCipherSpec=function(){var rval=forge.util.createBuffer();return rval.putByte(1),rval},tls.createFinished=function(c){var b=forge.util.createBuffer();b.putBuffer(c.session.md5.digest()),b.putBuffer(c.session.sha1.digest());var client=c.entity===tls.ConnectionEnd.client,sp=c.session.sp,vdl=12,prf=prf_TLS1,label=client?"client finished":"server finished";b=prf(sp.master_secret,label,b.getBytes(),vdl);var rval=forge.util.createBuffer();return rval.putByte(tls.HandshakeType.finished),rval.putInt24(b.length()),rval.putBuffer(b),rval},tls.createHeartbeat=function(type,payload,payloadLength){"undefined"==typeof payloadLength&&(payloadLength=payload.length);var rval=forge.util.createBuffer();rval.putByte(type),rval.putInt16(payloadLength),rval.putBytes(payload);var plaintextLength=rval.length(),paddingLength=Math.max(16,plaintextLength-payloadLength-3);return rval.putBytes(forge.random.getBytes(paddingLength)),rval},tls.queue=function(c,record){if(record){if(record.type===tls.ContentType.handshake){var bytes=record.fragment.bytes();c.session.md5.update(bytes),c.session.sha1.update(bytes),bytes=null}var records;if(record.fragment.length()<=tls.MaxFragment)records=[record];else{records=[];for(var data=record.fragment.bytes();data.length>tls.MaxFragment;)records.push(tls.createRecord(c,{type:record.type,data:forge.util.createBuffer(data.slice(0,tls.MaxFragment))})),data=data.slice(tls.MaxFragment);data.length>0&&records.push(tls.createRecord(c,{type:record.type,data:forge.util.createBuffer(data)
}))}for(var i=0;i<records.length&&!c.fail;++i){var rec=records[i],s=c.state.current.write;s.update(c,rec)&&c.records.push(rec)}}},tls.flush=function(c){for(var i=0;i<c.records.length;++i){var record=c.records[i];c.tlsData.putByte(record.type),c.tlsData.putByte(record.version.major),c.tlsData.putByte(record.version.minor),c.tlsData.putInt16(record.fragment.length()),c.tlsData.putBuffer(c.records[i].fragment)}return c.records=[],c.tlsDataReady(c)};var _certErrorToAlertDesc=function(error){switch(error){case!0:return!0;case forge.pki.certificateError.bad_certificate:return tls.Alert.Description.bad_certificate;case forge.pki.certificateError.unsupported_certificate:return tls.Alert.Description.unsupported_certificate;case forge.pki.certificateError.certificate_revoked:return tls.Alert.Description.certificate_revoked;case forge.pki.certificateError.certificate_expired:return tls.Alert.Description.certificate_expired;case forge.pki.certificateError.certificate_unknown:return tls.Alert.Description.certificate_unknown;case forge.pki.certificateError.unknown_ca:return tls.Alert.Description.unknown_ca;default:return tls.Alert.Description.bad_certificate}},_alertDescToCertError=function(desc){switch(desc){case!0:return!0;case tls.Alert.Description.bad_certificate:return forge.pki.certificateError.bad_certificate;case tls.Alert.Description.unsupported_certificate:return forge.pki.certificateError.unsupported_certificate;case tls.Alert.Description.certificate_revoked:return forge.pki.certificateError.certificate_revoked;case tls.Alert.Description.certificate_expired:return forge.pki.certificateError.certificate_expired;case tls.Alert.Description.certificate_unknown:return forge.pki.certificateError.certificate_unknown;case tls.Alert.Description.unknown_ca:return forge.pki.certificateError.unknown_ca;default:return forge.pki.certificateError.bad_certificate}};tls.verifyCertificateChain=function(c,chain){try{forge.pki.verifyCertificateChain(c.caStore,chain,function(vfd,depth,chain){var ret=(_certErrorToAlertDesc(vfd),c.verify(c,vfd,depth,chain));if(ret!==!0){if("object"==typeof ret&&!forge.util.isArray(ret)){var error=new Error("The application rejected the certificate.");throw error.send=!0,error.alert={level:tls.Alert.Level.fatal,description:tls.Alert.Description.bad_certificate},ret.message&&(error.message=ret.message),ret.alert&&(error.alert.description=ret.alert),error}ret!==vfd&&(ret=_alertDescToCertError(ret))}return ret})}catch(ex){var err=ex;("object"!=typeof err||forge.util.isArray(err))&&(err={send:!0,alert:{level:tls.Alert.Level.fatal,description:_certErrorToAlertDesc(ex)}}),"send"in err||(err.send=!0),"alert"in err||(err.alert={level:tls.Alert.Level.fatal,description:_certErrorToAlertDesc(err.error)}),c.error(c,err)}return!c.fail},tls.createSessionCache=function(cache,capacity){var rval=null;if(cache&&cache.getSession&&cache.setSession&&cache.order)rval=cache;else{rval={},rval.cache=cache||{},rval.capacity=Math.max(capacity||100,1),rval.order=[];for(var key in cache)rval.order.length<=capacity?rval.order.push(key):delete cache[key];rval.getSession=function(sessionId){var session=null,key=null;if(sessionId?key=forge.util.bytesToHex(sessionId):rval.order.length>0&&(key=rval.order[0]),null!==key&&key in rval.cache){session=rval.cache[key],delete rval.cache[key];for(var i in rval.order)if(rval.order[i]===key){rval.order.splice(i,1);break}}return session},rval.setSession=function(sessionId,session){if(rval.order.length===rval.capacity){var key=rval.order.shift();delete rval.cache[key]}var key=forge.util.bytesToHex(sessionId);rval.order.push(key),rval.cache[key]=session}}return rval},tls.createConnection=function(options){var caStore=null;caStore=options.caStore?forge.util.isArray(options.caStore)?forge.pki.createCaStore(options.caStore):options.caStore:forge.pki.createCaStore();var cipherSuites=options.cipherSuites||null;if(null===cipherSuites){cipherSuites=[];for(var key in tls.CipherSuites)cipherSuites.push(tls.CipherSuites[key])}var entity=options.server?tls.ConnectionEnd.server:tls.ConnectionEnd.client,sessionCache=options.sessionCache?tls.createSessionCache(options.sessionCache):null,c={version:{major:tls.Version.major,minor:tls.Version.minor},entity:entity,sessionId:options.sessionId,caStore:caStore,sessionCache:sessionCache,cipherSuites:cipherSuites,connected:options.connected,virtualHost:options.virtualHost||null,verifyClient:options.verifyClient||!1,verify:options.verify||function(cn,vfd,dpth,cts){return vfd},getCertificate:options.getCertificate||null,getPrivateKey:options.getPrivateKey||null,getSignature:options.getSignature||null,input:forge.util.createBuffer(),tlsData:forge.util.createBuffer(),data:forge.util.createBuffer(),tlsDataReady:options.tlsDataReady,dataReady:options.dataReady,heartbeatReceived:options.heartbeatReceived,closed:options.closed,error:function(c,ex){ex.origin=ex.origin||(c.entity===tls.ConnectionEnd.client?"client":"server"),ex.send&&(tls.queue(c,tls.createAlert(c,ex.alert)),tls.flush(c));var fatal=ex.fatal!==!1;fatal&&(c.fail=!0),options.error(c,ex),fatal&&c.close(!1)},deflate:options.deflate||null,inflate:options.inflate||null};c.reset=function(clearFail){c.version={major:tls.Version.major,minor:tls.Version.minor},c.record=null,c.session=null,c.peerCertificate=null,c.state={pending:null,current:null},c.expect=c.entity===tls.ConnectionEnd.client?SHE:CHE,c.fragmented=null,c.records=[],c.open=!1,c.handshakes=0,c.handshaking=!1,c.isConnected=!1,c.fail=!(clearFail||"undefined"==typeof clearFail),c.input.clear(),c.tlsData.clear(),c.data.clear(),c.state.current=tls.createConnectionState(c)},c.reset();var _update=function(c,record){var aligned=record.type-tls.ContentType.change_cipher_spec,handlers=ctTable[c.entity][c.expect];aligned in handlers?handlers[aligned](c,record):tls.handleUnexpected(c,record)},_readRecordHeader=function(c){var rval=0,b=c.input,len=b.length();if(len<5)rval=5-len;else{c.record={type:b.getByte(),version:{major:b.getByte(),minor:b.getByte()},length:b.getInt16(),fragment:forge.util.createBuffer(),ready:!1};var compatibleVersion=c.record.version.major===c.version.major;compatibleVersion&&c.session&&c.session.version&&(compatibleVersion=c.record.version.minor===c.version.minor),compatibleVersion||c.error(c,{message:"Incompatible TLS version.",send:!0,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.protocol_version}})}return rval},_readRecord=function(c){var rval=0,b=c.input,len=b.length();if(len<c.record.length)rval=c.record.length-len;else{c.record.fragment.putBytes(b.getBytes(c.record.length)),b.compact();var s=c.state.current.read;s.update(c,c.record)&&(null!==c.fragmented&&(c.fragmented.type===c.record.type?(c.fragmented.fragment.putBuffer(c.record.fragment),c.record=c.fragmented):c.error(c,{message:"Invalid fragmented record.",send:!0,alert:{level:tls.Alert.Level.fatal,description:tls.Alert.Description.unexpected_message}})),c.record.ready=!0)}return rval};return c.handshake=function(sessionId){if(c.entity!==tls.ConnectionEnd.client)c.error(c,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(c.handshaking)c.error(c,{message:"Handshake already in progress.",fatal:!1});else{c.fail&&!c.open&&0===c.handshakes&&(c.fail=!1),c.handshaking=!0,sessionId=sessionId||"";var session=null;sessionId.length>0&&(c.sessionCache&&(session=c.sessionCache.getSession(sessionId)),null===session&&(sessionId="")),0===sessionId.length&&c.sessionCache&&(session=c.sessionCache.getSession(),null!==session&&(sessionId=session.id)),c.session={id:sessionId,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:forge.md.md5.create(),sha1:forge.md.sha1.create()},session&&(c.version=session.version,c.session.sp=session.sp),c.session.sp.client_random=tls.createRandom().getBytes(),c.open=!0,tls.queue(c,tls.createRecord(c,{type:tls.ContentType.handshake,data:tls.createClientHello(c)})),tls.flush(c)}},c.process=function(data){var rval=0;return data&&c.input.putBytes(data),c.fail||(null!==c.record&&c.record.ready&&c.record.fragment.isEmpty()&&(c.record=null),null===c.record&&(rval=_readRecordHeader(c)),c.fail||null===c.record||c.record.ready||(rval=_readRecord(c)),!c.fail&&null!==c.record&&c.record.ready&&_update(c,c.record)),rval},c.prepare=function(data){return tls.queue(c,tls.createRecord(c,{type:tls.ContentType.application_data,data:forge.util.createBuffer(data)})),tls.flush(c)},c.prepareHeartbeatRequest=function(payload,payloadLength){return payload instanceof forge.util.ByteBuffer&&(payload=payload.bytes()),"undefined"==typeof payloadLength&&(payloadLength=payload.length),c.expectedHeartbeatPayload=payload,tls.queue(c,tls.createRecord(c,{type:tls.ContentType.heartbeat,data:tls.createHeartbeat(tls.HeartbeatMessageType.heartbeat_request,payload,payloadLength)})),tls.flush(c)},c.close=function(clearFail){if(!c.fail&&c.sessionCache&&c.session){var session={id:c.session.id,version:c.session.version,sp:c.session.sp};session.sp.keys=null,c.sessionCache.setSession(session.id,session)}c.open&&(c.open=!1,c.input.clear(),(c.isConnected||c.handshaking)&&(c.isConnected=c.handshaking=!1,tls.queue(c,tls.createAlert(c,{level:tls.Alert.Level.warning,description:tls.Alert.Description.close_notify})),tls.flush(c)),c.closed(c)),c.reset(clearFail)},c},forge.tls=forge.tls||{};for(var key in tls)"function"!=typeof tls[key]&&(forge.tls[key]=tls[key]);forge.tls.prf_tls1=prf_TLS1,forge.tls.hmac_sha1=hmac_sha1,forge.tls.createSessionCache=tls.createSessionCache,forge.tls.createConnection=tls.createConnection}var name="tls";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/tls",["require","module","./asn1","./hmac","./md","./pem","./pki","./random","./util"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){function initConnectionState(state,c,sp){var client=c.entity===forge.tls.ConnectionEnd.client;state.read.cipherState={init:!1,cipher:forge.cipher.createDecipher("AES-CBC",client?sp.keys.server_write_key:sp.keys.client_write_key),iv:client?sp.keys.server_write_IV:sp.keys.client_write_IV},state.write.cipherState={init:!1,cipher:forge.cipher.createCipher("AES-CBC",client?sp.keys.client_write_key:sp.keys.server_write_key),iv:client?sp.keys.client_write_IV:sp.keys.server_write_IV},state.read.cipherFunction=decrypt_aes_cbc_sha1,state.write.cipherFunction=encrypt_aes_cbc_sha1,state.read.macLength=state.write.macLength=sp.mac_length,state.read.macFunction=state.write.macFunction=tls.hmac_sha1}function encrypt_aes_cbc_sha1(record,s){var rval=!1,mac=s.macFunction(s.macKey,s.sequenceNumber,record);record.fragment.putBytes(mac),s.updateSequenceNumber();var iv;iv=record.version.minor===tls.Versions.TLS_1_0.minor?s.cipherState.init?null:s.cipherState.iv:forge.random.getBytesSync(16),s.cipherState.init=!0;var cipher=s.cipherState.cipher;return cipher.start({iv:iv}),record.version.minor>=tls.Versions.TLS_1_1.minor&&cipher.output.putBytes(iv),cipher.update(record.fragment),cipher.finish(encrypt_aes_cbc_sha1_padding)&&(record.fragment=cipher.output,record.length=record.fragment.length(),rval=!0),rval}function encrypt_aes_cbc_sha1_padding(blockSize,input,decrypt){if(!decrypt){var padding=blockSize-input.length()%blockSize;input.fillWithByte(padding-1,padding)}return!0}function decrypt_aes_cbc_sha1_padding(blockSize,output,decrypt){var rval=!0;if(decrypt){for(var len=output.length(),paddingLength=output.last(),i=len-1-paddingLength;i<len-1;++i)rval=rval&&output.at(i)==paddingLength;rval&&output.truncate(paddingLength+1)}return rval}function decrypt_aes_cbc_sha1(record,s){var rval=!1;++count;var iv;iv=record.version.minor===tls.Versions.TLS_1_0.minor?s.cipherState.init?null:s.cipherState.iv:record.fragment.getBytes(16),s.cipherState.init=!0;var cipher=s.cipherState.cipher;cipher.start({iv:iv}),cipher.update(record.fragment),rval=cipher.finish(decrypt_aes_cbc_sha1_padding);var macLen=s.macLength,mac=forge.random.getBytesSync(macLen),len=cipher.output.length();len>=macLen?(record.fragment=cipher.output.getBytes(len-macLen),mac=cipher.output.getBytes(macLen)):record.fragment=cipher.output.getBytes(),record.fragment=forge.util.createBuffer(record.fragment),record.length=record.fragment.length();var mac2=s.macFunction(s.macKey,s.sequenceNumber,record);return s.updateSequenceNumber(),rval=compareMacs(s.macKey,mac,mac2)&&rval}function compareMacs(key,mac1,mac2){var hmac=forge.hmac.create();return hmac.start("SHA1",key),hmac.update(mac1),mac1=hmac.digest().getBytes(),hmac.start(null,null),hmac.update(mac2),mac2=hmac.digest().getBytes(),mac1===mac2}var tls=forge.tls;tls.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(sp){sp.bulk_cipher_algorithm=tls.BulkCipherAlgorithm.aes,sp.cipher_type=tls.CipherType.block,sp.enc_key_length=16,sp.block_length=16,sp.fixed_iv_length=16,sp.record_iv_length=16,sp.mac_algorithm=tls.MACAlgorithm.hmac_sha1,sp.mac_length=20,sp.mac_key_length=20},initConnectionState:initConnectionState},tls.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(sp){sp.bulk_cipher_algorithm=tls.BulkCipherAlgorithm.aes,sp.cipher_type=tls.CipherType.block,sp.enc_key_length=32,sp.block_length=16,sp.fixed_iv_length=16,sp.record_iv_length=16,sp.mac_algorithm=tls.MACAlgorithm.hmac_sha1,sp.mac_length=20,sp.mac_key_length=20},initConnectionState:initConnectionState};var count=0}var name="aesCipherSuites";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/aesCipherSuites",["require","module","./aes","./tls"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){forge.debug=forge.debug||{},forge.debug.storage={},forge.debug.get=function(cat,name){var rval;return"undefined"==typeof cat?rval=forge.debug.storage:cat in forge.debug.storage&&(rval="undefined"==typeof name?forge.debug.storage[cat]:forge.debug.storage[cat][name]),rval},forge.debug.set=function(cat,name,data){cat in forge.debug.storage||(forge.debug.storage[cat]={}),forge.debug.storage[cat][name]=data},forge.debug.clear=function(cat,name){"undefined"==typeof cat?forge.debug.storage={}:cat in forge.debug.storage&&("undefined"==typeof name?delete forge.debug.storage[cat]:delete forge.debug.storage[cat][name])}}var name="debug";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/debug",["require","module"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){function _createKDF(kdf,md,counterStart,digestLength){kdf.generate=function(x,length){for(var key=new forge.util.ByteBuffer,k=Math.ceil(length/digestLength)+counterStart,c=new forge.util.ByteBuffer,i=counterStart;i<k;++i){c.putInt32(i),md.start(),md.update(x+c.getBytes());var hash=md.digest();key.putBytes(hash.getBytes(digestLength))}return key.truncate(key.length()-length),key.getBytes()}}forge.kem=forge.kem||{};var BigInteger=forge.jsbn.BigInteger;forge.kem.rsa={},forge.kem.rsa.create=function(kdf,options){options=options||{};var prng=options.prng||forge.random,kem={};return kem.encrypt=function(publicKey,keyLength){var r,byteLength=Math.ceil(publicKey.n.bitLength()/8);do r=new BigInteger(forge.util.bytesToHex(prng.getBytesSync(byteLength)),16).mod(publicKey.n);while(r.equals(BigInteger.ZERO));r=forge.util.hexToBytes(r.toString(16));var zeros=byteLength-r.length;zeros>0&&(r=forge.util.fillString(String.fromCharCode(0),zeros)+r);var encapsulation=publicKey.encrypt(r,"NONE"),key=kdf.generate(r,keyLength);return{encapsulation:encapsulation,key:key}},kem.decrypt=function(privateKey,encapsulation,keyLength){var r=privateKey.decrypt(encapsulation,"NONE");return kdf.generate(r,keyLength)},kem},forge.kem.kdf1=function(md,digestLength){_createKDF(this,md,0,digestLength||md.digestLength)},forge.kem.kdf2=function(md,digestLength){_createKDF(this,md,1,digestLength||md.digestLength)}}var name="kem";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/kem",["require","module","./util","./random","./jsbn"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){forge.log=forge.log||{},forge.log.levels=["none","error","warning","info","debug","verbose","max"];var sLevelInfo={},sLoggers=[],sConsoleLogger=null;forge.log.LEVEL_LOCKED=2,forge.log.NO_LEVEL_CHECK=4,forge.log.INTERPOLATE=8;for(var i=0;i<forge.log.levels.length;++i){var level=forge.log.levels[i];sLevelInfo[level]={index:i,name:level.toUpperCase()}}forge.log.logMessage=function(message){for(var messageLevelIndex=sLevelInfo[message.level].index,i=0;i<sLoggers.length;++i){var logger=sLoggers[i];if(logger.flags&forge.log.NO_LEVEL_CHECK)logger.f(message);else{var loggerLevelIndex=sLevelInfo[logger.level].index;messageLevelIndex<=loggerLevelIndex&&logger.f(logger,message)}}},forge.log.prepareStandard=function(message){"standard"in message||(message.standard=sLevelInfo[message.level].name+" ["+message.category+"] "+message.message)},forge.log.prepareFull=function(message){if(!("full"in message)){var args=[message.message];args=args.concat([]||message.arguments),message.full=forge.util.format.apply(this,args)}},forge.log.prepareStandardFull=function(message){"standardFull"in message||(forge.log.prepareStandard(message),message.standardFull=message.standard)};for(var levels=["error","warning","info","debug","verbose"],i=0;i<levels.length;++i)!function(level){forge.log[level]=function(category,message){var args=Array.prototype.slice.call(arguments).slice(2),msg={timestamp:new Date,level:level,category:category,message:message,arguments:args};forge.log.logMessage(msg)}}(levels[i]);if(forge.log.makeLogger=function(logFunction){var logger={flags:0,f:logFunction};return forge.log.setLevel(logger,"none"),logger},forge.log.setLevel=function(logger,level){var rval=!1;if(logger&&!(logger.flags&forge.log.LEVEL_LOCKED))for(var i=0;i<forge.log.levels.length;++i){var aValidLevel=forge.log.levels[i];if(level==aValidLevel){logger.level=level,rval=!0;break}}return rval},forge.log.lock=function(logger,lock){"undefined"==typeof lock||lock?logger.flags|=forge.log.LEVEL_LOCKED:logger.flags&=~forge.log.LEVEL_LOCKED},forge.log.addLogger=function(logger){sLoggers.push(logger)},"undefined"!=typeof console&&"log"in console){var logger;if(console.error&&console.warn&&console.info&&console.debug){var levelHandlers={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},f=function(logger,message){forge.log.prepareStandard(message);var handler=levelHandlers[message.level],args=[message.standard];args=args.concat(message.arguments.slice()),handler.apply(console,args)};logger=forge.log.makeLogger(f)}else{var f=function(logger,message){forge.log.prepareStandardFull(message),console.log(message.standardFull)};logger=forge.log.makeLogger(f)}forge.log.setLevel(logger,"debug"),forge.log.addLogger(logger),sConsoleLogger=logger}else console={log:function(){}};if(null!==sConsoleLogger){var query=forge.util.getQueryVariables();if("console.level"in query&&forge.log.setLevel(sConsoleLogger,query["console.level"].slice(-1)[0]),"console.lock"in query){var lock=query["console.lock"].slice(-1)[0];"true"==lock&&forge.log.lock(sConsoleLogger)}}forge.log.consoleLogger=sConsoleLogger}var name="log";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/log",["require","module","./util"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){function _recipientFromAsn1(obj){var capture={},errors=[];if(!asn1.validate(obj,p7.asn1.recipientInfoValidator,capture,errors)){var error=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw error.errors=errors,error}return{version:capture.version.charCodeAt(0),issuer:forge.pki.RDNAttributesAsArray(capture.issuer),serialNumber:forge.util.createBuffer(capture.serial).toHex(),encryptedContent:{algorithm:asn1.derToOid(capture.encAlgorithm),parameter:capture.encParameter.value,content:capture.encKey}}}function _recipientToAsn1(obj){return asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,asn1.integerToDer(obj.version).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[forge.pki.distinguishedNameToAsn1({attributes:obj.issuer}),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,forge.util.hexToBytes(obj.serialNumber))]),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(obj.encryptedContent.algorithm).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.NULL,!1,"")]),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,obj.encryptedContent.content)])}function _recipientsFromAsn1(infos){for(var ret=[],i=0;i<infos.length;++i)ret.push(_recipientFromAsn1(infos[i]));return ret}function _recipientsToAsn1(recipients){for(var ret=[],i=0;i<recipients.length;++i)ret.push(_recipientToAsn1(recipients[i]));return ret}function _signerToAsn1(obj){var rval=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,asn1.integerToDer(obj.version).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[forge.pki.distinguishedNameToAsn1({attributes:obj.issuer}),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,forge.util.hexToBytes(obj.serialNumber))]),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(obj.digestAlgorithm).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.NULL,!1,"")])]);if(obj.authenticatedAttributesAsn1&&rval.value.push(obj.authenticatedAttributesAsn1),rval.value.push(asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(obj.signatureAlgorithm).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.NULL,!1,"")])),rval.value.push(asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,obj.signature)),obj.unauthenticatedAttributes.length>0){for(var attrsAsn1=asn1.create(asn1.Class.CONTEXT_SPECIFIC,1,!0,[]),i=0;i<obj.unauthenticatedAttributes.length;++i){var attr=obj.unauthenticatedAttributes[i];attrsAsn1.values.push(_attributeToAsn1(attr))}rval.value.push(attrsAsn1)}return rval}function _signersToAsn1(signers){for(var ret=[],i=0;i<signers.length;++i)ret.push(_signerToAsn1(signers[i]));return ret}function _attributeToAsn1(attr){var value;if(attr.type===forge.pki.oids.contentType)value=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(attr.value).getBytes());else if(attr.type===forge.pki.oids.messageDigest)value=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,attr.value.bytes());else if(attr.type===forge.pki.oids.signingTime){var jan_1_1950=new Date("Jan 1, 1950 00:00:00Z"),jan_1_2050=new Date("Jan 1, 2050 00:00:00Z"),date=attr.value;if("string"==typeof date){var timestamp=Date.parse(date);date=isNaN(timestamp)?13===date.length?asn1.utcTimeToDate(date):asn1.generalizedTimeToDate(date):new Date(timestamp)}value=date>=jan_1_1950&&date<jan_1_2050?asn1.create(asn1.Class.UNIVERSAL,asn1.Type.UTCTIME,!1,asn1.dateToUtcTime(date)):asn1.create(asn1.Class.UNIVERSAL,asn1.Type.GENERALIZEDTIME,!1,asn1.dateToGeneralizedTime(date))}return asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(attr.type).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SET,!0,[value])])}function _encryptedContentToAsn1(ec){return[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(forge.pki.oids.data).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(ec.algorithm).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,ec.parameter.getBytes())]),asn1.create(asn1.Class.CONTEXT_SPECIFIC,0,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,ec.content.getBytes())])]}function _fromAsn1(msg,obj,validator){var capture={},errors=[];if(!asn1.validate(obj,validator,capture,errors)){var error=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw error.errors=error,error}var contentType=asn1.derToOid(capture.contentType);if(contentType!==forge.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(capture.encryptedContent){var content="";if(forge.util.isArray(capture.encryptedContent))for(var i=0;i<capture.encryptedContent.length;++i){if(capture.encryptedContent[i].type!==asn1.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");content+=capture.encryptedContent[i].value}else content=capture.encryptedContent;msg.encryptedContent={algorithm:asn1.derToOid(capture.encAlgorithm),parameter:forge.util.createBuffer(capture.encParameter.value),content:forge.util.createBuffer(content)}}if(capture.content){var content="";if(forge.util.isArray(capture.content))for(var i=0;i<capture.content.length;++i){if(capture.content[i].type!==asn1.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");content+=capture.content[i].value}else content=capture.content;msg.content=forge.util.createBuffer(content)}return msg.version=capture.version.charCodeAt(0),msg.rawCapture=capture,capture}function _decryptContent(msg){if(void 0===msg.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===msg.content){var ciph;switch(msg.encryptedContent.algorithm){case forge.pki.oids["aes128-CBC"]:case forge.pki.oids["aes192-CBC"]:case forge.pki.oids["aes256-CBC"]:ciph=forge.aes.createDecryptionCipher(msg.encryptedContent.key);break;case forge.pki.oids.desCBC:case forge.pki.oids["des-EDE3-CBC"]:ciph=forge.des.createDecryptionCipher(msg.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+msg.encryptedContent.algorithm)}if(ciph.start(msg.encryptedContent.parameter),ciph.update(msg.encryptedContent.content),!ciph.finish())throw new Error("Symmetric decryption failed.");msg.content=ciph.output}}var asn1=forge.asn1,p7=forge.pkcs7=forge.pkcs7||{};p7.messageFromPem=function(pem){var msg=forge.pem.decode(pem)[0];if("PKCS7"!==msg.type){var error=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw error.headerType=msg.type,error}if(msg.procType&&"ENCRYPTED"===msg.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var obj=asn1.fromDer(msg.body);return p7.messageFromAsn1(obj)},p7.messageToPem=function(msg,maxline){var pemObj={type:"PKCS7",body:asn1.toDer(msg.toAsn1()).getBytes()};return forge.pem.encode(pemObj,{maxline:maxline})},p7.messageFromAsn1=function(obj){var capture={},errors=[];if(!asn1.validate(obj,p7.asn1.contentInfoValidator,capture,errors)){var error=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw error.errors=errors,error}var msg,contentType=asn1.derToOid(capture.contentType);switch(contentType){case forge.pki.oids.envelopedData:msg=p7.createEnvelopedData();break;case forge.pki.oids.encryptedData:msg=p7.createEncryptedData();break;case forge.pki.oids.signedData:msg=p7.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+contentType+" is not (yet) supported.")}return msg.fromAsn1(capture.content.value[0]),msg},p7.createSignedData=function(){function addDigestAlgorithmIds(){for(var mds={},i=0;i<msg.signers.length;++i){var signer=msg.signers[i],oid=signer.digestAlgorithm;oid in mds||(mds[oid]=forge.md[forge.pki.oids[oid]].create()),0===signer.authenticatedAttributes.length?signer.md=mds[oid]:signer.md=forge.md[forge.pki.oids[oid]].create()}msg.digestAlgorithmIdentifiers=[];for(var oid in mds)msg.digestAlgorithmIdentifiers.push(asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(oid).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.NULL,!1,"")]));
return mds}function addSignerInfos(mds){if(msg.contentInfo.value.length<2)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var contentType=asn1.derToOid(msg.contentInfo.value[0].value),content=msg.contentInfo.value[1];content=content.value[0];var bytes=asn1.toDer(content);bytes.getByte(),asn1.getBerValueLength(bytes),bytes=bytes.getBytes();for(var oid in mds)mds[oid].start().update(bytes);for(var signingTime=new Date,i=0;i<msg.signers.length;++i){var signer=msg.signers[i];if(0===signer.authenticatedAttributes.length){if(contentType!==forge.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{signer.authenticatedAttributesAsn1=asn1.create(asn1.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var attrsAsn1=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SET,!0,[]),ai=0;ai<signer.authenticatedAttributes.length;++ai){var attr=signer.authenticatedAttributes[ai];attr.type===forge.pki.oids.messageDigest?attr.value=mds[signer.digestAlgorithm].digest():attr.type===forge.pki.oids.signingTime&&(attr.value||(attr.value=signingTime)),attrsAsn1.value.push(_attributeToAsn1(attr)),signer.authenticatedAttributesAsn1.value.push(_attributeToAsn1(attr))}bytes=asn1.toDer(attrsAsn1).getBytes(),signer.md.start().update(bytes)}signer.signature=signer.key.sign(signer.md,"RSASSA-PKCS1-V1_5")}msg.signerInfos=_signersToAsn1(msg.signers)}var msg=null;return msg={type:forge.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(obj){_fromAsn1(msg,obj,p7.asn1.signedDataValidator),msg.certificates=[],msg.crls=[],msg.digestAlgorithmIdentifiers=[],msg.contentInfo=null,msg.signerInfos=[];for(var certs=msg.rawCapture.certificates.value,i=0;i<certs.length;++i)msg.certificates.push(forge.pki.certificateFromAsn1(certs[i]))},toAsn1:function(){msg.contentInfo||msg.sign();for(var certs=[],i=0;i<msg.certificates.length;++i)certs.push(forge.pki.certificateToAsn1(msg.certificates[i]));var crls=[],signedData=asn1.create(asn1.Class.CONTEXT_SPECIFIC,0,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,asn1.integerToDer(msg.version).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SET,!0,msg.digestAlgorithmIdentifiers),msg.contentInfo])]);return certs.length>0&&signedData.value[0].value.push(asn1.create(asn1.Class.CONTEXT_SPECIFIC,0,!0,certs)),crls.length>0&&signedData.value[0].value.push(asn1.create(asn1.Class.CONTEXT_SPECIFIC,1,!0,crls)),signedData.value[0].value.push(asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SET,!0,msg.signerInfos)),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(msg.type).getBytes()),signedData])},addSigner:function(signer){var issuer=signer.issuer,serialNumber=signer.serialNumber;if(signer.certificate){var cert=signer.certificate;"string"==typeof cert&&(cert=forge.pki.certificateFromPem(cert)),issuer=cert.issuer.attributes,serialNumber=cert.serialNumber}var key=signer.key;if(!key)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof key&&(key=forge.pki.privateKeyFromPem(key));var digestAlgorithm=signer.digestAlgorithm||forge.pki.oids.sha1;switch(digestAlgorithm){case forge.pki.oids.sha1:case forge.pki.oids.sha256:case forge.pki.oids.sha384:case forge.pki.oids.sha512:case forge.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+digestAlgorithm)}var authenticatedAttributes=signer.authenticatedAttributes||[];if(authenticatedAttributes.length>0){for(var contentType=!1,messageDigest=!1,i=0;i<authenticatedAttributes.length;++i){var attr=authenticatedAttributes[i];if(contentType||attr.type!==forge.pki.oids.contentType){if(messageDigest||attr.type!==forge.pki.oids.messageDigest);else if(messageDigest=!0,contentType)break}else if(contentType=!0,messageDigest)break}if(!contentType||!messageDigest)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}msg.signers.push({key:key,version:1,issuer:issuer,serialNumber:serialNumber,digestAlgorithm:digestAlgorithm,signatureAlgorithm:forge.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:authenticatedAttributes,unauthenticatedAttributes:[]})},sign:function(){if(("object"!=typeof msg.content||null===msg.contentInfo)&&(msg.contentInfo=asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(forge.pki.oids.data).getBytes())]),"content"in msg)){var content;msg.content instanceof forge.util.ByteBuffer?content=msg.content.bytes():"string"==typeof msg.content&&(content=forge.util.encodeUtf8(msg.content)),msg.contentInfo.value.push(asn1.create(asn1.Class.CONTEXT_SPECIFIC,0,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OCTETSTRING,!1,content)]))}if(0!==msg.signers.length){var mds=addDigestAlgorithmIds();addSignerInfos(mds)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(cert){"string"==typeof cert&&(cert=forge.pki.certificateFromPem(cert)),msg.certificates.push(cert)},addCertificateRevokationList:function(crl){throw new Error("PKCS#7 CRL support not yet implemented.")}}},p7.createEncryptedData=function(){var msg=null;return msg={type:forge.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:forge.pki.oids["aes256-CBC"]},fromAsn1:function(obj){_fromAsn1(msg,obj,p7.asn1.encryptedDataValidator)},decrypt:function(key){void 0!==key&&(msg.encryptedContent.key=key),_decryptContent(msg)}}},p7.createEnvelopedData=function(){var msg=null;return msg={type:forge.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:forge.pki.oids["aes256-CBC"]},fromAsn1:function(obj){var capture=_fromAsn1(msg,obj,p7.asn1.envelopedDataValidator);msg.recipients=_recipientsFromAsn1(capture.recipientInfos.value)},toAsn1:function(){return asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.OID,!1,asn1.oidToDer(msg.type).getBytes()),asn1.create(asn1.Class.CONTEXT_SPECIFIC,0,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,[asn1.create(asn1.Class.UNIVERSAL,asn1.Type.INTEGER,!1,asn1.integerToDer(msg.version).getBytes()),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SET,!0,_recipientsToAsn1(msg.recipients)),asn1.create(asn1.Class.UNIVERSAL,asn1.Type.SEQUENCE,!0,_encryptedContentToAsn1(msg.encryptedContent))])])])},findRecipient:function(cert){for(var sAttr=cert.issuer.attributes,i=0;i<msg.recipients.length;++i){var r=msg.recipients[i],rAttr=r.issuer;if(r.serialNumber===cert.serialNumber&&rAttr.length===sAttr.length){for(var match=!0,j=0;j<sAttr.length;++j)if(rAttr[j].type!==sAttr[j].type||rAttr[j].value!==sAttr[j].value){match=!1;break}if(match)return r}}return null},decrypt:function(recipient,privKey){if(void 0===msg.encryptedContent.key&&void 0!==recipient&&void 0!==privKey)switch(recipient.encryptedContent.algorithm){case forge.pki.oids.rsaEncryption:case forge.pki.oids.desCBC:var key=privKey.decrypt(recipient.encryptedContent.content);msg.encryptedContent.key=forge.util.createBuffer(key);break;default:throw new Error("Unsupported asymmetric cipher, OID "+recipient.encryptedContent.algorithm)}_decryptContent(msg)},addRecipient:function(cert){msg.recipients.push({version:0,issuer:cert.issuer.attributes,serialNumber:cert.serialNumber,encryptedContent:{algorithm:forge.pki.oids.rsaEncryption,key:cert.publicKey}})},encrypt:function(key,cipher){if(void 0===msg.encryptedContent.content){cipher=cipher||msg.encryptedContent.algorithm,key=key||msg.encryptedContent.key;var keyLen,ivLen,ciphFn;switch(cipher){case forge.pki.oids["aes128-CBC"]:keyLen=16,ivLen=16,ciphFn=forge.aes.createEncryptionCipher;break;case forge.pki.oids["aes192-CBC"]:keyLen=24,ivLen=16,ciphFn=forge.aes.createEncryptionCipher;break;case forge.pki.oids["aes256-CBC"]:keyLen=32,ivLen=16,ciphFn=forge.aes.createEncryptionCipher;break;case forge.pki.oids["des-EDE3-CBC"]:keyLen=24,ivLen=8,ciphFn=forge.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+cipher)}if(void 0===key)key=forge.util.createBuffer(forge.random.getBytes(keyLen));else if(key.length()!=keyLen)throw new Error("Symmetric key has wrong length; got "+key.length()+" bytes, expected "+keyLen+".");msg.encryptedContent.algorithm=cipher,msg.encryptedContent.key=key,msg.encryptedContent.parameter=forge.util.createBuffer(forge.random.getBytes(ivLen));var ciph=ciphFn(key);if(ciph.start(msg.encryptedContent.parameter.copy()),ciph.update(msg.content),!ciph.finish())throw new Error("Symmetric encryption failed.");msg.encryptedContent.content=ciph.output}for(var i=0;i<msg.recipients.length;++i){var recipient=msg.recipients[i];if(void 0===recipient.encryptedContent.content)switch(recipient.encryptedContent.algorithm){case forge.pki.oids.rsaEncryption:recipient.encryptedContent.content=recipient.encryptedContent.key.encrypt(msg.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+recipient.encryptedContent.algorithm)}}}}}}var name="pkcs7";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/pkcs7",["require","module","./aes","./asn1","./des","./oids","./pem","./pkcs7asn1","./random","./util","./x509"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){function _addBigIntegerToBuffer(buffer,val){var hexVal=val.toString(16);hexVal[0]>="8"&&(hexVal="00"+hexVal);var bytes=forge.util.hexToBytes(hexVal);buffer.putInt32(bytes.length),buffer.putBytes(bytes)}function _addStringToBuffer(buffer,val){buffer.putInt32(val.length),buffer.putString(val)}function _sha1(){for(var sha=forge.md.sha1.create(),num=arguments.length,i=0;i<num;++i)sha.update(arguments[i]);return sha.digest()}var ssh=forge.ssh=forge.ssh||{};ssh.privateKeyToPutty=function(privateKey,passphrase,comment){comment=comment||"",passphrase=passphrase||"";var algorithm="ssh-rsa",encryptionAlgorithm=""===passphrase?"none":"aes256-cbc",ppk="PuTTY-User-Key-File-2: "+algorithm+"\r\n";ppk+="Encryption: "+encryptionAlgorithm+"\r\n",ppk+="Comment: "+comment+"\r\n";var pubbuffer=forge.util.createBuffer();_addStringToBuffer(pubbuffer,algorithm),_addBigIntegerToBuffer(pubbuffer,privateKey.e),_addBigIntegerToBuffer(pubbuffer,privateKey.n);var pub=forge.util.encode64(pubbuffer.bytes(),64),length=Math.floor(pub.length/66)+1;ppk+="Public-Lines: "+length+"\r\n",ppk+=pub;var privbuffer=forge.util.createBuffer();_addBigIntegerToBuffer(privbuffer,privateKey.d),_addBigIntegerToBuffer(privbuffer,privateKey.p),_addBigIntegerToBuffer(privbuffer,privateKey.q),_addBigIntegerToBuffer(privbuffer,privateKey.qInv);var priv;if(passphrase){var encLen=privbuffer.length()+16-1;encLen-=encLen%16;var padding=_sha1(privbuffer.bytes());padding.truncate(padding.length()-encLen+privbuffer.length()),privbuffer.putBuffer(padding);var aeskey=forge.util.createBuffer();aeskey.putBuffer(_sha1("\0\0\0\0",passphrase)),aeskey.putBuffer(_sha1("\0\0\0",passphrase));var cipher=forge.aes.createEncryptionCipher(aeskey.truncate(8),"CBC");cipher.start(forge.util.createBuffer().fillWithByte(0,16)),cipher.update(privbuffer.copy()),cipher.finish();var encrypted=cipher.output;encrypted.truncate(16),priv=forge.util.encode64(encrypted.bytes(),64)}else priv=forge.util.encode64(privbuffer.bytes(),64);length=Math.floor(priv.length/66)+1,ppk+="\r\nPrivate-Lines: "+length+"\r\n",ppk+=priv;var mackey=_sha1("putty-private-key-file-mac-key",passphrase),macbuffer=forge.util.createBuffer();_addStringToBuffer(macbuffer,algorithm),_addStringToBuffer(macbuffer,encryptionAlgorithm),_addStringToBuffer(macbuffer,comment),macbuffer.putInt32(pubbuffer.length()),macbuffer.putBuffer(pubbuffer),macbuffer.putInt32(privbuffer.length()),macbuffer.putBuffer(privbuffer);var hmac=forge.hmac.create();return hmac.start("sha1",mackey),hmac.update(macbuffer.bytes()),ppk+="\r\nPrivate-MAC: "+hmac.digest().toHex()+"\r\n"},ssh.publicKeyToOpenSSH=function(key,comment){var type="ssh-rsa";comment=comment||"";var buffer=forge.util.createBuffer();return _addStringToBuffer(buffer,type),_addBigIntegerToBuffer(buffer,key.e),_addBigIntegerToBuffer(buffer,key.n),type+" "+forge.util.encode64(buffer.bytes())+" "+comment},ssh.privateKeyToOpenSSH=function(privateKey,passphrase){return passphrase?forge.pki.encryptRsaPrivateKey(privateKey,passphrase,{legacy:!0,algorithm:"aes128"}):forge.pki.privateKeyToPem(privateKey)},ssh.getPublicKeyFingerprint=function(key,options){options=options||{};var md=options.md||forge.md.md5.create(),type="ssh-rsa",buffer=forge.util.createBuffer();_addStringToBuffer(buffer,type),_addBigIntegerToBuffer(buffer,key.e),_addBigIntegerToBuffer(buffer,key.n),md.start(),md.update(buffer.getBytes());var digest=md.digest();if("hex"===options.encoding){var hex=digest.toHex();return options.delimiter?hex.match(/.{2}/g).join(options.delimiter):hex}if("binary"===options.encoding)return digest.getBytes();if(options.encoding)throw new Error('Unknown encoding "'+options.encoding+'".');return digest}}var name="ssh";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/ssh",["require","module","./aes","./hmac","./md5","./sha1","./util"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function initModule(forge){var cat="forge.task",sVL=0,sTasks={},sNextTaskId=0;forge.debug.set(cat,"tasks",sTasks);var sTaskQueues={};forge.debug.set(cat,"queues",sTaskQueues);var sNoTaskName="?",sMaxRecursions=30,sTimeSlice=20,READY="ready",RUNNING="running",BLOCKED="blocked",SLEEPING="sleeping",DONE="done",ERROR="error",STOP="stop",START="start",BLOCK="block",UNBLOCK="unblock",SLEEP="sleep",WAKEUP="wakeup",CANCEL="cancel",FAIL="fail",sStateTable={};sStateTable[READY]={},sStateTable[READY][STOP]=READY,sStateTable[READY][START]=RUNNING,sStateTable[READY][CANCEL]=DONE,sStateTable[READY][FAIL]=ERROR,sStateTable[RUNNING]={},sStateTable[RUNNING][STOP]=READY,sStateTable[RUNNING][START]=RUNNING,sStateTable[RUNNING][BLOCK]=BLOCKED,sStateTable[RUNNING][UNBLOCK]=RUNNING,sStateTable[RUNNING][SLEEP]=SLEEPING,sStateTable[RUNNING][WAKEUP]=RUNNING,sStateTable[RUNNING][CANCEL]=DONE,sStateTable[RUNNING][FAIL]=ERROR,sStateTable[BLOCKED]={},sStateTable[BLOCKED][STOP]=BLOCKED,sStateTable[BLOCKED][START]=BLOCKED,sStateTable[BLOCKED][BLOCK]=BLOCKED,sStateTable[BLOCKED][UNBLOCK]=BLOCKED,sStateTable[BLOCKED][SLEEP]=BLOCKED,sStateTable[BLOCKED][WAKEUP]=BLOCKED,sStateTable[BLOCKED][CANCEL]=DONE,sStateTable[BLOCKED][FAIL]=ERROR,sStateTable[SLEEPING]={},sStateTable[SLEEPING][STOP]=SLEEPING,sStateTable[SLEEPING][START]=SLEEPING,sStateTable[SLEEPING][BLOCK]=SLEEPING,sStateTable[SLEEPING][UNBLOCK]=SLEEPING,sStateTable[SLEEPING][SLEEP]=SLEEPING,sStateTable[SLEEPING][WAKEUP]=SLEEPING,sStateTable[SLEEPING][CANCEL]=DONE,sStateTable[SLEEPING][FAIL]=ERROR,sStateTable[DONE]={},sStateTable[DONE][STOP]=DONE,sStateTable[DONE][START]=DONE,sStateTable[DONE][BLOCK]=DONE,sStateTable[DONE][UNBLOCK]=DONE,sStateTable[DONE][SLEEP]=DONE,sStateTable[DONE][WAKEUP]=DONE,sStateTable[DONE][CANCEL]=DONE,sStateTable[DONE][FAIL]=ERROR,sStateTable[ERROR]={},sStateTable[ERROR][STOP]=ERROR,sStateTable[ERROR][START]=ERROR,sStateTable[ERROR][BLOCK]=ERROR,sStateTable[ERROR][UNBLOCK]=ERROR,sStateTable[ERROR][SLEEP]=ERROR,sStateTable[ERROR][WAKEUP]=ERROR,sStateTable[ERROR][CANCEL]=ERROR,sStateTable[ERROR][FAIL]=ERROR;var Task=function(options){this.id=-1,this.name=options.name||sNoTaskName,this.parent=options.parent||null,this.run=options.run,this.subtasks=[],this.error=!1,this.state=READY,this.blocks=0,this.timeoutId=null,this.swapTime=null,this.userData=null,this.id=sNextTaskId++,sTasks[this.id]=this,sVL>=1&&forge.log.verbose(cat,"[%s][%s] init",this.id,this.name,this)};Task.prototype.debug=function(msg){msg=msg||"",forge.log.debug(cat,msg,"[%s][%s] task:",this.id,this.name,this,"subtasks:",this.subtasks.length,"queue:",sTaskQueues)},Task.prototype.next=function(name,subrun){"function"==typeof name&&(subrun=name,name=this.name);var subtask=new Task({run:subrun,name:name,parent:this});return subtask.state=RUNNING,subtask.type=this.type,subtask.successCallback=this.successCallback||null,subtask.failureCallback=this.failureCallback||null,this.subtasks.push(subtask),this},Task.prototype.parallel=function(name,subrun){return forge.util.isArray(name)&&(subrun=name,name=this.name),this.next(name,function(task){var ptask=task;ptask.block(subrun.length);for(var startParallelTask=function(pname,pi){forge.task.start({type:pname,run:function(task){subrun[pi](task)},success:function(task){ptask.unblock()},failure:function(task){ptask.unblock()}})},i=0;i<subrun.length;i++){var pname=name+"__parallel-"+task.id+"-"+i,pi=i;startParallelTask(pname,pi)}})},Task.prototype.stop=function(){this.state=sStateTable[this.state][STOP]},Task.prototype.start=function(){this.error=!1,this.state=sStateTable[this.state][START],this.state===RUNNING&&(this.start=new Date,this.run(this),runNext(this,0))},Task.prototype.block=function(n){n="undefined"==typeof n?1:n,this.blocks+=n,this.blocks>0&&(this.state=sStateTable[this.state][BLOCK])},Task.prototype.unblock=function(n){return n="undefined"==typeof n?1:n,this.blocks-=n,0===this.blocks&&this.state!==DONE&&(this.state=RUNNING,runNext(this,0)),this.blocks},Task.prototype.sleep=function(n){n="undefined"==typeof n?0:n,this.state=sStateTable[this.state][SLEEP];var self=this;this.timeoutId=setTimeout(function(){self.timeoutId=null,self.state=RUNNING,runNext(self,0)},n)},Task.prototype.wait=function(cond){cond.wait(this)},Task.prototype.wakeup=function(){this.state===SLEEPING&&(cancelTimeout(this.timeoutId),this.timeoutId=null,this.state=RUNNING,runNext(this,0))},Task.prototype.cancel=function(){this.state=sStateTable[this.state][CANCEL],this.permitsNeeded=0,null!==this.timeoutId&&(cancelTimeout(this.timeoutId),this.timeoutId=null),this.subtasks=[]},Task.prototype.fail=function(next){if(this.error=!0,finish(this,!0),next)next.error=this.error,next.swapTime=this.swapTime,next.userData=this.userData,runNext(next,0);else{if(null!==this.parent){for(var parent=this.parent;null!==parent.parent;)parent.error=this.error,parent.swapTime=this.swapTime,parent.userData=this.userData,parent=parent.parent;finish(parent,!0)}this.failureCallback&&this.failureCallback(this)}};var start=function(task){task.error=!1,task.state=sStateTable[task.state][START],setTimeout(function(){task.state===RUNNING&&(task.swapTime=+new Date,task.run(task),runNext(task,0))},0)},runNext=function(task,recurse){var swap=recurse>sMaxRecursions||+new Date-task.swapTime>sTimeSlice,doNext=function(recurse){if(recurse++,task.state===RUNNING)if(swap&&(task.swapTime=+new Date),task.subtasks.length>0){var subtask=task.subtasks.shift();subtask.error=task.error,subtask.swapTime=task.swapTime,subtask.userData=task.userData,subtask.run(subtask),subtask.error||runNext(subtask,recurse)}else finish(task),task.error||null!==task.parent&&(task.parent.error=task.error,task.parent.swapTime=task.swapTime,task.parent.userData=task.userData,runNext(task.parent,recurse))};swap?setTimeout(doNext,0):doNext(recurse)},finish=function(task,suppressCallbacks){task.state=DONE,delete sTasks[task.id],sVL>=1&&forge.log.verbose(cat,"[%s][%s] finish",task.id,task.name,task),null===task.parent&&(task.type in sTaskQueues?0===sTaskQueues[task.type].length?forge.log.error(cat,"[%s][%s] task queue empty [%s]",task.id,task.name,task.type):sTaskQueues[task.type][0]!==task?forge.log.error(cat,"[%s][%s] task not first in queue [%s]",task.id,task.name,task.type):(sTaskQueues[task.type].shift(),0===sTaskQueues[task.type].length?(sVL>=1&&forge.log.verbose(cat,"[%s][%s] delete queue [%s]",task.id,task.name,task.type),delete sTaskQueues[task.type]):(sVL>=1&&forge.log.verbose(cat,"[%s][%s] queue start next [%s] remain:%s",task.id,task.name,task.type,sTaskQueues[task.type].length),sTaskQueues[task.type][0].start())):forge.log.error(cat,"[%s][%s] task queue missing [%s]",task.id,task.name,task.type),suppressCallbacks||(task.error&&task.failureCallback?task.failureCallback(task):!task.error&&task.successCallback&&task.successCallback(task)))};forge.task=forge.task||{},forge.task.start=function(options){var task=new Task({run:options.run,name:options.name||sNoTaskName});task.type=options.type,task.successCallback=options.success||null,task.failureCallback=options.failure||null,task.type in sTaskQueues?sTaskQueues[options.type].push(task):(sVL>=1&&forge.log.verbose(cat,"[%s][%s] create queue [%s]",task.id,task.name,task.type),sTaskQueues[task.type]=[task],start(task))},forge.task.cancel=function(type){type in sTaskQueues&&(sTaskQueues[type]=[sTaskQueues[type][0]])},forge.task.createCondition=function(){var cond={tasks:{}};return cond.wait=function(task){task.id in cond.tasks||(task.block(),cond.tasks[task.id]=task)},cond.notify=function(){var tmp=cond.tasks;cond.tasks={};for(var id in tmp)tmp[id].unblock()},cond}}var name="task";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),initModule(forge);var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)}).concat(initModule);if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge[name]}},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/task",["require","module","./debug","./log","./util"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){var name="forge";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return void("undefined"==typeof forge&&(forge={disableNativeCode:!1}));var nodeJS=!0;define=function(ids,factory){factory(require,module)}}var deps,defineFunc=function(require,module){module.exports=function(forge){var mods=deps.map(function(dep){return require(dep)});if(forge=forge||{},forge.defined=forge.defined||{},forge.defined[name])return forge[name];forge.defined[name]=!0;for(var i=0;i<mods.length;++i)mods[i](forge);return forge},module.exports.disableNativeCode=!1,module.exports(module.exports)},tmpDefine=define;(define=function(ids,factory){return deps="string"==typeof ids?factory.slice(2):ids.slice(2),nodeJS?(delete define,tmpDefine.apply(null,Array.prototype.slice.call(arguments,0))):(define=tmpDefine,define.apply(null,Array.prototype.slice.call(arguments,0)))})("js/forge",["require","module","./aes","./aesCipherSuites","./asn1","./cipher","./cipherModes","./debug","./des","./hmac","./kem","./log","./md","./mgf1","./pbkdf2","./pem","./pkcs7","./pkcs1","./pkcs12","./pki","./prime","./prng","./pss","./random","./rc2","./ssh","./task","./tls","./util"],function(){defineFunc.apply(null,Array.prototype.slice.call(arguments,0))})}(),require("js/forge")})}).call(exports,__webpack_require__(3),__webpack_require__(21).setImmediate,__webpack_require__(53)(module),__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(global){function baseCreate(prototype,properties){return isObject(prototype)?nativeCreate(prototype):{}}var isNative=__webpack_require__(99),isObject=__webpack_require__(128),nativeCreate=(__webpack_require__(275),isNative(nativeCreate=Object.create)&&nativeCreate);nativeCreate||(baseCreate=function(){function Object(){}return function(prototype){if(isObject(prototype)){Object.prototype=prototype;var result=new Object;Object.prototype=null}return result||global.Object()}}()),module.exports=baseCreate}).call(exports,__webpack_require__(9))},function(module,exports,__webpack_require__){function contains(collection,target,fromIndex){var index=-1,indexOf=baseIndexOf,length=collection?collection.length:0,result=!1;return fromIndex=(fromIndex<0?nativeMax(0,length+fromIndex):fromIndex)||0,isArray(collection)?result=indexOf(collection,target,fromIndex)>-1:"number"==typeof length?result=(isString(collection)?collection.indexOf(target,fromIndex):indexOf(collection,target,fromIndex))>-1:forOwn(collection,function(value){if(++index>=fromIndex)return!(result=value===target)}),result}var baseIndexOf=__webpack_require__(683),forOwn=__webpack_require__(688),isArray=__webpack_require__(690),isString=__webpack_require__(693),nativeMax=Math.max;module.exports=contains},function(module,exports){function isUndefined(value){return void 0===value}module.exports=isUndefined},function(module,exports){function noop(){}module.exports=noop},function(module,exports,__webpack_require__){function MillerRabin(rand){this.rand=rand||new brorand.Rand}var bn=__webpack_require__(19),brorand=__webpack_require__(203);module.exports=MillerRabin,MillerRabin.create=function(rand){return new MillerRabin(rand)},MillerRabin.prototype._rand=function(n){var len=n.bitLength(),buf=this.rand.generate(Math.ceil(len/8));buf[0]|=3;var mask=7&len;return 0!==mask&&(buf[buf.length-1]>>=7-mask),new bn(buf)},MillerRabin.prototype.test=function(n,k,cb){var len=n.bitLength(),red=bn.mont(n),rone=new bn(1).toRed(red);k||(k=Math.max(1,len/48|0));for(var n1=n.subn(1),n2=n1.subn(1),s=0;!n1.testn(s);s++);for(var d=n.shrn(s),rn1=n1.toRed(red),prime=!0;k>0;k--){var a=this._rand(n2);cb&&cb(a);var x=a.toRed(red).redPow(d);if(0!==x.cmp(rone)&&0!==x.cmp(rn1)){for(var i=1;i<s;i++){if(x=x.redSqr(),0===x.cmp(rone))return!1;if(0===x.cmp(rn1))break}if(i===s)return!1}}return prime},MillerRabin.prototype.getDivisor=function(n,k){var len=n.bitLength(),red=bn.mont(n),rone=new bn(1).toRed(red);k||(k=Math.max(1,len/48|0));for(var n1=n.subn(1),n2=n1.subn(1),s=0;!n1.testn(s);s++);for(var d=n.shrn(s),rn1=n1.toRed(red);k>0;k--){var a=this._rand(n2),g=n.gcd(a);if(0!==g.cmpn(1))return g;var x=a.toRed(red).redPow(d);if(0!==x.cmp(rone)&&0!==x.cmp(rn1)){for(var i=1;i<s;i++){if(x=x.redSqr(),0===x.cmp(rone))return x.fromRed().subn(1).gcd(n);if(0===x.cmp(rn1))break}if(i===s)return x=x.redSqr(),x.fromRed().subn(1).gcd(n)}}return!1}},function(module,exports){"use strict";module.exports="/multistream/1.0.0"},function(module,exports){exports.endianness=function(){return"LE"},exports.hostname=function(){return"undefined"!=typeof location?location.hostname:""},exports.loadavg=function(){return[]},exports.uptime=function(){return 0},exports.freemem=function(){return Number.MAX_VALUE},exports.totalmem=function(){return Number.MAX_VALUE},exports.cpus=function(){return[]},exports.type=function(){return"Browser"},exports.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},exports.networkInterfaces=exports.getNetworkInterfaces=function(){return{}},exports.arch=function(){return"javascript"},exports.platform=function(){return"browser"},exports.tmpdir=exports.tmpDir=function(){return"/tmp"},exports.EOL="\n"},function(module,exports){"use strict";function adler32(adler,buf,len,pos){for(var s1=65535&adler|0,s2=adler>>>16&65535|0,n=0;0!==len;){n=len>2e3?2e3:len,len-=n;do s1=s1+buf[pos++]|0,s2=s2+s1|0;while(--n);s1%=65521,s2%=65521}return s1|s2<<16|0}module.exports=adler32},function(module,exports){"use strict";function makeTable(){for(var c,table=[],n=0;n<256;n++){c=n;for(var k=0;k<8;k++)c=1&c?3988292384^c>>>1:c>>>1;table[n]=c}return table}function crc32(crc,buf,len,pos){var t=crcTable,end=pos+len;crc^=-1;for(var i=pos;i<end;i++)crc=crc>>>8^t[255&(crc^buf[i])];return crc^-1}var crcTable=makeTable();module.exports=crc32},function(module,exports){var re=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];module.exports=function(str){var src=str,b=str.indexOf("["),e=str.indexOf("]");b!=-1&&e!=-1&&(str=str.substring(0,b)+str.substring(b,e).replace(/:/g,";")+str.substring(e,str.length));for(var m=re.exec(str||""),uri={},i=14;i--;)uri[parts[i]]=m[i]||"";return b!=-1&&e!=-1&&(uri.source=src,uri.host=uri.host.substring(1,uri.host.length-1).replace(/;/g,":"),uri.authority=uri.authority.replace("[","").replace("]","").replace(/;/g,":"),uri.ipv6uri=!0),uri}},function(module,exports,__webpack_require__){(function(Buffer){function pbkdf2(password,salt,iterations,keylen,digest,callback){if("function"==typeof digest&&(callback=digest,digest=void 0),"function"!=typeof callback)throw new Error("No callback provided to pbkdf2");var result=pbkdf2Sync(password,salt,iterations,keylen,digest);setTimeout(function(){callback(void 0,result)})}function pbkdf2Sync(password,salt,iterations,keylen,digest){if("number"!=typeof iterations)throw new TypeError("Iterations not a number");if(iterations<0)throw new TypeError("Bad iterations");if("number"!=typeof keylen)throw new TypeError("Key length not a number");if(keylen<0||keylen>MAX_ALLOC)throw new TypeError("Bad key length");digest=digest||"sha1",Buffer.isBuffer(password)||(password=new Buffer(password,"binary")),Buffer.isBuffer(salt)||(salt=new Buffer(salt,"binary"));var hLen,l=1,DK=new Buffer(keylen),block1=new Buffer(salt.length+4);salt.copy(block1,0,0,salt.length);for(var r,T,i=1;i<=l;i++){block1.writeUInt32BE(i,salt.length);var U=createHmac(digest,password).update(block1).digest();hLen||(hLen=U.length,T=new Buffer(hLen),l=Math.ceil(keylen/hLen),r=keylen-(l-1)*hLen),U.copy(T,0,0,hLen);for(var j=1;j<iterations;j++){U=createHmac(digest,password).update(U).digest();for(var k=0;k<hLen;k++)T[k]^=U[k]}var destPos=(i-1)*hLen,len=i===l?r:hLen;T.copy(DK,destPos,0,len)}return DK}var createHmac=__webpack_require__(166),MAX_ALLOC=Math.pow(2,30)-1;exports.pbkdf2=pbkdf2,exports.pbkdf2Sync=pbkdf2Sync}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";function PeerBook(){var _this=this;if(!(this instanceof PeerBook))return new PeerBook;var peers={};this.put=function(peerInfo,replace){
peers[peerInfo.id.toB58String()]&&!replace&&peers[peerInfo.id.toB58String()].multiaddr.replace([],peerInfo.multiaddrs),peers[peerInfo.id.toB58String()]=peerInfo},this.getAll=function(){return peers},this.getByB58String=function(b58String){var peerInfo=peers[b58String];if(peerInfo)return peerInfo;throw new Error("PeerInfo not found")},this.getByMultihash=function(multihash){var b58multihash=bs58.encode(multihash).toString();return _this.getByB58String(b58multihash)},this.removeByB58String=function(b58String){peers[b58String]&&delete peers[b58String]},this.removeByMultihash=function(multihash){var b58multihash=bs58.encode(multihash).toString();_this.removeByB58String(b58multihash)}}var bs58=__webpack_require__(54);module.exports=PeerBook},function(module,exports,__webpack_require__){(function(Buffer){function i2ops(c){var out=new Buffer(4);return out.writeUInt32BE(c,0),out}var createHash=__webpack_require__(74);module.exports=function(seed,len){for(var c,t=new Buffer(""),i=0;t.length<len;)c=i2ops(i++),t=Buffer.concat([t,createHash("sha1").update(seed).update(c).digest()]);return t.slice(0,len)}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function withPublic(paddedMsg,key){return new Buffer(paddedMsg.toRed(bn.mont(key.modulus)).redPow(new bn(key.publicExponent)).fromRed().toArray())}var bn=__webpack_require__(19);module.exports=withPublic}).call(exports,__webpack_require__(0).Buffer)},function(module,exports){module.exports=function(a,b){for(var len=a.length,i=-1;++i<len;)a[i]^=b[i];return a}},function(module,exports,__webpack_require__){(function(process){function ReadableState(options,stream){var Duplex=__webpack_require__(85);options=options||{};var hwm=options.highWaterMark,defaultHwm=options.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode),this.defaultEncoding=options.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=__webpack_require__(13).StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){__webpack_require__(85);return this instanceof Readable?(this._readableState=new ReadableState(options,this),this.readable=!0,void Stream.call(this)):new Readable(options)}function readableAddChunk(stream,state,chunk,encoding,addToFront){var er=chunkInvalid(state,chunk);if(er)stream.emit("error",er);else if(util.isNullOrUndefined(chunk))state.reading=!1,state.ended||onEofChunk(stream,state);else if(state.objectMode||chunk&&chunk.length>0)if(state.ended&&!addToFront){var e=new Error("stream.push() after EOF");stream.emit("error",e)}else if(state.endEmitted&&addToFront){var e=new Error("stream.unshift() after end event");stream.emit("error",e)}else!state.decoder||addToFront||encoding||(chunk=state.decoder.write(chunk)),addToFront||(state.reading=!1),state.flowing&&0===state.length&&!state.sync?(stream.emit("data",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream)),maybeReadMore(stream,state);else addToFront||(state.reading=!1);return needMoreData(state)}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}function roundUpToNextPowerOf2(n){if(n>=MAX_HWM)n=MAX_HWM;else{n--;for(var p=1;p<32;p<<=1)n|=n>>p;n++}return n}function howMuchToRead(n,state){return 0===state.length&&state.ended?0:state.objectMode?0===n?0:1:isNaN(n)||util.isNull(n)?state.flowing&&state.buffer.length?state.buffer[0].length:state.length:n<=0?0:(n>state.highWaterMark&&(state.highWaterMark=roundUpToNextPowerOf2(n)),n>state.length?state.ended?state.length:(state.needReadable=!0,0):n)}function chunkInvalid(state,chunk){var er=null;return util.isBuffer(chunk)||util.isString(chunk)||util.isNullOrUndefined(chunk)||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er}function onEofChunk(stream,state){if(state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,emitReadable(stream)}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,state.sync?process.nextTick(function(){emitReadable_(stream)}):emitReadable_(stream))}function emitReadable_(stream){debug("emit readable"),stream.emit("readable"),flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,process.nextTick(function(){maybeReadMore_(stream,state)}))}function maybeReadMore_(stream,state){for(var len=state.length;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug("maybeReadMore read 0"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EE.listenerCount(src,"data")&&(state.flowing=!0,flow(src))}}function resume(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,process.nextTick(function(){resume_(stream,state)}))}function resume_(stream,state){state.resumeScheduled=!1,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;if(debug("flow",state.flowing),state.flowing)do var chunk=stream.read();while(null!==chunk&&state.flowing)}function fromList(n,state){var ret,list=state.buffer,length=state.length,stringMode=!!state.decoder,objectMode=!!state.objectMode;if(0===list.length)return null;if(0===length)ret=null;else if(objectMode)ret=list.shift();else if(!n||n>=length)ret=stringMode?list.join(""):Buffer.concat(list,length),list.length=0;else if(n<list[0].length){var buf=list[0];ret=buf.slice(0,n),list[0]=buf.slice(n)}else if(n===list[0].length)ret=list.shift();else{ret=stringMode?"":new Buffer(n);for(var c=0,i=0,l=list.length;i<l&&c<n;i++){var buf=list[0],cpy=Math.min(n-c,buf.length);stringMode?ret+=buf.slice(0,cpy):buf.copy(ret,c,0,cpy),cpy<buf.length?list[0]=buf.slice(cpy):list.shift(),c+=cpy}}return ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error("endReadable called on non-empty stream");state.endEmitted||(state.ended=!0,process.nextTick(function(){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit("end"))}))}function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++)f(xs[i],i)}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}module.exports=Readable;var isArray=__webpack_require__(725),Buffer=__webpack_require__(0).Buffer;Readable.ReadableState=ReadableState;var EE=__webpack_require__(5).EventEmitter;EE.listenerCount||(EE.listenerCount=function(emitter,type){return emitter.listeners(type).length});var Stream=__webpack_require__(6),util=__webpack_require__(4);util.inherits=__webpack_require__(2);var StringDecoder,debug=__webpack_require__(799);debug=debug&&debug.debuglog?debug.debuglog("stream"):function(){},util.inherits(Readable,Stream),Readable.prototype.push=function(chunk,encoding){var state=this._readableState;return util.isString(chunk)&&!state.objectMode&&(encoding=encoding||state.defaultEncoding,encoding!==state.encoding&&(chunk=new Buffer(chunk,encoding),encoding="")),readableAddChunk(this,state,chunk,encoding,!1)},Readable.prototype.unshift=function(chunk){var state=this._readableState;return readableAddChunk(this,state,chunk,"",!0)},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=__webpack_require__(13).StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};var MAX_HWM=8388608;Readable.prototype.read=function(n){debug("read",n);var state=this._readableState,nOrig=n;if((!util.isNumber(n)||n>0)&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug("read: emitReadable",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(n=howMuchToRead(n,state),0===n&&state.ended)return 0===state.length&&endReadable(this),null;var doRead=state.needReadable;debug("need readable",doRead),(0===state.length||state.length-n<state.highWaterMark)&&(doRead=!0,debug("length less than watermark",doRead)),(state.ended||state.reading)&&(doRead=!1,debug("reading or ended",doRead)),doRead&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1),doRead&&!state.reading&&(n=howMuchToRead(nOrig,state));var ret;return ret=n>0?fromList(n,state):null,util.isNull(ret)&&(state.needReadable=!0,n=0),state.length-=n,0!==state.length||state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&0===state.length&&endReadable(this),util.isNull(ret)||this.emit("data",ret),ret},Readable.prototype._read=function(n){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(dest,pipeOpts){function onunpipe(readable){debug("onunpipe"),readable===src&&cleanup()}function onend(){debug("onend"),dest.end()}function cleanup(){debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",cleanup),src.removeListener("data",ondata),!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain()}function ondata(chunk){debug("ondata");var ret=dest.write(chunk);!1===ret&&(debug("false write response, pause",src._readableState.awaitDrain),src._readableState.awaitDrain++,src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EE.listenerCount(dest,"error")&&dest.emit("error",er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||pipeOpts.end!==!1)&&dest!==process.stdout&&dest!==process.stderr,endFn=doEnd?onend:cleanup;state.endEmitted?process.nextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=pipeOnDrain(src);return dest.on("drain",ondrain),src.on("data",ondata),dest._events&&dest._events.error?isArray(dest._events.error)?dest._events.error.unshift(onerror):dest._events.error=[onerror,dest._events.error]:dest.on("error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState;if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes?this:(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this),this);if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var i=0;i<len;i++)dests[i].emit("unpipe",this);return this}var i=indexOf(state.pipes,dest);return i===-1?this:(state.pipes.splice(i,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this),this)},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if("data"===ev&&!1!==this._readableState.flowing&&this.resume(),"readable"===ev&&this.readable){var state=this._readableState;if(!state.readableListening)if(state.readableListening=!0,state.emittedReadable=!1,state.needReadable=!0,state.reading)state.length&&emitReadable(this,state);else{var self=this;process.nextTick(function(){debug("readable nexttick read 0"),self.read(0)})}}return res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!0,state.reading||(debug("resume read 0"),this.read(0)),resume(this,state)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(stream){var state=this._readableState,paused=!1,self=this;stream.on("end",function(){if(debug("wrapped end"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&self.push(chunk)}self.push(null)}),stream.on("data",function(chunk){if(debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),chunk&&(state.objectMode||chunk.length)){var ret=self.push(chunk);ret||(paused=!0,stream.pause())}});for(var i in stream)util.isFunction(stream[i])&&util.isUndefined(this[i])&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));var events=["error","close","destroy","pause","resume"];return forEach(events,function(ev){stream.on(ev,self.emit.bind(self,ev))}),self._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},self},Readable._fromList=fromList}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){function TransformState(options,stream){this.afterTransform=function(er,data){return afterTransform(stream,er,data)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function afterTransform(stream,er,data){var ts=stream._transformState;ts.transforming=!1;var cb=ts.writecb;if(!cb)return stream.emit("error",new Error("no writecb in Transform class"));ts.writechunk=null,ts.writecb=null,util.isNullOrUndefined(data)||stream.push(data),cb&&cb(er);var rs=stream._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&stream._read(rs.highWaterMark)}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState=new TransformState(options,this);var stream=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){util.isFunction(this._flush)?this._flush(function(er){done(stream,er)}):done(stream)})}function done(stream,er){if(er)return stream.emit("error",er);var ws=stream._writableState,ts=stream._transformState;if(ws.length)throw new Error("calling transform done when ws.length != 0");if(ts.transforming)throw new Error("calling transform done when still transforming");return stream.push(null)}module.exports=Transform;var Duplex=__webpack_require__(85),util=__webpack_require__(4);util.inherits=__webpack_require__(2),util.inherits(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("not implemented")},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;util.isNull(ts.writechunk)||!ts.writecb||ts.transforming?ts.needTransform=!0:(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform))}},function(module,exports,__webpack_require__){(function(process){function WriteReq(chunk,encoding,cb){this.chunk=chunk,this.encoding=encoding,this.callback=cb}function WritableState(options,stream){var Duplex=__webpack_require__(85);options=options||{};var hwm=options.highWaterMark,defaultHwm=options.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var noDecode=options.decodeStrings===!1;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){onwrite(stream,er)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function Writable(options){var Duplex=__webpack_require__(85);return this instanceof Writable||this instanceof Duplex?(this._writableState=new WritableState(options,this),this.writable=!0,void Stream.call(this)):new Writable(options)}function writeAfterEnd(stream,state,cb){var er=new Error("write after end");stream.emit("error",er),process.nextTick(function(){cb(er)})}function validChunk(stream,state,chunk,cb){var valid=!0;if(!(util.isBuffer(chunk)||util.isString(chunk)||util.isNullOrUndefined(chunk)||state.objectMode)){var er=new TypeError("Invalid non-string/buffer chunk");stream.emit("error",er),process.nextTick(function(){cb(er)}),valid=!1}return valid}function decodeChunk(state,chunk,encoding){return!state.objectMode&&state.decodeStrings!==!1&&util.isString(chunk)&&(chunk=new Buffer(chunk,encoding)),chunk}function writeOrBuffer(stream,state,chunk,encoding,cb){chunk=decodeChunk(state,chunk,encoding),util.isBuffer(chunk)&&(encoding="buffer");var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;return ret||(state.needDrain=!0),state.writing||state.corked?state.buffer.push(new WriteReq(chunk,encoding,cb)):doWrite(stream,state,!1,len,chunk,encoding,cb),ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function onwriteError(stream,state,sync,er,cb){sync?process.nextTick(function(){state.pendingcb--,cb(er)}):(state.pendingcb--,cb(er)),stream._writableState.errorEmitted=!0,stream.emit("error",er)}function onwriteStateUpdate(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}function onwrite(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if(onwriteStateUpdate(state),er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(stream,state);finished||state.corked||state.bufferProcessing||!state.buffer.length||clearBuffer(stream,state),sync?process.nextTick(function(){afterWrite(stream,state,finished,cb)}):afterWrite(stream,state,finished,cb)}}function afterWrite(stream,state,finished,cb){finished||onwriteDrain(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function onwriteDrain(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}function clearBuffer(stream,state){if(state.bufferProcessing=!0,stream._writev&&state.buffer.length>1){for(var cbs=[],c=0;c<state.buffer.length;c++)cbs.push(state.buffer[c].callback);state.pendingcb++,doWrite(stream,state,!0,state.length,state.buffer,"",function(err){for(var i=0;i<cbs.length;i++)state.pendingcb--,cbs[i](err)}),state.buffer=[]}else{for(var c=0;c<state.buffer.length;c++){var entry=state.buffer[c],chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback,len=state.objectMode?1:chunk.length;if(doWrite(stream,state,!1,len,chunk,encoding,cb),state.writing){c++;break}}c<state.buffer.length?state.buffer=state.buffer.slice(c):state.buffer.length=0}state.bufferProcessing=!1}function needFinish(stream,state){return state.ending&&0===state.length&&!state.finished&&!state.writing}function prefinish(stream,state){state.prefinished||(state.prefinished=!0,stream.emit("prefinish"))}function finishMaybe(stream,state){var need=needFinish(stream,state);return need&&(0===state.pendingcb?(prefinish(stream,state),state.finished=!0,stream.emit("finish")):prefinish(stream,state)),need}function endWritable(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?process.nextTick(cb):stream.once("finish",cb)),state.ended=!0}module.exports=Writable;var Buffer=__webpack_require__(0).Buffer;Writable.WritableState=WritableState;var util=__webpack_require__(4);util.inherits=__webpack_require__(2);var Stream=__webpack_require__(6);util.inherits(Writable,Stream),Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState,ret=!1;return util.isFunction(encoding)&&(cb=encoding,encoding=null),util.isBuffer(chunk)?encoding="buffer":encoding||(encoding=state.defaultEncoding),util.isFunction(cb)||(cb=function(){}),state.ended?writeAfterEnd(this,state,cb):validChunk(this,state,chunk,cb)&&(state.pendingcb++,ret=writeOrBuffer(this,state,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){var state=this._writableState;state.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.buffer.length||clearBuffer(this,state))},Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;util.isFunction(chunk)?(cb=chunk,chunk=null,encoding=null):util.isFunction(encoding)&&(cb=encoding,encoding=null),util.isNullOrUndefined(chunk)||this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||endWritable(this,state,cb)}}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){(function(process){module.exports=function(tasks,cb){function done(err){function end(){cb&&cb(err,results)}isSync?process.nextTick(end):end()}function each(err,result){results.push(result),++current>=tasks.length||err?done(err):tasks[current](each)}var current=0,results=[],isSync=!0;tasks.length>0?tasks[0](each):done(null),isSync=!1}}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){(function(Buffer){function Sha256(){this.init(),this._w=W,Hash.call(this,64,56)}function ch(x,y,z){return z^x&(y^z)}function maj(x,y,z){return x&y|z&(x|y)}function sigma0(x){return(x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10)}function sigma1(x){return(x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7)}function gamma0(x){return(x>>>7|x<<25)^(x>>>18|x<<14)^x>>>3}function gamma1(x){return(x>>>17|x<<15)^(x>>>19|x<<13)^x>>>10}var inherits=__webpack_require__(2),Hash=__webpack_require__(86),K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W=new Array(64);inherits(Sha256,Hash),Sha256.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},Sha256.prototype._update=function(M){for(var W=this._w,a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,f=0|this._f,g=0|this._g,h=0|this._h,i=0;i<16;++i)W[i]=M.readInt32BE(4*i);for(;i<64;++i)W[i]=gamma1(W[i-2])+W[i-7]+gamma0(W[i-15])+W[i-16]|0;for(var j=0;j<64;++j){var T1=h+sigma1(e)+ch(e,f,g)+K[j]+W[j]|0,T2=sigma0(a)+maj(a,b,c)|0;h=g,g=f,f=e,e=d+T1|0,d=c,c=b,b=a,a=T1+T2|0}this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0,this._f=f+this._f|0,this._g=g+this._g|0,this._h=h+this._h|0},Sha256.prototype._hash=function(){var H=new Buffer(32);return H.writeInt32BE(this._a,0),H.writeInt32BE(this._b,4),H.writeInt32BE(this._c,8),H.writeInt32BE(this._d,12),H.writeInt32BE(this._e,16),H.writeInt32BE(this._f,20),H.writeInt32BE(this._g,24),H.writeInt32BE(this._h,28),H},module.exports=Sha256}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function Sha512(){this.init(),this._w=W,Hash.call(this,128,112)}function Ch(x,y,z){return z^x&(y^z)}function maj(x,y,z){return x&y|z&(x|y)}function sigma0(x,xl){return(x>>>28|xl<<4)^(xl>>>2|x<<30)^(xl>>>7|x<<25)}function sigma1(x,xl){return(x>>>14|xl<<18)^(x>>>18|xl<<14)^(xl>>>9|x<<23)}function Gamma0(x,xl){return(x>>>1|xl<<31)^(x>>>8|xl<<24)^x>>>7}function Gamma0l(x,xl){return(x>>>1|xl<<31)^(x>>>8|xl<<24)^(x>>>7|xl<<25)}function Gamma1(x,xl){return(x>>>19|xl<<13)^(xl>>>29|x<<3)^x>>>6}function Gamma1l(x,xl){return(x>>>19|xl<<13)^(xl>>>29|x<<3)^(x>>>6|xl<<26)}function getCarry(a,b){return a>>>0<b>>>0?1:0}var inherits=__webpack_require__(2),Hash=__webpack_require__(86),K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W=new Array(160);inherits(Sha512,Hash),Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},Sha512.prototype._update=function(M){for(var W=this._w,ah=0|this._ah,bh=0|this._bh,ch=0|this._ch,dh=0|this._dh,eh=0|this._eh,fh=0|this._fh,gh=0|this._gh,hh=0|this._hh,al=0|this._al,bl=0|this._bl,cl=0|this._cl,dl=0|this._dl,el=0|this._el,fl=0|this._fl,gl=0|this._gl,hl=0|this._hl,i=0;i<32;i+=2)W[i]=M.readInt32BE(4*i),W[i+1]=M.readInt32BE(4*i+4);for(;i<160;i+=2){var xh=W[i-30],xl=W[i-30+1],gamma0=Gamma0(xh,xl),gamma0l=Gamma0l(xl,xh);xh=W[i-4],xl=W[i-4+1];var gamma1=Gamma1(xh,xl),gamma1l=Gamma1l(xl,xh),Wi7h=W[i-14],Wi7l=W[i-14+1],Wi16h=W[i-32],Wi16l=W[i-32+1],Wil=gamma0l+Wi7l|0,Wih=gamma0+Wi7h+getCarry(Wil,gamma0l)|0;Wil=Wil+gamma1l|0,Wih=Wih+gamma1+getCarry(Wil,gamma1l)|0,Wil=Wil+Wi16l|0,Wih=Wih+Wi16h+getCarry(Wil,Wi16l)|0,W[i]=Wih,W[i+1]=Wil}for(var j=0;j<160;j+=2){Wih=W[j],Wil=W[j+1];var majh=maj(ah,bh,ch),majl=maj(al,bl,cl),sigma0h=sigma0(ah,al),sigma0l=sigma0(al,ah),sigma1h=sigma1(eh,el),sigma1l=sigma1(el,eh),Kih=K[j],Kil=K[j+1],chh=Ch(eh,fh,gh),chl=Ch(el,fl,gl),t1l=hl+sigma1l|0,t1h=hh+sigma1h+getCarry(t1l,hl)|0;t1l=t1l+chl|0,t1h=t1h+chh+getCarry(t1l,chl)|0,t1l=t1l+Kil|0,t1h=t1h+Kih+getCarry(t1l,Kil)|0,t1l=t1l+Wil|0,t1h=t1h+Wih+getCarry(t1l,Wil)|0;var t2l=sigma0l+majl|0,t2h=sigma0h+majh+getCarry(t2l,sigma0l)|0;hh=gh,hl=gl,gh=fh,gl=fl,fh=eh,fl=el,el=dl+t1l|0,eh=dh+t1h+getCarry(el,dl)|0,dh=ch,dl=cl,ch=bh,cl=bl,bh=ah,bl=al,al=t1l+t2l|0,ah=t1h+t2h+getCarry(al,t1l)|0}this._al=this._al+al|0,this._bl=this._bl+bl|0,this._cl=this._cl+cl|0,this._dl=this._dl+dl|0,this._el=this._el+el|0,this._fl=this._fl+fl|0,this._gl=this._gl+gl|0,this._hl=this._hl+hl|0,this._ah=this._ah+ah+getCarry(this._al,al)|0,this._bh=this._bh+bh+getCarry(this._bl,bl)|0,this._ch=this._ch+ch+getCarry(this._cl,cl)|0,this._dh=this._dh+dh+getCarry(this._dl,dl)|0,this._eh=this._eh+eh+getCarry(this._el,el)|0,this._fh=this._fh+fh+getCarry(this._fl,fl)|0,this._gh=this._gh+gh+getCarry(this._gl,gl)|0,this._hh=this._hh+hh+getCarry(this._hl,hl)|0},Sha512.prototype._hash=function(){function writeInt64BE(h,l,offset){H.writeInt32BE(h,offset),H.writeInt32BE(l,offset+4)}var H=new Buffer(64);return writeInt64BE(this._ah,this._al,0),writeInt64BE(this._bh,this._bl,8),writeInt64BE(this._ch,this._cl,16),writeInt64BE(this._dh,this._dl,24),writeInt64BE(this._eh,this._el,32),writeInt64BE(this._fh,this._fl,40),writeInt64BE(this._gh,this._gl,48),writeInt64BE(this._hh,this._hl,56),H},module.exports=Sha512}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";(function(process){function prependListener(emitter,event,fn){return hasPrependListener?emitter.prependListener(event,fn):void(emitter._events&&emitter._events[event]?isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn))}function ReadableState(options,stream){Duplex=Duplex||__webpack_require__(87),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=options.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=__webpack_require__(13).StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){return Duplex=Duplex||__webpack_require__(87),this instanceof Readable?(this._readableState=new ReadableState(options,this),this.readable=!0,
options&&"function"==typeof options.read&&(this._read=options.read),void Stream.call(this)):new Readable(options)}function readableAddChunk(stream,state,chunk,encoding,addToFront){var er=chunkInvalid(state,chunk);if(er)stream.emit("error",er);else if(null===chunk)state.reading=!1,onEofChunk(stream,state);else if(state.objectMode||chunk&&chunk.length>0)if(state.ended&&!addToFront){var e=new Error("stream.push() after EOF");stream.emit("error",e)}else if(state.endEmitted&&addToFront){var _e=new Error("stream.unshift() after end event");stream.emit("error",_e)}else{var skipAdd;!state.decoder||addToFront||encoding||(chunk=state.decoder.write(chunk),skipAdd=!state.objectMode&&0===chunk.length),addToFront||(state.reading=!1),skipAdd||(state.flowing&&0===state.length&&!state.sync?(stream.emit("data",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream))),maybeReadMore(stream,state)}else addToFront||(state.reading=!1);return needMoreData(state)}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}function computeNewHighWaterMark(n){return n>=MAX_HWM?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}function howMuchToRead(n,state){return 0===state.length&&state.ended?0:state.objectMode?0===n?0:1:null===n||isNaN(n)?state.flowing&&state.buffer.length?state.buffer[0].length:state.length:n<=0?0:(n>state.highWaterMark&&(state.highWaterMark=computeNewHighWaterMark(n)),n>state.length?state.ended?state.length:(state.needReadable=!0,0):n)}function chunkInvalid(state,chunk){var er=null;return Buffer.isBuffer(chunk)||"string"==typeof chunk||null===chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er}function onEofChunk(stream,state){if(!state.ended){if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,emitReadable(stream)}}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,state.sync?processNextTick(emitReadable_,stream):emitReadable_(stream))}function emitReadable_(stream){debug("emit readable"),stream.emit("readable"),flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,processNextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(var len=state.length;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug("maybeReadMore read 0"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,"data")&&(state.flowing=!0,flow(src))}}function nReadingNextTick(self){debug("readable nexttick read 0"),self.read(0)}function resume(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,processNextTick(resume_,stream,state))}function resume_(stream,state){state.reading||(debug("resume read 0"),stream.read(0)),state.resumeScheduled=!1,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;if(debug("flow",state.flowing),state.flowing)do var chunk=stream.read();while(null!==chunk&&state.flowing)}function fromList(n,state){var ret,list=state.buffer,length=state.length,stringMode=!!state.decoder,objectMode=!!state.objectMode;if(0===list.length)return null;if(0===length)ret=null;else if(objectMode)ret=list.shift();else if(!n||n>=length)ret=stringMode?list.join(""):1===list.length?list[0]:Buffer.concat(list,length),list.length=0;else if(n<list[0].length){var buf=list[0];ret=buf.slice(0,n),list[0]=buf.slice(n)}else if(n===list[0].length)ret=list.shift();else{ret=stringMode?"":bufferShim.allocUnsafe(n);for(var c=0,i=0,l=list.length;i<l&&c<n;i++){var _buf=list[0],cpy=Math.min(n-c,_buf.length);stringMode?ret+=_buf.slice(0,cpy):_buf.copy(ret,c,0,cpy),cpy<_buf.length?list[0]=_buf.slice(cpy):list.shift(),c+=cpy}}return ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error('"endReadable()" called on non-empty stream');state.endEmitted||(state.ended=!0,processNextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit("end"))}function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++)f(xs[i],i)}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}module.exports=Readable;var processNextTick=__webpack_require__(7),isArray=__webpack_require__(34);Readable.ReadableState=ReadableState;var Stream,EE=__webpack_require__(5).EventEmitter,EElistenerCount=function(emitter,type){return emitter.listeners(type).length};!function(){try{Stream=__webpack_require__(6)}catch(_){}finally{Stream||(Stream=__webpack_require__(5).EventEmitter)}}();var Buffer=__webpack_require__(0).Buffer,bufferShim=__webpack_require__(20),util=__webpack_require__(4);util.inherits=__webpack_require__(2);var debugUtil=__webpack_require__(800),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var StringDecoder;util.inherits(Readable,Stream);var Duplex,Duplex,hasPrependListener="function"==typeof EE.prototype.prependListener;Readable.prototype.push=function(chunk,encoding){var state=this._readableState;return state.objectMode||"string"!=typeof chunk||(encoding=encoding||state.defaultEncoding,encoding!==state.encoding&&(chunk=bufferShim.from(chunk,encoding),encoding="")),readableAddChunk(this,state,chunk,encoding,!1)},Readable.prototype.unshift=function(chunk){var state=this._readableState;return readableAddChunk(this,state,chunk,"",!0)},Readable.prototype.isPaused=function(){return this._readableState.flowing===!1},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=__webpack_require__(13).StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};var MAX_HWM=8388608;Readable.prototype.read=function(n){debug("read",n);var state=this._readableState,nOrig=n;if(("number"!=typeof n||n>0)&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug("read: emitReadable",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(n=howMuchToRead(n,state),0===n&&state.ended)return 0===state.length&&endReadable(this),null;var doRead=state.needReadable;debug("need readable",doRead),(0===state.length||state.length-n<state.highWaterMark)&&(doRead=!0,debug("length less than watermark",doRead)),(state.ended||state.reading)&&(doRead=!1,debug("reading or ended",doRead)),doRead&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1),doRead&&!state.reading&&(n=howMuchToRead(nOrig,state));var ret;return ret=n>0?fromList(n,state):null,null===ret&&(state.needReadable=!0,n=0),state.length-=n,0!==state.length||state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&0===state.length&&endReadable(this),null!==ret&&this.emit("data",ret),ret},Readable.prototype._read=function(n){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(dest,pipeOpts){function onunpipe(readable){debug("onunpipe"),readable===src&&cleanup()}function onend(){debug("onend"),dest.end()}function cleanup(){debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",cleanup),src.removeListener("data",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain()}function ondata(chunk){debug("ondata");var ret=dest.write(chunk);!1===ret&&((1===state.pipesCount&&state.pipes===dest||state.pipesCount>1&&indexOf(state.pipes,dest)!==-1)&&!cleanedUp&&(debug("false write response, pause",src._readableState.awaitDrain),src._readableState.awaitDrain++),src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EElistenerCount(dest,"error")&&dest.emit("error",er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||pipeOpts.end!==!1)&&dest!==process.stdout&&dest!==process.stderr,endFn=doEnd?onend:cleanup;state.endEmitted?processNextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=!1;return src.on("data",ondata),prependListener(dest,"error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState;if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes?this:(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this),this);if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var _i=0;_i<len;_i++)dests[_i].emit("unpipe",this);return this}var i=indexOf(state.pipes,dest);return i===-1?this:(state.pipes.splice(i,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this),this)},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if("data"===ev&&!1!==this._readableState.flowing&&this.resume(),"readable"===ev&&!this._readableState.endEmitted){var state=this._readableState;state.readableListening||(state.readableListening=!0,state.emittedReadable=!1,state.needReadable=!0,state.reading?state.length&&emitReadable(this,state):processNextTick(nReadingNextTick,this))}return res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!0,resume(this,state)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(stream){var state=this._readableState,paused=!1,self=this;stream.on("end",function(){if(debug("wrapped end"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&self.push(chunk)}self.push(null)}),stream.on("data",function(chunk){if(debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),(!state.objectMode||null!==chunk&&void 0!==chunk)&&(state.objectMode||chunk&&chunk.length)){var ret=self.push(chunk);ret||(paused=!0,stream.pause())}});for(var i in stream)void 0===this[i]&&"function"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));var events=["error","close","destroy","pause","resume"];return forEach(events,function(ev){stream.on(ev,self.emit.bind(self,ev))}),self._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},self},Readable._fromList=fromList}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";function TransformState(stream){this.afterTransform=function(er,data){return afterTransform(stream,er,data)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(stream,er,data){var ts=stream._transformState;ts.transforming=!1;var cb=ts.writecb;if(!cb)return stream.emit("error",new Error("no writecb in Transform class"));ts.writechunk=null,ts.writecb=null,null!==data&&void 0!==data&&stream.push(data),cb(er);var rs=stream._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&stream._read(rs.highWaterMark)}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState=new TransformState(this);var stream=this;this._readableState.needReadable=!0,this._readableState.sync=!1,options&&("function"==typeof options.transform&&(this._transform=options.transform),"function"==typeof options.flush&&(this._flush=options.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(er){done(stream,er)}):done(stream)})}function done(stream,er){if(er)return stream.emit("error",er);var ws=stream._writableState,ts=stream._transformState;if(ws.length)throw new Error("Calling transform done when ws.length != 0");if(ts.transforming)throw new Error("Calling transform done when still transforming");return stream.push(null)}module.exports=Transform;var Duplex=__webpack_require__(87),util=__webpack_require__(4);util.inherits=__webpack_require__(2),util.inherits(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("Not implemented")},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;null!==ts.writechunk&&ts.writecb&&!ts.transforming?(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)):ts.needTransform=!0}},function(module,exports,__webpack_require__){"use strict";(function(process,setImmediate){function nop(){}function WriteReq(chunk,encoding,cb){this.chunk=chunk,this.encoding=encoding,this.callback=cb,this.next=null}function WritableState(options,stream){Duplex=Duplex||__webpack_require__(87),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var noDecode=options.decodeStrings===!1;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){onwrite(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){return Duplex=Duplex||__webpack_require__(87),this instanceof Writable||this instanceof Duplex?(this._writableState=new WritableState(options,this),this.writable=!0,options&&("function"==typeof options.write&&(this._write=options.write),"function"==typeof options.writev&&(this._writev=options.writev)),void Stream.call(this)):new Writable(options)}function writeAfterEnd(stream,cb){var er=new Error("write after end");stream.emit("error",er),processNextTick(cb,er)}function validChunk(stream,state,chunk,cb){var valid=!0,er=!1;return null===chunk?er=new TypeError("May not write null values to stream"):Buffer.isBuffer(chunk)||"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er&&(stream.emit("error",er),processNextTick(cb,er),valid=!1),valid}function decodeChunk(state,chunk,encoding){return state.objectMode||state.decodeStrings===!1||"string"!=typeof chunk||(chunk=bufferShim.from(chunk,encoding)),chunk}function writeOrBuffer(stream,state,chunk,encoding,cb){chunk=decodeChunk(state,chunk,encoding),Buffer.isBuffer(chunk)&&(encoding="buffer");var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(ret||(state.needDrain=!0),state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest=new WriteReq(chunk,encoding,cb),last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function onwriteError(stream,state,sync,er,cb){--state.pendingcb,sync?processNextTick(cb,er):cb(er),stream._writableState.errorEmitted=!0,stream.emit("error",er)}function onwriteStateUpdate(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}function onwrite(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if(onwriteStateUpdate(state),er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state);finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?asyncWrite(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}function afterWrite(stream,state,finished,cb){finished||onwriteDrain(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function onwriteDrain(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=new Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0;entry;)buffer[count]=entry,entry=entry.next,count+=1;doWrite(stream,state,!0,state.length,buffer,"",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state)}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback,len=state.objectMode?1:chunk.length;if(doWrite(stream,state,!1,len,chunk,encoding,cb),entry=entry.next,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequestCount=0,state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function prefinish(stream,state){state.prefinished||(state.prefinished=!0,stream.emit("prefinish"))}function finishMaybe(stream,state){var need=needFinish(state);return need&&(0===state.pendingcb?(prefinish(stream,state),state.finished=!0,stream.emit("finish")):prefinish(stream,state)),need}function endWritable(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?processNextTick(cb):stream.once("finish",cb)),state.ended=!0,stream.writable=!1}function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(err){var entry=_this.entry;for(_this.entry=null;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree?state.corkedRequestsFree.next=_this:state.corkedRequestsFree=_this}}module.exports=Writable;var processNextTick=__webpack_require__(7),asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:processNextTick;Writable.WritableState=WritableState;var util=__webpack_require__(4);util.inherits=__webpack_require__(2);var Stream,internalUtil={deprecate:__webpack_require__(37)};!function(){try{Stream=__webpack_require__(6)}catch(_){}finally{Stream||(Stream=__webpack_require__(5).EventEmitter)}}();var Buffer=__webpack_require__(0).Buffer,bufferShim=__webpack_require__(20);util.inherits(Writable,Stream);var Duplex;WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(_){}}();var Duplex;Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState,ret=!1;return"function"==typeof encoding&&(cb=encoding,encoding=null),Buffer.isBuffer(chunk)?encoding="buffer":encoding||(encoding=state.defaultEncoding),"function"!=typeof cb&&(cb=nop),state.ended?writeAfterEnd(this,cb):validChunk(this,state,chunk,cb)&&(state.pendingcb++,ret=writeOrBuffer(this,state,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){var state=this._writableState;state.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if("string"==typeof encoding&&(encoding=encoding.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);return this._writableState.defaultEncoding=encoding,this},Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;"function"==typeof chunk?(cb=chunk,chunk=null,encoding=null):"function"==typeof encoding&&(cb=encoding,encoding=null),null!==chunk&&void 0!==chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||endWritable(this,state,cb)}}).call(exports,__webpack_require__(3),__webpack_require__(21).setImmediate)},function(module,exports,__webpack_require__){"use strict";(function(process){function prependListener(emitter,event,fn){return hasPrependListener?emitter.prependListener(event,fn):void(emitter._events&&emitter._events[event]?isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn))}function ReadableState(options,stream){Duplex=Duplex||__webpack_require__(88),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=options.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=__webpack_require__(13).StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){return Duplex=Duplex||__webpack_require__(88),this instanceof Readable?(this._readableState=new ReadableState(options,this),this.readable=!0,options&&"function"==typeof options.read&&(this._read=options.read),void Stream.call(this)):new Readable(options)}function readableAddChunk(stream,state,chunk,encoding,addToFront){var er=chunkInvalid(state,chunk);if(er)stream.emit("error",er);else if(null===chunk)state.reading=!1,onEofChunk(stream,state);else if(state.objectMode||chunk&&chunk.length>0)if(state.ended&&!addToFront){var e=new Error("stream.push() after EOF");stream.emit("error",e)}else if(state.endEmitted&&addToFront){var _e=new Error("stream.unshift() after end event");stream.emit("error",_e)}else{var skipAdd;!state.decoder||addToFront||encoding||(chunk=state.decoder.write(chunk),skipAdd=!state.objectMode&&0===chunk.length),addToFront||(state.reading=!1),skipAdd||(state.flowing&&0===state.length&&!state.sync?(stream.emit("data",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream))),maybeReadMore(stream,state)}else addToFront||(state.reading=!1);return needMoreData(state)}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}function computeNewHighWaterMark(n){return n>=MAX_HWM?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}function howMuchToRead(n,state){return 0===state.length&&state.ended?0:state.objectMode?0===n?0:1:null===n||isNaN(n)?state.flowing&&state.buffer.length?state.buffer[0].length:state.length:n<=0?0:(n>state.highWaterMark&&(state.highWaterMark=computeNewHighWaterMark(n)),n>state.length?state.ended?state.length:(state.needReadable=!0,0):n)}function chunkInvalid(state,chunk){var er=null;return Buffer.isBuffer(chunk)||"string"==typeof chunk||null===chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er}function onEofChunk(stream,state){if(!state.ended){if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,emitReadable(stream)}}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,state.sync?processNextTick(emitReadable_,stream):emitReadable_(stream))}function emitReadable_(stream){debug("emit readable"),stream.emit("readable"),flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,processNextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(var len=state.length;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug("maybeReadMore read 0"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,"data")&&(state.flowing=!0,flow(src))}}function nReadingNextTick(self){debug("readable nexttick read 0"),self.read(0)}function resume(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,processNextTick(resume_,stream,state))}function resume_(stream,state){state.reading||(debug("resume read 0"),stream.read(0)),state.resumeScheduled=!1,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;if(debug("flow",state.flowing),state.flowing)do var chunk=stream.read();while(null!==chunk&&state.flowing)}function fromList(n,state){var ret,list=state.buffer,length=state.length,stringMode=!!state.decoder,objectMode=!!state.objectMode;if(0===list.length)return null;if(0===length)ret=null;else if(objectMode)ret=list.shift();else if(!n||n>=length)ret=stringMode?list.join(""):1===list.length?list[0]:Buffer.concat(list,length),list.length=0;else if(n<list[0].length){var buf=list[0];ret=buf.slice(0,n),list[0]=buf.slice(n)}else if(n===list[0].length)ret=list.shift();else{ret=stringMode?"":bufferShim.allocUnsafe(n);for(var c=0,i=0,l=list.length;i<l&&c<n;i++){var _buf=list[0],cpy=Math.min(n-c,_buf.length);stringMode?ret+=_buf.slice(0,cpy):_buf.copy(ret,c,0,cpy),cpy<_buf.length?list[0]=_buf.slice(cpy):list.shift(),c+=cpy}}return ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error('"endReadable()" called on non-empty stream');state.endEmitted||(state.ended=!0,processNextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit("end"))}function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++)f(xs[i],i)}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}module.exports=Readable;var processNextTick=__webpack_require__(7),isArray=__webpack_require__(34);Readable.ReadableState=ReadableState;var Stream,EE=__webpack_require__(5).EventEmitter,EElistenerCount=function(emitter,type){return emitter.listeners(type).length};!function(){try{Stream=__webpack_require__(6)}catch(_){}finally{Stream||(Stream=__webpack_require__(5).EventEmitter)}}();var Buffer=__webpack_require__(0).Buffer,bufferShim=__webpack_require__(20),util=__webpack_require__(4);util.inherits=__webpack_require__(2);var debugUtil=__webpack_require__(802),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var StringDecoder;util.inherits(Readable,Stream);var Duplex,Duplex,hasPrependListener="function"==typeof EE.prototype.prependListener;Readable.prototype.push=function(chunk,encoding){var state=this._readableState;return state.objectMode||"string"!=typeof chunk||(encoding=encoding||state.defaultEncoding,encoding!==state.encoding&&(chunk=bufferShim.from(chunk,encoding),encoding="")),readableAddChunk(this,state,chunk,encoding,!1)},Readable.prototype.unshift=function(chunk){var state=this._readableState;return readableAddChunk(this,state,chunk,"",!0)},Readable.prototype.isPaused=function(){return this._readableState.flowing===!1},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=__webpack_require__(13).StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};var MAX_HWM=8388608;Readable.prototype.read=function(n){debug("read",n);var state=this._readableState,nOrig=n;if(("number"!=typeof n||n>0)&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug("read: emitReadable",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(n=howMuchToRead(n,state),0===n&&state.ended)return 0===state.length&&endReadable(this),null;var doRead=state.needReadable;debug("need readable",doRead),(0===state.length||state.length-n<state.highWaterMark)&&(doRead=!0,debug("length less than watermark",doRead)),(state.ended||state.reading)&&(doRead=!1,debug("reading or ended",doRead)),doRead&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1),doRead&&!state.reading&&(n=howMuchToRead(nOrig,state));var ret;return ret=n>0?fromList(n,state):null,null===ret&&(state.needReadable=!0,n=0),state.length-=n,0!==state.length||state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&0===state.length&&endReadable(this),null!==ret&&this.emit("data",ret),ret},Readable.prototype._read=function(n){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(dest,pipeOpts){function onunpipe(readable){debug("onunpipe"),readable===src&&cleanup()}function onend(){debug("onend"),dest.end()}function cleanup(){debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),
dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",cleanup),src.removeListener("data",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain()}function ondata(chunk){debug("ondata");var ret=dest.write(chunk);!1===ret&&((1===state.pipesCount&&state.pipes===dest||state.pipesCount>1&&indexOf(state.pipes,dest)!==-1)&&!cleanedUp&&(debug("false write response, pause",src._readableState.awaitDrain),src._readableState.awaitDrain++),src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EElistenerCount(dest,"error")&&dest.emit("error",er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||pipeOpts.end!==!1)&&dest!==process.stdout&&dest!==process.stderr,endFn=doEnd?onend:cleanup;state.endEmitted?processNextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=!1;return src.on("data",ondata),prependListener(dest,"error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState;if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes?this:(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this),this);if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var _i=0;_i<len;_i++)dests[_i].emit("unpipe",this);return this}var i=indexOf(state.pipes,dest);return i===-1?this:(state.pipes.splice(i,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this),this)},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if("data"===ev&&!1!==this._readableState.flowing&&this.resume(),"readable"===ev&&!this._readableState.endEmitted){var state=this._readableState;state.readableListening||(state.readableListening=!0,state.emittedReadable=!1,state.needReadable=!0,state.reading?state.length&&emitReadable(this,state):processNextTick(nReadingNextTick,this))}return res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!0,resume(this,state)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(stream){var state=this._readableState,paused=!1,self=this;stream.on("end",function(){if(debug("wrapped end"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&self.push(chunk)}self.push(null)}),stream.on("data",function(chunk){if(debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),(!state.objectMode||null!==chunk&&void 0!==chunk)&&(state.objectMode||chunk&&chunk.length)){var ret=self.push(chunk);ret||(paused=!0,stream.pause())}});for(var i in stream)void 0===this[i]&&"function"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));var events=["error","close","destroy","pause","resume"];return forEach(events,function(ev){stream.on(ev,self.emit.bind(self,ev))}),self._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},self},Readable._fromList=fromList}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";function TransformState(stream){this.afterTransform=function(er,data){return afterTransform(stream,er,data)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(stream,er,data){var ts=stream._transformState;ts.transforming=!1;var cb=ts.writecb;if(!cb)return stream.emit("error",new Error("no writecb in Transform class"));ts.writechunk=null,ts.writecb=null,null!==data&&void 0!==data&&stream.push(data),cb(er);var rs=stream._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&stream._read(rs.highWaterMark)}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState=new TransformState(this);var stream=this;this._readableState.needReadable=!0,this._readableState.sync=!1,options&&("function"==typeof options.transform&&(this._transform=options.transform),"function"==typeof options.flush&&(this._flush=options.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(er){done(stream,er)}):done(stream)})}function done(stream,er){if(er)return stream.emit("error",er);var ws=stream._writableState,ts=stream._transformState;if(ws.length)throw new Error("Calling transform done when ws.length != 0");if(ts.transforming)throw new Error("Calling transform done when still transforming");return stream.push(null)}module.exports=Transform;var Duplex=__webpack_require__(88),util=__webpack_require__(4);util.inherits=__webpack_require__(2),util.inherits(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("Not implemented")},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;null!==ts.writechunk&&ts.writecb&&!ts.transforming?(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)):ts.needTransform=!0}},function(module,exports,__webpack_require__){"use strict";(function(process,setImmediate){function nop(){}function WriteReq(chunk,encoding,cb){this.chunk=chunk,this.encoding=encoding,this.callback=cb,this.next=null}function WritableState(options,stream){Duplex=Duplex||__webpack_require__(88),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var noDecode=options.decodeStrings===!1;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){onwrite(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){return Duplex=Duplex||__webpack_require__(88),this instanceof Writable||this instanceof Duplex?(this._writableState=new WritableState(options,this),this.writable=!0,options&&("function"==typeof options.write&&(this._write=options.write),"function"==typeof options.writev&&(this._writev=options.writev)),void Stream.call(this)):new Writable(options)}function writeAfterEnd(stream,cb){var er=new Error("write after end");stream.emit("error",er),processNextTick(cb,er)}function validChunk(stream,state,chunk,cb){var valid=!0,er=!1;return null===chunk?er=new TypeError("May not write null values to stream"):Buffer.isBuffer(chunk)||"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er&&(stream.emit("error",er),processNextTick(cb,er),valid=!1),valid}function decodeChunk(state,chunk,encoding){return state.objectMode||state.decodeStrings===!1||"string"!=typeof chunk||(chunk=bufferShim.from(chunk,encoding)),chunk}function writeOrBuffer(stream,state,chunk,encoding,cb){chunk=decodeChunk(state,chunk,encoding),Buffer.isBuffer(chunk)&&(encoding="buffer");var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(ret||(state.needDrain=!0),state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest=new WriteReq(chunk,encoding,cb),last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function onwriteError(stream,state,sync,er,cb){--state.pendingcb,sync?processNextTick(cb,er):cb(er),stream._writableState.errorEmitted=!0,stream.emit("error",er)}function onwriteStateUpdate(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}function onwrite(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if(onwriteStateUpdate(state),er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state);finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?asyncWrite(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}function afterWrite(stream,state,finished,cb){finished||onwriteDrain(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function onwriteDrain(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=new Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0;entry;)buffer[count]=entry,entry=entry.next,count+=1;doWrite(stream,state,!0,state.length,buffer,"",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state)}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback,len=state.objectMode?1:chunk.length;if(doWrite(stream,state,!1,len,chunk,encoding,cb),entry=entry.next,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequestCount=0,state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function prefinish(stream,state){state.prefinished||(state.prefinished=!0,stream.emit("prefinish"))}function finishMaybe(stream,state){var need=needFinish(state);return need&&(0===state.pendingcb?(prefinish(stream,state),state.finished=!0,stream.emit("finish")):prefinish(stream,state)),need}function endWritable(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?processNextTick(cb):stream.once("finish",cb)),state.ended=!0,stream.writable=!1}function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(err){var entry=_this.entry;for(_this.entry=null;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree?state.corkedRequestsFree.next=_this:state.corkedRequestsFree=_this}}module.exports=Writable;var processNextTick=__webpack_require__(7),asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:processNextTick;Writable.WritableState=WritableState;var util=__webpack_require__(4);util.inherits=__webpack_require__(2);var Stream,internalUtil={deprecate:__webpack_require__(37)};!function(){try{Stream=__webpack_require__(6)}catch(_){}finally{Stream||(Stream=__webpack_require__(5).EventEmitter)}}();var Buffer=__webpack_require__(0).Buffer,bufferShim=__webpack_require__(20);util.inherits(Writable,Stream);var Duplex;WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(_){}}();var Duplex;Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState,ret=!1;return"function"==typeof encoding&&(cb=encoding,encoding=null),Buffer.isBuffer(chunk)?encoding="buffer":encoding||(encoding=state.defaultEncoding),"function"!=typeof cb&&(cb=nop),state.ended?writeAfterEnd(this,cb):validChunk(this,state,chunk,cb)&&(state.pendingcb++,ret=writeOrBuffer(this,state,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){var state=this._writableState;state.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if("string"==typeof encoding&&(encoding=encoding.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);return this._writableState.defaultEncoding=encoding,this},Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;"function"==typeof chunk?(cb=chunk,chunk=null,encoding=null):"function"==typeof encoding&&(cb=encoding,encoding=null),null!==chunk&&void 0!==chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||endWritable(this,state,cb)}}).call(exports,__webpack_require__(3),__webpack_require__(21).setImmediate)},function(module,exports,__webpack_require__){function Manager(uri,opts){return this instanceof Manager?(uri&&"object"==typeof uri&&(opts=uri,uri=void 0),opts=opts||{},opts.path=opts.path||"/socket.io",this.nsps={},this.subs=[],this.opts=opts,this.reconnection(opts.reconnection!==!1),this.reconnectionAttempts(opts.reconnectionAttempts||1/0),this.reconnectionDelay(opts.reconnectionDelay||1e3),this.reconnectionDelayMax(opts.reconnectionDelayMax||5e3),this.randomizationFactor(opts.randomizationFactor||.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==opts.timeout?2e4:opts.timeout),this.readyState="closed",this.uri=uri,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new parser.Encoder,this.decoder=new parser.Decoder,this.autoConnect=opts.autoConnect!==!1,void(this.autoConnect&&this.open())):new Manager(uri,opts)}var eio=__webpack_require__(609),Socket=__webpack_require__(301),Emitter=__webpack_require__(302),parser=__webpack_require__(182),on=__webpack_require__(300),bind=__webpack_require__(214),debug=__webpack_require__(10)("socket.io-client:manager"),indexOf=__webpack_require__(171),Backoff=__webpack_require__(375),has=Object.prototype.hasOwnProperty;module.exports=Manager,Manager.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var nsp in this.nsps)has.call(this.nsps,nsp)&&this.nsps[nsp].emit.apply(this.nsps[nsp],arguments)},Manager.prototype.updateSocketIds=function(){for(var nsp in this.nsps)has.call(this.nsps,nsp)&&(this.nsps[nsp].id=this.engine.id)},Emitter(Manager.prototype),Manager.prototype.reconnection=function(v){return arguments.length?(this._reconnection=!!v,this):this._reconnection},Manager.prototype.reconnectionAttempts=function(v){return arguments.length?(this._reconnectionAttempts=v,this):this._reconnectionAttempts},Manager.prototype.reconnectionDelay=function(v){return arguments.length?(this._reconnectionDelay=v,this.backoff&&this.backoff.setMin(v),this):this._reconnectionDelay},Manager.prototype.randomizationFactor=function(v){return arguments.length?(this._randomizationFactor=v,this.backoff&&this.backoff.setJitter(v),this):this._randomizationFactor},Manager.prototype.reconnectionDelayMax=function(v){return arguments.length?(this._reconnectionDelayMax=v,this.backoff&&this.backoff.setMax(v),this):this._reconnectionDelayMax},Manager.prototype.timeout=function(v){return arguments.length?(this._timeout=v,this):this._timeout},Manager.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},Manager.prototype.open=Manager.prototype.connect=function(fn){if(debug("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;debug("opening %s",this.uri),this.engine=eio(this.uri,this.opts);var socket=this.engine,self=this;this.readyState="opening",this.skipReconnect=!1;var openSub=on(socket,"open",function(){self.onopen(),fn&&fn()}),errorSub=on(socket,"error",function(data){if(debug("connect_error"),self.cleanup(),self.readyState="closed",self.emitAll("connect_error",data),fn){var err=new Error("Connection error");err.data=data,fn(err)}else self.maybeReconnectOnOpen()});if(!1!==this._timeout){var timeout=this._timeout;debug("connect attempt will timeout after %d",timeout);var timer=setTimeout(function(){debug("connect attempt timed out after %d",timeout),openSub.destroy(),socket.close(),socket.emit("error","timeout"),self.emitAll("connect_timeout",timeout)},timeout);this.subs.push({destroy:function(){clearTimeout(timer)}})}return this.subs.push(openSub),this.subs.push(errorSub),this},Manager.prototype.onopen=function(){debug("open"),this.cleanup(),this.readyState="open",this.emit("open");var socket=this.engine;this.subs.push(on(socket,"data",bind(this,"ondata"))),this.subs.push(on(socket,"ping",bind(this,"onping"))),this.subs.push(on(socket,"pong",bind(this,"onpong"))),this.subs.push(on(socket,"error",bind(this,"onerror"))),this.subs.push(on(socket,"close",bind(this,"onclose"))),this.subs.push(on(this.decoder,"decoded",bind(this,"ondecoded")))},Manager.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},Manager.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},Manager.prototype.ondata=function(data){this.decoder.add(data)},Manager.prototype.ondecoded=function(packet){this.emit("packet",packet)},Manager.prototype.onerror=function(err){debug("error",err),this.emitAll("error",err)},Manager.prototype.socket=function(nsp){function onConnecting(){~indexOf(self.connecting,socket)||self.connecting.push(socket)}var socket=this.nsps[nsp];if(!socket){socket=new Socket(this,nsp),this.nsps[nsp]=socket;var self=this;socket.on("connecting",onConnecting),socket.on("connect",function(){socket.id=self.engine.id}),this.autoConnect&&onConnecting()}return socket},Manager.prototype.destroy=function(socket){var index=indexOf(this.connecting,socket);~index&&this.connecting.splice(index,1),this.connecting.length||this.close()},Manager.prototype.packet=function(packet){debug("writing packet %j",packet);var self=this;self.encoding?self.packetBuffer.push(packet):(self.encoding=!0,this.encoder.encode(packet,function(encodedPackets){for(var i=0;i<encodedPackets.length;i++)self.engine.write(encodedPackets[i],packet.options);self.encoding=!1,self.processPacketQueue()}))},Manager.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var pack=this.packetBuffer.shift();this.packet(pack)}},Manager.prototype.cleanup=function(){debug("cleanup");for(var sub;sub=this.subs.shift();)sub.destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},Manager.prototype.close=Manager.prototype.disconnect=function(){debug("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"==this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},Manager.prototype.onclose=function(reason){debug("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",reason),this._reconnection&&!this.skipReconnect&&this.reconnect()},Manager.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var self=this;if(this.backoff.attempts>=this._reconnectionAttempts)debug("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var delay=this.backoff.duration();debug("will wait %dms before reconnect attempt",delay),this.reconnecting=!0;var timer=setTimeout(function(){self.skipReconnect||(debug("attempting reconnect"),self.emitAll("reconnect_attempt",self.backoff.attempts),self.emitAll("reconnecting",self.backoff.attempts),self.skipReconnect||self.open(function(err){err?(debug("reconnect attempt error"),self.reconnecting=!1,self.reconnect(),self.emitAll("reconnect_error",err.data)):(debug("reconnect success"),self.onreconnect())}))},delay);this.subs.push({destroy:function(){clearTimeout(timer)}})}},Manager.prototype.onreconnect=function(){var attempt=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",attempt)}},function(module,exports){function on(obj,ev,fn){return obj.on(ev,fn),{destroy:function(){obj.removeListener(ev,fn)}}}module.exports=on},function(module,exports,__webpack_require__){function Socket(io,nsp){this.io=io,this.nsp=nsp,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.io.autoConnect&&this.open()}var parser=__webpack_require__(182),Emitter=__webpack_require__(302),toArray=__webpack_require__(780),on=__webpack_require__(300),bind=__webpack_require__(214),debug=__webpack_require__(10)("socket.io-client:socket"),hasBin=__webpack_require__(626);module.exports=exports=Socket;var events={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},emit=Emitter.prototype.emit;Emitter(Socket.prototype),Socket.prototype.subEvents=function(){if(!this.subs){var io=this.io;this.subs=[on(io,"open",bind(this,"onopen")),on(io,"packet",bind(this,"onpacket")),on(io,"close",bind(this,"onclose"))]}},Socket.prototype.open=Socket.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this.emit("connecting"),this)},Socket.prototype.send=function(){var args=toArray(arguments);return args.unshift("message"),this.emit.apply(this,args),this},Socket.prototype.emit=function(ev){if(events.hasOwnProperty(ev))return emit.apply(this,arguments),this;var args=toArray(arguments),parserType=parser.EVENT;hasBin(args)&&(parserType=parser.BINARY_EVENT);var packet={type:parserType,data:args};return packet.options={},packet.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof args[args.length-1]&&(debug("emitting packet with ack id %d",this.ids),this.acks[this.ids]=args.pop(),packet.id=this.ids++),this.connected?this.packet(packet):this.sendBuffer.push(packet),delete this.flags,this},Socket.prototype.packet=function(packet){packet.nsp=this.nsp,this.io.packet(packet)},Socket.prototype.onopen=function(){debug("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:parser.CONNECT})},Socket.prototype.onclose=function(reason){debug("close (%s)",reason),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",reason)},Socket.prototype.onpacket=function(packet){if(packet.nsp==this.nsp)switch(packet.type){case parser.CONNECT:this.onconnect();break;case parser.EVENT:this.onevent(packet);break;case parser.BINARY_EVENT:this.onevent(packet);break;case parser.ACK:this.onack(packet);break;case parser.BINARY_ACK:this.onack(packet);break;case parser.DISCONNECT:this.ondisconnect();break;case parser.ERROR:this.emit("error",packet.data)}},Socket.prototype.onevent=function(packet){var args=packet.data||[];debug("emitting event %j",args),null!=packet.id&&(debug("attaching ack callback to event"),args.push(this.ack(packet.id))),this.connected?emit.apply(this,args):this.receiveBuffer.push(args)},Socket.prototype.ack=function(id){var self=this,sent=!1;return function(){if(!sent){sent=!0;var args=toArray(arguments);debug("sending ack %j",args);var type=hasBin(args)?parser.BINARY_ACK:parser.ACK;self.packet({type:type,id:id,data:args})}}},Socket.prototype.onack=function(packet){var ack=this.acks[packet.id];"function"==typeof ack?(debug("calling ack %s with %j",packet.id,packet.data),ack.apply(this,packet.data),delete this.acks[packet.id]):debug("bad ack %s",packet.id)},Socket.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},Socket.prototype.emitBuffered=function(){var i;for(i=0;i<this.receiveBuffer.length;i++)emit.apply(this,this.receiveBuffer[i]);for(this.receiveBuffer=[],i=0;i<this.sendBuffer.length;i++)this.packet(this.sendBuffer[i]);this.sendBuffer=[]},Socket.prototype.ondisconnect=function(){debug("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},Socket.prototype.destroy=function(){if(this.subs){for(var i=0;i<this.subs.length;i++)this.subs[i].destroy();this.subs=null}this.io.destroy(this)},Socket.prototype.close=Socket.prototype.disconnect=function(){return this.connected&&(debug("performing disconnect (%s)",this.nsp),this.packet({type:parser.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},Socket.prototype.compress=function(compress){return this.flags=this.flags||{},this.flags.compress=compress,this}},function(module,exports){function Emitter(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in Emitter.prototype)obj[key]=Emitter.prototype[key];return obj}module.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){return this._callbacks=this._callbacks||{},(this._callbacks["$"+event]=this._callbacks["$"+event]||[]).push(fn),this},Emitter.prototype.once=function(event,fn){function on(){this.off(event,on),fn.apply(this,arguments)}return on.fn=fn,this.on(event,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var callbacks=this._callbacks["$"+event];if(!callbacks)return this;if(1==arguments.length)return delete this._callbacks["$"+event],this;for(var cb,i=0;i<callbacks.length;i++)if(cb=callbacks[i],cb===fn||cb.fn===fn){callbacks.splice(i,1);break}return this},Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks["$"+event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;i<len;++i)callbacks[i].apply(this,args)}return this},Emitter.prototype.listeners=function(event){return this._callbacks=this._callbacks||{},this._callbacks["$"+event]||[]},Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},function(module,exports,__webpack_require__){(function(global){function isBuf(obj){return global.Buffer&&global.Buffer.isBuffer(obj)||global.ArrayBuffer&&obj instanceof ArrayBuffer}module.exports=isBuf}).call(exports,__webpack_require__(9))},function(module,exports){module.exports=Array.isArray||function(arr){return"[object Array]"==Object.prototype.toString.call(arr)}},function(module,exports,__webpack_require__){"use strict";var transport=__webpack_require__(25),base=transport.protocol.base;exports.FRAME_HEADER_SIZE=8,exports.PING_OPAQUE_SIZE=4,exports.MAX_CONCURRENT_STREAMS=1/0,exports.DEFAULT_MAX_HEADER_LIST_SIZE=1/0,exports.DEFAULT_WEIGHT=16,exports.frameType={SYN_STREAM:1,SYN_REPLY:2,RST_STREAM:3,SETTINGS:4,PING:6,GOAWAY:7,HEADERS:8,WINDOW_UPDATE:9,X_FORWARDED_FOR:61440},exports.flags={FLAG_FIN:1,FLAG_COMPRESSED:2,FLAG_UNIDIRECTIONAL:2},exports.error={PROTOCOL_ERROR:1,INVALID_STREAM:2,REFUSED_STREAM:3,UNSUPPORTED_VERSION:4,CANCEL:5,INTERNAL_ERROR:6,FLOW_CONTROL_ERROR:7,STREAM_IN_USE:8,STREAM_CLOSED:9,INVALID_CREDENTIALS:10,FRAME_TOO_LARGE:11},exports.errorByCode=base.utils.reverse(exports.error),exports.settings={FLAG_SETTINGS_PERSIST_VALUE:1,FLAG_SETTINGS_PERSISTED:2,SETTINGS_UPLOAD_BANDWIDTH:1,SETTINGS_DOWNLOAD_BANDWIDTH:2,SETTINGS_ROUND_TRIP_TIME:3,SETTINGS_MAX_CONCURRENT_STREAMS:4,SETTINGS_CURRENT_CWND:5,SETTINGS_DOWNLOAD_RETRANS_RATE:6,SETTINGS_INITIAL_WINDOW_SIZE:7,SETTINGS_CLIENT_CERTIFICATE_VECTOR_SIZE:8},exports.settingsIndex=[null,"upload_bandwidth","download_bandwidth","round_trip_time","max_concurrent_streams","current_cwnd","download_retrans_rate","initial_window_size","client_certificate_vector_size"],exports.DEFAULT_WINDOW=65536,exports.MAX_INITIAL_WINDOW_SIZE=2147483647,exports.goaway={OK:0,PROTOCOL_ERROR:1,INTERNAL_ERROR:2},exports.goawayByCode=base.utils.reverse(exports.goaway),exports.statusReason={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(module,exports,__webpack_require__){"use strict";exports.name="spdy",exports.dictionary=__webpack_require__(761),exports.constants=__webpack_require__(305),exports.parser=__webpack_require__(763),exports.framer=__webpack_require__(762),exports.compressionPool=__webpack_require__(764)},function(module,exports,__webpack_require__){"use strict";(function(process){function prependListener(emitter,event,fn){return hasPrependListener?emitter.prependListener(event,fn):void(emitter._events&&emitter._events[event]?isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn))}function ReadableState(options,stream){Duplex=Duplex||__webpack_require__(89),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode);
var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=options.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=__webpack_require__(13).StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){return Duplex=Duplex||__webpack_require__(89),this instanceof Readable?(this._readableState=new ReadableState(options,this),this.readable=!0,options&&"function"==typeof options.read&&(this._read=options.read),void Stream.call(this)):new Readable(options)}function readableAddChunk(stream,state,chunk,encoding,addToFront){var er=chunkInvalid(state,chunk);if(er)stream.emit("error",er);else if(null===chunk)state.reading=!1,onEofChunk(stream,state);else if(state.objectMode||chunk&&chunk.length>0)if(state.ended&&!addToFront){var e=new Error("stream.push() after EOF");stream.emit("error",e)}else if(state.endEmitted&&addToFront){var _e=new Error("stream.unshift() after end event");stream.emit("error",_e)}else{var skipAdd;!state.decoder||addToFront||encoding||(chunk=state.decoder.write(chunk),skipAdd=!state.objectMode&&0===chunk.length),addToFront||(state.reading=!1),skipAdd||(state.flowing&&0===state.length&&!state.sync?(stream.emit("data",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream))),maybeReadMore(stream,state)}else addToFront||(state.reading=!1);return needMoreData(state)}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}function computeNewHighWaterMark(n){return n>=MAX_HWM?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}function howMuchToRead(n,state){return 0===state.length&&state.ended?0:state.objectMode?0===n?0:1:null===n||isNaN(n)?state.flowing&&state.buffer.length?state.buffer[0].length:state.length:n<=0?0:(n>state.highWaterMark&&(state.highWaterMark=computeNewHighWaterMark(n)),n>state.length?state.ended?state.length:(state.needReadable=!0,0):n)}function chunkInvalid(state,chunk){var er=null;return Buffer.isBuffer(chunk)||"string"==typeof chunk||null===chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er}function onEofChunk(stream,state){if(!state.ended){if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,emitReadable(stream)}}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,state.sync?processNextTick(emitReadable_,stream):emitReadable_(stream))}function emitReadable_(stream){debug("emit readable"),stream.emit("readable"),flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,processNextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(var len=state.length;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug("maybeReadMore read 0"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,"data")&&(state.flowing=!0,flow(src))}}function nReadingNextTick(self){debug("readable nexttick read 0"),self.read(0)}function resume(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,processNextTick(resume_,stream,state))}function resume_(stream,state){state.reading||(debug("resume read 0"),stream.read(0)),state.resumeScheduled=!1,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;if(debug("flow",state.flowing),state.flowing)do var chunk=stream.read();while(null!==chunk&&state.flowing)}function fromList(n,state){var ret,list=state.buffer,length=state.length,stringMode=!!state.decoder,objectMode=!!state.objectMode;if(0===list.length)return null;if(0===length)ret=null;else if(objectMode)ret=list.shift();else if(!n||n>=length)ret=stringMode?list.join(""):1===list.length?list[0]:Buffer.concat(list,length),list.length=0;else if(n<list[0].length){var buf=list[0];ret=buf.slice(0,n),list[0]=buf.slice(n)}else if(n===list[0].length)ret=list.shift();else{ret=stringMode?"":bufferShim.allocUnsafe(n);for(var c=0,i=0,l=list.length;i<l&&c<n;i++){var _buf=list[0],cpy=Math.min(n-c,_buf.length);stringMode?ret+=_buf.slice(0,cpy):_buf.copy(ret,c,0,cpy),cpy<_buf.length?list[0]=_buf.slice(cpy):list.shift(),c+=cpy}}return ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error('"endReadable()" called on non-empty stream');state.endEmitted||(state.ended=!0,processNextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit("end"))}function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++)f(xs[i],i)}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}module.exports=Readable;var processNextTick=__webpack_require__(7),isArray=__webpack_require__(34);Readable.ReadableState=ReadableState;var Stream,EE=__webpack_require__(5).EventEmitter,EElistenerCount=function(emitter,type){return emitter.listeners(type).length};!function(){try{Stream=__webpack_require__(6)}catch(_){}finally{Stream||(Stream=__webpack_require__(5).EventEmitter)}}();var Buffer=__webpack_require__(0).Buffer,bufferShim=__webpack_require__(20),util=__webpack_require__(4);util.inherits=__webpack_require__(2);var debugUtil=__webpack_require__(803),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var StringDecoder;util.inherits(Readable,Stream);var Duplex,Duplex,hasPrependListener="function"==typeof EE.prototype.prependListener;Readable.prototype.push=function(chunk,encoding){var state=this._readableState;return state.objectMode||"string"!=typeof chunk||(encoding=encoding||state.defaultEncoding,encoding!==state.encoding&&(chunk=bufferShim.from(chunk,encoding),encoding="")),readableAddChunk(this,state,chunk,encoding,!1)},Readable.prototype.unshift=function(chunk){var state=this._readableState;return readableAddChunk(this,state,chunk,"",!0)},Readable.prototype.isPaused=function(){return this._readableState.flowing===!1},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=__webpack_require__(13).StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};var MAX_HWM=8388608;Readable.prototype.read=function(n){debug("read",n);var state=this._readableState,nOrig=n;if(("number"!=typeof n||n>0)&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug("read: emitReadable",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(n=howMuchToRead(n,state),0===n&&state.ended)return 0===state.length&&endReadable(this),null;var doRead=state.needReadable;debug("need readable",doRead),(0===state.length||state.length-n<state.highWaterMark)&&(doRead=!0,debug("length less than watermark",doRead)),(state.ended||state.reading)&&(doRead=!1,debug("reading or ended",doRead)),doRead&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1),doRead&&!state.reading&&(n=howMuchToRead(nOrig,state));var ret;return ret=n>0?fromList(n,state):null,null===ret&&(state.needReadable=!0,n=0),state.length-=n,0!==state.length||state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&0===state.length&&endReadable(this),null!==ret&&this.emit("data",ret),ret},Readable.prototype._read=function(n){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(dest,pipeOpts){function onunpipe(readable){debug("onunpipe"),readable===src&&cleanup()}function onend(){debug("onend"),dest.end()}function cleanup(){debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",cleanup),src.removeListener("data",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain()}function ondata(chunk){debug("ondata");var ret=dest.write(chunk);!1===ret&&((1===state.pipesCount&&state.pipes===dest||state.pipesCount>1&&indexOf(state.pipes,dest)!==-1)&&!cleanedUp&&(debug("false write response, pause",src._readableState.awaitDrain),src._readableState.awaitDrain++),src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EElistenerCount(dest,"error")&&dest.emit("error",er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||pipeOpts.end!==!1)&&dest!==process.stdout&&dest!==process.stderr,endFn=doEnd?onend:cleanup;state.endEmitted?processNextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=!1;return src.on("data",ondata),prependListener(dest,"error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState;if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes?this:(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this),this);if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var _i=0;_i<len;_i++)dests[_i].emit("unpipe",this);return this}var i=indexOf(state.pipes,dest);return i===-1?this:(state.pipes.splice(i,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this),this)},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if("data"===ev&&!1!==this._readableState.flowing&&this.resume(),"readable"===ev&&!this._readableState.endEmitted){var state=this._readableState;state.readableListening||(state.readableListening=!0,state.emittedReadable=!1,state.needReadable=!0,state.reading?state.length&&emitReadable(this,state):processNextTick(nReadingNextTick,this))}return res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!0,resume(this,state)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(stream){var state=this._readableState,paused=!1,self=this;stream.on("end",function(){if(debug("wrapped end"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&self.push(chunk)}self.push(null)}),stream.on("data",function(chunk){if(debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),(!state.objectMode||null!==chunk&&void 0!==chunk)&&(state.objectMode||chunk&&chunk.length)){var ret=self.push(chunk);ret||(paused=!0,stream.pause())}});for(var i in stream)void 0===this[i]&&"function"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));var events=["error","close","destroy","pause","resume"];return forEach(events,function(ev){stream.on(ev,self.emit.bind(self,ev))}),self._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},self},Readable._fromList=fromList}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";function TransformState(stream){this.afterTransform=function(er,data){return afterTransform(stream,er,data)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(stream,er,data){var ts=stream._transformState;ts.transforming=!1;var cb=ts.writecb;if(!cb)return stream.emit("error",new Error("no writecb in Transform class"));ts.writechunk=null,ts.writecb=null,null!==data&&void 0!==data&&stream.push(data),cb(er);var rs=stream._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&stream._read(rs.highWaterMark)}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState=new TransformState(this);var stream=this;this._readableState.needReadable=!0,this._readableState.sync=!1,options&&("function"==typeof options.transform&&(this._transform=options.transform),"function"==typeof options.flush&&(this._flush=options.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(er){done(stream,er)}):done(stream)})}function done(stream,er){if(er)return stream.emit("error",er);var ws=stream._writableState,ts=stream._transformState;if(ws.length)throw new Error("Calling transform done when ws.length != 0");if(ts.transforming)throw new Error("Calling transform done when still transforming");return stream.push(null)}module.exports=Transform;var Duplex=__webpack_require__(89),util=__webpack_require__(4);util.inherits=__webpack_require__(2),util.inherits(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("Not implemented")},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;null!==ts.writechunk&&ts.writecb&&!ts.transforming?(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)):ts.needTransform=!0}},function(module,exports,__webpack_require__){"use strict";(function(process,setImmediate){function nop(){}function WriteReq(chunk,encoding,cb){this.chunk=chunk,this.encoding=encoding,this.callback=cb,this.next=null}function WritableState(options,stream){Duplex=Duplex||__webpack_require__(89),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var noDecode=options.decodeStrings===!1;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){onwrite(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){return Duplex=Duplex||__webpack_require__(89),this instanceof Writable||this instanceof Duplex?(this._writableState=new WritableState(options,this),this.writable=!0,options&&("function"==typeof options.write&&(this._write=options.write),"function"==typeof options.writev&&(this._writev=options.writev)),void Stream.call(this)):new Writable(options)}function writeAfterEnd(stream,cb){var er=new Error("write after end");stream.emit("error",er),processNextTick(cb,er)}function validChunk(stream,state,chunk,cb){var valid=!0,er=!1;return null===chunk?er=new TypeError("May not write null values to stream"):Buffer.isBuffer(chunk)||"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er&&(stream.emit("error",er),processNextTick(cb,er),valid=!1),valid}function decodeChunk(state,chunk,encoding){return state.objectMode||state.decodeStrings===!1||"string"!=typeof chunk||(chunk=bufferShim.from(chunk,encoding)),chunk}function writeOrBuffer(stream,state,chunk,encoding,cb){chunk=decodeChunk(state,chunk,encoding),Buffer.isBuffer(chunk)&&(encoding="buffer");var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(ret||(state.needDrain=!0),state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest=new WriteReq(chunk,encoding,cb),last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function onwriteError(stream,state,sync,er,cb){--state.pendingcb,sync?processNextTick(cb,er):cb(er),stream._writableState.errorEmitted=!0,stream.emit("error",er)}function onwriteStateUpdate(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}function onwrite(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if(onwriteStateUpdate(state),er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state);finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?asyncWrite(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}function afterWrite(stream,state,finished,cb){finished||onwriteDrain(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function onwriteDrain(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=new Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0;entry;)buffer[count]=entry,entry=entry.next,count+=1;doWrite(stream,state,!0,state.length,buffer,"",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state)}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback,len=state.objectMode?1:chunk.length;if(doWrite(stream,state,!1,len,chunk,encoding,cb),entry=entry.next,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequestCount=0,state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function prefinish(stream,state){state.prefinished||(state.prefinished=!0,stream.emit("prefinish"))}function finishMaybe(stream,state){var need=needFinish(state);return need&&(0===state.pendingcb?(prefinish(stream,state),state.finished=!0,stream.emit("finish")):prefinish(stream,state)),need}function endWritable(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?processNextTick(cb):stream.once("finish",cb)),state.ended=!0,stream.writable=!1}function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(err){var entry=_this.entry;for(_this.entry=null;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree?state.corkedRequestsFree.next=_this:state.corkedRequestsFree=_this}}module.exports=Writable;var processNextTick=__webpack_require__(7),asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:processNextTick;Writable.WritableState=WritableState;var util=__webpack_require__(4);util.inherits=__webpack_require__(2);var Stream,internalUtil={deprecate:__webpack_require__(37)};!function(){try{Stream=__webpack_require__(6)}catch(_){}finally{Stream||(Stream=__webpack_require__(5).EventEmitter)}}();var Buffer=__webpack_require__(0).Buffer,bufferShim=__webpack_require__(20);util.inherits(Writable,Stream);var Duplex;WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(_){}}();var Duplex;Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState,ret=!1;return"function"==typeof encoding&&(cb=encoding,encoding=null),Buffer.isBuffer(chunk)?encoding="buffer":encoding||(encoding=state.defaultEncoding),"function"!=typeof cb&&(cb=nop),state.ended?writeAfterEnd(this,cb):validChunk(this,state,chunk,cb)&&(state.pendingcb++,ret=writeOrBuffer(this,state,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){var state=this._writableState;state.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if("string"==typeof encoding&&(encoding=encoding.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);return this._writableState.defaultEncoding=encoding,this},Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;"function"==typeof chunk?(cb=chunk,chunk=null,encoding=null):"function"==typeof encoding&&(cb=encoding,encoding=null),null!==chunk&&void 0!==chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||endWritable(this,state,cb)}}).call(exports,__webpack_require__(3),__webpack_require__(21).setImmediate)},function(module,exports,__webpack_require__){"use strict";function PassThrough(options){return this instanceof PassThrough?void Transform.call(this,options):new PassThrough(options)}module.exports=PassThrough;var Transform=__webpack_require__(185),util=__webpack_require__(4);util.inherits=__webpack_require__(2),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},function(module,exports,__webpack_require__){"use strict";(function(process){function prependListener(emitter,event,fn){return hasPrependListener?emitter.prependListener(event,fn):void(emitter._events&&emitter._events[event]?isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn))}function ReadableState(options,stream){Duplex=Duplex||__webpack_require__(66),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=options.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=__webpack_require__(13).StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){return Duplex=Duplex||__webpack_require__(66),this instanceof Readable?(this._readableState=new ReadableState(options,this),this.readable=!0,options&&"function"==typeof options.read&&(this._read=options.read),void Stream.call(this)):new Readable(options)}function readableAddChunk(stream,state,chunk,encoding,addToFront){var er=chunkInvalid(state,chunk);if(er)stream.emit("error",er);else if(null===chunk)state.reading=!1,onEofChunk(stream,state);else if(state.objectMode||chunk&&chunk.length>0)if(state.ended&&!addToFront){var e=new Error("stream.push() after EOF");stream.emit("error",e)}else if(state.endEmitted&&addToFront){var _e=new Error("stream.unshift() after end event");stream.emit("error",_e)}else{var skipAdd;!state.decoder||addToFront||encoding||(chunk=state.decoder.write(chunk),skipAdd=!state.objectMode&&0===chunk.length),addToFront||(state.reading=!1),skipAdd||(state.flowing&&0===state.length&&!state.sync?(stream.emit("data",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream))),maybeReadMore(stream,state)}else addToFront||(state.reading=!1);return needMoreData(state)}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}function computeNewHighWaterMark(n){return n>=MAX_HWM?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}function howMuchToRead(n,state){return 0===state.length&&state.ended?0:state.objectMode?0===n?0:1:null===n||isNaN(n)?state.flowing&&state.buffer.length?state.buffer[0].length:state.length:n<=0?0:(n>state.highWaterMark&&(state.highWaterMark=computeNewHighWaterMark(n)),n>state.length?state.ended?state.length:(state.needReadable=!0,0):n)}function chunkInvalid(state,chunk){var er=null;return Buffer.isBuffer(chunk)||"string"==typeof chunk||null===chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er}function onEofChunk(stream,state){if(!state.ended){if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,emitReadable(stream)}}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,state.sync?processNextTick(emitReadable_,stream):emitReadable_(stream))}function emitReadable_(stream){debug("emit readable"),stream.emit("readable"),flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,processNextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(var len=state.length;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug("maybeReadMore read 0"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,"data")&&(state.flowing=!0,flow(src))}}function nReadingNextTick(self){debug("readable nexttick read 0"),self.read(0)}function resume(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,processNextTick(resume_,stream,state))}function resume_(stream,state){state.reading||(debug("resume read 0"),stream.read(0)),state.resumeScheduled=!1,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;if(debug("flow",state.flowing),state.flowing)do var chunk=stream.read();while(null!==chunk&&state.flowing)}function fromList(n,state){var ret,list=state.buffer,length=state.length,stringMode=!!state.decoder,objectMode=!!state.objectMode;if(0===list.length)return null;if(0===length)ret=null;else if(objectMode)ret=list.shift();else if(!n||n>=length)ret=stringMode?list.join(""):1===list.length?list[0]:Buffer.concat(list,length),list.length=0;else if(n<list[0].length){var buf=list[0];ret=buf.slice(0,n),list[0]=buf.slice(n)}else if(n===list[0].length)ret=list.shift();else{ret=stringMode?"":bufferShim.allocUnsafe(n);for(var c=0,i=0,l=list.length;i<l&&c<n;i++){var _buf=list[0],cpy=Math.min(n-c,_buf.length);stringMode?ret+=_buf.slice(0,cpy):_buf.copy(ret,c,0,cpy),cpy<_buf.length?list[0]=_buf.slice(cpy):list.shift(),c+=cpy}}return ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error('"endReadable()" called on non-empty stream');state.endEmitted||(state.ended=!0,processNextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit("end"))}function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++)f(xs[i],i)}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}module.exports=Readable;var processNextTick=__webpack_require__(7),isArray=__webpack_require__(34);Readable.ReadableState=ReadableState;var Stream,EE=__webpack_require__(5).EventEmitter,EElistenerCount=function(emitter,type){return emitter.listeners(type).length};!function(){try{Stream=__webpack_require__(6)}catch(_){}finally{Stream||(Stream=__webpack_require__(5).EventEmitter)}}();var Buffer=__webpack_require__(0).Buffer,bufferShim=__webpack_require__(20),util=__webpack_require__(4);util.inherits=__webpack_require__(2);var debugUtil=__webpack_require__(804),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var StringDecoder;util.inherits(Readable,Stream);var Duplex,Duplex,hasPrependListener="function"==typeof EE.prototype.prependListener;Readable.prototype.push=function(chunk,encoding){var state=this._readableState;return state.objectMode||"string"!=typeof chunk||(encoding=encoding||state.defaultEncoding,encoding!==state.encoding&&(chunk=bufferShim.from(chunk,encoding),encoding="")),readableAddChunk(this,state,chunk,encoding,!1)},Readable.prototype.unshift=function(chunk){var state=this._readableState;return readableAddChunk(this,state,chunk,"",!0)},Readable.prototype.isPaused=function(){return this._readableState.flowing===!1},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=__webpack_require__(13).StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};var MAX_HWM=8388608;Readable.prototype.read=function(n){debug("read",n);var state=this._readableState,nOrig=n;if(("number"!=typeof n||n>0)&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug("read: emitReadable",state.length,state.ended),
0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(n=howMuchToRead(n,state),0===n&&state.ended)return 0===state.length&&endReadable(this),null;var doRead=state.needReadable;debug("need readable",doRead),(0===state.length||state.length-n<state.highWaterMark)&&(doRead=!0,debug("length less than watermark",doRead)),(state.ended||state.reading)&&(doRead=!1,debug("reading or ended",doRead)),doRead&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1),doRead&&!state.reading&&(n=howMuchToRead(nOrig,state));var ret;return ret=n>0?fromList(n,state):null,null===ret&&(state.needReadable=!0,n=0),state.length-=n,0!==state.length||state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&0===state.length&&endReadable(this),null!==ret&&this.emit("data",ret),ret},Readable.prototype._read=function(n){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(dest,pipeOpts){function onunpipe(readable){debug("onunpipe"),readable===src&&cleanup()}function onend(){debug("onend"),dest.end()}function cleanup(){debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",cleanup),src.removeListener("data",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain()}function ondata(chunk){debug("ondata");var ret=dest.write(chunk);!1===ret&&((1===state.pipesCount&&state.pipes===dest||state.pipesCount>1&&indexOf(state.pipes,dest)!==-1)&&!cleanedUp&&(debug("false write response, pause",src._readableState.awaitDrain),src._readableState.awaitDrain++),src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EElistenerCount(dest,"error")&&dest.emit("error",er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||pipeOpts.end!==!1)&&dest!==process.stdout&&dest!==process.stderr,endFn=doEnd?onend:cleanup;state.endEmitted?processNextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=!1;return src.on("data",ondata),prependListener(dest,"error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState;if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes?this:(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this),this);if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var _i=0;_i<len;_i++)dests[_i].emit("unpipe",this);return this}var i=indexOf(state.pipes,dest);return i===-1?this:(state.pipes.splice(i,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this),this)},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if("data"===ev&&!1!==this._readableState.flowing&&this.resume(),"readable"===ev&&!this._readableState.endEmitted){var state=this._readableState;state.readableListening||(state.readableListening=!0,state.emittedReadable=!1,state.needReadable=!0,state.reading?state.length&&emitReadable(this,state):processNextTick(nReadingNextTick,this))}return res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!0,resume(this,state)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(stream){var state=this._readableState,paused=!1,self=this;stream.on("end",function(){if(debug("wrapped end"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&self.push(chunk)}self.push(null)}),stream.on("data",function(chunk){if(debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),(!state.objectMode||null!==chunk&&void 0!==chunk)&&(state.objectMode||chunk&&chunk.length)){var ret=self.push(chunk);ret||(paused=!0,stream.pause())}});for(var i in stream)void 0===this[i]&&"function"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));var events=["error","close","destroy","pause","resume"];return forEach(events,function(ev){stream.on(ev,self.emit.bind(self,ev))}),self._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},self},Readable._fromList=fromList}).call(exports,__webpack_require__(3))},function(module,exports){function shift(stream){var rs=stream._readableState;return rs?rs.objectMode?stream.read():stream.read(getStateLength(rs)):null}function getStateLength(state){return state.buffer.length?state.buffer.head?state.buffer.head.data.length:state.buffer[0].length:state.length}module.exports=shift},function(module,exports,__webpack_require__){(function(process){function DestroyableTransform(opts){Transform.call(this,opts),this._destroyed=!1}function noop(chunk,enc,callback){callback(null,chunk)}function through2(construct){return function(options,transform,flush){return"function"==typeof options&&(flush=transform,transform=options,options={}),"function"!=typeof transform&&(transform=noop),"function"!=typeof flush&&(flush=null),construct(options,transform,flush)}}var Transform=__webpack_require__(779),inherits=__webpack_require__(14).inherits,xtend=__webpack_require__(314);inherits(DestroyableTransform,Transform),DestroyableTransform.prototype.destroy=function(err){if(!this._destroyed){this._destroyed=!0;var self=this;process.nextTick(function(){err&&self.emit("error",err),self.emit("close")})}},module.exports=through2(function(options,transform,flush){var t2=new DestroyableTransform(options);return t2._transform=transform,flush&&(t2._flush=flush),t2}),module.exports.ctor=through2(function(options,transform,flush){function Through2(override){return this instanceof Through2?(this.options=xtend(options,override),void DestroyableTransform.call(this,this.options)):new Through2(override)}return inherits(Through2,DestroyableTransform),Through2.prototype._transform=transform,flush&&(Through2.prototype._flush=flush),Through2}),module.exports.obj=through2(function(options,transform,flush){var t2=new DestroyableTransform(xtend({objectMode:!0,highWaterMark:16},options));return t2._transform=transform,flush&&(t2._flush=flush),t2})}).call(exports,__webpack_require__(3))},function(module,exports){function extend(){for(var target={},i=0;i<arguments.length;i++){var source=arguments[i];for(var key in source)hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty},function(module,exports){"use strict";function encode(num){var encoded="";do encoded=alphabet[num%length]+encoded,num=Math.floor(num/length);while(num>0);return encoded}function decode(str){var decoded=0;for(i=0;i<str.length;i++)decoded=decoded*length+map[str.charAt(i)];return decoded}function yeast(){var now=encode(+new Date);return now!==prev?(seed=0,prev=now):now+"."+encode(seed++)}for(var prev,alphabet="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),length=64,map={},seed=0,i=0;i<length;i++)map[alphabet[i]]=i;yeast.encode=encode,yeast.decode=decode,module.exports=yeast},function(module,exports,__webpack_require__){"use strict";var IPFS=__webpack_require__(359);exports=module.exports=IPFS},function(module,exports,__webpack_require__){"use strict";(function(global){function define(O,key,value){O[key]||Object[DEFINE_PROPERTY](O,key,{writable:!0,configurable:!0,value:value})}if(__webpack_require__(577),__webpack_require__(726),__webpack_require__(397),global._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");global._babelPolyfill=!0;var DEFINE_PROPERTY="defineProperty";define(String.prototype,"padLeft","".padStart),define(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(key){[][key]&&define(Array,key,Function.call.bind([][key]))})}).call(exports,__webpack_require__(9))},function(module,exports){module.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},function(module,exports){module.exports={_args:[["elliptic@^6.0.0","/Users/ground-control/code/js-ipfs/node_modules/browserify-sign"]],_from:"elliptic@>=6.0.0 <7.0.0",_id:"elliptic@6.3.1",_inCache:!0,_installable:!0,_location:"/elliptic",_nodeVersion:"6.0.0",_npmOperationalInternal:{host:"packages-16-east.internal.npmjs.com",tmp:"tmp/elliptic-6.3.1.tgz_1465921413402_0.5202967382501811"},_npmUser:{email:"fedor@indutny.com",name:"indutny"},_npmVersion:"3.8.6",_phantomChildren:{},_requested:{name:"elliptic",raw:"elliptic@^6.0.0",rawSpec:"^6.0.0",scope:null,spec:">=6.0.0 <7.0.0",type:"range"},_requiredBy:["/browserify-sign","/create-ecdh","/libp2p-crypto"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.3.1.tgz",_shasum:"17781f2109ab0ec686b146bdcff5d2e8c6aeceda",_shrinkwrap:null,_spec:"elliptic@^6.0.0",_where:"/Users/ground-control/code/js-ipfs/node_modules/browserify-sign",author:{email:"fedor@indutny.com",name:"Fedor Indutny"},bugs:{url:"https://github.com/indutny/elliptic/issues"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0",inherits:"^2.0.1"},description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},directories:{},dist:{shasum:"17781f2109ab0ec686b146bdcff5d2e8c6aeceda",tarball:"https://registry.npmjs.org/elliptic/-/elliptic-6.3.1.tgz"},files:["lib"],gitHead:"c53f5cf3d832c0073eb4a4ed423a464cbce68f3e",homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",maintainers:[{email:"fedor@indutny.com",name:"indutny"}],name:"elliptic",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.3.1"}},function(module,exports){module.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},function(module,exports){function after(count,callback,err_cb){function proxy(err,result){if(proxy.count<=0)throw new Error("after called too many times");--proxy.count,err?(bail=!0,callback(err),callback=err_cb):0!==proxy.count||bail||callback(null,result)}var bail=!1;return err_cb=err_cb||noop,proxy.count=count,0===count?callback():proxy}function noop(){}module.exports=after},function(module,exports){module.exports=function(arraybuffer,start,end){var bytes=arraybuffer.byteLength;if(start=start||0,end=end||bytes,arraybuffer.slice)return arraybuffer.slice(start,end);if(start<0&&(start+=bytes),end<0&&(end+=bytes),end>bytes&&(end=bytes),start>=bytes||start>=end||0===bytes)return new ArrayBuffer(0);for(var abv=new Uint8Array(arraybuffer),result=new Uint8Array(end-start),i=start,ii=0;i<end;i++,ii++)result[ii]=abv[i];return result.buffer}},function(module,exports,__webpack_require__){function Entity(name,body){this.name=name,this.body=body,this.decoders={},this.encoders={}}var asn1=__webpack_require__(102),inherits=__webpack_require__(2),api=exports;api.define=function(name,body){return new Entity(name,body)},Entity.prototype._createNamed=function(base){var named;try{named=__webpack_require__(787).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){named=function(entity){this._initNamed(entity)}}return inherits(named,base),named.prototype._initNamed=function(entity){base.call(this,entity)},new named(this)},Entity.prototype._getDecoder=function(enc){return enc=enc||"der",this.decoders.hasOwnProperty(enc)||(this.decoders[enc]=this._createNamed(asn1.decoders[enc])),this.decoders[enc]},Entity.prototype.decode=function(data,enc,options){return this._getDecoder(enc).decode(data,options)},Entity.prototype._getEncoder=function(enc){return enc=enc||"der",this.encoders.hasOwnProperty(enc)||(this.encoders[enc]=this._createNamed(asn1.encoders[enc])),this.encoders[enc]},Entity.prototype.encode=function(data,enc,reporter){return this._getEncoder(enc).encode(data,reporter)}},function(module,exports,__webpack_require__){function Node(enc,parent){var state={};this._baseState=state,state.enc=enc,state.parent=parent||null,state.children=null,state.tag=null,state.args=null,state.reverseArgs=null,state.choice=null,state.optional=!1,state.any=!1,state.obj=!1,state.use=null,state.useDecoder=null,state.key=null,state.default=null,state.explicit=null,state.implicit=null,state.contains=null,state.parent||(state.children=[],this._wrap())}var Reporter=__webpack_require__(90).Reporter,EncoderBuffer=__webpack_require__(90).EncoderBuffer,DecoderBuffer=__webpack_require__(90).DecoderBuffer,assert=__webpack_require__(82),tags=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],methods=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(tags),overrided=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];module.exports=Node;var stateProps=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Node.prototype.clone=function(){var state=this._baseState,cstate={};stateProps.forEach(function(prop){cstate[prop]=state[prop]});var res=new this.constructor(cstate.parent);return res._baseState=cstate,res},Node.prototype._wrap=function(){var state=this._baseState;methods.forEach(function(method){this[method]=function(){var clone=new this.constructor(this);return state.children.push(clone),clone[method].apply(clone,arguments)}},this)},Node.prototype._init=function(body){var state=this._baseState;assert(null===state.parent),body.call(this),state.children=state.children.filter(function(child){return child._baseState.parent===this},this),assert.equal(state.children.length,1,"Root node can have only one child")},Node.prototype._useArgs=function(args){var state=this._baseState,children=args.filter(function(arg){return arg instanceof this.constructor},this);args=args.filter(function(arg){return!(arg instanceof this.constructor)},this),0!==children.length&&(assert(null===state.children),state.children=children,children.forEach(function(child){child._baseState.parent=this},this)),0!==args.length&&(assert(null===state.args),state.args=args,state.reverseArgs=args.map(function(arg){if("object"!=typeof arg||arg.constructor!==Object)return arg;var res={};return Object.keys(arg).forEach(function(key){key==(0|key)&&(key|=0);var value=arg[key];res[value]=key}),res}))},overrided.forEach(function(method){Node.prototype[method]=function(){var state=this._baseState;throw new Error(method+" not implemented for encoding: "+state.enc)}}),tags.forEach(function(tag){Node.prototype[tag]=function(){var state=this._baseState,args=Array.prototype.slice.call(arguments);return assert(null===state.tag),state.tag=tag,this._useArgs(args),this}}),Node.prototype.use=function(item){var state=this._baseState;return assert(null===state.use),state.use=item,this},Node.prototype.optional=function(){var state=this._baseState;return state.optional=!0,this},Node.prototype.def=function(val){var state=this._baseState;return assert(null===state.default),state.default=val,state.optional=!0,this},Node.prototype.explicit=function(num){var state=this._baseState;return assert(null===state.explicit&&null===state.implicit),state.explicit=num,this},Node.prototype.implicit=function(num){var state=this._baseState;return assert(null===state.explicit&&null===state.implicit),state.implicit=num,this},Node.prototype.obj=function(){var state=this._baseState,args=Array.prototype.slice.call(arguments);return state.obj=!0,0!==args.length&&this._useArgs(args),this},Node.prototype.key=function(newKey){var state=this._baseState;return assert(null===state.key),state.key=newKey,this},Node.prototype.any=function(){var state=this._baseState;return state.any=!0,this},Node.prototype.choice=function(obj){var state=this._baseState;return assert(null===state.choice),state.choice=obj,this._useArgs(Object.keys(obj).map(function(key){return obj[key]})),this},Node.prototype.contains=function(item){var state=this._baseState;return assert(null===state.use),state.contains=item,this},Node.prototype._decode=function(input,options){var state=this._baseState;if(null===state.parent)return input.wrapResult(state.children[0]._decode(input,options));var result=state.default,present=!0,prevKey=null;if(null!==state.key&&(prevKey=input.enterKey(state.key)),state.optional){var tag=null;if(null!==state.explicit?tag=state.explicit:null!==state.implicit?tag=state.implicit:null!==state.tag&&(tag=state.tag),null!==tag||state.any){if(present=this._peekTag(input,tag,state.any),input.isError(present))return present}else{var save=input.save();try{null===state.choice?this._decodeGeneric(state.tag,input,options):this._decodeChoice(input,options),present=!0}catch(e){present=!1}input.restore(save)}}var prevObj;if(state.obj&&present&&(prevObj=input.enterObject()),present){if(null!==state.explicit){var explicit=this._decodeTag(input,state.explicit);if(input.isError(explicit))return explicit;input=explicit}var start=input.offset;if(null===state.use&&null===state.choice){if(state.any)var save=input.save();var body=this._decodeTag(input,null!==state.implicit?state.implicit:state.tag,state.any);if(input.isError(body))return body;state.any?result=input.raw(save):input=body}if(options&&options.track&&null!==state.tag&&options.track(input.path(),start,input.length,"tagged"),options&&options.track&&null!==state.tag&&options.track(input.path(),input.offset,input.length,"content"),result=state.any?result:null===state.choice?this._decodeGeneric(state.tag,input,options):this._decodeChoice(input,options),input.isError(result))return result;if(state.any||null!==state.choice||null===state.children||state.children.forEach(function(child){child._decode(input,options)}),state.contains&&("octstr"===state.tag||"bitstr"===state.tag)){var data=new DecoderBuffer(result);result=this._getUse(state.contains,input._reporterState.obj)._decode(data,options)}}return state.obj&&present&&(result=input.leaveObject(prevObj)),null===state.key||null===result&&present!==!0?null!==prevKey&&input.exitKey(prevKey):input.leaveKey(prevKey,state.key,result),result},Node.prototype._decodeGeneric=function(tag,input,options){var state=this._baseState;return"seq"===tag||"set"===tag?null:"seqof"===tag||"setof"===tag?this._decodeList(input,tag,state.args[0],options):/str$/.test(tag)?this._decodeStr(input,tag,options):"objid"===tag&&state.args?this._decodeObjid(input,state.args[0],state.args[1],options):"objid"===tag?this._decodeObjid(input,null,null,options):"gentime"===tag||"utctime"===tag?this._decodeTime(input,tag,options):"null_"===tag?this._decodeNull(input,options):"bool"===tag?this._decodeBool(input,options):"int"===tag||"enum"===tag?this._decodeInt(input,state.args&&state.args[0],options):null!==state.use?this._getUse(state.use,input._reporterState.obj)._decode(input,options):input.error("unknown tag: "+tag)},Node.prototype._getUse=function(entity,obj){var state=this._baseState;return state.useDecoder=this._use(entity,obj),assert(null===state.useDecoder._baseState.parent),state.useDecoder=state.useDecoder._baseState.children[0],state.implicit!==state.useDecoder._baseState.implicit&&(state.useDecoder=state.useDecoder.clone(),state.useDecoder._baseState.implicit=state.implicit),state.useDecoder},Node.prototype._decodeChoice=function(input,options){var state=this._baseState,result=null,match=!1;return Object.keys(state.choice).some(function(key){var save=input.save(),node=state.choice[key];try{var value=node._decode(input,options);if(input.isError(value))return!1;result={type:key,value:value},match=!0}catch(e){return input.restore(save),!1}return!0},this),match?result:input.error("Choice not matched")},Node.prototype._createEncoderBuffer=function(data){return new EncoderBuffer(data,this.reporter)},Node.prototype._encode=function(data,reporter,parent){var state=this._baseState;if(null===state.default||state.default!==data){var result=this._encodeValue(data,reporter,parent);if(void 0!==result&&!this._skipDefault(result,reporter,parent))return result}},Node.prototype._encodeValue=function(data,reporter,parent){var state=this._baseState;if(null===state.parent)return state.children[0]._encode(data,reporter||new Reporter);var result=null;if(this.reporter=reporter,state.optional&&void 0===data){if(null===state.default)return;data=state.default}var content=null,primitive=!1;if(state.any)result=this._createEncoderBuffer(data);else if(state.choice)result=this._encodeChoice(data,reporter);else if(state.contains)content=this._getUse(state.contains,parent)._encode(data,reporter),primitive=!0;else if(state.children)content=state.children.map(function(child){if("null_"===child._baseState.tag)return child._encode(null,reporter,data);if(null===child._baseState.key)return reporter.error("Child should have a key");var prevKey=reporter.enterKey(child._baseState.key);if("object"!=typeof data)return reporter.error("Child expected, but input is not object");var res=child._encode(data[child._baseState.key],reporter,data);return reporter.leaveKey(prevKey),res},this).filter(function(child){return child}),content=this._createEncoderBuffer(content);else if("seqof"===state.tag||"setof"===state.tag){if(!state.args||1!==state.args.length)return reporter.error("Too many args for : "+state.tag);if(!Array.isArray(data))return reporter.error("seqof/setof, but data is not Array");var child=this.clone();child._baseState.implicit=null,content=this._createEncoderBuffer(data.map(function(item){var state=this._baseState;return this._getUse(state.args[0],data)._encode(item,reporter)},child))}else null!==state.use?result=this._getUse(state.use,parent)._encode(data,reporter):(content=this._encodePrimitive(state.tag,data),primitive=!0);var result;if(!state.any&&null===state.choice){var tag=null!==state.implicit?state.implicit:state.tag,cls=null===state.implicit?"universal":"context";null===tag?null===state.use&&reporter.error("Tag could be ommited only for .use()"):null===state.use&&(result=this._encodeComposite(tag,primitive,cls,content))}return null!==state.explicit&&(result=this._encodeComposite(state.explicit,!1,"context",result)),result},Node.prototype._encodeChoice=function(data,reporter){var state=this._baseState,node=state.choice[data.type];return node||assert(!1,data.type+" not found in "+JSON.stringify(Object.keys(state.choice))),node._encode(data.value,reporter)},Node.prototype._encodePrimitive=function(tag,data){var state=this._baseState;if(/str$/.test(tag))return this._encodeStr(data,tag);if("objid"===tag&&state.args)return this._encodeObjid(data,state.reverseArgs[0],state.args[1]);if("objid"===tag)return this._encodeObjid(data,null,null);
if("gentime"===tag||"utctime"===tag)return this._encodeTime(data,tag);if("null_"===tag)return this._encodeNull();if("int"===tag||"enum"===tag)return this._encodeInt(data,state.args&&state.reverseArgs[0]);if("bool"===tag)return this._encodeBool(data);throw new Error("Unsupported tag: "+tag)},Node.prototype._isNumstr=function(str){return/^[0-9 ]*$/.test(str)},Node.prototype._isPrintstr=function(str){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(str)}},function(module,exports,__webpack_require__){function Reporter(options){this._reporterState={obj:null,path:[],options:options||{},errors:[]}}function ReporterError(path,msg){this.path=path,this.rethrow(msg)}var inherits=__webpack_require__(2);exports.Reporter=Reporter,Reporter.prototype.isError=function(obj){return obj instanceof ReporterError},Reporter.prototype.save=function(){var state=this._reporterState;return{obj:state.obj,pathLen:state.path.length}},Reporter.prototype.restore=function(data){var state=this._reporterState;state.obj=data.obj,state.path=state.path.slice(0,data.pathLen)},Reporter.prototype.enterKey=function(key){return this._reporterState.path.push(key)},Reporter.prototype.exitKey=function(index){var state=this._reporterState;state.path=state.path.slice(0,index-1)},Reporter.prototype.leaveKey=function(index,key,value){var state=this._reporterState;this.exitKey(index),null!==state.obj&&(state.obj[key]=value)},Reporter.prototype.path=function(){return this._reporterState.path.join("/")},Reporter.prototype.enterObject=function(){var state=this._reporterState,prev=state.obj;return state.obj={},prev},Reporter.prototype.leaveObject=function(prev){var state=this._reporterState,now=state.obj;return state.obj=prev,now},Reporter.prototype.error=function(msg){var err,state=this._reporterState,inherited=msg instanceof ReporterError;if(err=inherited?msg:new ReporterError(state.path.map(function(elem){return"["+JSON.stringify(elem)+"]"}).join(""),msg.message||msg,msg.stack),!state.options.partial)throw err;return inherited||state.errors.push(err),err},Reporter.prototype.wrapResult=function(result){var state=this._reporterState;return state.options.partial?{result:this.isError(result)?null:result,errors:state.errors}:result},inherits(ReporterError,Error),ReporterError.prototype.rethrow=function(msg){if(this.message=msg+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,ReporterError),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},function(module,exports,__webpack_require__){var constants=__webpack_require__(190);exports.tagClass={0:"universal",1:"application",2:"context",3:"private"},exports.tagClassByName=constants._reverse(exports.tagClass),exports.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},exports.tagByName=constants._reverse(exports.tag)},function(module,exports,__webpack_require__){var decoders=exports;decoders.der=__webpack_require__(191),decoders.pem=__webpack_require__(328)},function(module,exports,__webpack_require__){function PEMDecoder(entity){DERDecoder.call(this,entity),this.enc="pem"}var inherits=__webpack_require__(2),Buffer=__webpack_require__(0).Buffer,DERDecoder=__webpack_require__(191);inherits(PEMDecoder,DERDecoder),module.exports=PEMDecoder,PEMDecoder.prototype.decode=function(data,options){for(var lines=data.toString().split(/[\r\n]+/g),label=options.label.toUpperCase(),re=/^-----(BEGIN|END) ([^-]+)-----$/,start=-1,end=-1,i=0;i<lines.length;i++){var match=lines[i].match(re);if(null!==match&&match[2]===label){if(start!==-1){if("END"!==match[1])break;end=i;break}if("BEGIN"!==match[1])break;start=i}}if(start===-1||end===-1)throw new Error("PEM section not found for: "+label);var base64=lines.slice(start+1,end).join("");base64.replace(/[^a-z0-9\+\/=]+/gi,"");var input=new Buffer(base64,"base64");return DERDecoder.prototype.decode.call(this,input,options)}},function(module,exports,__webpack_require__){var encoders=exports;encoders.der=__webpack_require__(192),encoders.pem=__webpack_require__(330)},function(module,exports,__webpack_require__){function PEMEncoder(entity){DEREncoder.call(this,entity),this.enc="pem"}var inherits=__webpack_require__(2),DEREncoder=__webpack_require__(192);inherits(PEMEncoder,DEREncoder),module.exports=PEMEncoder,PEMEncoder.prototype.encode=function(data,options){for(var buf=DEREncoder.prototype.encode.call(this,data),p=buf.toString("base64"),out=["-----BEGIN "+options.label+"-----"],i=0;i<p.length;i+=64)out.push(p.slice(i,i+64));return out.push("-----END "+options.label+"-----"),out.join("\n")}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),debug=__webpack_require__(10),_=__webpack_require__(254),async=__webpack_require__(103),mh=__webpack_require__(27),log=debug("bitswap:engine");log.error=debug("bitswap:engine:error");var Message=__webpack_require__(104),Wantlist=__webpack_require__(105),PeerRequestQueue=__webpack_require__(334),Ledger=__webpack_require__(333);module.exports=function(){function Engine(datastore,network){_classCallCheck(this,Engine),this.datastore=datastore,this.network=network,this.ledgerMap=new Map,this.peerRequestQueue=new PeerRequestQueue,this._running=!1}return _createClass(Engine,[{key:"_sendBlock",value:function(env,cb){var msg=new Message((!1));msg.addBlock(env.block),log("Sending block to %s",env.peer.toB58String(),env.block.data.toString()),this.network.sendMessage(env.peer,msg,function(err){err&&log("sendblock error: %s",err.message),cb(null,"done")})}},{key:"_outbox",value:function(){var _this=this;if(this._running){var doIt=function(cb){_(function(push,next){if(!_this._running)return push(null,_.nil);var nextTask=_this.peerRequestQueue.pop();return nextTask?void _this.datastore.get(nextTask.entry.key,function(err,block){err||!block?nextTask.done():push(null,{peer:nextTask.target,block:block,sent:function(){nextTask.done()}}),next()}):push(null,_.nil)}).flatMap(function(envelope){return _.wrapCallback(_this._sendBlock.bind(_this))(envelope)}).done(cb)};this._timer||(this._timer=setTimeout(function(){doIt(function(){_this._timer=null})},50))}}},{key:"wantlistForPeer",value:function(peerId){return this.ledgerMap.has(peerId.toB58String())?this.ledgerMap.get(peerId.toB58String()).wantlist.sortedEntries():new Map}},{key:"peers",value:function(){return Array.from(this.ledgerMap.values()).map(function(l){return l.partner})}},{key:"messageReceived",value:function(peerId,msg,cb){var _this2=this;msg.empty&&log("received empty message from %s",peerId.toB58String());var ledger=this._findOrCreate(peerId);msg.full&&(ledger.wantlist=new Wantlist),this._processBlocks(msg.blocks,ledger),log("wantlist",Array.from(msg.wantlist.values()).map(function(e){return e.toString()})),async.eachSeries(msg.wantlist.values(),this._processWantlist.bind(this,ledger,peerId),function(err){var done=function(err){return async.setImmediate(function(){return cb(err)})};return err?done(err):(_this2._outbox(),void done())})}},{key:"receivedBlock",value:function(block){this._processBlock(block),this._outbox()}},{key:"_processBlock",value:function(block){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.ledgerMap.values()[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var l=_step.value,entry=l.wantlistContains(block.key);entry&&this.peerRequestQueue.push(entry,l.partner)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}},{key:"_processWantlist",value:function(ledger,peerId,entry,cb){var _this3=this;entry.cancel?(log("cancel %s",mh.toB58String(entry.key)),ledger.cancelWant(entry.key),this.peerRequestQueue.remove(entry.key,peerId),async.setImmediate(function(){return cb()})):(log("wants %s - %s",mh.toB58String(entry.key),entry.priority),ledger.wants(entry.key,entry.priority),this.datastore.has(entry.key,function(err,exists){err?log("failed existence check %s",mh.toB58String(entry.key)):exists&&(log("has want %s",mh.toB58String(entry.key)),_this3.peerRequestQueue.push(entry.entry,peerId)),cb()}))}},{key:"_processBlocks",value:function(blocks,ledger){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=blocks.values()[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var block=_step2.value;log("got block %s (%s bytes)",mh.toB58String(block.key),block.data.length),ledger.receivedBytes(block.data.length),this.receivedBlock(block)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}},{key:"messageSent",value:function(peerId,msg){var ledger=this._findOrCreate(peerId),_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=msg.blocks.values()[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var block=_step3.value;ledger.sentBytes(block.data.length),ledger.wantlist.remove(block.key),this.peerRequestQueue.remove(block.key,peerId)}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}}},{key:"numBytesSentTo",value:function(peerId){return this._findOrCreate(peerId).accounting.bytesSent}},{key:"numBytesReceivedFrom",value:function(peerId){return this._findOrCreate(peerId).accounting.bytesRecv}},{key:"peerDisconnected",value:function(peerId){}},{key:"_findOrCreate",value:function(peerId){if(this.ledgerMap.has(peerId.toB58String()))return this.ledgerMap.get(peerId.toB58String());var l=new Ledger(peerId);return this.ledgerMap.set(peerId.toB58String(),l),l}},{key:"start",value:function(){this._running=!0}},{key:"stop",value:function(){this._running=!1}}]),Engine}()},function(module,exports,__webpack_require__){"use strict";var Engine=__webpack_require__(331);exports.Engine=Engine},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Wantlist=__webpack_require__(105);module.exports=function(){function Ledger(peerId){_classCallCheck(this,Ledger),this.partner=peerId,this.wantlist=new Wantlist,this.exchangeCount=0,this.sentToPeer=new Map,this.accounting={bytesSent:0,bytesRecv:0}}return _createClass(Ledger,[{key:"sentBytes",value:function(n){this.exchangeCount++,this.lastExchange=(new Date).getTime(),this.accounting.bytesSent+=n}},{key:"receivedBytes",value:function(n){this.exchangeCount++,this.lastExchange=(new Date).getTime(),this.accounting.bytesRecv+=n}},{key:"wants",value:function(key,priority){this.wantlist.add(key,priority)}},{key:"cancelWant",value:function(key){this.wantlist.remove(key)}},{key:"wantlistContains",value:function(key){return this.wantlist.contains(key)}}]),Ledger}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function taskKey(peerId,key){return peerId.toB58String()+":"+mh.toB58String(key)}function partnerCompare(a,b){return 0!==a.requests&&(0===b.requests||(a.active===b.active?a.taskQueue.size()>b.taskQueue.size():a.active<b.active))}function FIFO(a,b){return a.created<b.created}function V1(a,b){return a.target.toBytes()===b.target.toBytes()?a.entry.priority>b.entry.priority:FIFO(a,b)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),mh=__webpack_require__(27),debug=__webpack_require__(10),assert=__webpack_require__(28),PriorityQueue=__webpack_require__(335),log=debug("bitswap:peer-request-queue"),PeerRequestTask=function(){function PeerRequestTask(entry,target,done){_classCallCheck(this,PeerRequestTask),this.entry=entry,this.target=target,this.created=(new Date).getTime(),this.done=done}return _createClass(PeerRequestTask,[{key:"key",get:function(){return taskKey(this.target,this.entry.key)}},{key:Symbol.toStringTag,get:function(){return"PeerRequestTask <target: "+this.target.toB58String()+", entry: "+this.entry.toString()+">"}}]),PeerRequestTask}(),ActivePartner=function(){function ActivePartner(id){_classCallCheck(this,ActivePartner),this.id=id,this.active=0,this.requests=0,this.taskQueue=new PriorityQueue(V1),this.activeBlocks=new Map}return _createClass(ActivePartner,[{key:"startTask",value:function(key){this.activeBlocks.set(mh.toB58String(key),1),this.active++}},{key:"taskDone",value:function(key){var k=mh.toB58String(key);assert(this.activeBlocks.has(k),"finishing non existent task"),this.activeBlocks.delete(),this.active--,assert(this.active>=0,"more tasks finished than started")}}]),ActivePartner}();module.exports=function(){function PeerRequestQueue(){_classCallCheck(this,PeerRequestQueue),this.taskMap=new Map,this.partners=new Map,this.pQueue=new PriorityQueue(partnerCompare)}return _createClass(PeerRequestQueue,[{key:"push",value:function(entry,to){var _this=this;log("push, to: %s",to.toB58String());var partner=this.partners.get(to.toB58String());if(partner||(partner=new ActivePartner(to),this.pQueue.push(partner),this.partners.set(to.toB58String(),partner)),partner.activeBlocks.has(entry.key))return void log("has activeBlocks",entry.key);var task=this.taskMap.get(taskKey(to,entry.key));return task?(log("updating task",task.toString()),task.entry.priority=entry.priority,void partner.taskQueue.update(task)):(task=new PeerRequestTask(entry,to,function(){partner.taskDone(entry.key),_this.pQueue.update(partner)}),partner.taskQueue.push(task),log("taskMap.set",task.key,task.toString()),this.taskMap.set(task.key,task),partner.requests++,void partner.taskQueue.update(task))}},{key:"pop",value:function(){if(!this.pQueue.isEmpty()){for(var partner=this.pQueue.pop(),out=void 0;!partner.taskQueue.isEmpty();){if(out=partner.taskQueue.pop(),this.taskMap.delete(out.key),!out.trash){partner.startTask(out.entry.key),partner.requests--;break}out=null}return this.pQueue.push(partner),out}}},{key:"remove",value:function(key,peerId){var t=this.taskMap.get(taskKey(peerId,key));t&&(t.trash=!0,this.partners.get(peerId.toB58String()).requests--),log("taskMap",Array.from(this.taskMap.values()).map(function(v){return v.toString()}))}}]),PeerRequestQueue}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Heap=__webpack_require__(635);module.exports=function(){function PriorityQueue(cmp){_classCallCheck(this,PriorityQueue),this.q=new Heap(function(a,b){return cmp(a,b)?-1:1})}return _createClass(PriorityQueue,[{key:"push",value:function(e){this.q.push(e)}},{key:"pop",value:function(){return this.q.pop()}},{key:"update",value:function(e){this.q.updateItem(e)}},{key:"size",value:function(){return this.q.size()}},{key:"isEmpty",value:function(){return this.q.empty()}}]),PriorityQueue}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),async=__webpack_require__(103),debug=__webpack_require__(10),log=debug("bitswap");log.error=debug("bitswap:error");var EventEmitter=__webpack_require__(5).EventEmitter,mh=__webpack_require__(27),cs=__webpack_require__(136),WantManager=__webpack_require__(340),Network=__webpack_require__(338),decision=__webpack_require__(332);module.exports=function(){function Bitwap(p,libp2p,datastore,peerBook){_classCallCheck(this,Bitwap),this.self=p,this.network=new Network(libp2p,peerBook,this),this.datastore=datastore,this.engine=new decision.Engine(datastore,this.network),this.wm=new WantManager(this.network),this.blocksRecvd=0,this.dupBlocksRecvd=0,this.dupDataRecvd=0,this.notifications=new EventEmitter,this.notifications.setMaxListeners(cs.maxListeners)}return _createClass(Bitwap,[{key:"_receiveMessage",value:function(peerId,incoming,cb){var _this=this;cb=cb||function(){},log("receiving message from %s",peerId.toB58String()),this.engine.messageReceived(peerId,incoming,function(err){err&&log("failed to receive message",incoming);var iblocks=incoming.blocks;if(0===iblocks.size)return cb();var keys=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=iblocks.values()[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var block=_step.value,found=_this.wm.wl.contains(block.key);found?keys.push(block.key):log("received un-askes-for %s from %s",mh.toB58String(block.key),peerId.toB58String())}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}_this.wm.cancelWants(keys),async.eachLimit(iblocks.values(),10,function(block,next){async.series([function(innerCb){return _this._updateReceiveCounters(block,function(err){return err?innerCb():(log("got block from %s",peerId.toB58String(),block.data.toString()),void innerCb())})},function(innerCb){return _this.hasBlock(block,function(err){err&&log.error("receiveMessage hasBlock error: %s",err.message),innerCb()})}],next)},cb)})}},{key:"_updateReceiveCounters",value:function(block,cb){var _this2=this;this.blocksRecvd++,this.datastore.has(block.key,function(err,has){return err?(log("datastore.has error: %s",err.message),cb(err)):has?(_this2.dupBlocksRecvd++,_this2.dupDataRecvd+=block.data.length,cb(new Error("Already have block"))):void cb()})}},{key:"_tryPutBlock",value:function(block,times,cb){var _this3=this;log("trying to put block %s",block.data.toString()),async.retry({times:times,interval:400},function(done){_this3.datastore.put(block,done)},cb)}},{key:"_receiveError",value:function(err){log.error("ReceiveError: %s",err.message)}},{key:"_onPeerConnected",value:function(peerId){this.wm.connected(peerId)}},{key:"_onPeerDisconnected",value:function(peerId){this.wm.disconnected(peerId),this.engine.peerDisconnected(peerId)}},{key:"getBlock",value:function(key,cb){var keyS=mh.toB58String(key);log("getBlock.start %s",keyS);var done=function(err,block){return err?(log("getBlock.fail %s",keyS),cb(err)):block?(log("getBlock.end %s",keyS),void cb(null,block)):(log("getBlock.fail %s",keyS),cb(new Error("Empty block received")))};this.getBlocks([key],function(results){var err=results[keyS].error,block=results[keyS].block;done(err,block)})}},{key:"wantlistForPeer",value:function(peerId){return this.engine.wantlistForPeer(peerId)}},{key:"getBlocks",value:function(keys,cb){var _this4=this,results={},unwantListeners={},blockListeners={},unwantEvent=function(key){return"unwant:"+key},blockEvent=function(key){return"block:"+key},cleanupListeners=function(){keys.forEach(function(key){var keyS=mh.toB58String(key);_this4.notifications.removeListener(unwantEvent(keyS),unwantListeners[keyS]),_this4.notifications.removeListener(blockEvent(keyS),blockListeners[keyS])})},addListeners=function(){keys.forEach(function(key){var keyS=mh.toB58String(key);unwantListeners[keyS]=function(){finish(keyS,new Error("manual unwant: "+keyS))},blockListeners[keyS]=function(block){finish(keyS,null,block)},_this4.notifications.once(unwantEvent(keyS),unwantListeners[keyS]),_this4.notifications.once(blockEvent(keyS),blockListeners[keyS])})},finished=!1,finish=function(key,err,block){results[key]={error:err,block:block},Object.keys(results).length===keys.length&&(cleanupListeners(),finished||cb(results),finished=!0)};addListeners(),this.wm.wantBlocks(keys),async.parallel(keys.map(function(key){return function(cb){_this4.datastore.has(key,function(err,exists){return err?(log("error in datastore.has: ",err.message),cb()):exists?void _this4.datastore.get(key,function(err,res){err&&log("error in datastore.get: ",err.message),!err&&res&&(finish(mh.toB58String(key),null,res),_this4.wm.cancelWants([key])),cb()}):cb()})}}))}},{key:"unwantBlocks",value:function(keys){var _this5=this;this.wm.unwantBlocks(keys),keys.forEach(function(key){_this5.notifications.emit("unwant:"+mh.toB58String(key))})}},{key:"cancelWants",value:function(keys){this.wm.cancelWants(keys)}},{key:"hasBlock",value:function(block,cb){var _this6=this;cb=cb||function(){},this._tryPutBlock(block,4,function(err){return err?(log.error("Error writing block to datastore: %s",err.message),cb(err)):(log("put block: %s",mh.toB58String(block.key)),_this6.notifications.emit("block:"+mh.toB58String(block.key),block),_this6.engine.receivedBlock(block),void cb())})}},{key:"getWantlist",value:function(){return this.wm.wl.entries()}},{key:"stat",value:function(){return{wantlist:this.getWantlist(),blocksReceived:this.blocksRecvd,dupBlksReceived:this.dupBlocksRecvd,dupDataReceived:this.dupDataRecvd,peers:this.engine.peers()}}},{key:"start",value:function(){this.wm.run(),this.network.start(),this.engine.start()}},{key:"stop",value:function(){this.wm.stop(),this.network.stop(),this.engine.stop()}}]),Bitwap}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),mh=__webpack_require__(27),WantlistEntry=__webpack_require__(105).Entry;module.exports=function(){function BitswapMessageEntry(key,priority,cancel){_classCallCheck(this,BitswapMessageEntry),this.entry=new WantlistEntry(key,priority),this.cancel=Boolean(cancel)}return _createClass(BitswapMessageEntry,[{key:"equals",value:function(other){return this.cancel===other.cancel&&this.entry.equals(other.entry)}},{key:"key",get:function(){return this.entry.key},set:function(val){this.entry.key=val}},{key:"priority",get:function(){return this.entry.priority},set:function(val){this.entry.priority=val}},{key:Symbol.toStringTag,get:function(){return"BitswapMessageEntry "+mh.toB58String(this.key)+" <cancel: "+this.cancel+", priority: "+this.priority+">"}}]),BitswapMessageEntry}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),bl=__webpack_require__(92),async=__webpack_require__(103),debug=__webpack_require__(10),lps=__webpack_require__(265),Message=__webpack_require__(104),cs=__webpack_require__(136),log=debug("bitswap:network"),PROTOCOL_IDENTIFIER="/ipfs/bitswap";module.exports=function(){function Network(libp2p,peerBook,bitswap){_classCallCheck(this,Network),this.libp2p=libp2p,this.peerBook=peerBook,this.bitswap=bitswap,this.libp2p.swarm.setMaxListeners(cs.maxListeners)}return _createClass(Network,[{key:"start",value:function(){var _this=this;this._onConnection=this._onConnection.bind(this),this._onPeerMux=this._onPeerMux.bind(this),this._onPeerMuxClosed=this._onPeerMuxClosed.bind(this),this.libp2p.handle(PROTOCOL_IDENTIFIER,this._onConnection),this.libp2p.swarm.on("peer-mux-established",this._onPeerMux),this.libp2p.swarm.on("peer-mux-closed",this._onPeerMuxClosed);var pKeys=Object.keys(this.peerBook.getAll());pKeys.forEach(function(k){_this._onPeerMux(_this.peerBook.getByB58String(k))})}},{key:"stop",value:function(){this.libp2p.unhandle(PROTOCOL_IDENTIFIER),this.libp2p.swarm.removeListener("peer-mux-established",this._onPeerMux),this.libp2p.swarm.removeListener("peer-mux-closed",this._onPeerMuxClosed)}},{key:"_onConnection",value:function(conn){var _this2=this,decode=lps.decode();conn.pipe(decode).pipe(bl(function(err,data){if(conn.end(),err)return _this2.bitswap._receiveError(err);var msg=void 0;try{msg=Message.fromProto(data)}catch(err){return _this2.bitswap._receiveError(err)}conn.getPeerInfo(function(err,peerInfo){return err?_this2.bitswap._receiveError(err):void _this2.bitswap._receiveMessage(peerInfo.id,msg)})})),conn.on("error",function(err){_this2.bitswap._receiveError(err),conn.end()})}},{key:"_onPeerMux",value:function(peerInfo){this.bitswap._onPeerConnected(peerInfo.id)}},{key:"_onPeerMuxClosed",value:function(peerInfo){this.bitswap._onPeerDisconnected(peerInfo.id)}},{key:"connectTo",value:function(peerId,cb){log("connecting to %s",peerId.toB58String());var done=function(err){return async.setImmediate(function(){return cb(err)})};this.libp2p.swarm.muxedConns[peerId.toB58String()]?done():done(new Error("Could not connect to peer with peerId:",peerId.toB58String()))}},{key:"sendMessage",value:function(peerId,msg,cb){log("sendMessage to %s",peerId.toB58String()),log("msg %s",msg.full,msg.wantlist,msg.blocks);var done=function(err){return async.setImmediate(function(){return cb(err)})},peerInfo=void 0;try{peerInfo=this.peerBook.getByMultihash(peerId.toBytes())}catch(err){return done(err)}this.libp2p.dialByPeerInfo(peerInfo,PROTOCOL_IDENTIFIER,function(err,conn){if(err)return done(err);conn.once("error",function(err){return done(err)}),conn.once("finish",done);var encode=lps.encode();encode.pipe(conn),encode.write(msg.toProto()),encode.end()})}}]),Network}()},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),assert=__webpack_require__(28),isUndefined=__webpack_require__(274),mh=__webpack_require__(27);module.exports=function(){function WantlistEntry(key,priority){_classCallCheck(this,WantlistEntry),assert(Buffer.isBuffer(key),"key must be a buffer"),this._refCounter=1,this.key=key,this.priority=isUndefined(priority)?1:priority}return _createClass(WantlistEntry,[{key:"inc",value:function(){this._refCounter+=1}},{key:"dec",value:function(){this._refCounter=Math.max(0,this._refCounter-1)}},{key:"hasRefs",value:function(){return this._refCounter>0}},{key:"equals",value:function(other){return this._refCounter===other._refCounter&&this.key.equals(other.key)&&this.priority===other.priority}},{key:Symbol.toStringTag,get:function(){return"WantlistEntry <key: "+mh.toB58String(this.key)+", priority: "+this.priority+", refs: "+this._refCounter+">"}}]),WantlistEntry}()}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),debug=__webpack_require__(10),_=__webpack_require__(254),Message=__webpack_require__(104),Wantlist=__webpack_require__(105),cs=__webpack_require__(136),MsgQueue=__webpack_require__(341),log=debug("bitswap:wantmanager");log.error=debug("bitswap:wantmanager:error"),module.exports=function(){function Wantmanager(network){_classCallCheck(this,Wantmanager),this.peers=new Map,this.wl=new Wantlist,this.network=network}return _createClass(Wantmanager,[{key:"_newMsgQueue",value:function(peerId){return new MsgQueue(peerId,this.network)}},{key:"_addEntries",
value:function(keys,cancel,force){var _this=this,i=-1;_(keys).map(function(key){return i++,new Message.Entry(key,cs.kMaxPriority-i,cancel)}).tap(function(e){e.cancel?force?_this.wl.removeForce(e.key):_this.wl.remove(e.key):_this.wl.add(e.key,e.priority)}).toArray(function(entries){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=_this.peers.values()[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var p=_step.value;p.addEntries(entries,!1)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}})}},{key:"_startPeerHandler",value:function(peerId){var mq=this.peers.get(peerId.toB58String());if(mq)return void mq.refcnt++;mq=this._newMsgQueue(peerId);var fullwantlist=new Message((!0)),_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=this.wl.entries()[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var entry=_step2.value;fullwantlist.addEntry(entry[1].key,entry[1].priority)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}return mq.addMessage(fullwantlist),this.peers.set(peerId.toB58String(),mq),mq.run(),mq}},{key:"_stopPeerHandler",value:function(peerId){var mq=this.peers.get(peerId.toB58String());mq&&(mq.refcnt--,mq.refcnt>0||(mq.stop(),this.peers.delete(peerId.toB58String())))}},{key:"wantBlocks",value:function(keys){log("want blocks:",keys),this._addEntries(keys,!1)}},{key:"unwantBlocks",value:function(keys){log("unwant blocks:",keys),this._addEntries(keys,!0,!0)}},{key:"cancelWants",value:function(keys){log("cancel wants: ",keys),this._addEntries(keys,!0)}},{key:"connectedPeers",value:function(){return Array.from(this.peers.keys())}},{key:"connected",value:function(peerId){log("peer connected: %s",peerId.toB58String()),this._startPeerHandler(peerId)}},{key:"disconnected",value:function(peerId){log("peer disconnected: %s",peerId.toB58String()),this._stopPeerHandler(peerId)}},{key:"run",value:function(){}},{key:"stop",value:function(){var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=this.peers.values()[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var mq=_step3.value;this.disconnected(mq.p)}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}}}]),Wantmanager}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),debug=__webpack_require__(10),async=__webpack_require__(103),Message=__webpack_require__(104),log=debug("bitswap:wantmanager:queue");log.error=debug("bitswap:wantmanager:queue:error"),module.exports=function(){function MsgQueue(peerId,network){_classCallCheck(this,MsgQueue),this.p=peerId,this.network=network,this.refcnt=1,this.queue=async.queue(this.doWork.bind(this),1),this.queue.pause()}return _createClass(MsgQueue,[{key:"addMessage",value:function(msg){log("addMessage: %s",this.p.toB58String()),this.queue.push(msg)}},{key:"addEntries",value:function(entries,full){log("addEntries: %s",entries.length);var msg=new Message(Boolean(full));entries.forEach(function(entry){entry.cancel?msg.cancel(entry.key):msg.addEntry(entry.key,entry.priority)}),this.addMessage(msg)}},{key:"doWork",value:function(wlm,cb){var _this=this;log("doWork: %s",this.p.toB58String()),this.network.connectTo(this.p,function(err){return err?(log.error("cant connect to peer %s: %s",_this.p.toB58String(),err.message),cb()):void _this.network.sendMessage(_this.p,wlm,function(err){err&&log.error("send error: %s",err.message),cb()})})}},{key:"run",value:function(){this.queue.resume()}},{key:"stop",value:function(){var _this2=this,done=function(){_this2.queue.kill(),_this2.queue.pause()};this.queue.drain=done,setTimeout(done,1e3)}}]),MsgQueue}()},function(module,exports,__webpack_require__){"use strict";(function(global,setImmediate,process,module){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};!function(){function noop(){}function identity(v){return v}function toBool(v){return!!v}function notId(v){return!v}function only_once(fn){return function(){if(null===fn)throw new Error("Callback was already called.");fn.apply(this,arguments),fn=null}}function _once(fn){return function(){null!==fn&&(fn.apply(this,arguments),fn=null)}}function _isArrayLike(arr){return _isArray(arr)||"number"==typeof arr.length&&arr.length>=0&&arr.length%1===0}function _arrayEach(arr,iterator){for(var index=-1,length=arr.length;++index<length;)iterator(arr[index],index,arr)}function _map(arr,iterator){for(var index=-1,length=arr.length,result=Array(length);++index<length;)result[index]=iterator(arr[index],index,arr);return result}function _range(count){return _map(Array(count),function(v,i){return i})}function _reduce(arr,iterator,memo){return _arrayEach(arr,function(x,i,a){memo=iterator(memo,x,i,a)}),memo}function _forEachOf(object,iterator){_arrayEach(_keys(object),function(key){iterator(object[key],key)})}function _indexOf(arr,item){for(var i=0;i<arr.length;i++)if(arr[i]===item)return i;return-1}function _keyIterator(coll){var len,keys,i=-1;return _isArrayLike(coll)?(len=coll.length,function(){return i++,i<len?i:null}):(keys=_keys(coll),len=keys.length,function(){return i++,i<len?keys[i]:null})}function _restParam(func,startIndex){return startIndex=null==startIndex?func.length-1:+startIndex,function(){for(var length=Math.max(arguments.length-startIndex,0),rest=Array(length),index=0;index<length;index++)rest[index]=arguments[index+startIndex];switch(startIndex){case 0:return func.call(this,rest);case 1:return func.call(this,arguments[0],rest)}}}function _withoutIndex(iterator){return function(value,index,callback){return iterator(value,callback)}}function _eachOfLimit(limit){return function(obj,iterator,callback){callback=_once(callback||noop),obj=obj||[];var nextKey=_keyIterator(obj);if(limit<=0)return callback(null);var done=!1,running=0,errored=!1;!function replenish(){if(done&&running<=0)return callback(null);for(;running<limit&&!errored;){var key=nextKey();if(null===key)return done=!0,void(running<=0&&callback(null));running+=1,iterator(obj[key],key,only_once(function(err){running-=1,err?(callback(err),errored=!0):replenish()}))}}()}}function doParallel(fn){return function(obj,iterator,callback){return fn(async.eachOf,obj,iterator,callback)}}function doParallelLimit(fn){return function(obj,limit,iterator,callback){return fn(_eachOfLimit(limit),obj,iterator,callback)}}function doSeries(fn){return function(obj,iterator,callback){return fn(async.eachOfSeries,obj,iterator,callback)}}function _asyncMap(eachfn,arr,iterator,callback){callback=_once(callback||noop),arr=arr||[];var results=_isArrayLike(arr)?[]:{};eachfn(arr,function(value,index,callback){iterator(value,function(err,v){results[index]=v,callback(err)})},function(err){callback(err,results)})}function _filter(eachfn,arr,iterator,callback){var results=[];eachfn(arr,function(x,index,callback){iterator(x,function(v){v&&results.push({index:index,value:x}),callback()})},function(){callback(_map(results.sort(function(a,b){return a.index-b.index}),function(x){return x.value}))})}function _reject(eachfn,arr,iterator,callback){_filter(eachfn,arr,function(value,cb){iterator(value,function(v){cb(!v)})},callback)}function _createTester(eachfn,check,getResult){return function(arr,limit,iterator,cb){function done(){cb&&cb(getResult(!1,void 0))}function iteratee(x,_,callback){return cb?void iterator(x,function(v){cb&&check(v)&&(cb(getResult(!0,x)),cb=iterator=!1),callback()}):callback()}arguments.length>3?eachfn(arr,limit,iteratee,done):(cb=iterator,iterator=limit,eachfn(arr,iteratee,done))}}function _findGetResult(v,x){return x}function _parallel(eachfn,tasks,callback){callback=callback||noop;var results=_isArrayLike(tasks)?[]:{};eachfn(tasks,function(task,key,callback){task(_restParam(function(err,args){args.length<=1&&(args=args[0]),results[key]=args,callback(err)}))},function(err){callback(err,results)})}function _concat(eachfn,arr,fn,callback){var result=[];eachfn(arr,function(x,index,cb){fn(x,function(err,y){result=result.concat(y||[]),cb(err)})},function(err){callback(err,result)})}function _queue(worker,concurrency,payload){function _insert(q,data,pos,callback){if(null!=callback&&"function"!=typeof callback)throw new Error("task callback must be a function");return q.started=!0,_isArray(data)||(data=[data]),0===data.length&&q.idle()?async.setImmediate(function(){q.drain()}):(_arrayEach(data,function(task){var item={data:task,callback:callback||noop};pos?q.tasks.unshift(item):q.tasks.push(item),q.tasks.length===q.concurrency&&q.saturated()}),void async.setImmediate(q.process))}function _next(q,tasks){return function(){workers-=1;var removed=!1,args=arguments;_arrayEach(tasks,function(task){_arrayEach(_workersList,function(worker,index){worker!==task||removed||(_workersList.splice(index,1),removed=!0)}),task.callback.apply(task,args)}),q.tasks.length+workers===0&&q.drain(),q.process()}}if(null==concurrency)concurrency=1;else if(0===concurrency)throw new Error("Concurrency must not be zero");var workers=0,_workersList=[],q={tasks:[],concurrency:concurrency,payload:payload,saturated:noop,empty:noop,drain:noop,started:!1,paused:!1,push:function(data,callback){_insert(q,data,!1,callback)},kill:function(){q.drain=noop,q.tasks=[]},unshift:function(data,callback){_insert(q,data,!0,callback)},process:function(){for(;!q.paused&&workers<q.concurrency&&q.tasks.length;){var tasks=q.payload?q.tasks.splice(0,q.payload):q.tasks.splice(0,q.tasks.length),data=_map(tasks,function(task){return task.data});0===q.tasks.length&&q.empty(),workers+=1,_workersList.push(tasks[0]);var cb=only_once(_next(q,tasks));worker(data,cb)}},length:function(){return q.tasks.length},running:function(){return workers},workersList:function(){return _workersList},idle:function(){return q.tasks.length+workers===0},pause:function(){q.paused=!0},resume:function(){if(q.paused!==!1){q.paused=!1;for(var resumeCount=Math.min(q.concurrency,q.tasks.length),w=1;w<=resumeCount;w++)async.setImmediate(q.process)}}};return q}function _console_fn(name){return _restParam(function(fn,args){fn.apply(null,args.concat([_restParam(function(err,args){"object"===("undefined"==typeof console?"undefined":_typeof(console))&&(err?console.error&&console.error(err):console[name]&&_arrayEach(args,function(x){console[name](x)}))})]))})}function _times(mapper){return function(count,iterator,callback){mapper(_range(count),iterator,callback)}}function _applyEach(eachfn){return _restParam(function(fns,args){var go=_restParam(function(args){var that=this,callback=args.pop();return eachfn(fns,function(fn,_,cb){fn.apply(that,args.concat([cb]))},callback)});return args.length?go.apply(this,args):go})}function ensureAsync(fn){return _restParam(function(args){var callback=args.pop();args.push(function(){var innerArgs=arguments;sync?async.setImmediate(function(){callback.apply(null,innerArgs)}):callback.apply(null,innerArgs)});var sync=!0;fn.apply(this,args),sync=!1})}var previous_async,async={},root="object"===("undefined"==typeof self?"undefined":_typeof(self))&&self.self===self&&self||"object"===("undefined"==typeof global?"undefined":_typeof(global))&&global.global===global&&global||this;null!=root&&(previous_async=root.async),async.noConflict=function(){return root.async=previous_async,async};var _toString=Object.prototype.toString,_isArray=Array.isArray||function(obj){return"[object Array]"===_toString.call(obj)},_isObject=function(obj){var type="undefined"==typeof obj?"undefined":_typeof(obj);return"function"===type||"object"===type&&!!obj},_keys=Object.keys||function(obj){var keys=[];for(var k in obj)obj.hasOwnProperty(k)&&keys.push(k);return keys},_setImmediate="function"==typeof setImmediate&&setImmediate,_delay=_setImmediate?function(fn){_setImmediate(fn)}:function(fn){setTimeout(fn,0)};"object"===("undefined"==typeof process?"undefined":_typeof(process))&&"function"==typeof process.nextTick?async.nextTick=process.nextTick:async.nextTick=_delay,async.setImmediate=_setImmediate?_delay:async.nextTick,async.forEach=async.each=function(arr,iterator,callback){return async.eachOf(arr,_withoutIndex(iterator),callback)},async.forEachSeries=async.eachSeries=function(arr,iterator,callback){return async.eachOfSeries(arr,_withoutIndex(iterator),callback)},async.forEachLimit=async.eachLimit=function(arr,limit,iterator,callback){return _eachOfLimit(limit)(arr,_withoutIndex(iterator),callback)},async.forEachOf=async.eachOf=function(object,iterator,callback){function done(err){completed--,err?callback(err):null===key&&completed<=0&&callback(null)}callback=_once(callback||noop),object=object||[];for(var key,iter=_keyIterator(object),completed=0;null!=(key=iter());)completed+=1,iterator(object[key],key,only_once(done));0===completed&&callback(null)},async.forEachOfSeries=async.eachOfSeries=function(obj,iterator,callback){function iterate(){var sync=!0;return null===key?callback(null):(iterator(obj[key],key,only_once(function(err){if(err)callback(err);else{if(key=nextKey(),null===key)return callback(null);sync?async.setImmediate(iterate):iterate()}})),void(sync=!1))}callback=_once(callback||noop),obj=obj||[];var nextKey=_keyIterator(obj),key=nextKey();iterate()},async.forEachOfLimit=async.eachOfLimit=function(obj,limit,iterator,callback){_eachOfLimit(limit)(obj,iterator,callback)},async.map=doParallel(_asyncMap),async.mapSeries=doSeries(_asyncMap),async.mapLimit=doParallelLimit(_asyncMap),async.inject=async.foldl=async.reduce=function(arr,memo,iterator,callback){async.eachOfSeries(arr,function(x,i,callback){iterator(memo,x,function(err,v){memo=v,callback(err)})},function(err){callback(err,memo)})},async.foldr=async.reduceRight=function(arr,memo,iterator,callback){var reversed=_map(arr,identity).reverse();async.reduce(reversed,memo,iterator,callback)},async.transform=function(arr,memo,iterator,callback){3===arguments.length&&(callback=iterator,iterator=memo,memo=_isArray(arr)?[]:{}),async.eachOf(arr,function(v,k,cb){iterator(memo,v,k,cb)},function(err){callback(err,memo)})},async.select=async.filter=doParallel(_filter),async.selectLimit=async.filterLimit=doParallelLimit(_filter),async.selectSeries=async.filterSeries=doSeries(_filter),async.reject=doParallel(_reject),async.rejectLimit=doParallelLimit(_reject),async.rejectSeries=doSeries(_reject),async.any=async.some=_createTester(async.eachOf,toBool,identity),async.someLimit=_createTester(async.eachOfLimit,toBool,identity),async.all=async.every=_createTester(async.eachOf,notId,notId),async.everyLimit=_createTester(async.eachOfLimit,notId,notId),async.detect=_createTester(async.eachOf,identity,_findGetResult),async.detectSeries=_createTester(async.eachOfSeries,identity,_findGetResult),async.detectLimit=_createTester(async.eachOfLimit,identity,_findGetResult),async.sortBy=function(arr,iterator,callback){function comparator(left,right){var a=left.criteria,b=right.criteria;return a<b?-1:a>b?1:0}async.map(arr,function(x,callback){iterator(x,function(err,criteria){err?callback(err):callback(null,{value:x,criteria:criteria})})},function(err,results){return err?callback(err):void callback(null,_map(results.sort(comparator),function(x){return x.value}))})},async.auto=function(tasks,concurrency,callback){function addListener(fn){listeners.unshift(fn)}function removeListener(fn){var idx=_indexOf(listeners,fn);idx>=0&&listeners.splice(idx,1)}function taskComplete(){remainingTasks--,_arrayEach(listeners.slice(0),function(fn){fn()})}"function"==typeof arguments[1]&&(callback=concurrency,concurrency=null),callback=_once(callback||noop);var keys=_keys(tasks),remainingTasks=keys.length;if(!remainingTasks)return callback(null);concurrency||(concurrency=remainingTasks);var results={},runningTasks=0,hasError=!1,listeners=[];addListener(function(){remainingTasks||callback(null,results)}),_arrayEach(keys,function(k){function ready(){return runningTasks<concurrency&&_reduce(requires,function(a,x){return a&&results.hasOwnProperty(x)},!0)&&!results.hasOwnProperty(k)}function listener(){ready()&&(runningTasks++,removeListener(listener),task[task.length-1](taskCallback,results))}if(!hasError){for(var dep,task=_isArray(tasks[k])?tasks[k]:[tasks[k]],taskCallback=_restParam(function(err,args){if(runningTasks--,args.length<=1&&(args=args[0]),err){var safeResults={};_forEachOf(results,function(val,rkey){safeResults[rkey]=val}),safeResults[k]=args,hasError=!0,callback(err,safeResults)}else results[k]=args,async.setImmediate(taskComplete)}),requires=task.slice(0,task.length-1),len=requires.length;len--;){if(!(dep=tasks[requires[len]]))throw new Error("Has nonexistent dependency in "+requires.join(", "));if(_isArray(dep)&&_indexOf(dep,k)>=0)throw new Error("Has cyclic dependencies")}ready()?(runningTasks++,task[task.length-1](taskCallback,results)):addListener(listener)}})},async.retry=function(times,task,callback){function parseTimes(acc,t){if("number"==typeof t)acc.times=parseInt(t,10)||DEFAULT_TIMES;else{if("object"!==("undefined"==typeof t?"undefined":_typeof(t)))throw new Error("Unsupported argument type for 'times': "+("undefined"==typeof t?"undefined":_typeof(t)));acc.times=parseInt(t.times,10)||DEFAULT_TIMES,acc.interval=parseInt(t.interval,10)||DEFAULT_INTERVAL}}function wrappedTask(wrappedCallback,wrappedResults){function retryAttempt(task,finalAttempt){return function(seriesCallback){task(function(err,result){seriesCallback(!err||finalAttempt,{err:err,result:result})},wrappedResults)}}function retryInterval(interval){return function(seriesCallback){setTimeout(function(){seriesCallback(null)},interval)}}for(;opts.times;){var finalAttempt=!(opts.times-=1);attempts.push(retryAttempt(opts.task,finalAttempt)),!finalAttempt&&opts.interval>0&&attempts.push(retryInterval(opts.interval))}async.series(attempts,function(done,data){data=data[data.length-1],(wrappedCallback||opts.callback)(data.err,data.result)})}var DEFAULT_TIMES=5,DEFAULT_INTERVAL=0,attempts=[],opts={times:DEFAULT_TIMES,interval:DEFAULT_INTERVAL},length=arguments.length;if(length<1||length>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return length<=2&&"function"==typeof times&&(callback=task,task=times),"function"!=typeof times&&parseTimes(opts,times),opts.callback=callback,opts.task=task,opts.callback?wrappedTask():wrappedTask},async.waterfall=function(tasks,callback){function wrapIterator(iterator){return _restParam(function(err,args){if(err)callback.apply(null,[err].concat(args));else{var next=iterator.next();next?args.push(wrapIterator(next)):args.push(callback),ensureAsync(iterator).apply(null,args)}})}if(callback=_once(callback||noop),!_isArray(tasks)){var err=new Error("First argument to waterfall must be an array of functions");return callback(err)}return tasks.length?void wrapIterator(async.iterator(tasks))():callback()},async.parallel=function(tasks,callback){_parallel(async.eachOf,tasks,callback)},async.parallelLimit=function(tasks,limit,callback){_parallel(_eachOfLimit(limit),tasks,callback)},async.series=function(tasks,callback){_parallel(async.eachOfSeries,tasks,callback)},async.iterator=function(tasks){function makeCallback(index){function fn(){return tasks.length&&tasks[index].apply(null,arguments),fn.next()}return fn.next=function(){return index<tasks.length-1?makeCallback(index+1):null},fn}return makeCallback(0)},async.apply=_restParam(function(fn,args){return _restParam(function(callArgs){return fn.apply(null,args.concat(callArgs))})}),async.concat=doParallel(_concat),async.concatSeries=doSeries(_concat),async.whilst=function(test,iterator,callback){if(callback=callback||noop,test()){var next=_restParam(function(err,args){err?callback(err):test.apply(this,args)?iterator(next):callback.apply(null,[null].concat(args))});iterator(next)}else callback(null)},async.doWhilst=function(iterator,test,callback){var calls=0;return async.whilst(function(){return++calls<=1||test.apply(this,arguments)},iterator,callback)},async.until=function(test,iterator,callback){return async.whilst(function(){return!test.apply(this,arguments)},iterator,callback)},async.doUntil=function(iterator,test,callback){return async.doWhilst(iterator,function(){return!test.apply(this,arguments)},callback)},async.during=function(test,iterator,callback){callback=callback||noop;var next=_restParam(function(err,args){err?callback(err):(args.push(check),test.apply(this,args))}),check=function(err,truth){err?callback(err):truth?iterator(next):callback(null)};test(check)},async.doDuring=function(iterator,test,callback){var calls=0;async.during(function(next){calls++<1?next(null,!0):test.apply(this,arguments)},iterator,callback)},async.queue=function(worker,concurrency){var q=_queue(function(items,cb){worker(items[0],cb)},concurrency,1);return q},async.priorityQueue=function(worker,concurrency){function _compareTasks(a,b){return a.priority-b.priority}function _binarySearch(sequence,item,compare){for(var beg=-1,end=sequence.length-1;beg<end;){var mid=beg+(end-beg+1>>>1);compare(item,sequence[mid])>=0?beg=mid:end=mid-1}return beg}function _insert(q,data,priority,callback){if(null!=callback&&"function"!=typeof callback)throw new Error("task callback must be a function");return q.started=!0,_isArray(data)||(data=[data]),0===data.length?async.setImmediate(function(){q.drain()}):void _arrayEach(data,function(task){var item={data:task,priority:priority,callback:"function"==typeof callback?callback:noop};q.tasks.splice(_binarySearch(q.tasks,item,_compareTasks)+1,0,item),q.tasks.length===q.concurrency&&q.saturated(),async.setImmediate(q.process)})}var q=async.queue(worker,concurrency);return q.push=function(data,priority,callback){_insert(q,data,priority,callback)},delete q.unshift,q},async.cargo=function(worker,payload){return _queue(worker,1,payload)},async.log=_console_fn("log"),async.dir=_console_fn("dir"),async.memoize=function(fn,hasher){var memo={},queues={},has=Object.prototype.hasOwnProperty;hasher=hasher||identity;var memoized=_restParam(function(args){var callback=args.pop(),key=hasher.apply(null,args);has.call(memo,key)?async.setImmediate(function(){callback.apply(null,memo[key])}):has.call(queues,key)?queues[key].push(callback):(queues[key]=[callback],fn.apply(null,args.concat([_restParam(function(args){memo[key]=args;var q=queues[key];delete queues[key];for(var i=0,l=q.length;i<l;i++)q[i].apply(null,args)})])))});return memoized.memo=memo,memoized.unmemoized=fn,memoized},async.unmemoize=function(fn){return function(){return(fn.unmemoized||fn).apply(null,arguments)}},async.times=_times(async.map),async.timesSeries=_times(async.mapSeries),async.timesLimit=function(count,limit,iterator,callback){return async.mapLimit(_range(count),limit,iterator,callback)},async.seq=function(){var fns=arguments;return _restParam(function(args){var that=this,callback=args[args.length-1];"function"==typeof callback?args.pop():callback=noop,async.reduce(fns,args,function(newargs,fn,cb){fn.apply(that,newargs.concat([_restParam(function(err,nextargs){cb(err,nextargs)})]))},function(err,results){callback.apply(that,[err].concat(results))})})},async.compose=function(){return async.seq.apply(null,Array.prototype.reverse.call(arguments))},async.applyEach=_applyEach(async.eachOf),async.applyEachSeries=_applyEach(async.eachOfSeries),async.forever=function(fn,callback){function next(err){return err?done(err):void task(next)}var done=only_once(callback||noop),task=ensureAsync(fn);next()},async.ensureAsync=ensureAsync,async.constant=_restParam(function(values){var args=[null].concat(values);return function(callback){return callback.apply(this,args)}}),async.wrapSync=async.asyncify=function(func){return _restParam(function(args){var result,callback=args.pop();try{result=func.apply(this,args)}catch(e){return callback(e)}_isObject(result)&&"function"==typeof result.then?result.then(function(value){callback(null,value)}).catch(function(err){callback(err.message?err:new Error(err))}):callback(null,result)})},"object"===_typeof(module)&&module.exports?module.exports=async:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return async}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()}).call(exports,__webpack_require__(9),__webpack_require__(21).setImmediate,__webpack_require__(3),__webpack_require__(53)(module))},function(module,exports,__webpack_require__){"use strict";var multihashing=__webpack_require__(177);exports=module.exports,exports.hash=function(data){return multihashing(data,"sha2-256")}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Block=__webpack_require__(106);module.exports=function(){function Batch(ds,max){if(_classCallCheck(this,Batch),!ds)throw Error("Invalid DAG Service");this.dagService=ds,this.blocks=[],this.size=0,this.maxSize=max||0}return _createClass(Batch,[{key:"add",value:function(node,cb){if(!node)return cb("Node is invalid");var data=node.encoded();if(!data)return cb("Node is unencoded");this.size+=data.length;var block=new Block(data);this.blocks.push(block),this.size>this.maxSize?this.commit(cb,block.key):cb(null,block.key)}},{key:"commit",value:function(cb,key){var _this=this;this.dagService.blocks().addBlocks(this.blocks,function(err){return err?cb(err):(_this.blocks=[],_this.size=0,void cb(null,key))})}}]),Batch}()},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Block=__webpack_require__(106),isIPFS=__webpack_require__(172),base58=__webpack_require__(54),DAGNode=__webpack_require__(195);module.exports=function(){function DAGService(blockService){if(_classCallCheck(this,DAGService),!blockService)throw new Error("DAGService requires a BlockService instance");this.bs=blockService}return _createClass(DAGService,[{key:"add",value:function(node,callback){this.bs.addBlock(new Block(node.encoded()),callback)}},{key:"get",value:function(multihash,callback){var isMhash=isIPFS.multihash(multihash),isPath=isIPFS.path(multihash);if(!isMhash&&!isPath)return callback(new Error("Invalid Key"));if(isMhash&&this.getWith(multihash,callback),isPath){var ipfsKey=multihash.replace("/ipfs/","");this.getWith(ipfsKey,callback)}}},{key:"getWith",value:function(key,callback){var formatted="string"==typeof key?new Buffer(base58.decode(key)):key;this.bs.getBlock(formatted,function(err,block){if(err)return callback(err);var node=new DAGNode;return node.unMarshal(block.data),callback(null,node)})}},{key:"getRecursive",value:function(multihash,callback,linkStack,nodeStack){var _this=this;this.get(multihash,function(err,node){if(err&&nodeStack.length>0)return callback(new Error("Could not complete the recursive get"),nodeStack);if(err)return callback(err);linkStack||(linkStack=[]),nodeStack||(nodeStack=[]),nodeStack.push(node);var keys=node.links.map(function(link){return link.hash});linkStack=linkStack.concat(keys);var next=linkStack.pop();if(!next){for(var compare=function(hash){return function(node){node.multihash().equals(hash)}},link=void 0,k=0;k<nodeStack.length;k++)for(var current=nodeStack[k],j=0;j<current.links.length;j++){link=current.links[j];var index=nodeStack.findIndex(compare(link.hash));index!==-1&&(link.node=nodeStack[index])}return callback(null,nodeStack)}_this.getRecursive(next,callback,linkStack,nodeStack)})}},{key:"remove",value:function(multihash,cb){return multihash?void this.bs.deleteBlock(multihash,cb):cb(new Error("Invalid multihash"))}}]),DAGService}()}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";var bl=__webpack_require__(92);exports=module.exports,exports.setUp=function(basePath,blobStore,locks){var store=blobStore(basePath);return{get:function(callback){store.createReadStream("config").pipe(bl(function(err,config){if(err)return callback(err);var result=void 0;try{result=JSON.parse(config.toString())}catch(err){return callback(err)}callback(null,result)}))},set:function(config,callback){locks.lock(function(err){return err?callback(err):void store.createWriteStream("config").once("finish",function(){locks.unlock(callback)}).end(JSON.stringify(config,null,2))})}}}},function(module,exports,__webpack_require__){"use strict";function multihashToPath(multihash,extension){extension=extension||"data";var filename=multihash.toString("hex")+"."+extension,folder=filename.slice(0,PREFIX_LENGTH),path=folder+"/"+filename;return path}var Lock=__webpack_require__(679),stream=__webpack_require__(6),bl=__webpack_require__(92),Block=__webpack_require__(106),PREFIX_LENGTH=8;exports=module.exports,exports.setUp=function(basePath,blobStore,locks){var store=blobStore(basePath+"/blocks"),lock=new Lock,createReadStream=function(multihash,extension){var path=multihashToPath(multihash,extension);return store.createReadStream(path)},createWriteStream=function(multihash,extension,cb){var path=multihashToPath(multihash,extension),through=stream.PassThrough();return lock(path,function(release){var ws=store.createWriteStream(path,release(cb));through.pipe(ws)}),through};return{get:function(key,extension,cb){return"function"==typeof extension&&(cb=extension,extension="data"),key?void createReadStream(key,extension).pipe(bl(function(err,data){return err?cb(err):("data"===extension&&(extension="protobuf"),void cb(null,new Block(data,extension)))})):cb(new Error("Invalid key"))},put:function(block,cb){if(!block||!block.data)return cb(new Error("Invalid block"));
var ws=createWriteStream(block.key,block.extension,cb);ws.write(block.data),ws.end()},has:function(key,extension,cb){if("function"==typeof extension&&(cb=extension,extension=void 0),!key)return cb(new Error("Invalid key"));var path=multihashToPath(key,extension);store.exists(path,cb)},delete:function(key,extension,cb){if("function"==typeof extension&&(cb=extension,extension=void 0),!key)return cb(new Error("Invalid key"));var path=multihashToPath(key,extension);store.remove(path,cb)}}}},function(module,exports,__webpack_require__){"use strict";exports=module.exports,exports.locks=__webpack_require__(350),exports.version=__webpack_require__(351),exports.config=__webpack_require__(346),exports.keys=__webpack_require__(349),exports.datastore=__webpack_require__(347)},function(module,exports){"use strict";exports=module.exports,exports.setUp=function(basePath,blobStore,locks,config){return{get:function(callback){config.get(function(err,config){return err?callback(err):void callback(null,config.Identity.PrivKey)})}}}},function(module,exports){"use strict";exports=module.exports,exports.setUp=function(basePath,blobStore){var store=blobStore(basePath),lockFile="repo.lock";return{lock:function(cb){function createLock(){store.createWriteStream(lockFile).once("finish",function(){cb()}).end()}function doesExist(err,exists){return err?cb(err):exists?void setTimeout(function(){store.exists(lockFile,doesExist)},100):void createLock()}store.exists(lockFile,doesExist)},unlock:function(cb){store.remove(lockFile,function(err){return err?cb(err):void store.exists(lockFile,function(err,exists){return err?cb(err):void store.exists(lockFile,function(err,exists){return err?cb(err):void cb()})})})}}}},function(module,exports,__webpack_require__){"use strict";var bl=__webpack_require__(92);exports=module.exports,exports.setUp=function(basePath,blobStore,locks){var store=blobStore(basePath);return{exists:function(callback){store.exists("version",callback)},get:function(callback){store.createReadStream("version").pipe(bl(function(err,version){return err?callback(err):void callback(null,version.toString("utf8"))}))},set:function(value,callback){locks.lock(function(err){return err?callback(err):void store.createWriteStream("version").once("finish",function(){locks.unlock(callback)}).end(value)})}}}},function(module,exports,__webpack_require__){"use strict";var chunker=__webpack_require__(383);exports=module.exports=function(size){return chunker({size:size,zeroPadding:!1})}},function(module,exports,__webpack_require__){"use strict";(function(Buffer){var mh=__webpack_require__(27),isIPFS=__webpack_require__(172);module.exports=function(multihash){if(!isIPFS.multihash(multihash))throw new Error("not valid multihash");return Buffer.isBuffer(multihash)?mh.toB58String(multihash):multihash}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";function Exporter(hash,dagService,options){function visit(item,add,done){var _this2=this;dagService.get(item.hash,function(err,node){if(err)return _this2.emit("error",err);var data=UnixFS.unmarshal(node.data),type=data.type;"directory"===type&&dirExporter(node,item.path,add,done),"file"===type&&fileExporter(node,item.path,done)})}var _this=this;if(!(this instanceof Exporter))return new Exporter(hash,dagService,options);if(!isIPFS.multihash(hash))throw new Error("not valid multihash");hash=cleanMultihash(hash),Readable.call(this,{objectMode:!0}),this.options=options||{},this._read=function(n){};var fileExporter=function(node,name,done){if(!done)throw new Error("done must be set");var contentRS=new Readable;if(contentRS._read=function(){},0===node.links.length){var unmarshaledData=UnixFS.unmarshal(node.data);contentRS.push(unmarshaledData.data),contentRS.push(null),_this.push({content:contentRS,path:name}),done()}else{var array=node.links.map(function(link){return function(cb){dagService.get(link.hash,function(err,res){if(err)return cb(err);var unmarshaledData=UnixFS.unmarshal(res.data);contentRS.push(unmarshaledData.data),cb()})}});series(array,function(err){return err?contentRS.emit("error",err):void contentRS.push(null)}),_this.push({content:contentRS,path:name}),done()}},dirExporter=function(node,name,add,done){if(!add)throw new Error("add must be set");if(!done)throw new Error("done must be set");_this.push({content:null,path:name}),node.links.length>0&&node.links.forEach(function(link){add({path:pathj.join(name,link.name),hash:link.hash})}),done()};return fieldtrip([{path:hash,hash:hash}],visit.bind(this),function(err){return err?_this.emit("error",err):void _this.push(null)}),this}var debug=__webpack_require__(10),log=debug("unixfs");log.err=debug("unixfs:error");var isIPFS=__webpack_require__(172),UnixFS=__webpack_require__(137),series=__webpack_require__(290),Readable=__webpack_require__(180).Readable,pathj=__webpack_require__(44),util=__webpack_require__(14),fieldtrip=__webpack_require__(618),cleanMultihash=__webpack_require__(353);exports=module.exports=Exporter,util.inherits(Exporter,Readable)},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function Importer(dagService,options){var _this=this;if(Duplex.call(this,{objectMode:!0}),!(this instanceof Importer))return new Importer(dagService);if(!dagService)return new Error("must specify a dagService");var files=[],counter=0;this._read=function(n){},this._write=function(fl,enc,next){function done(cb){counter--,next(),cb()}if(_this.read(),counter++,!fl.content){var _ret=function(){var d=new UnixFS("directory"),n=new merkleDAG.DAGNode;return n.data=d.marshal(),dagService.add(n,function(err){if(err)return void _this.emit("error","Failed to store: "+fl.path);var el={path:fl.path,multihash:n.multihash(),size:n.size(),dataSize:d.fileSize()};files.push(el),_this.push(el),counter--,next()}),{v:void 0}}();if("object"===("undefined"==typeof _ret?"undefined":_typeof(_ret)))return _ret.v}if(Buffer.isBuffer(fl.content)){var r=streamifier.createReadStream(fl.content);fl.content=r}if(!isStream.isReadable(fl.content))return void _this.emit("error",new Error('"content" is not a Buffer nor Readable stream'));var leaves=[];fl.content.pipe(fsc(CHUNK_SIZE)).pipe(through2(function(chunk,enc,cb){var l=new UnixFS("file",chunk),n=new merkleDAG.DAGNode(l.marshal());dagService.add(n,function(err){return err?(_this.push({error:"Failed to store chunk of: ${fl.path}"}),cb(err)):(leaves.push({Hash:n.multihash(),Size:n.size(),leafSize:l.fileSize(),Name:""}),void cb())})},function(cb){if(1===leaves.length){var el={path:fl.path,multihash:leaves[0].Hash,size:leaves[0].Size,dataSize:leaves[0].leafSize};return files.push(el),_this.push(el),done(cb)}var f=new UnixFS("file"),n=new merkleDAG.DAGNode;leaves.forEach(function(leaf){f.addBlockSize(leaf.leafSize);var l=new merkleDAG.DAGLink(leaf.Name,leaf.Size,leaf.Hash);n.addRawLink(l)}),n.data=f.marshal(),dagService.add(n,function(err){if(err)return _this.push({error:"Failed to store chunk of: ${fl.path}"}),cb();var el={path:fl.path,multihash:n.multihash(),size:n.size()};return files.push(el),_this.push(el),done(cb)})}))},this.end=function(){function finish(){function traverse(tree,path,done){var _this3=this,keys=Object.keys(tree),tmpTree=tree;keys.map(function(key){"object"!==_typeof(tmpTree[key])||Buffer.isBuffer(tmpTree[key])||(tmpTree[key]=traverse.call(_this3,tmpTree[key],path?path+"/"+key:key,done))});var d=new UnixFS("directory"),n=new merkleDAG.DAGNode;if(keys.forEach(function(key){var b58mh=bs58.encode(tmpTree[key]),l=new merkleDAG.DAGLink(key,mhIndex[b58mh].size,tmpTree[key]);n.addRawLink(l)}),n.data=d.marshal(),pendingWrites++,dagService.add(n,function(err){if(pendingWrites--,err)_this3.push({error:"failed to store dirNode"});else if(path){var el={path:path,multihash:n.multihash(),yes:"no",size:n.size()};_this3.push(el)}pendingWrites<=0&&done()}),path)return mhIndex[bs58.encode(n.multihash())]={size:n.size()},n.multihash()}var _this2=this;if(counter>0)return setTimeout(function(){finish.call(_this2)},200);var fileTree={};if(files.forEach(function(file){var splitted=file.path.split("/");if(1!==splitted.length){""===splitted[0]&&(splitted=splitted.slice(1));for(var tmpTree=fileTree,i=0;i<splitted.length;i++)tmpTree[splitted[i]]||(tmpTree[splitted[i]]={}),i===splitted.length-1?tmpTree[splitted[i]]=file.multihash:tmpTree=tmpTree[splitted[i]]}}),0===Object.keys(fileTree).length)return void this.push(null);var mhIndex={};files.forEach(function(file){mhIndex[bs58.encode(file.multihash)]={size:file.size,dataSize:file.dataSize}});var pendingWrites=0,self=this;traverse.call(this,fileTree,null,function(){self.push(null)})}finish.call(_this)}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj},debug=__webpack_require__(10),log=debug("unixfs");log.err=debug("unixfs:error");var fsc=__webpack_require__(352),through2=__webpack_require__(313),merkleDAG=__webpack_require__(107),UnixFS=__webpack_require__(137),util=__webpack_require__(14),bs58=__webpack_require__(54),Duplex=__webpack_require__(180).Duplex,isStream=__webpack_require__(263),streamifier=__webpack_require__(775);exports=module.exports=Importer;var CHUNK_SIZE=262144;util.inherits(Importer,Duplex)}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";var idb=__webpack_require__(648),IPFSRepo=__webpack_require__(197);module.exports=function(dir){var repoPath=dir||"ipfs";return new IPFSRepo(repoPath,{stores:idb})}},function(module,exports,__webpack_require__){"use strict";var isNode=__webpack_require__(168);module.exports=__webpack_require__(isNode?358:356)},function(module,exports,__webpack_require__){"use strict";var os=__webpack_require__(278),fs=__webpack_require__(622),IPFSRepo=__webpack_require__(197),path=__webpack_require__(44);module.exports=function(dir){var repoPath=dir||path.join(os.homedir(),".ipfs");return new IPFSRepo(repoPath,{stores:fs})}},function(module,exports,__webpack_require__){"use strict";function IPFS(repoInstance){if(!(this instanceof IPFS))throw new Error("Must be instantiated with new");"string"!=typeof repoInstance&&void 0!==repoInstance||(repoInstance=defaultRepo(repoInstance)),this._repo=repoInstance,this._peerInfoBook=new PeerBook,this._peerInfo=null,this._libp2pNode=null,this._bitswap=null,this._blockS=new BlockService(this._repo),this._dagS=new DAGService(this._blockS),this.goOnline=goOnline(this),this.goOffline=goOffline(this),this.isOnline=isOnline(this),this.load=load(this),this.version=version(this),this.id=id(this),this.repo=repo(this),this.init=init(this),this.bootstrap=bootstrap(this),this.config=config(this),this.block=block(this),this.object=object(this),this.libp2p=libp2p(this),this.files=files(this),this.cat=files(this).cat,this.bitswap=bitswap(this)}var BlockService=__webpack_require__(193),mDAG=__webpack_require__(107),DAGService=mDAG.DAGService,PeerBook=__webpack_require__(283),defaultRepo=__webpack_require__(357),goOnline=__webpack_require__(366),goOffline=__webpack_require__(365),isOnline=__webpack_require__(369),load=__webpack_require__(371),version=__webpack_require__(374),id=__webpack_require__(367),repo=__webpack_require__(373),init=__webpack_require__(368),bootstrap=__webpack_require__(362),config=__webpack_require__(363),block=__webpack_require__(361),object=__webpack_require__(372),libp2p=__webpack_require__(370),files=__webpack_require__(364),bitswap=__webpack_require__(360);exports=module.exports=IPFS},function(module,exports,__webpack_require__){"use strict";function formatWantlist(list){return Array.from(list).map(function(e){return e[0]})}var OFFLINE_ERROR=__webpack_require__(91).OFFLINE_ERROR;module.exports=function(self){return{wantlist:function(){if(!self.isOnline())throw OFFLINE_ERROR;var list=self._bitswap.getWantlist();return formatWantlist(list)},stat:function(){if(!self.isOnline())throw OFFLINE_ERROR;var stats=self._bitswap.stat();return stats.wantlist=formatWantlist(stats.wantlist),stats.peers=stats.peers.map(function(id){return id.toB58String()}),stats},unwant:function(key){if(!self.isOnline())throw OFFLINE_ERROR}}}},function(module,exports){"use strict";module.exports=function(self){return{get:function(multihash,callback){self._blockS.getBlock(multihash,callback)},put:function(block,callback){self._blockS.addBlock(block,callback)},del:function(multihash,callback){self._blockS.deleteBlock(multihash,callback)},stat:function(multihash,callback){self._blockS.getBlock(multihash,function(err,block){return err?callback(err):void callback(null,{Key:multihash,Size:block.data.length})})}}}},function(module,exports){"use strict";module.exports=function(self){return{list:function(callback){self._repo.config.get(function(err,config){return err?callback(err):void callback(null,config.Bootstrap)})},add:function(multiaddr,callback){self._repo.config.get(function(err,config){return err?callback(err):(config.Bootstrap.push(multiaddr),void self._repo.config.set(config,callback))})},rm:function(multiaddr,callback){self._repo.config.get(function(err,config){return err?callback(err):(config.Bootstrap=config.Bootstrap.filter(function(mh){return mh!==multiaddr}),void self._repo.config.set(config,callback))})}}}},function(module,exports){"use strict";module.exports=function(self){return{replace:function(config,callback){self._repo.config.set(config,callback)},show:function(callback){self._repo.config.get(callback)}}}},function(module,exports,__webpack_require__){"use strict";(function(Buffer){var unixfsEngine=__webpack_require__(198),Importer=unixfsEngine.Importer,Exporter=unixfsEngine.Exporter,UnixFS=__webpack_require__(137),through=__webpack_require__(313),isStream=__webpack_require__(263),promisify=__webpack_require__(199),Duplex=__webpack_require__(6).Duplex,multihashes=__webpack_require__(27);module.exports=function(self){return{createAddStream:function(callback){var i=new Importer(self._dagS),ds=new Duplex({objectMode:!0});ds._read=function(n){},ds._write=function(file,enc,next){i.write(file),next()},ds.end=function(){i.end()};var counter=0;i.on("data",function(file){counter++,self.object.get(file.multihash,function(err,node){return err?ds.emit("error",err):(ds.push({path:file.path,node:node}),void counter--)})}),i.on("end",function(){function canFinish(){0===counter?ds.push(null):setTimeout(canFinish,100)}canFinish()}),callback(null,ds)},add:promisify(function(data,callback){if(Buffer.isBuffer(data)&&(data=[{path:"",content:data}]),isStream.isReadable(data)&&(data=[{path:"",content:data}]),callback&&"function"==typeof callback||(callback=function(){}),!Array.isArray(data))return callback(new Error('"data" must be an array of { path: string, content: Buffer|Readable } or Buffer or Readable'));var i=new Importer(self._dagS),res=[];i.pipe(through.obj(function(info,enc,next){var mh=multihashes.toB58String(info.multihash);self._dagS.get(mh,function(err,node){if(err)return callback(err);var obj={path:info.path||mh,node:node};res.push(obj),next()})},function(done){callback(null,res)})),data.forEach(function(tuple){i.write(tuple)}),i.end()}),cat:promisify(function(hash,callback){return"function"==typeof hash?callback(new Error("You must supply a multihash")):void self._dagS.get(hash,function(err,fetchedNode){if(err)return callback(err);var data=UnixFS.unmarshal(fetchedNode.data);if("directory"===data.type)callback(new Error("This dag node is a directory"));else{var exportStream=Exporter(hash,self._dagS);exportStream.once("data",function(object){callback(null,object.content)})}})}),get:promisify(function(hash,callback){var exportFile=Exporter(hash,self._dagS);callback(null,exportFile)})}}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports){"use strict";module.exports=function(self){return function(cb){self._blockS.goOffline(),self._bitswap.stop(),self.libp2p.stop(cb)}}},function(module,exports,__webpack_require__){"use strict";var series=__webpack_require__(290),Bitswap=__webpack_require__(336);module.exports=function(self){return function(cb){series([self.load,self.libp2p.start],function(err){return err?cb(err):(self._bitswap=new Bitswap(self._libp2pNode.peerInfo,self._libp2pNode,self._repo.datastore,self._libp2pNode.peerBook),self._bitswap.start(),self._blockS.goOnline(self._bitswap),void cb())})}}},function(module,exports){"use strict";module.exports=function(self){return function(opts,callback){function ready(){callback(null,{ID:self._peerInfo.id.toB58String(),PublicKey:self._peerInfo.id.pubKey.bytes.toString("base64"),Addresses:self._peerInfo.multiaddrs.map(function(ma){return ma.toString()}).sort(),AgentVersion:"js-ipfs",ProtocolVersion:"9000"})}"function"==typeof opts&&(callback=opts,opts={}),self._peerInfo?ready():setTimeout(ready,100)}}},function(module,exports,__webpack_require__){"use strict";(function(Buffer,__dirname){var peerId=__webpack_require__(65),BlockService=__webpack_require__(193),DagService=__webpack_require__(107).DAGService,path=__webpack_require__(44),glob=__webpack_require__(188),parallelLimit=__webpack_require__(728),Readable=__webpack_require__(6).Readable,Importer=__webpack_require__(198).importer;module.exports=function(self){return function(opts,callback){function generateAndSetKeypair(){var keys=peerId.create({bits:opts.bits});config.Identity={PeerID:keys.toB58String(),PrivKey:keys.privKey.bytes.toString("base64")},writeVersion()}function writeVersion(){var version="3";self._repo.version.set(version,function(err){return err?callback(err):void writeConfig()})}function writeConfig(){self._repo.config.set(config,function(err){return err?callback(err):void addDefaultAssets()})}function addDefaultAssets(){function doneImport(err,stat){return err?callback(err):void callback(null,!0)}var isNode=__webpack_require__(168);if(!isNode||opts.emptyRepo)return doneImport(null);var blocks=new BlockService(self._repo),dag=new DagService(blocks),initDocsPath=path.join(__dirname,"../../init-files/init-docs"),i=new Importer(dag);i.resume(),glob(path.join(initDocsPath,"/**/*"),function(err,res){if(err)throw err;var index=__dirname.lastIndexOf("/");parallelLimit(res.map(function(element){return function(callback){var addPath=element.substring(index+1,element.length);if(!fs.statSync(element).isDirectory()){var rs=new Readable;rs.push(fs.readFileSync(element)),rs.push(null);var filePair={path:addPath,content:rs};i.write(filePair)}callback()}}),10,function(err){if(err)throw err;i.end()})}),i.once("end",function(){doneImport(null)})}opts=opts||{},opts.emptyRepo=opts.emptyRepo||!1,opts.bits=opts.bits||2048;var config=JSON.parse(Buffer("ewogICJBZGRyZXNzZXMiOiB7CiAgICAiU3dhcm0iOiBbCiAgICAgICIvaXA0LzAuMC4wLjAvdGNwLzQwMDEiCiAgICBdLAogICAgIkFQSSI6ICIvaXA0LzEyNy4wLjAuMS90Y3AvNTAwMSIsCiAgICAiR2F0ZXdheSI6ICIvaXA0LzEyNy4wLjAuMS90Y3AvODA4MCIKICB9LAogICJEaXNjb3ZlcnkiOiB7CiAgICAiTUROUyI6IHsKICAgICAgIkVuYWJsZWQiOiB0cnVlLAogICAgICAiSW50ZXJ2YWwiOiAxMAogICAgfQogIH0sCiAgIk1vdW50cyI6IHsKICAgICJJUEZTIjogIi9pcGZzIiwKICAgICJJUE5TIjogIi9pcG5zIgogIH0sCiAgIklwbnMiOiB7CiAgICAiUmVzb2x2ZUNhY2hlU2l6ZSI6IDEyOAogIH0sCiAgIkdhdGV3YXkiOiB7CiAgICAiUm9vdFJlZGlyZWN0IjogIiIsCiAgICAiV3JpdGFibGUiOiBmYWxzZQogIH0sCiAgIkJvb3RzdHJhcCI6IFsKICAgICIvaXA0LzEwNC4xMzEuMTMxLjgyL3RjcC80MDAxL2lwZnMvUW1hQ3BETUd2VjJCR0hlWUVSVUVuUlFBd2UzTjhTemJVdGZzbXZzcVFMdXZ1SiIsCiAgICAiL2lwNC8xMDQuMjM2LjE3Ni41Mi90Y3AvNDAwMS9pcGZzL1FtU29MblNHY2NGdVpRSnpSYWRIbjk1VzJDclNGbVp1VGREV1A4SFhhSGNhOXoiLAogICAgIi9pcDQvMTA0LjIzNi4xNzkuMjQxL3RjcC80MDAxL2lwZnMvUW1Tb0xQcHB1QnRRU0d3S0RaVDJNNzNVTHBqdmZkM2FaNmhhNG9GR0wxS3JHTSIsCiAgICAiL2lwNC8xNjIuMjQzLjI0OC4yMTMvdGNwLzQwMDEvaXBmcy9RbVNvTHVlUjR4QmVVYlk5V1o5eEdVVXh1bmJLV2NyTkZUREFhZFFKbW9jbldtIiwKICAgICIvaXA0LzEyOC4xOTkuMjE5LjExMS90Y3AvNDAwMS9pcGZzL1FtU29MU2FmVE1Cc1BLYWRURWdhWGN0RFFWY3FOODhDTkxIWE1rVE53TUtQbnUiLAogICAgIi9pcDQvMTA0LjIzNi43Ni40MC90Y3AvNDAwMS9pcGZzL1FtU29MVjRCYm01MWpNOUM0Z0RZWlE5Q3kzVTZhWE1KREFiemd1MmZ6YURzNjQiLAogICAgIi9pcDQvMTc4LjYyLjE1OC4yNDcvdGNwLzQwMDEvaXBmcy9RbVNvTGVyMjY1TlJnU3AyTEEzZFBhZXlraVMxSjZEaWZUQzg4ZjV1VlFLTkFkIiwKICAgICIvaXA0LzE3OC42Mi42MS4xODUvdGNwLzQwMDEvaXBmcy9RbVNvTE1lV3FCN1lHVkxKTjNwTkxRcG1tRWszNXY2d1l0c01HTHpTcjVRQlUzIiwKICAgICIvaXA0LzEwNC4yMzYuMTUxLjEyMi90Y3AvNDAwMS9pcGZzL1FtU29ManU2bTd4VGgzRHVva3ZUMzg4NlFSWXF4QXpiMWtTaGFhbkpnVzM2eXgiCiAgXQp9Cg==","base64").toString());self._repo.exists(function(err,exists){return err?callback(err):exists===!0?callback(new Error("repo already exists")):void generateAndSetKeypair()})}}}).call(exports,__webpack_require__(0).Buffer,"/")},function(module,exports){"use strict";module.exports=function(self){return function(){return self._bitswap&&self._libp2pNode}}},function(module,exports,__webpack_require__){"use strict";var peerId=__webpack_require__(65),multiaddr=__webpack_require__(83),Libp2pNode=__webpack_require__(670).Node,mafmt=__webpack_require__(129),OFFLINE_ERROR=__webpack_require__(91).OFFLINE_ERROR;module.exports=function(self){return{start:function(callback){self._libp2pNode=new Libp2pNode(self._peerInfo),self._libp2pNode.start(function(){self._libp2pNode.peerInfo.multiaddrs.forEach(function(ma){console.log("Swarm listening on",ma.toString())}),callback()}),self._libp2pNode.discovery.on("peer",function(peerInfo){self._libp2pNode.peerBook.put(peerInfo),self._libp2pNode.dialByPeerInfo(peerInfo,function(){})}),self._libp2pNode.swarm.on("peer-mux-established",function(peerInfo){self._libp2pNode.peerBook.put(peerInfo)})},stop:function(callback){self._libp2pNode.stop(callback)},swarm:{peers:function(callback){return self.isOnline()?void callback(null,self._libp2pNode.peerBook.getAll()):callback(OFFLINE_ERROR)},addrs:function(callback){if(!self.isOnline())return callback(OFFLINE_ERROR);throw new Error("Not implemented")},localAddrs:function(callback){return self.isOnline()?void callback(null,self._libp2pNode.peerInfo.multiaddrs):callback(OFFLINE_ERROR)},connect:function(maddr,callback){if(!self.isOnline())return callback(OFFLINE_ERROR);if("string"==typeof maddr&&(maddr=multiaddr(maddr)),!mafmt.IPFS.matches(maddr.toString()))return callback(new Error("multiaddr not valid"));var ipfsIdB58String=void 0;maddr.stringTuples().forEach(function(tuple){421===tuple[0]&&(ipfsIdB58String=tuple[1])});var id=peerId.createFromB58String(ipfsIdB58String);self._libp2pNode.dialByMultiaddr(maddr,function(err){callback(err,id)})},disconnect:function(maddr,callback){return self.isOnline()?("string"==typeof maddr&&(maddr=multiaddr(maddr)),void self._libp2pNode.hangUpByMultiaddr(maddr,callback)):callback(OFFLINE_ERROR)},filters:function(){throw new Error("Not implemented")}},routing:{},records:{},ping:function(){throw new Error("Not implemented")}}}},function(module,exports,__webpack_require__){"use strict";var peerId=__webpack_require__(65),PeerInfo=__webpack_require__(134),multiaddr=__webpack_require__(83),utils=__webpack_require__(91);module.exports=function(self){return function(callback){utils.ifRepoExists(self._repo,function(err){return err?callback(err):void self._repo.config.get(function(err,config){if(err)return callback(err);var pid=peerId.createFromPrivKey(config.Identity.PrivKey);self._peerInfo=new PeerInfo(pid),config.Addresses.Swarm.forEach(function(addr){self._peerInfo.multiaddr.add(multiaddr(addr))}),callback()})})}}},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function normalizeMultihash(multihash,enc){if("string"==typeof multihash)return"base58"===enc?multihash:new Buffer(multihash,enc);if(Buffer.isBuffer(multihash))return multihash;throw new Error("unsupported multihash")}function parseBuffer(buf,encoding){switch(encoding){case"json":return parseJSONBuffer(buf);case"protobuf":return parseProtoBuffer(buf);default:throw new Error("unkown encoding: "+encoding)}}function parseJSONBuffer(buf){try{var parsed=JSON.parse(buf.toString()),links=(parsed.Links||[]).map(function(link){return new DAGLink(link.Name,link.Size,new Buffer(bs58.decode(link.Hash)))});return new DAGNode(new Buffer(parsed.Data),links)}catch(err){throw new Error("failed to parse JSON: "+err)}}function parseProtoBuffer(buf){var node=new DAGNode;return node.unMarshal(buf),node}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj},mDAG=__webpack_require__(107),waterfall=__webpack_require__(729),promisify=__webpack_require__(199),bs58=__webpack_require__(54),DAGNode=mDAG.DAGNode,DAGLink=mDAG.DAGLink;module.exports=function(self){function editAndSave(edit){return function(multihash,options,cb){"function"==typeof options&&(cb=options,options={}),waterfall([function(cb){return self.object.get(multihash,options,cb)},function(node,cb){self._dagS.add(edit(node),function(err){cb(err,node)})}],function(err,node){return err?cb(err):void cb(null,node)})}}return{new:promisify(function(cb){var node=new DAGNode;self._dagS.add(node,function(err){return err?cb(err):void cb(null,node)})}),put:promisify(function(obj,options,cb){"function"==typeof options&&(cb=options,options={});var encoding=options.enc,node=void 0;if(Buffer.isBuffer(obj))if(encoding)try{node=parseBuffer(obj,encoding)}catch(err){return cb(err)}else node=new DAGNode(obj);else if(obj.multihash)node=obj;else{if("object"!==("undefined"==typeof obj?"undefined":_typeof(obj)))return cb(new Error("obj not recognized"));node=new DAGNode(obj.Data,obj.Links)}self._dagS.add(node,function(err,block){return err?cb(err):void self.object.get(node.multihash(),cb)})}),get:promisify(function(multihash,options,cb){"function"==typeof options&&(cb=options,options={});var mh=void 0;try{mh=normalizeMultihash(multihash,options.enc)}catch(err){return cb(err)}self._dagS.get(mh,cb)}),data:promisify(function(multihash,options,cb){"function"==typeof options&&(cb=options,options={}),self.object.get(multihash,options,function(err,node){return err?cb(err):void cb(null,node.data)})}),links:promisify(function(multihash,options,cb){"function"==typeof options&&(cb=options,options={}),self.object.get(multihash,options,function(err,node){return err?cb(err):void cb(null,node.links)})}),stat:promisify(function(multihash,options,cb){"function"==typeof options&&(cb=options,options={}),self.object.get(multihash,options,function(err,node){if(err)return cb(err);var blockSize=node.marshal().length,linkLength=node.links.reduce(function(a,l){return a+l.size},0);cb(null,{Hash:node.toJSON().Hash,NumLinks:node.links.length,BlockSize:blockSize,LinksSize:blockSize-node.data.length,DataSize:node.data.length,CumulativeSize:blockSize+linkLength})})}),patch:promisify({addLink:function(multihash,link,options,cb){editAndSave(function(node){return node.addRawLink(link),node})(multihash,options,cb)},rmLink:function(multihash,linkRef,options,cb){editAndSave(function(node){return node.links=node.links.filter(function(link){return"string"==typeof linkRef?link.name!==linkRef:Buffer.isBuffer(linkRef)?!link.hash.equals(linkRef):linkRef.name?link.name!==linkRef.name:!link.hash.equals(linkRef.hash)}),node})(multihash,options,cb)},appendData:function(multihash,data,options,cb){editAndSave(function(node){return node.data=Buffer.concat([node.data,data]),node})(multihash,options,cb)},setData:function(multihash,data,options,cb){editAndSave(function(node){return node.data=data,node})(multihash,options,cb)}})}}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(91);module.exports=function(self){return{init:function(bits,empty,callback){},version:function(opts,callback){"function"==typeof opts&&(callback=opts,opts={}),utils.ifRepoExists(self._repo,function(err,res){return err?callback(err):void self._repo.version.get(callback)})},gc:function(){},path:function(){return self._repo.path}}}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(91);module.exports=function(self){return function(opts,callback){"function"==typeof opts&&(callback=opts,opts={}),utils.ifRepoExists(self._repo,function(err){return err?callback(err):void self._repo.config.get(function(err,config){return err?callback(err):void callback(null,config.Version.Current)})})}}},function(module,exports){function Backoff(opts){opts=opts||{},this.ms=opts.min||100,this.max=opts.max||1e4,this.factor=opts.factor||2,this.jitter=opts.jitter>0&&opts.jitter<=1?opts.jitter:0,this.attempts=0}module.exports=Backoff,Backoff.prototype.duration=function(){var ms=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var rand=Math.random(),deviation=Math.floor(rand*this.jitter*ms);ms=0==(1&Math.floor(10*rand))?ms-deviation:ms+deviation}return 0|Math.min(ms,this.max)},Backoff.prototype.reset=function(){this.attempts=0},Backoff.prototype.setMin=function(min){this.ms=min},Backoff.prototype.setMax=function(max){this.max=max},Backoff.prototype.setJitter=function(jitter){this.jitter=jitter}},function(module,exports){module.exports=function(ALPHABET){function encode(source){if(0===source.length)return"";for(var digits=[0],i=0;i<source.length;++i){for(var j=0,carry=source[i];j<digits.length;++j)carry+=digits[j]<<8,digits[j]=carry%BASE,carry=carry/BASE|0;for(;carry>0;)digits.push(carry%BASE),carry=carry/BASE|0}for(var k=0;0===source[k]&&k<source.length-1;++k)digits.push(0);for(var ii=0,jj=digits.length-1;ii<=jj;++ii,--jj){var tmp=ALPHABET[digits[ii]];digits[ii]=ALPHABET[digits[jj]],digits[jj]=tmp}return digits.join("")}function decode(string){if(0===string.length)return[];for(var bytes=[0],i=0;i<string.length;i++){var value=ALPHABET_MAP[string[i]];if(void 0===value)throw new Error("Non-base"+BASE+" character");for(var j=0,carry=value;j<bytes.length;++j)carry+=bytes[j]*BASE,bytes[j]=255&carry,carry>>=8;for(;carry>0;)bytes.push(255&carry),carry>>=8}for(var k=0;string[k]===LEADER&&k<string.length-1;++k)bytes.push(0);return bytes.reverse()}for(var ALPHABET_MAP={},BASE=ALPHABET.length,LEADER=ALPHABET.charAt(0),i=0;i<ALPHABET.length;i++)ALPHABET_MAP[ALPHABET.charAt(i)]=i;return{encode:encode,decode:decode}}},function(module,exports){!function(chars){"use strict";exports.encode=function(arraybuffer){var i,bytes=new Uint8Array(arraybuffer),len=bytes.length,base64="";for(i=0;i<len;i+=3)base64+=chars[bytes[i]>>2],base64+=chars[(3&bytes[i])<<4|bytes[i+1]>>4],base64+=chars[(15&bytes[i+1])<<2|bytes[i+2]>>6],base64+=chars[63&bytes[i+2]];return len%3===2?base64=base64.substring(0,base64.length-1)+"=":len%3===1&&(base64=base64.substring(0,base64.length-2)+"=="),base64},exports.decode=function(base64){var i,encoded1,encoded2,encoded3,encoded4,bufferLength=.75*base64.length,len=base64.length,p=0;"="===base64[base64.length-1]&&(bufferLength--,"="===base64[base64.length-2]&&bufferLength--);var arraybuffer=new ArrayBuffer(bufferLength),bytes=new Uint8Array(arraybuffer);for(i=0;i<len;i+=4)encoded1=chars.indexOf(base64[i]),encoded2=chars.indexOf(base64[i+1]),encoded3=chars.indexOf(base64[i+2]),encoded4=chars.indexOf(base64[i+3]),bytes[p++]=encoded1<<2|encoded2>>4,bytes[p++]=(15&encoded2)<<4|encoded3>>2,bytes[p++]=(3&encoded3)<<6|63&encoded4;return arraybuffer}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},function(module,exports){"use strict";function init(){for(var code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63}function toByteArray(b64){var i,j,l,tmp,placeHolders,arr,len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");placeHolders="="===b64[len-2]?2:"="===b64[len-1]?1:0,arr=new Arr(3*len/4-placeHolders),l=placeHolders>0?len-4:len;var L=0;for(i=0,j=0;i<l;i+=4,j+=3)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[L++]=tmp>>16&255,arr[L++]=tmp>>8&255,arr[L++]=255&tmp;return 2===placeHolders?(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,
arr[L++]=255&tmp):1===placeHolders&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[L++]=tmp>>8&255,arr[L++]=255&tmp),arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]}function encodeChunk(uint8,start,end){for(var tmp,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output.push(tripletToBase64(tmp));return output.join("")}function fromByteArray(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,output="",parts=[],maxChunkLength=16383,i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength)parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength));return 1===extraBytes?(tmp=uint8[len-1],output+=lookup[tmp>>2],output+=lookup[tmp<<4&63],output+="=="):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],output+=lookup[tmp>>10],output+=lookup[tmp>>4&63],output+=lookup[tmp<<2&63],output+="="),parts.push(output),parts.join("")}exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array;init()},function(module,exports,__webpack_require__){module.exports=__webpack_require__(93)},function(module,exports,__webpack_require__){"use strict";(function(process){function ReadableState(options,stream){Duplex=Duplex||__webpack_require__(93),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=options.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=__webpack_require__(13).StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){return Duplex=Duplex||__webpack_require__(93),this instanceof Readable?(this._readableState=new ReadableState(options,this),this.readable=!0,options&&"function"==typeof options.read&&(this._read=options.read),void Stream.call(this)):new Readable(options)}function readableAddChunk(stream,state,chunk,encoding,addToFront){var er=chunkInvalid(state,chunk);if(er)stream.emit("error",er);else if(null===chunk)state.reading=!1,onEofChunk(stream,state);else if(state.objectMode||chunk&&chunk.length>0)if(state.ended&&!addToFront){var e=new Error("stream.push() after EOF");stream.emit("error",e)}else if(state.endEmitted&&addToFront){var e=new Error("stream.unshift() after end event");stream.emit("error",e)}else{var skipAdd;!state.decoder||addToFront||encoding||(chunk=state.decoder.write(chunk),skipAdd=!state.objectMode&&0===chunk.length),addToFront||(state.reading=!1),skipAdd||(state.flowing&&0===state.length&&!state.sync?(stream.emit("data",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream))),maybeReadMore(stream,state)}else addToFront||(state.reading=!1);return needMoreData(state)}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}function computeNewHighWaterMark(n){return n>=MAX_HWM?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}function howMuchToRead(n,state){return 0===state.length&&state.ended?0:state.objectMode?0===n?0:1:null===n||isNaN(n)?state.flowing&&state.buffer.length?state.buffer[0].length:state.length:n<=0?0:(n>state.highWaterMark&&(state.highWaterMark=computeNewHighWaterMark(n)),n>state.length?state.ended?state.length:(state.needReadable=!0,0):n)}function chunkInvalid(state,chunk){var er=null;return Buffer.isBuffer(chunk)||"string"==typeof chunk||null===chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er}function onEofChunk(stream,state){if(!state.ended){if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,emitReadable(stream)}}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,state.sync?processNextTick(emitReadable_,stream):emitReadable_(stream))}function emitReadable_(stream){debug("emit readable"),stream.emit("readable"),flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,processNextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(var len=state.length;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug("maybeReadMore read 0"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,"data")&&(state.flowing=!0,flow(src))}}function nReadingNextTick(self){debug("readable nexttick read 0"),self.read(0)}function resume(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,processNextTick(resume_,stream,state))}function resume_(stream,state){state.reading||(debug("resume read 0"),stream.read(0)),state.resumeScheduled=!1,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;if(debug("flow",state.flowing),state.flowing)do var chunk=stream.read();while(null!==chunk&&state.flowing)}function fromList(n,state){var ret,list=state.buffer,length=state.length,stringMode=!!state.decoder,objectMode=!!state.objectMode;if(0===list.length)return null;if(0===length)ret=null;else if(objectMode)ret=list.shift();else if(!n||n>=length)ret=stringMode?list.join(""):1===list.length?list[0]:Buffer.concat(list,length),list.length=0;else if(n<list[0].length){var buf=list[0];ret=buf.slice(0,n),list[0]=buf.slice(n)}else if(n===list[0].length)ret=list.shift();else{ret=stringMode?"":new Buffer(n);for(var c=0,i=0,l=list.length;i<l&&c<n;i++){var buf=list[0],cpy=Math.min(n-c,buf.length);stringMode?ret+=buf.slice(0,cpy):buf.copy(ret,c,0,cpy),cpy<buf.length?list[0]=buf.slice(cpy):list.shift(),c+=cpy}}return ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error("endReadable called on non-empty stream");state.endEmitted||(state.ended=!0,processNextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit("end"))}function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++)f(xs[i],i)}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}module.exports=Readable;var processNextTick=__webpack_require__(7),isArray=__webpack_require__(34),Buffer=__webpack_require__(0).Buffer;Readable.ReadableState=ReadableState;var Stream,EElistenerCount=(__webpack_require__(5),function(emitter,type){return emitter.listeners(type).length});!function(){try{Stream=__webpack_require__(6)}catch(_){}finally{Stream||(Stream=__webpack_require__(5).EventEmitter)}}();var Buffer=__webpack_require__(0).Buffer,util=__webpack_require__(4);util.inherits=__webpack_require__(2);var debugUtil=__webpack_require__(791),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var StringDecoder;util.inherits(Readable,Stream);var Duplex,Duplex;Readable.prototype.push=function(chunk,encoding){var state=this._readableState;return state.objectMode||"string"!=typeof chunk||(encoding=encoding||state.defaultEncoding,encoding!==state.encoding&&(chunk=new Buffer(chunk,encoding),encoding="")),readableAddChunk(this,state,chunk,encoding,!1)},Readable.prototype.unshift=function(chunk){var state=this._readableState;return readableAddChunk(this,state,chunk,"",!0)},Readable.prototype.isPaused=function(){return this._readableState.flowing===!1},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=__webpack_require__(13).StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};var MAX_HWM=8388608;Readable.prototype.read=function(n){debug("read",n);var state=this._readableState,nOrig=n;if(("number"!=typeof n||n>0)&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug("read: emitReadable",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(n=howMuchToRead(n,state),0===n&&state.ended)return 0===state.length&&endReadable(this),null;var doRead=state.needReadable;debug("need readable",doRead),(0===state.length||state.length-n<state.highWaterMark)&&(doRead=!0,debug("length less than watermark",doRead)),(state.ended||state.reading)&&(doRead=!1,debug("reading or ended",doRead)),doRead&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1),doRead&&!state.reading&&(n=howMuchToRead(nOrig,state));var ret;return ret=n>0?fromList(n,state):null,null===ret&&(state.needReadable=!0,n=0),state.length-=n,0!==state.length||state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&0===state.length&&endReadable(this),null!==ret&&this.emit("data",ret),ret},Readable.prototype._read=function(n){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(dest,pipeOpts){function onunpipe(readable){debug("onunpipe"),readable===src&&cleanup()}function onend(){debug("onend"),dest.end()}function cleanup(){debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",cleanup),src.removeListener("data",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain()}function ondata(chunk){debug("ondata");var ret=dest.write(chunk);!1===ret&&(1!==state.pipesCount||state.pipes[0]!==dest||1!==src.listenerCount("data")||cleanedUp||(debug("false write response, pause",src._readableState.awaitDrain),src._readableState.awaitDrain++),src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EElistenerCount(dest,"error")&&dest.emit("error",er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||pipeOpts.end!==!1)&&dest!==process.stdout&&dest!==process.stderr,endFn=doEnd?onend:cleanup;state.endEmitted?processNextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=!1;return src.on("data",ondata),dest._events&&dest._events.error?isArray(dest._events.error)?dest._events.error.unshift(onerror):dest._events.error=[onerror,dest._events.error]:dest.on("error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState;if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes?this:(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this),this);if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var _i=0;_i<len;_i++)dests[_i].emit("unpipe",this);return this}var i=indexOf(state.pipes,dest);return i===-1?this:(state.pipes.splice(i,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this),this)},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if("data"===ev&&!1!==this._readableState.flowing&&this.resume(),"readable"===ev&&!this._readableState.endEmitted){var state=this._readableState;state.readableListening||(state.readableListening=!0,state.emittedReadable=!1,state.needReadable=!0,state.reading?state.length&&emitReadable(this,state):processNextTick(nReadingNextTick,this))}return res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!0,resume(this,state)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(stream){var state=this._readableState,paused=!1,self=this;stream.on("end",function(){if(debug("wrapped end"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&self.push(chunk)}self.push(null)}),stream.on("data",function(chunk){if(debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),(!state.objectMode||null!==chunk&&void 0!==chunk)&&(state.objectMode||chunk&&chunk.length)){var ret=self.push(chunk);ret||(paused=!0,stream.pause())}});for(var i in stream)void 0===this[i]&&"function"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));var events=["error","close","destroy","pause","resume"];return forEach(events,function(ev){stream.on(ev,self.emit.bind(self,ev))}),self._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},self},Readable._fromList=fromList}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";(function(process,setImmediate){function nop(){}function WriteReq(chunk,encoding,cb){this.chunk=chunk,this.encoding=encoding,this.callback=cb,this.next=null}function WritableState(options,stream){Duplex=Duplex||__webpack_require__(93),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var noDecode=options.decodeStrings===!1;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){onwrite(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this),this.corkedRequestsFree.next=new CorkedRequest(this)}function Writable(options){return Duplex=Duplex||__webpack_require__(93),this instanceof Writable||this instanceof Duplex?(this._writableState=new WritableState(options,this),this.writable=!0,options&&("function"==typeof options.write&&(this._write=options.write),"function"==typeof options.writev&&(this._writev=options.writev)),void Stream.call(this)):new Writable(options)}function writeAfterEnd(stream,cb){var er=new Error("write after end");stream.emit("error",er),processNextTick(cb,er)}function validChunk(stream,state,chunk,cb){var valid=!0;if(!Buffer.isBuffer(chunk)&&"string"!=typeof chunk&&null!==chunk&&void 0!==chunk&&!state.objectMode){var er=new TypeError("Invalid non-string/buffer chunk");stream.emit("error",er),processNextTick(cb,er),valid=!1}return valid}function decodeChunk(state,chunk,encoding){return state.objectMode||state.decodeStrings===!1||"string"!=typeof chunk||(chunk=new Buffer(chunk,encoding)),chunk}function writeOrBuffer(stream,state,chunk,encoding,cb){chunk=decodeChunk(state,chunk,encoding),Buffer.isBuffer(chunk)&&(encoding="buffer");var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(ret||(state.needDrain=!0),state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest=new WriteReq(chunk,encoding,cb),last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function onwriteError(stream,state,sync,er,cb){--state.pendingcb,sync?processNextTick(cb,er):cb(er),stream._writableState.errorEmitted=!0,stream.emit("error",er)}function onwriteStateUpdate(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}function onwrite(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if(onwriteStateUpdate(state),er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state);finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?asyncWrite(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}function afterWrite(stream,state,finished,cb){finished||onwriteDrain(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function onwriteDrain(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=new Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0;entry;)buffer[count]=entry,entry=entry.next,count+=1;doWrite(stream,state,!0,state.length,buffer,"",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,state.corkedRequestsFree=holder.next,holder.next=null}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback,len=state.objectMode?1:chunk.length;if(doWrite(stream,state,!1,len,chunk,encoding,cb),entry=entry.next,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequestCount=0,state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function prefinish(stream,state){state.prefinished||(state.prefinished=!0,stream.emit("prefinish"))}function finishMaybe(stream,state){var need=needFinish(state);return need&&(0===state.pendingcb?(prefinish(stream,state),state.finished=!0,stream.emit("finish")):prefinish(stream,state)),need}function endWritable(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?processNextTick(cb):stream.once("finish",cb)),state.ended=!0,stream.writable=!1}function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(err){var entry=_this.entry;for(_this.entry=null;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree?state.corkedRequestsFree.next=_this:state.corkedRequestsFree=_this}}module.exports=Writable;var processNextTick=__webpack_require__(7),asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:processNextTick,Buffer=__webpack_require__(0).Buffer;Writable.WritableState=WritableState;var util=__webpack_require__(4);util.inherits=__webpack_require__(2);var Stream,internalUtil={deprecate:__webpack_require__(37)};!function(){try{Stream=__webpack_require__(6)}catch(_){}finally{Stream||(Stream=__webpack_require__(5).EventEmitter)}}();var Buffer=__webpack_require__(0).Buffer;util.inherits(Writable,Stream);var Duplex;WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(_){}}();var Duplex;Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState,ret=!1;return"function"==typeof encoding&&(cb=encoding,encoding=null),Buffer.isBuffer(chunk)?encoding="buffer":encoding||(encoding=state.defaultEncoding),"function"!=typeof cb&&(cb=nop),state.ended?writeAfterEnd(this,cb):validChunk(this,state,chunk,cb)&&(state.pendingcb++,ret=writeOrBuffer(this,state,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){var state=this._writableState;state.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if("string"==typeof encoding&&(encoding=encoding.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);this._writableState.defaultEncoding=encoding},Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;"function"==typeof chunk?(cb=chunk,chunk=null,encoding=null):"function"==typeof encoding&&(cb=encoding,encoding=null),null!==chunk&&void 0!==chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||endWritable(this,state,cb)}}).call(exports,__webpack_require__(3),__webpack_require__(21).setImmediate)},function(module,exports,__webpack_require__){(function(global){function mapArrayBufferViews(ary){for(var i=0;i<ary.length;i++){var chunk=ary[i];if(chunk.buffer instanceof ArrayBuffer){var buf=chunk.buffer;if(chunk.byteLength!==buf.byteLength){var copy=new Uint8Array(chunk.byteLength);copy.set(new Uint8Array(buf,chunk.byteOffset,chunk.byteLength)),buf=copy.buffer}ary[i]=buf}}}function BlobBuilderConstructor(ary,options){options=options||{};var bb=new BlobBuilder;mapArrayBufferViews(ary);for(var i=0;i<ary.length;i++)bb.append(ary[i]);return options.type?bb.getBlob(options.type):bb.getBlob()}function BlobConstructor(ary,options){return mapArrayBufferViews(ary),new Blob(ary,options||{})}var BlobBuilder=global.BlobBuilder||global.WebKitBlobBuilder||global.MSBlobBuilder||global.MozBlobBuilder,blobSupported=function(){try{var a=new Blob(["hi"]);return 2===a.size}catch(e){return!1}}(),blobSupportsArrayBufferView=blobSupported&&function(){try{var b=new Blob([new Uint8Array([1,2])]);return 2===b.size}catch(e){return!1}}(),blobBuilderSupported=BlobBuilder&&BlobBuilder.prototype.append&&BlobBuilder.prototype.getBlob;module.exports=function(){return blobSupported?blobSupportsArrayBufferView?global.Blob:BlobConstructor:blobBuilderSupported?BlobBuilderConstructor:void 0}()}).call(exports,__webpack_require__(9))},function(module,exports,__webpack_require__){(function(Buffer){function Block(size,opts){return this instanceof Block?(Transform.call(this),opts||(opts={}),"object"==typeof size&&(opts=size,size=opts.size),this.size=size||512,opts.nopad?this._zeroPadding=!1:this._zeroPadding=defined(opts.zeroPadding,!0),this._buffered=[],void(this._bufferedBytes=0)):new Block(size,opts)}var inherits=__webpack_require__(2),Transform=__webpack_require__(385).Transform,defined=__webpack_require__(582);module.exports=Block,inherits(Block,Transform),Block.prototype._transform=function(buf,enc,next){for(this._bufferedBytes+=buf.length,this._buffered.push(buf);this._bufferedBytes>=this.size;){var b=Buffer.concat(this._buffered);this._bufferedBytes-=this.size,this.push(b.slice(0,this.size)),this._buffered=[b.slice(this.size,b.length)]}next()},Block.prototype._flush=function(){if(this._bufferedBytes&&this._zeroPadding){var zeroes=new Buffer(this.size-this._bufferedBytes);zeroes.fill(0),this._buffered.push(zeroes),this.push(Buffer.concat(this._buffered)),this._buffered=null}else this._bufferedBytes&&(this.push(Buffer.concat(this._buffered)),this._buffered=null);this.push(null)}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";function PassThrough(options){return this instanceof PassThrough?void Transform.call(this,options):new PassThrough(options)}module.exports=PassThrough;var Transform=__webpack_require__(201),util=__webpack_require__(4);util.inherits=__webpack_require__(2),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},function(module,exports,__webpack_require__){(function(process){var Stream=function(){try{return __webpack_require__(6)}catch(_){}}();exports=module.exports=__webpack_require__(200),exports.Stream=Stream||exports,exports.Readable=exports,exports.Writable=__webpack_require__(202),exports.Duplex=__webpack_require__(67),exports.Transform=__webpack_require__(201),exports.PassThrough=__webpack_require__(384),!process.browser&&"disable"===process.env.READABLE_STREAM&&Stream&&(module.exports=Stream)}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){(function(Buffer){function Decipher(mode,key,iv){return this instanceof Decipher?(Transform.call(this),this._cache=new Splitter,this._last=void 0,this._cipher=new aes.AES(key),this._prev=new Buffer(iv.length),iv.copy(this._prev),this._mode=mode,void(this._autopadding=!0)):new Decipher(mode,key,iv)}function Splitter(){return this instanceof Splitter?void(this.cache=new Buffer("")):new Splitter}function unpad(last){for(var padded=last[15],i=-1;++i<padded;)if(last[i+(16-padded)]!==padded)throw new Error("unable to decrypt data");if(16!==padded)return last.slice(0,16-padded)}function createDecipheriv(suite,password,iv){var config=modes[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");if("string"==typeof iv&&(iv=new Buffer(iv)),"string"==typeof password&&(password=new Buffer(password)),password.length!==config.key/8)throw new TypeError("invalid key length "+password.length);if(iv.length!==config.iv)throw new TypeError("invalid iv length "+iv.length);return"stream"===config.type?new StreamCipher(modelist[config.mode],password,iv,(!0)):"auth"===config.type?new AuthCipher(modelist[config.mode],password,iv,(!0)):new Decipher(modelist[config.mode],password,iv)}function createDecipher(suite,password){var config=modes[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");var keys=ebtk(password,!1,config.key,config.iv);return createDecipheriv(suite,keys.key,keys.iv)}var aes=__webpack_require__(108),Transform=__webpack_require__(68),inherits=__webpack_require__(2),modes=__webpack_require__(109),StreamCipher=__webpack_require__(211),AuthCipher=__webpack_require__(204),ebtk=__webpack_require__(125);inherits(Decipher,Transform),Decipher.prototype._update=function(data){this._cache.add(data);for(var chunk,thing,out=[];chunk=this._cache.get(this._autopadding);)thing=this._mode.decrypt(this,chunk),out.push(thing);return Buffer.concat(out)},Decipher.prototype._final=function(){var chunk=this._cache.flush();if(this._autopadding)return unpad(this._mode.decrypt(this,chunk));if(chunk)throw new Error("data not multiple of block length")},Decipher.prototype.setAutoPadding=function(setTo){return this._autopadding=!!setTo,this},Splitter.prototype.add=function(data){this.cache=Buffer.concat([this.cache,data])},Splitter.prototype.get=function(autoPadding){var out;if(autoPadding){if(this.cache.length>16)return out=this.cache.slice(0,16),this.cache=this.cache.slice(16),out}else if(this.cache.length>=16)return out=this.cache.slice(0,16),this.cache=this.cache.slice(16),out;return null},Splitter.prototype.flush=function(){if(this.cache.length)return this.cache};var modelist={ECB:__webpack_require__(209),CBC:__webpack_require__(205),CFB:__webpack_require__(206),CFB8:__webpack_require__(208),CFB1:__webpack_require__(207),OFB:__webpack_require__(210),CTR:__webpack_require__(110),GCM:__webpack_require__(110)};exports.createDecipher=createDecipher,exports.createDecipheriv=createDecipheriv}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function Cipher(mode,key,iv){return this instanceof Cipher?(Transform.call(this),this._cache=new Splitter,this._cipher=new aes.AES(key),this._prev=new Buffer(iv.length),iv.copy(this._prev),this._mode=mode,void(this._autopadding=!0)):new Cipher(mode,key,iv)}function Splitter(){return this instanceof Splitter?void(this.cache=new Buffer("")):new Splitter}function createCipheriv(suite,password,iv){var config=modes[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");if("string"==typeof iv&&(iv=new Buffer(iv)),"string"==typeof password&&(password=new Buffer(password)),password.length!==config.key/8)throw new TypeError("invalid key length "+password.length);if(iv.length!==config.iv)throw new TypeError("invalid iv length "+iv.length);return"stream"===config.type?new StreamCipher(modelist[config.mode],password,iv):"auth"===config.type?new AuthCipher(modelist[config.mode],password,iv):new Cipher(modelist[config.mode],password,iv)}function createCipher(suite,password){var config=modes[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");var keys=ebtk(password,!1,config.key,config.iv);return createCipheriv(suite,keys.key,keys.iv)}var aes=__webpack_require__(108),Transform=__webpack_require__(68),inherits=__webpack_require__(2),modes=__webpack_require__(109),ebtk=__webpack_require__(125),StreamCipher=__webpack_require__(211),AuthCipher=__webpack_require__(204);inherits(Cipher,Transform),Cipher.prototype._update=function(data){this._cache.add(data);for(var chunk,thing,out=[];chunk=this._cache.get();)thing=this._mode.encrypt(this,chunk),out.push(thing);return Buffer.concat(out)},Cipher.prototype._final=function(){var chunk=this._cache.flush();if(this._autopadding)return chunk=this._mode.encrypt(this,chunk),this._cipher.scrub(),chunk;if("10101010101010101010101010101010"!==chunk.toString("hex"))throw this._cipher.scrub(),new Error("data not multiple of block length")},Cipher.prototype.setAutoPadding=function(setTo){return this._autopadding=!!setTo,this},Splitter.prototype.add=function(data){this.cache=Buffer.concat([this.cache,data])},Splitter.prototype.get=function(){if(this.cache.length>15){var out=this.cache.slice(0,16);return this.cache=this.cache.slice(16),out}return null},Splitter.prototype.flush=function(){for(var len=16-this.cache.length,padBuff=new Buffer(len),i=-1;++i<len;)padBuff.writeUInt8(len,i);var out=Buffer.concat([this.cache,padBuff]);return out};var modelist={ECB:__webpack_require__(209),CBC:__webpack_require__(205),CFB:__webpack_require__(206),CFB8:__webpack_require__(208),CFB1:__webpack_require__(207),OFB:__webpack_require__(210),CTR:__webpack_require__(110),GCM:__webpack_require__(110)};exports.createCipheriv=createCipheriv,exports.createCipher=createCipher}).call(exports,__webpack_require__(0).Buffer);
},function(module,exports,__webpack_require__){(function(Buffer){function GHASH(key){this.h=key,this.state=new Buffer(16),this.state.fill(0),this.cache=new Buffer("")}function toArray(buf){return[buf.readUInt32BE(0),buf.readUInt32BE(4),buf.readUInt32BE(8),buf.readUInt32BE(12)]}function fromArray(out){out=out.map(fixup_uint32);var buf=new Buffer(16);return buf.writeUInt32BE(out[0],0),buf.writeUInt32BE(out[1],4),buf.writeUInt32BE(out[2],8),buf.writeUInt32BE(out[3],12),buf}function fixup_uint32(x){var ret,x_pos;return ret=x>uint_max||x<0?(x_pos=Math.abs(x)%uint_max,x<0?uint_max-x_pos:x_pos):x}function xor(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]}var zeros=new Buffer(16);zeros.fill(0),module.exports=GHASH,GHASH.prototype.ghash=function(block){for(var i=-1;++i<block.length;)this.state[i]^=block[i];this._multiply()},GHASH.prototype._multiply=function(){for(var j,xi,lsb_Vi,Vi=toArray(this.h),Zi=[0,0,0,0],i=-1;++i<128;){for(xi=0!==(this.state[~~(i/8)]&1<<7-i%8),xi&&(Zi=xor(Zi,Vi)),lsb_Vi=0!==(1&Vi[3]),j=3;j>0;j--)Vi[j]=Vi[j]>>>1|(1&Vi[j-1])<<31;Vi[0]=Vi[0]>>>1,lsb_Vi&&(Vi[0]=Vi[0]^225<<24)}this.state=fromArray(Zi)},GHASH.prototype.update=function(buf){this.cache=Buffer.concat([this.cache,buf]);for(var chunk;this.cache.length>=16;)chunk=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(chunk)},GHASH.prototype.final=function(abl,bl){return this.cache.length&&this.ghash(Buffer.concat([this.cache,zeros],16)),this.ghash(fromArray([0,abl,0,bl])),this.state};var uint_max=Math.pow(2,32)}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){function createCipher(suite,password){var keyLen,ivLen;if(suite=suite.toLowerCase(),aesModes[suite])keyLen=aesModes[suite].key,ivLen=aesModes[suite].iv;else{if(!desModes[suite])throw new TypeError("invalid suite type");keyLen=8*desModes[suite].key,ivLen=desModes[suite].iv}var keys=ebtk(password,!1,keyLen,ivLen);return createCipheriv(suite,keys.key,keys.iv)}function createDecipher(suite,password){var keyLen,ivLen;if(suite=suite.toLowerCase(),aesModes[suite])keyLen=aesModes[suite].key,ivLen=aesModes[suite].iv;else{if(!desModes[suite])throw new TypeError("invalid suite type");keyLen=8*desModes[suite].key,ivLen=desModes[suite].iv}var keys=ebtk(password,!1,keyLen,ivLen);return createDecipheriv(suite,keys.key,keys.iv)}function createCipheriv(suite,key,iv){if(suite=suite.toLowerCase(),aesModes[suite])return aes.createCipheriv(suite,key,iv);if(desModes[suite])return new DES({key:key,iv:iv,mode:suite});throw new TypeError("invalid suite type")}function createDecipheriv(suite,key,iv){if(suite=suite.toLowerCase(),aesModes[suite])return aes.createDecipheriv(suite,key,iv);if(desModes[suite])return new DES({key:key,iv:iv,mode:suite,decrypt:!0});throw new TypeError("invalid suite type")}function getCiphers(){return Object.keys(desModes).concat(aes.getCiphers())}var ebtk=__webpack_require__(125),aes=__webpack_require__(138),DES=__webpack_require__(390),desModes=__webpack_require__(391),aesModes=__webpack_require__(109);exports.createCipher=exports.Cipher=createCipher,exports.createCipheriv=exports.Cipheriv=createCipheriv,exports.createDecipher=exports.Decipher=createDecipher,exports.createDecipheriv=exports.Decipheriv=createDecipheriv,exports.listCiphers=exports.getCiphers=getCiphers},function(module,exports,__webpack_require__){(function(Buffer){function DES(opts){CipherBase.call(this);var type,modeName=opts.mode.toLowerCase(),mode=modes[modeName];type=opts.decrypt?"decrypt":"encrypt";var key=opts.key;"des-ede"!==modeName&&"des-ede-cbc"!==modeName||(key=Buffer.concat([key,key.slice(0,8)]));var iv=opts.iv;this._des=mode.create({key:key,iv:iv,type:type})}var CipherBase=__webpack_require__(68),des=__webpack_require__(167),inherits=__webpack_require__(2),modes={"des-ede3-cbc":des.CBC.instantiate(des.EDE),"des-ede3":des.EDE,"des-ede-cbc":des.CBC.instantiate(des.EDE),"des-ede":des.EDE,"des-cbc":des.CBC.instantiate(des.DES),"des-ecb":des.DES};modes.des=modes["des-cbc"],modes.des3=modes["des-ede3-cbc"],module.exports=DES,inherits(DES,CipherBase),DES.prototype._update=function(data){return new Buffer(this._des.update(data))},DES.prototype._final=function(){return new Buffer(this._des.final())}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports){exports["des-ecb"]={key:8,iv:0},exports["des-cbc"]=exports.des={key:8,iv:8},exports["des-ede3-cbc"]=exports.des3={key:24,iv:8},exports["des-ede3"]={key:24,iv:0},exports["des-ede-cbc"]={key:16,iv:8},exports["des-ede"]={key:16,iv:0}},function(module,exports,__webpack_require__){(function(Buffer){function Sign(algorithm){stream.Writable.call(this);var data=algos[algorithm];if(!data)throw new Error("Unknown message digest");this._hashType=data.hash,this._hash=createHash(data.hash),this._tag=data.id,this._signType=data.sign}function Verify(algorithm){stream.Writable.call(this);var data=algos[algorithm];if(!data)throw new Error("Unknown message digest");this._hash=createHash(data.hash),this._tag=data.id,this._signType=data.sign}function createSign(algorithm){return new Sign(algorithm)}function createVerify(algorithm){return new Verify(algorithm)}var _algos=__webpack_require__(212),createHash=__webpack_require__(74),inherits=__webpack_require__(2),sign=__webpack_require__(393),stream=__webpack_require__(6),verify=__webpack_require__(394),algos={};Object.keys(_algos).forEach(function(key){algos[key]=algos[key.toLowerCase()]=_algos[key]}),inherits(Sign,stream.Writable),Sign.prototype._write=function(data,_,done){this._hash.update(data),done()},Sign.prototype.update=function(data,enc){return"string"==typeof data&&(data=new Buffer(data,enc)),this._hash.update(data),this},Sign.prototype.sign=function(key,enc){this.end();var hash=this._hash.digest(),sig=sign(Buffer.concat([this._tag,hash]),key,this._hashType,this._signType);return enc?sig.toString(enc):sig},inherits(Verify,stream.Writable),Verify.prototype._write=function(data,_,done){this._hash.update(data),done()},Verify.prototype.update=function(data,enc){return"string"==typeof data&&(data=new Buffer(data,enc)),this._hash.update(data),this},Verify.prototype.verify=function(key,sig,enc){"string"==typeof sig&&(sig=new Buffer(sig,enc)),this.end();var hash=this._hash.digest();return verify(sig,Buffer.concat([this._tag,hash]),key,this._signType)},module.exports={Sign:createSign,Verify:createVerify,createSign:createSign,createVerify:createVerify}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function sign(hash,key,hashType,signType){var priv=parseKeys(key);if(priv.curve){if("ecdsa"!==signType)throw new Error("wrong private key type");return ecSign(hash,priv)}if("dsa"===priv.type){if("dsa"!==signType)throw new Error("wrong private key type");return dsaSign(hash,priv,hashType)}if("rsa"!==signType)throw new Error("wrong private key type");for(var len=priv.modulus.byteLength(),pad=[0,1];hash.length+pad.length+1<len;)pad.push(255);pad.push(0);for(var i=-1;++i<hash.length;)pad.push(hash[i]);var out=crt(pad,priv);return out}function ecSign(hash,priv){var curveId=curves[priv.curve.join(".")];if(!curveId)throw new Error("unknown curve "+priv.curve.join("."));var curve=new EC(curveId),key=curve.genKeyPair();key._importPrivate(priv.privateKey);var out=key.sign(hash);return new Buffer(out.toDER())}function dsaSign(hash,priv,algo){for(var k,x=priv.params.priv_key,p=priv.params.p,q=priv.params.q,g=priv.params.g,r=new BN(0),H=bits2int(hash,q).mod(q),s=!1,kv=getKey(x,q,hash,algo);s===!1;)k=makeKey(q,kv,algo),r=makeR(g,k,p,q),s=k.invm(q).imul(H.add(x.mul(r))).mod(q),s.cmpn(0)||(s=!1,r=new BN(0));return toDER(r,s)}function toDER(r,s){r=r.toArray(),s=s.toArray(),128&r[0]&&(r=[0].concat(r)),128&s[0]&&(s=[0].concat(s));var total=r.length+s.length+4,res=[48,total,2,r.length];return res=res.concat(r,[2,s.length],s),new Buffer(res)}function getKey(x,q,hash,algo){if(x=new Buffer(x.toArray()),x.length<q.byteLength()){var zeros=new Buffer(q.byteLength()-x.length);zeros.fill(0),x=Buffer.concat([zeros,x])}var hlen=hash.length,hbits=bits2octets(hash,q),v=new Buffer(hlen);v.fill(1);var k=new Buffer(hlen);return k.fill(0),k=createHmac(algo,k).update(v).update(new Buffer([0])).update(x).update(hbits).digest(),v=createHmac(algo,k).update(v).digest(),k=createHmac(algo,k).update(v).update(new Buffer([1])).update(x).update(hbits).digest(),v=createHmac(algo,k).update(v).digest(),{k:k,v:v}}function bits2int(obits,q){var bits=new BN(obits),shift=(obits.length<<3)-q.bitLength();return shift>0&&bits.ishrn(shift),bits}function bits2octets(bits,q){bits=bits2int(bits,q),bits=bits.mod(q);var out=new Buffer(bits.toArray());if(out.length<q.byteLength()){var zeros=new Buffer(q.byteLength()-out.length);zeros.fill(0),out=Buffer.concat([zeros,out])}return out}function makeKey(q,kv,algo){var t,k;do{for(t=new Buffer("");8*t.length<q.bitLength();)kv.v=createHmac(algo,kv.k).update(kv.v).digest(),t=Buffer.concat([t,kv.v]);k=bits2int(t,q),kv.k=createHmac(algo,kv.k).update(kv.v).update(new Buffer([0])).digest(),kv.v=createHmac(algo,kv.k).update(kv.v).digest()}while(k.cmp(q)!==-1);return k}function makeR(g,k,p,q){return g.toRed(BN.mont(p)).redPow(k).fromRed().mod(q)}var createHmac=__webpack_require__(166),crt=__webpack_require__(139),curves=__webpack_require__(213),elliptic=__webpack_require__(24),parseKeys=__webpack_require__(133),BN=__webpack_require__(19),EC=elliptic.ec;module.exports=sign,module.exports.getKey=getKey,module.exports.makeKey=makeKey}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function verify(sig,hash,key,signType){var pub=parseKeys(key);if("ec"===pub.type){if("ecdsa"!==signType)throw new Error("wrong public key type");return ecVerify(sig,hash,pub)}if("dsa"===pub.type){if("dsa"!==signType)throw new Error("wrong public key type");return dsaVerify(sig,hash,pub)}if("rsa"!==signType)throw new Error("wrong public key type");for(var len=pub.modulus.byteLength(),pad=[1],padNum=0;hash.length+pad.length+2<len;)pad.push(255),padNum++;pad.push(0);for(var i=-1;++i<hash.length;)pad.push(hash[i]);pad=new Buffer(pad);var red=BN.mont(pub.modulus);sig=new BN(sig).toRed(red),sig=sig.redPow(new BN(pub.publicExponent)),sig=new Buffer(sig.fromRed().toArray());var out=0;for(padNum<8&&(out=1),len=Math.min(sig.length,pad.length),sig.length!==pad.length&&(out=1),i=-1;++i<len;)out|=sig[i]^pad[i];return 0===out}function ecVerify(sig,hash,pub){var curveId=curves[pub.data.algorithm.curve.join(".")];if(!curveId)throw new Error("unknown curve "+pub.data.algorithm.curve.join("."));var curve=new EC(curveId),pubkey=pub.data.subjectPrivateKey.data;return curve.verify(hash,sig,pubkey)}function dsaVerify(sig,hash,pub){var p=pub.data.p,q=pub.data.q,g=pub.data.g,y=pub.data.pub_key,unpacked=parseKeys.signature.decode(sig,"der"),s=unpacked.s,r=unpacked.r;checkValue(s,q),checkValue(r,q);var montp=BN.mont(p),w=s.invm(q),v=g.toRed(montp).redPow(new BN(hash).mul(w).mod(q)).fromRed().mul(y.toRed(montp).redPow(r.mul(w).mod(q)).fromRed()).mod(p).mod(q);return!v.cmp(r)}function checkValue(b,q){if(b.cmpn(0)<=0)throw new Error("invalid sig");if(b.cmp(q)>=q)throw new Error("invalid sig")}var curves=__webpack_require__(213),elliptic=__webpack_require__(24),parseKeys=__webpack_require__(133),BN=__webpack_require__(19),EC=elliptic.ec;module.exports=verify}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";(function(Buffer,process){function Zlib(mode){if(null==mode||mode<exports.DEFLATE||mode>exports.UNZIP)throw new TypeError("Bad argument");this.chunk_size=0,this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=mode,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1}function bufferSet(data,offset){for(var i=0;i<data.length;i++)this[offset+i]=data[i]}var assert=__webpack_require__(28),Zstream=__webpack_require__(711),zlib_deflate=__webpack_require__(705),zlib_inflate=__webpack_require__(707),constants=__webpack_require__(704);for(var key in constants)exports[key]=constants[key];exports.NONE=0,exports.DEFLATE=1,exports.INFLATE=2,exports.GZIP=3,exports.GUNZIP=4,exports.DEFLATERAW=5,exports.INFLATERAW=6,exports.UNZIP=7;var GZIP_HEADER_ID1=31,GZIP_HEADER_ID2=139,GZIP_MIN_HEADER_SIZE=10;Zlib.prototype.close=function(){return this.write_in_progress?void(this.pending_close=!0):(this.pending_close=!1,assert(this.init_done,"close before init"),assert(this.mode<=exports.UNZIP),this.mode===exports.DEFLATE||this.mode===exports.GZIP||this.mode===exports.DEFLATERAW?zlib_deflate.deflateEnd(this.strm):zlib_inflate.inflateEnd(this.strm),this.mode=exports.NONE,void(null!=this.dictionary&&(this.dictionary=null)))},Zlib.prototype.write=function(flush,input,in_off,in_len,out,out_off,out_len){return this._write(!0,flush,input,in_off,in_len,out,out_off,out_len)},Zlib.prototype.writeSync=function(flush,input,in_off,in_len,out,out_off,out_len){return this._write(!1,flush,input,in_off,in_len,out,out_off,out_len)},Zlib.prototype._write=function(async,flush,input,in_off,in_len,out,out_off,out_len){if(assert.equal(arguments.length,8),assert(this.init_done,"write before init"),assert(this.mode!==exports.NONE,"already finalized"),assert.equal(!1,this.write_in_progress,"write already in progress"),assert.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,assert.equal(!1,void 0===flush,"must provide flush value"),this.write_in_progress=!0,flush!==exports.Z_NO_FLUSH&&flush!==exports.Z_PARTIAL_FLUSH&&flush!==exports.Z_SYNC_FLUSH&&flush!==exports.Z_FULL_FLUSH&&flush!==exports.Z_FINISH&&flush!==exports.Z_BLOCK)throw new Error("Invalid flush value");if(null==input&&(input=new Buffer(0),in_len=0,in_off=0),out._set?out.set=out._set:out.set=bufferSet,this.strm.avail_in=in_len,this.strm.input=input,this.strm.next_in=in_off,this.strm.avail_out=out_len,this.strm.output=out,this.strm.next_out=out_off,this.flush=flush,this.chunk_size=out_len,async){var self=this;return process.nextTick(function(){self._process(),self._after()}),this}if(this._process(),this._checkError())return this._afterSync()},Zlib.prototype._afterSync=function(){var avail_out=this.strm.avail_out,avail_in=this.strm.avail_in;return this.write_in_progress=!1,[avail_in,avail_out]},Zlib.prototype._process=function(){switch(this.mode){case exports.DEFLATE:case exports.GZIP:case exports.DEFLATERAW:this.err=zlib_deflate.deflate(this.strm,this.flush);break;case exports.UNZIP:case exports.INFLATE:case exports.GUNZIP:case exports.INFLATERAW:for(this.err=zlib_inflate.inflate(this.strm,this.flush),this.err===exports.Z_NEED_DICT&&this.dictionary&&(this.err=zlib_inflate.inflateSetDictionary(this.strm,this.dictionary),this.err===exports.Z_OK?this.err=zlib_inflate.inflate(this.strm,this.flush):this.err===exports.Z_DATA_ERROR&&(this.err=exports.Z_NEED_DICT));this.strm.avail_in>=GZIP_MIN_HEADER_SIZE&&this.mode===exports.GUNZIP&&this.strm.next_in[0]===GZIP_HEADER_ID1&&this.strm.next_in[1]===GZIP_HEADER_ID2;)this.reset(),this.err=zlib_inflate.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},Zlib.prototype._checkError=function(){switch(this.err){case exports.Z_OK:case exports.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===exports.Z_FINISH)return this._error("unexpected end of file"),!1;break;case exports.Z_STREAM_END:break;case exports.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},Zlib.prototype._after=function(){if(this._checkError()){var avail_out=this.strm.avail_out,avail_in=this.strm.avail_in;this.write_in_progress=!1,this.callback(avail_in,avail_out),this.pending_close&&this.close()}},Zlib.prototype._error=function(message){this.onerror(message,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},Zlib.prototype.init=function(windowBits,level,memLevel,strategy,dictionary){assert(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),assert(windowBits>=6&&windowBits<=15,"invalid windowBits"),assert(level>=-1&&level<=9,"invalid compression level"),assert(memLevel>=1&&memLevel<=9,"invalid memlevel"),assert(strategy===exports.Z_FILTERED||strategy===exports.Z_HUFFMAN_ONLY||strategy===exports.Z_RLE||strategy===exports.Z_FIXED||strategy===exports.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(level,windowBits,memLevel,strategy,dictionary),this._setDictionary()},Zlib.prototype.params=function(){throw new Error("deflateParams Not supported")},Zlib.prototype.reset=function(){this._reset(),this._setDictionary()},Zlib.prototype._init=function(level,windowBits,memLevel,strategy,dictionary){switch(this.level=level,this.windowBits=windowBits,this.memLevel=memLevel,this.strategy=strategy,this.flush=exports.Z_NO_FLUSH,this.err=exports.Z_OK,this.mode!==exports.GZIP&&this.mode!==exports.GUNZIP||(this.windowBits+=16),this.mode===exports.UNZIP&&(this.windowBits+=32),this.mode!==exports.DEFLATERAW&&this.mode!==exports.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new Zstream,this.mode){case exports.DEFLATE:case exports.GZIP:case exports.DEFLATERAW:this.err=zlib_deflate.deflateInit2(this.strm,this.level,exports.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case exports.INFLATE:case exports.GUNZIP:case exports.INFLATERAW:case exports.UNZIP:this.err=zlib_inflate.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==exports.Z_OK&&this._error("Init error"),this.dictionary=dictionary,this.write_in_progress=!1,this.init_done=!0},Zlib.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=exports.Z_OK,this.mode){case exports.DEFLATE:case exports.DEFLATERAW:this.err=zlib_deflate.deflateSetDictionary(this.strm,this.dictionary)}this.err!==exports.Z_OK&&this._error("Failed to set dictionary")}},Zlib.prototype._reset=function(){switch(this.err=exports.Z_OK,this.mode){case exports.DEFLATE:case exports.DEFLATERAW:case exports.GZIP:this.err=zlib_deflate.deflateReset(this.strm);break;case exports.INFLATE:case exports.INFLATERAW:case exports.GUNZIP:this.err=zlib_inflate.inflateReset(this.strm)}this.err!==exports.Z_OK&&this._error("Failed to reset stream")},exports.Zlib=Zlib}).call(exports,__webpack_require__(0).Buffer,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";(function(process){function kMaxLength(){var max=__webpack_require__(0).kMaxLength;return max?max:Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function zlibBuffer(engine,buffer,callback){function flow(){for(var chunk;null!==(chunk=engine.read());)buffers.push(chunk),nread+=chunk.length;engine.once("readable",flow)}function onError(err){engine.removeListener("end",onEnd),engine.removeListener("readable",flow),callback(err)}function onEnd(){var buf,err=null;nread>=kMaxLength()?err=new RangeError(kRangeErrorMessage):buf=Buffer.concat(buffers,nread),buffers=[],engine.close(),callback(err,buf)}var buffers=[],nread=0;engine.on("error",onError),engine.on("end",onEnd),engine.end(buffer),flow()}function zlibBufferSync(engine,buffer){if("string"==typeof buffer&&(buffer=new Buffer(buffer)),!(buffer instanceof Buffer))throw new TypeError("Not a string or buffer");var flushFlag=binding.Z_FINISH;return engine._processChunk(buffer,flushFlag)}function Deflate(opts){return this instanceof Deflate?void Zlib.call(this,opts,binding.DEFLATE):new Deflate(opts)}function Inflate(opts){return this instanceof Inflate?void Zlib.call(this,opts,binding.INFLATE):new Inflate(opts)}function Gzip(opts){return this instanceof Gzip?void Zlib.call(this,opts,binding.GZIP):new Gzip(opts)}function Gunzip(opts){return this instanceof Gunzip?void Zlib.call(this,opts,binding.GUNZIP):new Gunzip(opts)}function DeflateRaw(opts){return this instanceof DeflateRaw?void Zlib.call(this,opts,binding.DEFLATERAW):new DeflateRaw(opts)}function InflateRaw(opts){return this instanceof InflateRaw?void Zlib.call(this,opts,binding.INFLATERAW):new InflateRaw(opts)}function Unzip(opts){return this instanceof Unzip?void Zlib.call(this,opts,binding.UNZIP):new Unzip(opts)}function Zlib(opts,mode){if(this._opts=opts=opts||{},this._chunkSize=opts.chunkSize||exports.Z_DEFAULT_CHUNK,Transform.call(this,opts),opts.flush&&opts.flush!==binding.Z_NO_FLUSH&&opts.flush!==binding.Z_PARTIAL_FLUSH&&opts.flush!==binding.Z_SYNC_FLUSH&&opts.flush!==binding.Z_FULL_FLUSH&&opts.flush!==binding.Z_FINISH&&opts.flush!==binding.Z_BLOCK)throw new Error("Invalid flush flag: "+opts.flush);if(this._flushFlag=opts.flush||binding.Z_NO_FLUSH,opts.chunkSize&&(opts.chunkSize<exports.Z_MIN_CHUNK||opts.chunkSize>exports.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+opts.chunkSize);if(opts.windowBits&&(opts.windowBits<exports.Z_MIN_WINDOWBITS||opts.windowBits>exports.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+opts.windowBits);if(opts.level&&(opts.level<exports.Z_MIN_LEVEL||opts.level>exports.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+opts.level);if(opts.memLevel&&(opts.memLevel<exports.Z_MIN_MEMLEVEL||opts.memLevel>exports.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+opts.memLevel);if(opts.strategy&&opts.strategy!==exports.Z_FILTERED&&opts.strategy!==exports.Z_HUFFMAN_ONLY&&opts.strategy!==exports.Z_RLE&&opts.strategy!==exports.Z_FIXED&&opts.strategy!==exports.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+opts.strategy);if(opts.dictionary&&!(opts.dictionary instanceof Buffer))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new binding.Zlib(mode);var self=this;this._hadError=!1,this._handle.onerror=function(message,errno){self._handle=null,self._hadError=!0;var error=new Error(message);error.errno=errno,error.code=exports.codes[errno],self.emit("error",error)};var level=exports.Z_DEFAULT_COMPRESSION;"number"==typeof opts.level&&(level=opts.level);var strategy=exports.Z_DEFAULT_STRATEGY;"number"==typeof opts.strategy&&(strategy=opts.strategy),this._handle.init(opts.windowBits||exports.Z_DEFAULT_WINDOWBITS,level,opts.memLevel||exports.Z_DEFAULT_MEMLEVEL,strategy,opts.dictionary),this._buffer=new Buffer(this._chunkSize),this._offset=0,this._closed=!1,this._level=level,this._strategy=strategy,this.once("end",this.close)}function emitCloseNT(self){self.emit("close")}var Buffer=__webpack_require__(0).Buffer,Transform=__webpack_require__(6).Transform,binding=__webpack_require__(395),util=__webpack_require__(14),assert=__webpack_require__(28).ok,kRangeErrorMessage="Cannot create final Buffer. It would be larger than 0x"+kMaxLength().toString(16)+" bytes.";binding.Z_MIN_WINDOWBITS=8,binding.Z_MAX_WINDOWBITS=15,binding.Z_DEFAULT_WINDOWBITS=15,binding.Z_MIN_CHUNK=64,binding.Z_MAX_CHUNK=1/0,binding.Z_DEFAULT_CHUNK=16384,binding.Z_MIN_MEMLEVEL=1,binding.Z_MAX_MEMLEVEL=9,binding.Z_DEFAULT_MEMLEVEL=8,binding.Z_MIN_LEVEL=-1,binding.Z_MAX_LEVEL=9,binding.Z_DEFAULT_LEVEL=binding.Z_DEFAULT_COMPRESSION;for(var bkeys=Object.keys(binding),bk=0;bk<bkeys.length;bk++){var bkey=bkeys[bk];bkey.match(/^Z/)&&Object.defineProperty(exports,bkey,{enumerable:!0,value:binding[bkey],writable:!1})}for(var codes={Z_OK:binding.Z_OK,Z_STREAM_END:binding.Z_STREAM_END,Z_NEED_DICT:binding.Z_NEED_DICT,Z_ERRNO:binding.Z_ERRNO,Z_STREAM_ERROR:binding.Z_STREAM_ERROR,Z_DATA_ERROR:binding.Z_DATA_ERROR,Z_MEM_ERROR:binding.Z_MEM_ERROR,Z_BUF_ERROR:binding.Z_BUF_ERROR,Z_VERSION_ERROR:binding.Z_VERSION_ERROR},ckeys=Object.keys(codes),ck=0;ck<ckeys.length;ck++){var ckey=ckeys[ck];codes[codes[ckey]]=ckey}Object.defineProperty(exports,"codes",{enumerable:!0,value:Object.freeze(codes),writable:!1}),exports.Deflate=Deflate,exports.Inflate=Inflate,exports.Gzip=Gzip,exports.Gunzip=Gunzip,exports.DeflateRaw=DeflateRaw,exports.InflateRaw=InflateRaw,exports.Unzip=Unzip,exports.createDeflate=function(o){return new Deflate(o)},exports.createInflate=function(o){return new Inflate(o)},exports.createDeflateRaw=function(o){return new DeflateRaw(o)},exports.createInflateRaw=function(o){return new InflateRaw(o)},exports.createGzip=function(o){return new Gzip(o)},exports.createGunzip=function(o){return new Gunzip(o)},exports.createUnzip=function(o){return new Unzip(o)},exports.deflate=function(buffer,opts,callback){return"function"==typeof opts&&(callback=opts,opts={}),zlibBuffer(new Deflate(opts),buffer,callback)},exports.deflateSync=function(buffer,opts){return zlibBufferSync(new Deflate(opts),buffer)},exports.gzip=function(buffer,opts,callback){return"function"==typeof opts&&(callback=opts,opts={}),zlibBuffer(new Gzip(opts),buffer,callback)},exports.gzipSync=function(buffer,opts){return zlibBufferSync(new Gzip(opts),buffer)},exports.deflateRaw=function(buffer,opts,callback){return"function"==typeof opts&&(callback=opts,opts={}),zlibBuffer(new DeflateRaw(opts),buffer,callback)},exports.deflateRawSync=function(buffer,opts){return zlibBufferSync(new DeflateRaw(opts),buffer)},exports.unzip=function(buffer,opts,callback){return"function"==typeof opts&&(callback=opts,opts={}),zlibBuffer(new Unzip(opts),buffer,callback)},exports.unzipSync=function(buffer,opts){return zlibBufferSync(new Unzip(opts),buffer)},exports.inflate=function(buffer,opts,callback){return"function"==typeof opts&&(callback=opts,opts={}),zlibBuffer(new Inflate(opts),buffer,callback)},exports.inflateSync=function(buffer,opts){return zlibBufferSync(new Inflate(opts),buffer)},exports.gunzip=function(buffer,opts,callback){return"function"==typeof opts&&(callback=opts,opts={}),zlibBuffer(new Gunzip(opts),buffer,callback)},exports.gunzipSync=function(buffer,opts){return zlibBufferSync(new Gunzip(opts),buffer)},exports.inflateRaw=function(buffer,opts,callback){return"function"==typeof opts&&(callback=opts,opts={}),zlibBuffer(new InflateRaw(opts),buffer,callback)},exports.inflateRawSync=function(buffer,opts){return zlibBufferSync(new InflateRaw(opts),buffer)},util.inherits(Zlib,Transform),Zlib.prototype.params=function(level,strategy,callback){if(level<exports.Z_MIN_LEVEL||level>exports.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+level);if(strategy!==exports.Z_FILTERED&&strategy!==exports.Z_HUFFMAN_ONLY&&strategy!==exports.Z_RLE&&strategy!==exports.Z_FIXED&&strategy!==exports.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+strategy);if(this._level!==level||this._strategy!==strategy){var self=this;this.flush(binding.Z_SYNC_FLUSH,function(){assert(!self._closed,"zlib binding closed"),self._handle.params(level,strategy),self._hadError||(self._level=level,self._strategy=strategy,callback&&callback())})}else process.nextTick(callback)},Zlib.prototype.reset=function(){return assert(!this._closed,"zlib binding closed"),this._handle.reset()},Zlib.prototype._flush=function(callback){this._transform(new Buffer(0),"",callback)},Zlib.prototype.flush=function(kind,callback){var ws=this._writableState;if(("function"==typeof kind||void 0===kind&&!callback)&&(callback=kind,kind=binding.Z_FULL_FLUSH),ws.ended)callback&&process.nextTick(callback);else if(ws.ending)callback&&this.once("end",callback);else if(ws.needDrain){if(callback){var self=this;this.once("drain",function(){self.flush(kind,callback)})}}else this._flushFlag=kind,this.write(new Buffer(0),"",callback)},Zlib.prototype.close=function(callback){callback&&process.nextTick(callback),this._closed||(this._closed=!0,this._handle.close(),process.nextTick(emitCloseNT,this))},Zlib.prototype._transform=function(chunk,encoding,cb){var flushFlag,ws=this._writableState,ending=ws.ending||ws.ended,last=ending&&(!chunk||ws.length===chunk.length);return null===chunk||chunk instanceof Buffer?this._closed?cb(new Error("zlib binding closed")):(last?flushFlag=binding.Z_FINISH:(flushFlag=this._flushFlag,chunk.length>=ws.length&&(this._flushFlag=this._opts.flush||binding.Z_NO_FLUSH)),void this._processChunk(chunk,flushFlag,cb)):cb(new Error("invalid input"))},Zlib.prototype._processChunk=function(chunk,flushFlag,cb){function callback(availInAfter,availOutAfter){if(!self._hadError){var have=availOutBefore-availOutAfter;if(assert(have>=0,"have should not go down"),have>0){var out=self._buffer.slice(self._offset,self._offset+have);self._offset+=have,async?self.push(out):(buffers.push(out),nread+=out.length)}if((0===availOutAfter||self._offset>=self._chunkSize)&&(availOutBefore=self._chunkSize,self._offset=0,self._buffer=new Buffer(self._chunkSize)),0===availOutAfter){if(inOff+=availInBefore-availInAfter,availInBefore=availInAfter,!async)return!0;var newReq=self._handle.write(flushFlag,chunk,inOff,availInBefore,self._buffer,self._offset,self._chunkSize);return newReq.callback=callback,void(newReq.buffer=chunk)}return!!async&&void cb()}}var availInBefore=chunk&&chunk.length,availOutBefore=this._chunkSize-this._offset,inOff=0,self=this,async="function"==typeof cb;if(!async){var error,buffers=[],nread=0;this.on("error",function(er){error=er}),assert(!this._closed,"zlib binding closed");do var res=this._handle.writeSync(flushFlag,chunk,inOff,availInBefore,this._buffer,this._offset,availOutBefore);while(!this._hadError&&callback(res[0],res[1]));if(this._hadError)throw error;if(nread>=kMaxLength())throw this.close(),new RangeError(kRangeErrorMessage);var buf=Buffer.concat(buffers,nread);return this.close(),buf}assert(!this._closed,"zlib binding closed");var req=this._handle.write(flushFlag,chunk,inOff,availInBefore,this._buffer,this._offset,availOutBefore);req.buffer=chunk,req.callback=callback},util.inherits(Deflate,Zlib),util.inherits(Inflate,Zlib),util.inherits(Gzip,Zlib),util.inherits(Gunzip,Zlib),util.inherits(DeflateRaw,Zlib),util.inherits(InflateRaw,Zlib),util.inherits(Unzip,Zlib)}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){__webpack_require__(406),module.exports=__webpack_require__(45).RegExp.escape},function(module,exports,__webpack_require__){var isObject=__webpack_require__(15),isArray=__webpack_require__(148),SPECIES=__webpack_require__(16)("species");module.exports=function(original){var C;return isArray(original)&&(C=original.constructor,"function"!=typeof C||C!==Array&&!isArray(C.prototype)||(C=void 0),isObject(C)&&(C=C[SPECIES],null===C&&(C=void 0))),void 0===C?Array:C}},function(module,exports,__webpack_require__){var speciesConstructor=__webpack_require__(398);module.exports=function(original,length){return new(speciesConstructor(original))(length)}},function(module,exports,__webpack_require__){"use strict";var anObject=__webpack_require__(8),toPrimitive=__webpack_require__(43),NUMBER="number";module.exports=function(hint){if("string"!==hint&&hint!==NUMBER&&"default"!==hint)throw TypeError("Incorrect hint");return toPrimitive(anObject(this),hint!=NUMBER)}},function(module,exports,__webpack_require__){var getKeys=__webpack_require__(59),gOPS=__webpack_require__(121),pIE=__webpack_require__(97);module.exports=function(it){var result=getKeys(it),getSymbols=gOPS.f;if(getSymbols)for(var key,symbols=getSymbols(it),isEnum=pIE.f,i=0;symbols.length>i;)isEnum.call(it,key=symbols[i++])&&result.push(key);return result}},function(module,exports,__webpack_require__){var getKeys=__webpack_require__(59),toIObject=__webpack_require__(33);module.exports=function(object,el){for(var key,O=toIObject(object),keys=getKeys(O),length=keys.length,index=0;length>index;)if(O[key=keys[index++]]===el)return key}},function(module,exports,__webpack_require__){"use strict";var path=__webpack_require__(404),invoke=__webpack_require__(117),aFunction=__webpack_require__(29);module.exports=function(){for(var fn=aFunction(this),length=arguments.length,pargs=Array(length),i=0,_=path._,holder=!1;length>i;)(pargs[i]=arguments[i++])===_&&(holder=!0);return function(){var args,that=this,aLen=arguments.length,j=0,k=0;if(!holder&&!aLen)return invoke(fn,pargs,that);if(args=pargs.slice(),holder)for(;length>j;j++)args[j]===_&&(args[j]=arguments[k++]);for(;aLen>k;)args.push(arguments[k++]);return invoke(fn,args,that);
}}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(11)},function(module,exports){module.exports=function(regExp,replace){var replacer=replace===Object(replace)?function(part){return replace[part]}:replace;return function(it){return String(it).replace(regExp,replacer)}}},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),$re=__webpack_require__(405)(/[\\^$*+?.()|[\]{}]/g,"\\$&");$export($export.S,"RegExp",{escape:function(it){return $re(it)}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.P,"Array",{copyWithin:__webpack_require__(216)}),__webpack_require__(69)("copyWithin")},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),$every=__webpack_require__(41)(4);$export($export.P+$export.F*!__webpack_require__(40)([].every,!0),"Array",{every:function(callbackfn){return $every(this,callbackfn,arguments[1])}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.P,"Array",{fill:__webpack_require__(140)}),__webpack_require__(69)("fill")},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),$filter=__webpack_require__(41)(2);$export($export.P+$export.F*!__webpack_require__(40)([].filter,!0),"Array",{filter:function(callbackfn){return $filter(this,callbackfn,arguments[1])}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),$find=__webpack_require__(41)(6),KEY="findIndex",forced=!0;KEY in[]&&Array(1)[KEY](function(){forced=!1}),$export($export.P+$export.F*forced,"Array",{findIndex:function(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:void 0)}}),__webpack_require__(69)(KEY)},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),$find=__webpack_require__(41)(5),KEY="find",forced=!0;KEY in[]&&Array(1)[KEY](function(){forced=!1}),$export($export.P+$export.F*forced,"Array",{find:function(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:void 0)}}),__webpack_require__(69)(KEY)},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),$forEach=__webpack_require__(41)(0),STRICT=__webpack_require__(40)([].forEach,!0);$export($export.P+$export.F*!STRICT,"Array",{forEach:function(callbackfn){return $forEach(this,callbackfn,arguments[1])}})},function(module,exports,__webpack_require__){"use strict";var ctx=__webpack_require__(46),$export=__webpack_require__(1),toObject=__webpack_require__(23),call=__webpack_require__(225),isArrayIter=__webpack_require__(147),toLength=__webpack_require__(22),createProperty=__webpack_require__(141),getIterFn=__webpack_require__(164);$export($export.S+$export.F*!__webpack_require__(119)(function(iter){Array.from(iter)}),"Array",{from:function(arrayLike){var length,result,step,iterator,O=toObject(arrayLike),C="function"==typeof this?this:Array,aLen=arguments.length,mapfn=aLen>1?arguments[1]:void 0,mapping=void 0!==mapfn,index=0,iterFn=getIterFn(O);if(mapping&&(mapfn=ctx(mapfn,aLen>2?arguments[2]:void 0,2)),void 0==iterFn||C==Array&&isArrayIter(iterFn))for(length=toLength(O.length),result=new C(length);length>index;index++)createProperty(result,index,mapping?mapfn(O[index],index):O[index]);else for(iterator=iterFn.call(O),result=new C;!(step=iterator.next()).done;index++)createProperty(result,index,mapping?call(iterator,mapfn,[step.value,index],!0):step.value);return result.length=index,result}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),$indexOf=__webpack_require__(113)(!1),$native=[].indexOf,NEGATIVE_ZERO=!!$native&&1/[1].indexOf(1,-0)<0;$export($export.P+$export.F*(NEGATIVE_ZERO||!__webpack_require__(40)($native)),"Array",{indexOf:function(searchElement){return NEGATIVE_ZERO?$native.apply(this,arguments)||0:$indexOf(this,searchElement,arguments[1])}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.S,"Array",{isArray:__webpack_require__(148)})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),toIObject=__webpack_require__(33),arrayJoin=[].join;$export($export.P+$export.F*(__webpack_require__(96)!=Object||!__webpack_require__(40)(arrayJoin)),"Array",{join:function(separator){return arrayJoin.call(toIObject(this),void 0===separator?",":separator)}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),toIObject=__webpack_require__(33),toInteger=__webpack_require__(52),toLength=__webpack_require__(22),$native=[].lastIndexOf,NEGATIVE_ZERO=!!$native&&1/[1].lastIndexOf(1,-0)<0;$export($export.P+$export.F*(NEGATIVE_ZERO||!__webpack_require__(40)($native)),"Array",{lastIndexOf:function(searchElement){if(NEGATIVE_ZERO)return $native.apply(this,arguments)||0;var O=toIObject(this),length=toLength(O.length),index=length-1;for(arguments.length>1&&(index=Math.min(index,toInteger(arguments[1]))),index<0&&(index=length+index);index>=0;index--)if(index in O&&O[index]===searchElement)return index||0;return-1}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),$map=__webpack_require__(41)(1);$export($export.P+$export.F*!__webpack_require__(40)([].map,!0),"Array",{map:function(callbackfn){return $map(this,callbackfn,arguments[1])}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),createProperty=__webpack_require__(141);$export($export.S+$export.F*__webpack_require__(12)(function(){function F(){}return!(Array.of.call(F)instanceof F)}),"Array",{of:function(){for(var index=0,aLen=arguments.length,result=new("function"==typeof this?this:Array)(aLen);aLen>index;)createProperty(result,index,arguments[index++]);return result.length=aLen,result}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),$reduce=__webpack_require__(218);$export($export.P+$export.F*!__webpack_require__(40)([].reduceRight,!0),"Array",{reduceRight:function(callbackfn){return $reduce(this,callbackfn,arguments.length,arguments[1],!0)}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),$reduce=__webpack_require__(218);$export($export.P+$export.F*!__webpack_require__(40)([].reduce,!0),"Array",{reduce:function(callbackfn){return $reduce(this,callbackfn,arguments.length,arguments[1],!1)}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),html=__webpack_require__(145),cof=__webpack_require__(38),toIndex=__webpack_require__(62),toLength=__webpack_require__(22),arraySlice=[].slice;$export($export.P+$export.F*__webpack_require__(12)(function(){html&&arraySlice.call(html)}),"Array",{slice:function(begin,end){var len=toLength(this.length),klass=cof(this);if(end=void 0===end?len:end,"Array"==klass)return arraySlice.call(this,begin,end);for(var start=toIndex(begin,len),upTo=toIndex(end,len),size=toLength(upTo-start),cloned=Array(size),i=0;i<size;i++)cloned[i]="String"==klass?this.charAt(start+i):this[start+i];return cloned}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),$some=__webpack_require__(41)(3);$export($export.P+$export.F*!__webpack_require__(40)([].some,!0),"Array",{some:function(callbackfn){return $some(this,callbackfn,arguments[1])}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),aFunction=__webpack_require__(29),toObject=__webpack_require__(23),fails=__webpack_require__(12),$sort=[].sort,test=[1,2,3];$export($export.P+$export.F*(fails(function(){test.sort(void 0)})||!fails(function(){test.sort(null)})||!__webpack_require__(40)($sort)),"Array",{sort:function(comparefn){return void 0===comparefn?$sort.call(toObject(this)):$sort.call(toObject(this),aFunction(comparefn))}})},function(module,exports,__webpack_require__){__webpack_require__(61)("Array")},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.S,"Date",{now:function(){return(new Date).getTime()}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),fails=__webpack_require__(12),getTime=Date.prototype.getTime,lz=function(num){return num>9?num:"0"+num};$export($export.P+$export.F*(fails(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!fails(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){if(!isFinite(getTime.call(this)))throw RangeError("Invalid time value");var d=this,y=d.getUTCFullYear(),m=d.getUTCMilliseconds(),s=y<0?"-":y>9999?"+":"";return s+("00000"+Math.abs(y)).slice(s?-6:-4)+"-"+lz(d.getUTCMonth()+1)+"-"+lz(d.getUTCDate())+"T"+lz(d.getUTCHours())+":"+lz(d.getUTCMinutes())+":"+lz(d.getUTCSeconds())+"."+(m>99?m:"0"+lz(m))+"Z"}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),toObject=__webpack_require__(23),toPrimitive=__webpack_require__(43);$export($export.P+$export.F*__webpack_require__(12)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(key){var O=toObject(this),pv=toPrimitive(O);return"number"!=typeof pv||isFinite(pv)?O.toISOString():null}})},function(module,exports,__webpack_require__){var TO_PRIMITIVE=__webpack_require__(16)("toPrimitive"),proto=Date.prototype;TO_PRIMITIVE in proto||__webpack_require__(30)(proto,TO_PRIMITIVE,__webpack_require__(400))},function(module,exports,__webpack_require__){var DateProto=Date.prototype,INVALID_DATE="Invalid Date",TO_STRING="toString",$toString=DateProto[TO_STRING],getTime=DateProto.getTime;new Date(NaN)+""!=INVALID_DATE&&__webpack_require__(31)(DateProto,TO_STRING,function(){var value=getTime.call(this);return value===value?$toString.call(this):INVALID_DATE})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.P,"Function",{bind:__webpack_require__(219)})},function(module,exports,__webpack_require__){"use strict";var isObject=__webpack_require__(15),getPrototypeOf=__webpack_require__(36),HAS_INSTANCE=__webpack_require__(16)("hasInstance"),FunctionProto=Function.prototype;HAS_INSTANCE in FunctionProto||__webpack_require__(18).f(FunctionProto,HAS_INSTANCE,{value:function(O){if("function"!=typeof this||!isObject(O))return!1;if(!isObject(this.prototype))return O instanceof this;for(;O=getPrototypeOf(O);)if(this.prototype===O)return!0;return!1}})},function(module,exports,__webpack_require__){var dP=__webpack_require__(18).f,createDesc=__webpack_require__(51),has=__webpack_require__(26),FProto=Function.prototype,nameRE=/^\s*function ([^ (]*)/,NAME="name",isExtensible=Object.isExtensible||function(){return!0};NAME in FProto||__webpack_require__(17)&&dP(FProto,NAME,{configurable:!0,get:function(){try{var that=this,name=(""+that).match(nameRE)[1];return has(that,NAME)||!isExtensible(that)||dP(that,NAME,createDesc(5,name)),name}catch(e){return""}}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),log1p=__webpack_require__(227),sqrt=Math.sqrt,$acosh=Math.acosh;$export($export.S+$export.F*!($acosh&&710==Math.floor($acosh(Number.MAX_VALUE))&&$acosh(1/0)==1/0),"Math",{acosh:function(x){return(x=+x)<1?NaN:x>94906265.62425156?Math.log(x)+Math.LN2:log1p(x-1+sqrt(x-1)*sqrt(x+1))}})},function(module,exports,__webpack_require__){function asinh(x){return isFinite(x=+x)&&0!=x?x<0?-asinh(-x):Math.log(x+Math.sqrt(x*x+1)):x}var $export=__webpack_require__(1),$asinh=Math.asinh;$export($export.S+$export.F*!($asinh&&1/$asinh(0)>0),"Math",{asinh:asinh})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),$atanh=Math.atanh;$export($export.S+$export.F*!($atanh&&1/$atanh(-0)<0),"Math",{atanh:function(x){return 0==(x=+x)?x:Math.log((1+x)/(1-x))/2}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),sign=__webpack_require__(152);$export($export.S,"Math",{cbrt:function(x){return sign(x=+x)*Math.pow(Math.abs(x),1/3)}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.S,"Math",{clz32:function(x){return(x>>>=0)?31-Math.floor(Math.log(x+.5)*Math.LOG2E):32}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),exp=Math.exp;$export($export.S,"Math",{cosh:function(x){return(exp(x=+x)+exp(-x))/2}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),$expm1=__webpack_require__(151);$export($export.S+$export.F*($expm1!=Math.expm1),"Math",{expm1:$expm1})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),sign=__webpack_require__(152),pow=Math.pow,EPSILON=pow(2,-52),EPSILON32=pow(2,-23),MAX32=pow(2,127)*(2-EPSILON32),MIN32=pow(2,-126),roundTiesToEven=function(n){return n+1/EPSILON-1/EPSILON};$export($export.S,"Math",{fround:function(x){var a,result,$abs=Math.abs(x),$sign=sign(x);return $abs<MIN32?$sign*roundTiesToEven($abs/MIN32/EPSILON32)*MIN32*EPSILON32:(a=(1+EPSILON32/EPSILON)*$abs,result=a-(a-$abs),result>MAX32||result!=result?$sign*(1/0):$sign*result)}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),abs=Math.abs;$export($export.S,"Math",{hypot:function(value1,value2){for(var arg,div,sum=0,i=0,aLen=arguments.length,larg=0;i<aLen;)arg=abs(arguments[i++]),larg<arg?(div=larg/arg,sum=sum*div*div+1,larg=arg):arg>0?(div=arg/larg,sum+=div*div):sum+=arg;return larg===1/0?1/0:larg*Math.sqrt(sum)}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),$imul=Math.imul;$export($export.S+$export.F*__webpack_require__(12)(function(){return $imul(4294967295,5)!=-5||2!=$imul.length}),"Math",{imul:function(x,y){var UINT16=65535,xn=+x,yn=+y,xl=UINT16&xn,yl=UINT16&yn;return 0|xl*yl+((UINT16&xn>>>16)*yl+xl*(UINT16&yn>>>16)<<16>>>0)}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.S,"Math",{log10:function(x){return Math.log(x)/Math.LN10}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.S,"Math",{log1p:__webpack_require__(227)})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.S,"Math",{log2:function(x){return Math.log(x)/Math.LN2}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.S,"Math",{sign:__webpack_require__(152)})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),expm1=__webpack_require__(151),exp=Math.exp;$export($export.S+$export.F*__webpack_require__(12)(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(x){return Math.abs(x=+x)<1?(expm1(x)-expm1(-x))/2:(exp(x-1)-exp(-x-1))*(Math.E/2)}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),expm1=__webpack_require__(151),exp=Math.exp;$export($export.S,"Math",{tanh:function(x){var a=expm1(x=+x),b=expm1(-x);return a==1/0?1:b==1/0?-1:(a-b)/(exp(x)+exp(-x))}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.S,"Math",{trunc:function(it){return(it>0?Math.floor:Math.ceil)(it)}})},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(11),has=__webpack_require__(26),cof=__webpack_require__(38),inheritIfRequired=__webpack_require__(146),toPrimitive=__webpack_require__(43),fails=__webpack_require__(12),gOPN=__webpack_require__(58).f,gOPD=__webpack_require__(35).f,dP=__webpack_require__(18).f,$trim=__webpack_require__(73).trim,NUMBER="Number",$Number=global[NUMBER],Base=$Number,proto=$Number.prototype,BROKEN_COF=cof(__webpack_require__(57)(proto))==NUMBER,TRIM="trim"in String.prototype,toNumber=function(argument){var it=toPrimitive(argument,!1);if("string"==typeof it&&it.length>2){it=TRIM?it.trim():$trim(it,3);var third,radix,maxCode,first=it.charCodeAt(0);if(43===first||45===first){if(third=it.charCodeAt(2),88===third||120===third)return NaN}else if(48===first){switch(it.charCodeAt(1)){case 66:case 98:radix=2,maxCode=49;break;case 79:case 111:radix=8,maxCode=55;break;default:return+it}for(var code,digits=it.slice(2),i=0,l=digits.length;i<l;i++)if(code=digits.charCodeAt(i),code<48||code>maxCode)return NaN;return parseInt(digits,radix)}}return+it};if(!$Number(" 0o1")||!$Number("0b1")||$Number("+0x1")){$Number=function(value){var it=arguments.length<1?0:value,that=this;return that instanceof $Number&&(BROKEN_COF?fails(function(){proto.valueOf.call(that)}):cof(that)!=NUMBER)?inheritIfRequired(new Base(toNumber(it)),that,$Number):toNumber(it)};for(var key,keys=__webpack_require__(17)?gOPN(Base):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j=0;keys.length>j;j++)has(Base,key=keys[j])&&!has($Number,key)&&dP($Number,key,gOPD(Base,key));$Number.prototype=proto,proto.constructor=$Number,__webpack_require__(31)(global,NUMBER,$Number)}},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.S,"Number",{EPSILON:Math.pow(2,-52)})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),_isFinite=__webpack_require__(11).isFinite;$export($export.S,"Number",{isFinite:function(it){return"number"==typeof it&&_isFinite(it)}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.S,"Number",{isInteger:__webpack_require__(224)})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.S,"Number",{isNaN:function(number){return number!=number}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),isInteger=__webpack_require__(224),abs=Math.abs;$export($export.S,"Number",{isSafeInteger:function(number){return isInteger(number)&&abs(number)<=9007199254740991}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),$parseFloat=__webpack_require__(234);$export($export.S+$export.F*(Number.parseFloat!=$parseFloat),"Number",{parseFloat:$parseFloat})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),$parseInt=__webpack_require__(235);$export($export.S+$export.F*(Number.parseInt!=$parseInt),"Number",{parseInt:$parseInt})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),toInteger=__webpack_require__(52),aNumberValue=__webpack_require__(215),repeat=__webpack_require__(159),$toFixed=1..toFixed,floor=Math.floor,data=[0,0,0,0,0,0],ERROR="Number.toFixed: incorrect invocation!",ZERO="0",multiply=function(n,c){for(var i=-1,c2=c;++i<6;)c2+=n*data[i],data[i]=c2%1e7,c2=floor(c2/1e7)},divide=function(n){for(var i=6,c=0;--i>=0;)c+=data[i],data[i]=floor(c/n),c=c%n*1e7},numToString=function(){for(var i=6,s="";--i>=0;)if(""!==s||0===i||0!==data[i]){var t=String(data[i]);s=""===s?t:s+repeat.call(ZERO,7-t.length)+t}return s},pow=function(x,n,acc){return 0===n?acc:n%2===1?pow(x,n-1,acc*x):pow(x*x,n/2,acc)},log=function(x){for(var n=0,x2=x;x2>=4096;)n+=12,x2/=4096;for(;x2>=2;)n+=1,x2/=2;return n};$export($export.P+$export.F*(!!$toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!__webpack_require__(12)(function(){$toFixed.call({})})),"Number",{toFixed:function(fractionDigits){var e,z,j,k,x=aNumberValue(this,ERROR),f=toInteger(fractionDigits),s="",m=ZERO;if(f<0||f>20)throw RangeError(ERROR);if(x!=x)return"NaN";if(x<=-1e21||x>=1e21)return String(x);if(x<0&&(s="-",x=-x),x>1e-21)if(e=log(x*pow(2,69,1))-69,z=e<0?x*pow(2,-e,1):x/pow(2,e,1),z*=4503599627370496,e=52-e,e>0){for(multiply(0,z),j=f;j>=7;)multiply(1e7,0),j-=7;for(multiply(pow(10,j,1),0),j=e-1;j>=23;)divide(1<<23),j-=23;divide(1<<j),multiply(1,1),divide(2),m=numToString()}else multiply(0,z),multiply(1<<-e,0),m=numToString()+repeat.call(ZERO,f);return f>0?(k=m.length,m=s+(k<=f?"0."+repeat.call(ZERO,f-k)+m:m.slice(0,k-f)+"."+m.slice(k-f))):m=s+m,m}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),$fails=__webpack_require__(12),aNumberValue=__webpack_require__(215),$toPrecision=1..toPrecision;$export($export.P+$export.F*($fails(function(){return"1"!==$toPrecision.call(1,void 0)})||!$fails(function(){$toPrecision.call({})})),"Number",{toPrecision:function(precision){var that=aNumberValue(this,"Number#toPrecision: incorrect invocation!");return void 0===precision?$toPrecision.call(that):$toPrecision.call(that,precision)}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.S+$export.F,"Object",{assign:__webpack_require__(228)})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.S,"Object",{create:__webpack_require__(57)})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.S+$export.F*!__webpack_require__(17),"Object",{defineProperties:__webpack_require__(229)})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.S+$export.F*!__webpack_require__(17),"Object",{defineProperty:__webpack_require__(18).f})},function(module,exports,__webpack_require__){var isObject=__webpack_require__(15),meta=__webpack_require__(50).onFreeze;__webpack_require__(42)("freeze",function($freeze){return function(it){return $freeze&&isObject(it)?$freeze(meta(it)):it}})},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(33),$getOwnPropertyDescriptor=__webpack_require__(35).f;__webpack_require__(42)("getOwnPropertyDescriptor",function(){return function(it,key){return $getOwnPropertyDescriptor(toIObject(it),key)}})},function(module,exports,__webpack_require__){__webpack_require__(42)("getOwnPropertyNames",function(){return __webpack_require__(230).f})},function(module,exports,__webpack_require__){var toObject=__webpack_require__(23),$getPrototypeOf=__webpack_require__(36);__webpack_require__(42)("getPrototypeOf",function(){return function(it){return $getPrototypeOf(toObject(it))}})},function(module,exports,__webpack_require__){var isObject=__webpack_require__(15);__webpack_require__(42)("isExtensible",function($isExtensible){return function(it){return!!isObject(it)&&(!$isExtensible||$isExtensible(it))}})},function(module,exports,__webpack_require__){var isObject=__webpack_require__(15);__webpack_require__(42)("isFrozen",function($isFrozen){return function(it){return!isObject(it)||!!$isFrozen&&$isFrozen(it)}})},function(module,exports,__webpack_require__){var isObject=__webpack_require__(15);__webpack_require__(42)("isSealed",function($isSealed){return function(it){return!isObject(it)||!!$isSealed&&$isSealed(it)}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.S,"Object",{is:__webpack_require__(236)})},function(module,exports,__webpack_require__){var toObject=__webpack_require__(23),$keys=__webpack_require__(59);__webpack_require__(42)("keys",function(){return function(it){return $keys(toObject(it))}})},function(module,exports,__webpack_require__){var isObject=__webpack_require__(15),meta=__webpack_require__(50).onFreeze;__webpack_require__(42)("preventExtensions",function($preventExtensions){return function(it){return $preventExtensions&&isObject(it)?$preventExtensions(meta(it)):it}})},function(module,exports,__webpack_require__){var isObject=__webpack_require__(15),meta=__webpack_require__(50).onFreeze;__webpack_require__(42)("seal",function($seal){return function(it){return $seal&&isObject(it)?$seal(meta(it)):it}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.S,"Object",{setPrototypeOf:__webpack_require__(154).set})},function(module,exports,__webpack_require__){"use strict";var classof=__webpack_require__(95),test={};test[__webpack_require__(16)("toStringTag")]="z",test+""!="[object z]"&&__webpack_require__(31)(Object.prototype,"toString",function(){return"[object "+classof(this)+"]"},!0)},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),$parseFloat=__webpack_require__(234);$export($export.G+$export.F*(parseFloat!=$parseFloat),{parseFloat:$parseFloat})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),$parseInt=__webpack_require__(235);$export($export.G+$export.F*(parseInt!=$parseInt),{parseInt:$parseInt})},function(module,exports,__webpack_require__){"use strict";var Internal,GenericPromiseCapability,Wrapper,LIBRARY=__webpack_require__(56),global=__webpack_require__(11),ctx=__webpack_require__(46),classof=__webpack_require__(95),$export=__webpack_require__(1),isObject=__webpack_require__(15),aFunction=__webpack_require__(29),anInstance=__webpack_require__(55),forOf=__webpack_require__(70),speciesConstructor=__webpack_require__(156),task=__webpack_require__(161).set,microtask=__webpack_require__(153)(),PROMISE="Promise",TypeError=global.TypeError,process=global.process,$Promise=global[PROMISE],process=global.process,isNode="process"==classof(process),empty=function(){},USE_NATIVE=!!function(){try{var promise=$Promise.resolve(1),FakePromise=(promise.constructor={})[__webpack_require__(16)("species")]=function(exec){exec(empty,empty)};return(isNode||"function"==typeof PromiseRejectionEvent)&&promise.then(empty)instanceof FakePromise}catch(e){}}(),sameConstructor=function(a,b){return a===b||a===$Promise&&b===Wrapper},isThenable=function(it){var then;return!(!isObject(it)||"function"!=typeof(then=it.then))&&then},newPromiseCapability=function(C){return sameConstructor($Promise,C)?new PromiseCapability(C):new GenericPromiseCapability(C)},PromiseCapability=GenericPromiseCapability=function(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(void 0!==resolve||void 0!==reject)throw TypeError("Bad Promise constructor");resolve=$$resolve,reject=$$reject}),this.resolve=aFunction(resolve),this.reject=aFunction(reject)},perform=function(exec){try{exec()}catch(e){return{error:e}}},notify=function(promise,isReject){if(!promise._n){promise._n=!0;var chain=promise._c;microtask(function(){for(var value=promise._v,ok=1==promise._s,i=0,run=function(reaction){var result,then,handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject,domain=reaction.domain;try{handler?(ok||(2==promise._h&&onHandleUnhandled(promise),promise._h=1),handler===!0?result=value:(domain&&domain.enter(),result=handler(value),domain&&domain.exit()),result===reaction.promise?reject(TypeError("Promise-chain cycle")):(then=isThenable(result))?then.call(result,resolve,reject):resolve(result)):reject(value)}catch(e){reject(e)}};chain.length>i;)run(chain[i++]);promise._c=[],promise._n=!1,isReject&&!promise._h&&onUnhandled(promise)})}},onUnhandled=function(promise){task.call(global,function(){var abrupt,handler,console,value=promise._v;if(isUnhandled(promise)&&(abrupt=perform(function(){isNode?process.emit("unhandledRejection",value,promise):(handler=global.onunhandledrejection)?handler({promise:promise,reason:value}):(console=global.console)&&console.error&&console.error("Unhandled promise rejection",value)}),promise._h=isNode||isUnhandled(promise)?2:1),promise._a=void 0,abrupt)throw abrupt.error})},isUnhandled=function(promise){if(1==promise._h)return!1;for(var reaction,chain=promise._a||promise._c,i=0;chain.length>i;)if(reaction=chain[i++],reaction.fail||!isUnhandled(reaction.promise))return!1;return!0},onHandleUnhandled=function(promise){task.call(global,function(){var handler;isNode?process.emit("rejectionHandled",promise):(handler=global.onrejectionhandled)&&handler({promise:promise,reason:promise._v})})},$reject=function(value){var promise=this;promise._d||(promise._d=!0,promise=promise._w||promise,promise._v=value,promise._s=2,promise._a||(promise._a=promise._c.slice()),notify(promise,!0))},$resolve=function(value){var then,promise=this;if(!promise._d){promise._d=!0,promise=promise._w||promise;try{if(promise===value)throw TypeError("Promise can't be resolved itself");(then=isThenable(value))?microtask(function(){var wrapper={_w:promise,_d:!1};try{then.call(value,ctx($resolve,wrapper,1),ctx($reject,wrapper,1))}catch(e){$reject.call(wrapper,e)}}):(promise._v=value,promise._s=1,notify(promise,!1))}catch(e){$reject.call({_w:promise,_d:!1},e)}}};USE_NATIVE||($Promise=function(executor){anInstance(this,$Promise,PROMISE,"_h"),aFunction(executor),Internal.call(this);try{executor(ctx($resolve,this,1),ctx($reject,this,1))}catch(err){$reject.call(this,err)}},Internal=function(executor){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},Internal.prototype=__webpack_require__(60)($Promise.prototype,{then:function(onFulfilled,onRejected){var reaction=newPromiseCapability(speciesConstructor(this,$Promise));return reaction.ok="function"!=typeof onFulfilled||onFulfilled,reaction.fail="function"==typeof onRejected&&onRejected,reaction.domain=isNode?process.domain:void 0,this._c.push(reaction),this._a&&this._a.push(reaction),this._s&&notify(this,!1),reaction.promise},catch:function(onRejected){return this.then(void 0,onRejected)}}),PromiseCapability=function(){var promise=new Internal;this.promise=promise,this.resolve=ctx($resolve,promise,1),this.reject=ctx($reject,promise,1)}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Promise:$Promise}),__webpack_require__(72)($Promise,PROMISE),__webpack_require__(61)(PROMISE),Wrapper=__webpack_require__(45)[PROMISE],$export($export.S+$export.F*!USE_NATIVE,PROMISE,{reject:function(r){var capability=newPromiseCapability(this),$$reject=capability.reject;return $$reject(r),capability.promise}}),$export($export.S+$export.F*(LIBRARY||!USE_NATIVE),PROMISE,{resolve:function(x){if(x instanceof $Promise&&sameConstructor(x.constructor,this))return x;var capability=newPromiseCapability(this),$$resolve=capability.resolve;return $$resolve(x),capability.promise}}),$export($export.S+$export.F*!(USE_NATIVE&&__webpack_require__(119)(function(iter){$Promise.all(iter).catch(empty)})),PROMISE,{all:function(iterable){var C=this,capability=newPromiseCapability(C),resolve=capability.resolve,reject=capability.reject,abrupt=perform(function(){var values=[],index=0,remaining=1;forOf(iterable,!1,function(promise){var $index=index++,alreadyCalled=!1;values.push(void 0),remaining++,C.resolve(promise).then(function(value){alreadyCalled||(alreadyCalled=!0,values[$index]=value,--remaining||resolve(values))},reject)}),--remaining||resolve(values)});return abrupt&&reject(abrupt.error),capability.promise},race:function(iterable){var C=this,capability=newPromiseCapability(C),reject=capability.reject,abrupt=perform(function(){forOf(iterable,!1,function(promise){C.resolve(promise).then(capability.resolve,reject)})});return abrupt&&reject(abrupt.error),capability.promise}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),aFunction=__webpack_require__(29),anObject=__webpack_require__(8),rApply=(__webpack_require__(11).Reflect||{}).apply,fApply=Function.apply;$export($export.S+$export.F*!__webpack_require__(12)(function(){rApply(function(){})}),"Reflect",{apply:function(target,thisArgument,argumentsList){var T=aFunction(target),L=anObject(argumentsList);return rApply?rApply(T,thisArgument,L):fApply.call(T,thisArgument,L)}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),create=__webpack_require__(57),aFunction=__webpack_require__(29),anObject=__webpack_require__(8),isObject=__webpack_require__(15),fails=__webpack_require__(12),bind=__webpack_require__(219),rConstruct=(__webpack_require__(11).Reflect||{}).construct,NEW_TARGET_BUG=fails(function(){
function F(){}return!(rConstruct(function(){},[],F)instanceof F)}),ARGS_BUG=!fails(function(){rConstruct(function(){})});$export($export.S+$export.F*(NEW_TARGET_BUG||ARGS_BUG),"Reflect",{construct:function(Target,args){aFunction(Target),anObject(args);var newTarget=arguments.length<3?Target:aFunction(arguments[2]);if(ARGS_BUG&&!NEW_TARGET_BUG)return rConstruct(Target,args,newTarget);if(Target==newTarget){switch(args.length){case 0:return new Target;case 1:return new Target(args[0]);case 2:return new Target(args[0],args[1]);case 3:return new Target(args[0],args[1],args[2]);case 4:return new Target(args[0],args[1],args[2],args[3])}var $args=[null];return $args.push.apply($args,args),new(bind.apply(Target,$args))}var proto=newTarget.prototype,instance=create(isObject(proto)?proto:Object.prototype),result=Function.apply.call(Target,instance,args);return isObject(result)?result:instance}})},function(module,exports,__webpack_require__){var dP=__webpack_require__(18),$export=__webpack_require__(1),anObject=__webpack_require__(8),toPrimitive=__webpack_require__(43);$export($export.S+$export.F*__webpack_require__(12)(function(){Reflect.defineProperty(dP.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(target,propertyKey,attributes){anObject(target),propertyKey=toPrimitive(propertyKey,!0),anObject(attributes);try{return dP.f(target,propertyKey,attributes),!0}catch(e){return!1}}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),gOPD=__webpack_require__(35).f,anObject=__webpack_require__(8);$export($export.S,"Reflect",{deleteProperty:function(target,propertyKey){var desc=gOPD(anObject(target),propertyKey);return!(desc&&!desc.configurable)&&delete target[propertyKey]}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),anObject=__webpack_require__(8),Enumerate=function(iterated){this._t=anObject(iterated),this._i=0;var key,keys=this._k=[];for(key in iterated)keys.push(key)};__webpack_require__(149)(Enumerate,"Object",function(){var key,that=this,keys=that._k;do if(that._i>=keys.length)return{value:void 0,done:!0};while(!((key=keys[that._i++])in that._t));return{value:key,done:!1}}),$export($export.S,"Reflect",{enumerate:function(target){return new Enumerate(target)}})},function(module,exports,__webpack_require__){var gOPD=__webpack_require__(35),$export=__webpack_require__(1),anObject=__webpack_require__(8);$export($export.S,"Reflect",{getOwnPropertyDescriptor:function(target,propertyKey){return gOPD.f(anObject(target),propertyKey)}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),getProto=__webpack_require__(36),anObject=__webpack_require__(8);$export($export.S,"Reflect",{getPrototypeOf:function(target){return getProto(anObject(target))}})},function(module,exports,__webpack_require__){function get(target,propertyKey){var desc,proto,receiver=arguments.length<3?target:arguments[2];return anObject(target)===receiver?target[propertyKey]:(desc=gOPD.f(target,propertyKey))?has(desc,"value")?desc.value:void 0!==desc.get?desc.get.call(receiver):void 0:isObject(proto=getPrototypeOf(target))?get(proto,propertyKey,receiver):void 0}var gOPD=__webpack_require__(35),getPrototypeOf=__webpack_require__(36),has=__webpack_require__(26),$export=__webpack_require__(1),isObject=__webpack_require__(15),anObject=__webpack_require__(8);$export($export.S,"Reflect",{get:get})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.S,"Reflect",{has:function(target,propertyKey){return propertyKey in target}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),anObject=__webpack_require__(8),$isExtensible=Object.isExtensible;$export($export.S,"Reflect",{isExtensible:function(target){return anObject(target),!$isExtensible||$isExtensible(target)}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.S,"Reflect",{ownKeys:__webpack_require__(233)})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),anObject=__webpack_require__(8),$preventExtensions=Object.preventExtensions;$export($export.S,"Reflect",{preventExtensions:function(target){anObject(target);try{return $preventExtensions&&$preventExtensions(target),!0}catch(e){return!1}}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),setProto=__webpack_require__(154);setProto&&$export($export.S,"Reflect",{setPrototypeOf:function(target,proto){setProto.check(target,proto);try{return setProto.set(target,proto),!0}catch(e){return!1}}})},function(module,exports,__webpack_require__){function set(target,propertyKey,V){var existingDescriptor,proto,receiver=arguments.length<4?target:arguments[3],ownDesc=gOPD.f(anObject(target),propertyKey);if(!ownDesc){if(isObject(proto=getPrototypeOf(target)))return set(proto,propertyKey,V,receiver);ownDesc=createDesc(0)}return has(ownDesc,"value")?!(ownDesc.writable===!1||!isObject(receiver))&&(existingDescriptor=gOPD.f(receiver,propertyKey)||createDesc(0),existingDescriptor.value=V,dP.f(receiver,propertyKey,existingDescriptor),!0):void 0!==ownDesc.set&&(ownDesc.set.call(receiver,V),!0)}var dP=__webpack_require__(18),gOPD=__webpack_require__(35),getPrototypeOf=__webpack_require__(36),has=__webpack_require__(26),$export=__webpack_require__(1),createDesc=__webpack_require__(51),anObject=__webpack_require__(8),isObject=__webpack_require__(15);$export($export.S,"Reflect",{set:set})},function(module,exports,__webpack_require__){var global=__webpack_require__(11),inheritIfRequired=__webpack_require__(146),dP=__webpack_require__(18).f,gOPN=__webpack_require__(58).f,isRegExp=__webpack_require__(118),$flags=__webpack_require__(116),$RegExp=global.RegExp,Base=$RegExp,proto=$RegExp.prototype,re1=/a/g,re2=/a/g,CORRECT_NEW=new $RegExp(re1)!==re1;if(__webpack_require__(17)&&(!CORRECT_NEW||__webpack_require__(12)(function(){return re2[__webpack_require__(16)("match")]=!1,$RegExp(re1)!=re1||$RegExp(re2)==re2||"/a/i"!=$RegExp(re1,"i")}))){$RegExp=function(p,f){var tiRE=this instanceof $RegExp,piRE=isRegExp(p),fiU=void 0===f;return!tiRE&&piRE&&p.constructor===$RegExp&&fiU?p:inheritIfRequired(CORRECT_NEW?new Base(piRE&&!fiU?p.source:p,f):Base((piRE=p instanceof $RegExp)?p.source:p,piRE&&fiU?$flags.call(p):f),tiRE?this:proto,$RegExp)};for(var proxy=(function(key){key in $RegExp||dP($RegExp,key,{configurable:!0,get:function(){return Base[key]},set:function(it){Base[key]=it}})}),keys=gOPN(Base),i=0;keys.length>i;)proxy(keys[i++]);proto.constructor=$RegExp,$RegExp.prototype=proto,__webpack_require__(31)(global,"RegExp",$RegExp)}__webpack_require__(61)("RegExp")},function(module,exports,__webpack_require__){__webpack_require__(115)("match",1,function(defined,MATCH,$match){return[function(regexp){"use strict";var O=defined(this),fn=void 0==regexp?void 0:regexp[MATCH];return void 0!==fn?fn.call(regexp,O):new RegExp(regexp)[MATCH](String(O))},$match]})},function(module,exports,__webpack_require__){__webpack_require__(115)("replace",2,function(defined,REPLACE,$replace){return[function(searchValue,replaceValue){"use strict";var O=defined(this),fn=void 0==searchValue?void 0:searchValue[REPLACE];return void 0!==fn?fn.call(searchValue,O,replaceValue):$replace.call(String(O),searchValue,replaceValue)},$replace]})},function(module,exports,__webpack_require__){__webpack_require__(115)("search",1,function(defined,SEARCH,$search){return[function(regexp){"use strict";var O=defined(this),fn=void 0==regexp?void 0:regexp[SEARCH];return void 0!==fn?fn.call(regexp,O):new RegExp(regexp)[SEARCH](String(O))},$search]})},function(module,exports,__webpack_require__){__webpack_require__(115)("split",2,function(defined,SPLIT,$split){"use strict";var isRegExp=__webpack_require__(118),_split=$split,$push=[].push,$SPLIT="split",LENGTH="length",LAST_INDEX="lastIndex";if("c"=="abbc"[$SPLIT](/(b)*/)[1]||4!="test"[$SPLIT](/(?:)/,-1)[LENGTH]||2!="ab"[$SPLIT](/(?:ab)*/)[LENGTH]||4!="."[$SPLIT](/(.?)(.?)/)[LENGTH]||"."[$SPLIT](/()()/)[LENGTH]>1||""[$SPLIT](/.?/)[LENGTH]){var NPCG=void 0===/()??/.exec("")[1];$split=function(separator,limit){var string=String(this);if(void 0===separator&&0===limit)return[];if(!isRegExp(separator))return _split.call(string,separator,limit);var separator2,match,lastIndex,lastLength,i,output=[],flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.unicode?"u":"")+(separator.sticky?"y":""),lastLastIndex=0,splitLimit=void 0===limit?4294967295:limit>>>0,separatorCopy=new RegExp(separator.source,flags+"g");for(NPCG||(separator2=new RegExp("^"+separatorCopy.source+"$(?!\\s)",flags));(match=separatorCopy.exec(string))&&(lastIndex=match.index+match[0][LENGTH],!(lastIndex>lastLastIndex&&(output.push(string.slice(lastLastIndex,match.index)),!NPCG&&match[LENGTH]>1&&match[0].replace(separator2,function(){for(i=1;i<arguments[LENGTH]-2;i++)void 0===arguments[i]&&(match[i]=void 0)}),match[LENGTH]>1&&match.index<string[LENGTH]&&$push.apply(output,match.slice(1)),lastLength=match[0][LENGTH],lastLastIndex=lastIndex,output[LENGTH]>=splitLimit)));)separatorCopy[LAST_INDEX]===match.index&&separatorCopy[LAST_INDEX]++;return lastLastIndex===string[LENGTH]?!lastLength&&separatorCopy.test("")||output.push(""):output.push(string.slice(lastLastIndex)),output[LENGTH]>splitLimit?output.slice(0,splitLimit):output}}else"0"[$SPLIT](void 0,0)[LENGTH]&&($split=function(separator,limit){return void 0===separator&&0===limit?[]:_split.call(this,separator,limit)});return[function(separator,limit){var O=defined(this),fn=void 0==separator?void 0:separator[SPLIT];return void 0!==fn?fn.call(separator,O,limit):$split.call(String(O),separator,limit)},$split]})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(240);var anObject=__webpack_require__(8),$flags=__webpack_require__(116),DESCRIPTORS=__webpack_require__(17),TO_STRING="toString",$toString=/./[TO_STRING],define=function(fn){__webpack_require__(31)(RegExp.prototype,TO_STRING,fn,!0)};__webpack_require__(12)(function(){return"/a/b"!=$toString.call({source:"a",flags:"b"})})?define(function(){var R=anObject(this);return"/".concat(R.source,"/","flags"in R?R.flags:!DESCRIPTORS&&R instanceof RegExp?$flags.call(R):void 0)}):$toString.name!=TO_STRING&&define(function(){return $toString.call(this)})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(32)("anchor",function(createHTML){return function(name){return createHTML(this,"a","name",name)}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(32)("big",function(createHTML){return function(){return createHTML(this,"big","","")}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(32)("blink",function(createHTML){return function(){return createHTML(this,"blink","","")}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(32)("bold",function(createHTML){return function(){return createHTML(this,"b","","")}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),$at=__webpack_require__(157)(!1);$export($export.P,"String",{codePointAt:function(pos){return $at(this,pos)}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),toLength=__webpack_require__(22),context=__webpack_require__(158),ENDS_WITH="endsWith",$endsWith=""[ENDS_WITH];$export($export.P+$export.F*__webpack_require__(144)(ENDS_WITH),"String",{endsWith:function(searchString){var that=context(this,searchString,ENDS_WITH),endPosition=arguments.length>1?arguments[1]:void 0,len=toLength(that.length),end=void 0===endPosition?len:Math.min(toLength(endPosition),len),search=String(searchString);return $endsWith?$endsWith.call(that,search,end):that.slice(end-search.length,end)===search}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(32)("fixed",function(createHTML){return function(){return createHTML(this,"tt","","")}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(32)("fontcolor",function(createHTML){return function(color){return createHTML(this,"font","color",color)}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(32)("fontsize",function(createHTML){return function(size){return createHTML(this,"font","size",size)}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),toIndex=__webpack_require__(62),fromCharCode=String.fromCharCode,$fromCodePoint=String.fromCodePoint;$export($export.S+$export.F*(!!$fromCodePoint&&1!=$fromCodePoint.length),"String",{fromCodePoint:function(x){for(var code,res=[],aLen=arguments.length,i=0;aLen>i;){if(code=+arguments[i++],toIndex(code,1114111)!==code)throw RangeError(code+" is not a valid code point");res.push(code<65536?fromCharCode(code):fromCharCode(((code-=65536)>>10)+55296,code%1024+56320))}return res.join("")}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),context=__webpack_require__(158),INCLUDES="includes";$export($export.P+$export.F*__webpack_require__(144)(INCLUDES),"String",{includes:function(searchString){return!!~context(this,searchString,INCLUDES).indexOf(searchString,arguments.length>1?arguments[1]:void 0)}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(32)("italics",function(createHTML){return function(){return createHTML(this,"i","","")}})},function(module,exports,__webpack_require__){"use strict";var $at=__webpack_require__(157)(!0);__webpack_require__(150)(String,"String",function(iterated){this._t=String(iterated),this._i=0},function(){var point,O=this._t,index=this._i;return index>=O.length?{value:void 0,done:!0}:(point=$at(O,index),this._i+=point.length,{value:point,done:!1})})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(32)("link",function(createHTML){return function(url){return createHTML(this,"a","href",url)}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),toIObject=__webpack_require__(33),toLength=__webpack_require__(22);$export($export.S,"String",{raw:function(callSite){for(var tpl=toIObject(callSite.raw),len=toLength(tpl.length),aLen=arguments.length,res=[],i=0;len>i;)res.push(String(tpl[i++])),i<aLen&&res.push(String(arguments[i]));return res.join("")}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.P,"String",{repeat:__webpack_require__(159)})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(32)("small",function(createHTML){return function(){return createHTML(this,"small","","")}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),toLength=__webpack_require__(22),context=__webpack_require__(158),STARTS_WITH="startsWith",$startsWith=""[STARTS_WITH];$export($export.P+$export.F*__webpack_require__(144)(STARTS_WITH),"String",{startsWith:function(searchString){var that=context(this,searchString,STARTS_WITH),index=toLength(Math.min(arguments.length>1?arguments[1]:void 0,that.length)),search=String(searchString);return $startsWith?$startsWith.call(that,search,index):that.slice(index,index+search.length)===search}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(32)("strike",function(createHTML){return function(){return createHTML(this,"strike","","")}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(32)("sub",function(createHTML){return function(){return createHTML(this,"sub","","")}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(32)("sup",function(createHTML){return function(){return createHTML(this,"sup","","")}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(73)("trim",function($trim){return function(){return $trim(this,3)}})},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(11),has=__webpack_require__(26),DESCRIPTORS=__webpack_require__(17),$export=__webpack_require__(1),redefine=__webpack_require__(31),META=__webpack_require__(50).KEY,$fails=__webpack_require__(12),shared=__webpack_require__(122),setToStringTag=__webpack_require__(72),uid=__webpack_require__(63),wks=__webpack_require__(16),wksExt=__webpack_require__(238),wksDefine=__webpack_require__(163),keyOf=__webpack_require__(402),enumKeys=__webpack_require__(401),isArray=__webpack_require__(148),anObject=__webpack_require__(8),toIObject=__webpack_require__(33),toPrimitive=__webpack_require__(43),createDesc=__webpack_require__(51),_create=__webpack_require__(57),gOPNExt=__webpack_require__(230),$GOPD=__webpack_require__(35),$DP=__webpack_require__(18),$keys=__webpack_require__(59),gOPD=$GOPD.f,dP=$DP.f,gOPN=gOPNExt.f,$Symbol=global.Symbol,$JSON=global.JSON,_stringify=$JSON&&$JSON.stringify,PROTOTYPE="prototype",HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared("symbol-registry"),AllSymbols=shared("symbols"),OPSymbols=shared("op-symbols"),ObjectProto=Object[PROTOTYPE],USE_NATIVE="function"==typeof $Symbol,QObject=global.QObject,setter=!QObject||!QObject[PROTOTYPE]||!QObject[PROTOTYPE].findChild,setSymbolDesc=DESCRIPTORS&&$fails(function(){return 7!=_create(dP({},"a",{get:function(){return dP(this,"a",{value:7}).a}})).a})?function(it,key,D){var protoDesc=gOPD(ObjectProto,key);protoDesc&&delete ObjectProto[key],dP(it,key,D),protoDesc&&it!==ObjectProto&&dP(ObjectProto,key,protoDesc)}:dP,wrap=function(tag){var sym=AllSymbols[tag]=_create($Symbol[PROTOTYPE]);return sym._k=tag,sym},isSymbol=USE_NATIVE&&"symbol"==typeof $Symbol.iterator?function(it){return"symbol"==typeof it}:function(it){return it instanceof $Symbol},$defineProperty=function(it,key,D){return it===ObjectProto&&$defineProperty(OPSymbols,key,D),anObject(it),key=toPrimitive(key,!0),anObject(D),has(AllSymbols,key)?(D.enumerable?(has(it,HIDDEN)&&it[HIDDEN][key]&&(it[HIDDEN][key]=!1),D=_create(D,{enumerable:createDesc(0,!1)})):(has(it,HIDDEN)||dP(it,HIDDEN,createDesc(1,{})),it[HIDDEN][key]=!0),setSymbolDesc(it,key,D)):dP(it,key,D)},$defineProperties=function(it,P){anObject(it);for(var key,keys=enumKeys(P=toIObject(P)),i=0,l=keys.length;l>i;)$defineProperty(it,key=keys[i++],P[key]);return it},$create=function(it,P){return void 0===P?_create(it):$defineProperties(_create(it),P)},$propertyIsEnumerable=function(key){var E=isEnum.call(this,key=toPrimitive(key,!0));return!(this===ObjectProto&&has(AllSymbols,key)&&!has(OPSymbols,key))&&(!(E||!has(this,key)||!has(AllSymbols,key)||has(this,HIDDEN)&&this[HIDDEN][key])||E)},$getOwnPropertyDescriptor=function(it,key){if(it=toIObject(it),key=toPrimitive(key,!0),it!==ObjectProto||!has(AllSymbols,key)||has(OPSymbols,key)){var D=gOPD(it,key);return!D||!has(AllSymbols,key)||has(it,HIDDEN)&&it[HIDDEN][key]||(D.enumerable=!0),D}},$getOwnPropertyNames=function(it){for(var key,names=gOPN(toIObject(it)),result=[],i=0;names.length>i;)has(AllSymbols,key=names[i++])||key==HIDDEN||key==META||result.push(key);return result},$getOwnPropertySymbols=function(it){for(var key,IS_OP=it===ObjectProto,names=gOPN(IS_OP?OPSymbols:toIObject(it)),result=[],i=0;names.length>i;)!has(AllSymbols,key=names[i++])||IS_OP&&!has(ObjectProto,key)||result.push(AllSymbols[key]);return result};USE_NATIVE||($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var tag=uid(arguments.length>0?arguments[0]:void 0),$set=function(value){this===ObjectProto&&$set.call(OPSymbols,value),has(this,HIDDEN)&&has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDesc(this,tag,createDesc(1,value))};return DESCRIPTORS&&setter&&setSymbolDesc(ObjectProto,tag,{configurable:!0,set:$set}),wrap(tag)},redefine($Symbol[PROTOTYPE],"toString",function(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty,__webpack_require__(58).f=gOPNExt.f=$getOwnPropertyNames,__webpack_require__(97).f=$propertyIsEnumerable,__webpack_require__(121).f=$getOwnPropertySymbols,DESCRIPTORS&&!__webpack_require__(56)&&redefine(ObjectProto,"propertyIsEnumerable",$propertyIsEnumerable,!0),wksExt.f=function(name){return wrap(wks(name))}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Symbol:$Symbol});for(var symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),i=0;symbols.length>i;)wks(symbols[i++]);for(var symbols=$keys(wks.store),i=0;symbols.length>i;)wksDefine(symbols[i++]);$export($export.S+$export.F*!USE_NATIVE,"Symbol",{for:function(key){return has(SymbolRegistry,key+="")?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key)},keyFor:function(key){if(isSymbol(key))return keyOf(SymbolRegistry,key);throw TypeError(key+" is not a symbol!")},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),$export($export.S+$export.F*!USE_NATIVE,"Object",{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$JSON&&$export($export.S+$export.F*(!USE_NATIVE||$fails(function(){var S=$Symbol();return"[null]"!=_stringify([S])||"{}"!=_stringify({a:S})||"{}"!=_stringify(Object(S))})),"JSON",{stringify:function(it){if(void 0!==it&&!isSymbol(it)){for(var replacer,$replacer,args=[it],i=1;arguments.length>i;)args.push(arguments[i++]);return replacer=args[1],"function"==typeof replacer&&($replacer=replacer),!$replacer&&isArray(replacer)||(replacer=function(key,value){if($replacer&&(value=$replacer.call(this,key,value)),!isSymbol(value))return value}),args[1]=replacer,_stringify.apply($JSON,args)}}}),$Symbol[PROTOTYPE][TO_PRIMITIVE]||__webpack_require__(30)($Symbol[PROTOTYPE],TO_PRIMITIVE,$Symbol[PROTOTYPE].valueOf),setToStringTag($Symbol,"Symbol"),setToStringTag(Math,"Math",!0),setToStringTag(global.JSON,"JSON",!0)},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),$typed=__webpack_require__(123),buffer=__webpack_require__(162),anObject=__webpack_require__(8),toIndex=__webpack_require__(62),toLength=__webpack_require__(22),isObject=__webpack_require__(15),ArrayBuffer=__webpack_require__(11).ArrayBuffer,speciesConstructor=__webpack_require__(156),$ArrayBuffer=buffer.ArrayBuffer,$DataView=buffer.DataView,$isView=$typed.ABV&&ArrayBuffer.isView,$slice=$ArrayBuffer.prototype.slice,VIEW=$typed.VIEW,ARRAY_BUFFER="ArrayBuffer";$export($export.G+$export.W+$export.F*(ArrayBuffer!==$ArrayBuffer),{ArrayBuffer:$ArrayBuffer}),$export($export.S+$export.F*!$typed.CONSTR,ARRAY_BUFFER,{isView:function(it){return $isView&&$isView(it)||isObject(it)&&VIEW in it}}),$export($export.P+$export.U+$export.F*__webpack_require__(12)(function(){return!new $ArrayBuffer(2).slice(1,void 0).byteLength}),ARRAY_BUFFER,{slice:function(start,end){if(void 0!==$slice&&void 0===end)return $slice.call(anObject(this),start);for(var len=anObject(this).byteLength,first=toIndex(start,len),final=toIndex(void 0===end?len:end,len),result=new(speciesConstructor(this,$ArrayBuffer))(toLength(final-first)),viewS=new $DataView(this),viewT=new $DataView(result),index=0;first<final;)viewT.setUint8(index++,viewS.getUint8(first++));return result}}),__webpack_require__(61)(ARRAY_BUFFER)},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.G+$export.W+$export.F*!__webpack_require__(123).ABV,{DataView:__webpack_require__(162).DataView})},function(module,exports,__webpack_require__){__webpack_require__(48)("Float32",4,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})},function(module,exports,__webpack_require__){__webpack_require__(48)("Float64",8,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})},function(module,exports,__webpack_require__){__webpack_require__(48)("Int16",2,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})},function(module,exports,__webpack_require__){__webpack_require__(48)("Int32",4,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})},function(module,exports,__webpack_require__){__webpack_require__(48)("Int8",1,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})},function(module,exports,__webpack_require__){__webpack_require__(48)("Uint16",2,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})},function(module,exports,__webpack_require__){__webpack_require__(48)("Uint32",4,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})},function(module,exports,__webpack_require__){__webpack_require__(48)("Uint8",1,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})},function(module,exports,__webpack_require__){__webpack_require__(48)("Uint8",1,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}},!0)},function(module,exports,__webpack_require__){"use strict";var weak=__webpack_require__(222);__webpack_require__(114)("WeakSet",function(get){return function(){return get(this,arguments.length>0?arguments[0]:void 0)}},{add:function(value){return weak.def(this,value,!0)}},weak,!1,!0)},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),$includes=__webpack_require__(113)(!0);$export($export.P,"Array",{includes:function(el){return $includes(this,el,arguments.length>1?arguments[1]:void 0)}}),__webpack_require__(69)("includes")},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),microtask=__webpack_require__(153)(),process=__webpack_require__(11).process,isNode="process"==__webpack_require__(38)(process);$export($export.G,{asap:function(fn){var domain=isNode&&process.domain;microtask(domain?domain.bind(fn):fn)}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),cof=__webpack_require__(38);$export($export.S,"Error",{isError:function(it){return"Error"===cof(it)}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.P+$export.R,"Map",{toJSON:__webpack_require__(221)("Map")})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.S,"Math",{iaddh:function(x0,x1,y0,y1){var $x0=x0>>>0,$x1=x1>>>0,$y0=y0>>>0;return $x1+(y1>>>0)+(($x0&$y0|($x0|$y0)&~($x0+$y0>>>0))>>>31)|0}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.S,"Math",{imulh:function(u,v){var UINT16=65535,$u=+u,$v=+v,u0=$u&UINT16,v0=$v&UINT16,u1=$u>>16,v1=$v>>16,t=(u1*v0>>>0)+(u0*v0>>>16);return u1*v1+(t>>16)+((u0*v1>>>0)+(t&UINT16)>>16)}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.S,"Math",{isubh:function(x0,x1,y0,y1){var $x0=x0>>>0,$x1=x1>>>0,$y0=y0>>>0;return $x1-(y1>>>0)-((~$x0&$y0|~($x0^$y0)&$x0-$y0>>>0)>>>31)|0}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.S,"Math",{umulh:function(u,v){var UINT16=65535,$u=+u,$v=+v,u0=$u&UINT16,v0=$v&UINT16,u1=$u>>>16,v1=$v>>>16,t=(u1*v0>>>0)+(u0*v0>>>16);return u1*v1+(t>>>16)+((u0*v1>>>0)+(t&UINT16)>>>16)}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),toObject=__webpack_require__(23),aFunction=__webpack_require__(29),$defineProperty=__webpack_require__(18);__webpack_require__(17)&&$export($export.P+__webpack_require__(120),"Object",{__defineGetter__:function(P,getter){$defineProperty.f(toObject(this),P,{get:aFunction(getter),enumerable:!0,configurable:!0})}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),toObject=__webpack_require__(23),aFunction=__webpack_require__(29),$defineProperty=__webpack_require__(18);__webpack_require__(17)&&$export($export.P+__webpack_require__(120),"Object",{__defineSetter__:function(P,setter){$defineProperty.f(toObject(this),P,{set:aFunction(setter),enumerable:!0,configurable:!0})}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),$entries=__webpack_require__(232)(!0);$export($export.S,"Object",{entries:function(it){return $entries(it)}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),ownKeys=__webpack_require__(233),toIObject=__webpack_require__(33),gOPD=__webpack_require__(35),createProperty=__webpack_require__(141);$export($export.S,"Object",{getOwnPropertyDescriptors:function(object){for(var key,O=toIObject(object),getDesc=gOPD.f,keys=ownKeys(O),result={},i=0;keys.length>i;)createProperty(result,key=keys[i++],getDesc(O,key));return result}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),toObject=__webpack_require__(23),toPrimitive=__webpack_require__(43),getPrototypeOf=__webpack_require__(36),getOwnPropertyDescriptor=__webpack_require__(35).f;__webpack_require__(17)&&$export($export.P+__webpack_require__(120),"Object",{__lookupGetter__:function(P){var D,O=toObject(this),K=toPrimitive(P,!0);do if(D=getOwnPropertyDescriptor(O,K))return D.get;while(O=getPrototypeOf(O))}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),toObject=__webpack_require__(23),toPrimitive=__webpack_require__(43),getPrototypeOf=__webpack_require__(36),getOwnPropertyDescriptor=__webpack_require__(35).f;__webpack_require__(17)&&$export($export.P+__webpack_require__(120),"Object",{__lookupSetter__:function(P){var D,O=toObject(this),K=toPrimitive(P,!0);do if(D=getOwnPropertyDescriptor(O,K))return D.set;while(O=getPrototypeOf(O))}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),$values=__webpack_require__(232)(!1);$export($export.S,"Object",{values:function(it){return $values(it)}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),global=__webpack_require__(11),core=__webpack_require__(45),microtask=__webpack_require__(153)(),OBSERVABLE=__webpack_require__(16)("observable"),aFunction=__webpack_require__(29),anObject=__webpack_require__(8),anInstance=__webpack_require__(55),redefineAll=__webpack_require__(60),hide=__webpack_require__(30),forOf=__webpack_require__(70),RETURN=forOf.RETURN,getMethod=function(fn){return null==fn?void 0:aFunction(fn)},cleanupSubscription=function(subscription){var cleanup=subscription._c;cleanup&&(subscription._c=void 0,cleanup())},subscriptionClosed=function(subscription){return void 0===subscription._o},closeSubscription=function(subscription){subscriptionClosed(subscription)||(subscription._o=void 0,cleanupSubscription(subscription))},Subscription=function(observer,subscriber){anObject(observer),this._c=void 0,this._o=observer,observer=new SubscriptionObserver(this);try{var cleanup=subscriber(observer),subscription=cleanup;null!=cleanup&&("function"==typeof cleanup.unsubscribe?cleanup=function(){subscription.unsubscribe()}:aFunction(cleanup),this._c=cleanup)}catch(e){return void observer.error(e)}subscriptionClosed(this)&&cleanupSubscription(this)};Subscription.prototype=redefineAll({},{unsubscribe:function(){closeSubscription(this)}});var SubscriptionObserver=function(subscription){this._s=subscription};SubscriptionObserver.prototype=redefineAll({},{next:function(value){var subscription=this._s;if(!subscriptionClosed(subscription)){var observer=subscription._o;try{var m=getMethod(observer.next);if(m)return m.call(observer,value)}catch(e){try{closeSubscription(subscription)}finally{throw e}}}},error:function(value){var subscription=this._s;if(subscriptionClosed(subscription))throw value;var observer=subscription._o;subscription._o=void 0;try{var m=getMethod(observer.error);
if(!m)throw value;value=m.call(observer,value)}catch(e){try{cleanupSubscription(subscription)}finally{throw e}}return cleanupSubscription(subscription),value},complete:function(value){var subscription=this._s;if(!subscriptionClosed(subscription)){var observer=subscription._o;subscription._o=void 0;try{var m=getMethod(observer.complete);value=m?m.call(observer,value):void 0}catch(e){try{cleanupSubscription(subscription)}finally{throw e}}return cleanupSubscription(subscription),value}}});var $Observable=function(subscriber){anInstance(this,$Observable,"Observable","_f")._f=aFunction(subscriber)};redefineAll($Observable.prototype,{subscribe:function(observer){return new Subscription(observer,this._f)},forEach:function(fn){var that=this;return new(core.Promise||global.Promise)(function(resolve,reject){aFunction(fn);var subscription=that.subscribe({next:function(value){try{return fn(value)}catch(e){reject(e),subscription.unsubscribe()}},error:reject,complete:resolve})})}}),redefineAll($Observable,{from:function(x){var C="function"==typeof this?this:$Observable,method=getMethod(anObject(x)[OBSERVABLE]);if(method){var observable=anObject(method.call(x));return observable.constructor===C?observable:new C(function(observer){return observable.subscribe(observer)})}return new C(function(observer){var done=!1;return microtask(function(){if(!done){try{if(forOf(x,!1,function(it){if(observer.next(it),done)return RETURN})===RETURN)return}catch(e){if(done)throw e;return void observer.error(e)}observer.complete()}}),function(){done=!0}})},of:function(){for(var i=0,l=arguments.length,items=Array(l);i<l;)items[i]=arguments[i++];return new("function"==typeof this?this:$Observable)(function(observer){var done=!1;return microtask(function(){if(!done){for(var i=0;i<items.length;++i)if(observer.next(items[i]),done)return;observer.complete()}}),function(){done=!0}})}}),hide($Observable.prototype,OBSERVABLE,function(){return this}),$export($export.G,{Observable:$Observable}),__webpack_require__(61)("Observable")},function(module,exports,__webpack_require__){var metadata=__webpack_require__(47),anObject=__webpack_require__(8),toMetaKey=metadata.key,ordinaryDefineOwnMetadata=metadata.set;metadata.exp({defineMetadata:function(metadataKey,metadataValue,target,targetKey){ordinaryDefineOwnMetadata(metadataKey,metadataValue,anObject(target),toMetaKey(targetKey))}})},function(module,exports,__webpack_require__){var metadata=__webpack_require__(47),anObject=__webpack_require__(8),toMetaKey=metadata.key,getOrCreateMetadataMap=metadata.map,store=metadata.store;metadata.exp({deleteMetadata:function(metadataKey,target){var targetKey=arguments.length<3?void 0:toMetaKey(arguments[2]),metadataMap=getOrCreateMetadataMap(anObject(target),targetKey,!1);if(void 0===metadataMap||!metadataMap.delete(metadataKey))return!1;if(metadataMap.size)return!0;var targetMetadata=store.get(target);return targetMetadata.delete(targetKey),!!targetMetadata.size||store.delete(target)}})},function(module,exports,__webpack_require__){var Set=__webpack_require__(241),from=__webpack_require__(217),metadata=__webpack_require__(47),anObject=__webpack_require__(8),getPrototypeOf=__webpack_require__(36),ordinaryOwnMetadataKeys=metadata.keys,toMetaKey=metadata.key,ordinaryMetadataKeys=function(O,P){var oKeys=ordinaryOwnMetadataKeys(O,P),parent=getPrototypeOf(O);if(null===parent)return oKeys;var pKeys=ordinaryMetadataKeys(parent,P);return pKeys.length?oKeys.length?from(new Set(oKeys.concat(pKeys))):pKeys:oKeys};metadata.exp({getMetadataKeys:function(target){return ordinaryMetadataKeys(anObject(target),arguments.length<2?void 0:toMetaKey(arguments[1]))}})},function(module,exports,__webpack_require__){var metadata=__webpack_require__(47),anObject=__webpack_require__(8),getPrototypeOf=__webpack_require__(36),ordinaryHasOwnMetadata=metadata.has,ordinaryGetOwnMetadata=metadata.get,toMetaKey=metadata.key,ordinaryGetMetadata=function(MetadataKey,O,P){var hasOwn=ordinaryHasOwnMetadata(MetadataKey,O,P);if(hasOwn)return ordinaryGetOwnMetadata(MetadataKey,O,P);var parent=getPrototypeOf(O);return null!==parent?ordinaryGetMetadata(MetadataKey,parent,P):void 0};metadata.exp({getMetadata:function(metadataKey,target){return ordinaryGetMetadata(metadataKey,anObject(target),arguments.length<3?void 0:toMetaKey(arguments[2]))}})},function(module,exports,__webpack_require__){var metadata=__webpack_require__(47),anObject=__webpack_require__(8),ordinaryOwnMetadataKeys=metadata.keys,toMetaKey=metadata.key;metadata.exp({getOwnMetadataKeys:function(target){return ordinaryOwnMetadataKeys(anObject(target),arguments.length<2?void 0:toMetaKey(arguments[1]))}})},function(module,exports,__webpack_require__){var metadata=__webpack_require__(47),anObject=__webpack_require__(8),ordinaryGetOwnMetadata=metadata.get,toMetaKey=metadata.key;metadata.exp({getOwnMetadata:function(metadataKey,target){return ordinaryGetOwnMetadata(metadataKey,anObject(target),arguments.length<3?void 0:toMetaKey(arguments[2]))}})},function(module,exports,__webpack_require__){var metadata=__webpack_require__(47),anObject=__webpack_require__(8),getPrototypeOf=__webpack_require__(36),ordinaryHasOwnMetadata=metadata.has,toMetaKey=metadata.key,ordinaryHasMetadata=function(MetadataKey,O,P){var hasOwn=ordinaryHasOwnMetadata(MetadataKey,O,P);if(hasOwn)return!0;var parent=getPrototypeOf(O);return null!==parent&&ordinaryHasMetadata(MetadataKey,parent,P)};metadata.exp({hasMetadata:function(metadataKey,target){return ordinaryHasMetadata(metadataKey,anObject(target),arguments.length<3?void 0:toMetaKey(arguments[2]))}})},function(module,exports,__webpack_require__){var metadata=__webpack_require__(47),anObject=__webpack_require__(8),ordinaryHasOwnMetadata=metadata.has,toMetaKey=metadata.key;metadata.exp({hasOwnMetadata:function(metadataKey,target){return ordinaryHasOwnMetadata(metadataKey,anObject(target),arguments.length<3?void 0:toMetaKey(arguments[2]))}})},function(module,exports,__webpack_require__){var metadata=__webpack_require__(47),anObject=__webpack_require__(8),aFunction=__webpack_require__(29),toMetaKey=metadata.key,ordinaryDefineOwnMetadata=metadata.set;metadata.exp({metadata:function(metadataKey,metadataValue){return function(target,targetKey){ordinaryDefineOwnMetadata(metadataKey,metadataValue,(void 0!==targetKey?anObject:aFunction)(target),toMetaKey(targetKey))}}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.P+$export.R,"Set",{toJSON:__webpack_require__(221)("Set")})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),$at=__webpack_require__(157)(!0);$export($export.P,"String",{at:function(pos){return $at(this,pos)}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),defined=__webpack_require__(39),toLength=__webpack_require__(22),isRegExp=__webpack_require__(118),getFlags=__webpack_require__(116),RegExpProto=RegExp.prototype,$RegExpStringIterator=function(regexp,string){this._r=regexp,this._s=string};__webpack_require__(149)($RegExpStringIterator,"RegExp String",function(){var match=this._r.exec(this._s);return{value:match,done:null===match}}),$export($export.P,"String",{matchAll:function(regexp){if(defined(this),!isRegExp(regexp))throw TypeError(regexp+" is not a regexp!");var S=String(this),flags="flags"in RegExpProto?String(regexp.flags):getFlags.call(regexp),rx=new RegExp(regexp.source,~flags.indexOf("g")?flags:"g"+flags);return rx.lastIndex=toLength(regexp.lastIndex),new $RegExpStringIterator(rx,S)}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),$pad=__webpack_require__(237);$export($export.P,"String",{padEnd:function(maxLength){return $pad(this,maxLength,arguments.length>1?arguments[1]:void 0,!1)}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(1),$pad=__webpack_require__(237);$export($export.P,"String",{padStart:function(maxLength){return $pad(this,maxLength,arguments.length>1?arguments[1]:void 0,!0)}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(73)("trimLeft",function($trim){return function(){return $trim(this,1)}},"trimStart")},function(module,exports,__webpack_require__){"use strict";__webpack_require__(73)("trimRight",function($trim){return function(){return $trim(this,2)}},"trimEnd")},function(module,exports,__webpack_require__){__webpack_require__(163)("asyncIterator")},function(module,exports,__webpack_require__){__webpack_require__(163)("observable")},function(module,exports,__webpack_require__){var $export=__webpack_require__(1);$export($export.S,"System",{global:__webpack_require__(11)})},function(module,exports,__webpack_require__){for(var $iterators=__webpack_require__(165),redefine=__webpack_require__(31),global=__webpack_require__(11),hide=__webpack_require__(30),Iterators=__webpack_require__(71),wks=__webpack_require__(16),ITERATOR=wks("iterator"),TO_STRING_TAG=wks("toStringTag"),ArrayValues=Iterators.Array,collections=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],i=0;i<5;i++){var key,NAME=collections[i],Collection=global[NAME],proto=Collection&&Collection.prototype;if(proto){proto[ITERATOR]||hide(proto,ITERATOR,ArrayValues),proto[TO_STRING_TAG]||hide(proto,TO_STRING_TAG,NAME),Iterators[NAME]=ArrayValues;for(key in $iterators)proto[key]||redefine(proto,key,$iterators[key],!0)}}},function(module,exports,__webpack_require__){var $export=__webpack_require__(1),$task=__webpack_require__(161);$export($export.G+$export.B,{setImmediate:$task.set,clearImmediate:$task.clear})},function(module,exports,__webpack_require__){var global=__webpack_require__(11),$export=__webpack_require__(1),invoke=__webpack_require__(117),partial=__webpack_require__(403),navigator=global.navigator,MSIE=!!navigator&&/MSIE .\./.test(navigator.userAgent),wrap=function(set){return MSIE?function(fn,time){return set(invoke(partial,[].slice.call(arguments,2),"function"==typeof fn?fn:Function(fn)),time)}:set};$export($export.G+$export.B+$export.F*MSIE,{setTimeout:wrap(global.setTimeout),setInterval:wrap(global.setInterval)})},function(module,exports,__webpack_require__){__webpack_require__(526),__webpack_require__(465),__webpack_require__(467),__webpack_require__(466),__webpack_require__(469),__webpack_require__(471),__webpack_require__(476),__webpack_require__(470),__webpack_require__(468),__webpack_require__(478),__webpack_require__(477),__webpack_require__(473),__webpack_require__(474),__webpack_require__(472),__webpack_require__(464),__webpack_require__(475),__webpack_require__(479),__webpack_require__(480),__webpack_require__(432),__webpack_require__(434),__webpack_require__(433),__webpack_require__(482),__webpack_require__(481),__webpack_require__(452),__webpack_require__(462),__webpack_require__(463),__webpack_require__(453),__webpack_require__(454),__webpack_require__(455),__webpack_require__(456),__webpack_require__(457),__webpack_require__(458),__webpack_require__(459),__webpack_require__(460),__webpack_require__(461),__webpack_require__(435),__webpack_require__(436),__webpack_require__(437),__webpack_require__(438),__webpack_require__(439),__webpack_require__(440),__webpack_require__(441),__webpack_require__(442),__webpack_require__(443),__webpack_require__(444),__webpack_require__(445),__webpack_require__(446),__webpack_require__(447),__webpack_require__(448),__webpack_require__(449),__webpack_require__(450),__webpack_require__(451),__webpack_require__(513),__webpack_require__(518),__webpack_require__(525),__webpack_require__(516),__webpack_require__(508),__webpack_require__(509),__webpack_require__(514),__webpack_require__(519),__webpack_require__(521),__webpack_require__(504),__webpack_require__(505),__webpack_require__(506),__webpack_require__(507),__webpack_require__(510),__webpack_require__(511),__webpack_require__(512),__webpack_require__(515),__webpack_require__(517),__webpack_require__(520),__webpack_require__(522),__webpack_require__(523),__webpack_require__(524),__webpack_require__(427),__webpack_require__(429),__webpack_require__(428),__webpack_require__(431),__webpack_require__(430),__webpack_require__(416),__webpack_require__(414),__webpack_require__(420),__webpack_require__(417),__webpack_require__(423),__webpack_require__(425),__webpack_require__(413),__webpack_require__(419),__webpack_require__(410),__webpack_require__(424),__webpack_require__(408),__webpack_require__(422),__webpack_require__(421),__webpack_require__(415),__webpack_require__(418),__webpack_require__(407),__webpack_require__(409),__webpack_require__(412),__webpack_require__(411),__webpack_require__(426),__webpack_require__(165),__webpack_require__(498),__webpack_require__(503),__webpack_require__(240),__webpack_require__(499),__webpack_require__(500),__webpack_require__(501),__webpack_require__(502),__webpack_require__(483),__webpack_require__(239),__webpack_require__(241),__webpack_require__(242),__webpack_require__(538),__webpack_require__(527),__webpack_require__(528),__webpack_require__(533),__webpack_require__(536),__webpack_require__(537),__webpack_require__(531),__webpack_require__(534),__webpack_require__(532),__webpack_require__(535),__webpack_require__(529),__webpack_require__(530),__webpack_require__(484),__webpack_require__(485),__webpack_require__(486),__webpack_require__(487),__webpack_require__(488),__webpack_require__(491),__webpack_require__(489),__webpack_require__(490),__webpack_require__(492),__webpack_require__(493),__webpack_require__(494),__webpack_require__(495),__webpack_require__(497),__webpack_require__(496),__webpack_require__(539),__webpack_require__(565),__webpack_require__(568),__webpack_require__(567),__webpack_require__(569),__webpack_require__(570),__webpack_require__(566),__webpack_require__(571),__webpack_require__(572),__webpack_require__(550),__webpack_require__(553),__webpack_require__(549),__webpack_require__(547),__webpack_require__(548),__webpack_require__(551),__webpack_require__(552),__webpack_require__(542),__webpack_require__(564),__webpack_require__(573),__webpack_require__(541),__webpack_require__(543),__webpack_require__(545),__webpack_require__(544),__webpack_require__(546),__webpack_require__(555),__webpack_require__(556),__webpack_require__(558),__webpack_require__(557),__webpack_require__(560),__webpack_require__(559),__webpack_require__(561),__webpack_require__(562),__webpack_require__(563),__webpack_require__(540),__webpack_require__(554),__webpack_require__(576),__webpack_require__(575),__webpack_require__(574),module.exports=__webpack_require__(45)},function(module,exports,__webpack_require__){(function(Buffer){function ECDH(curve){this.curveType=aliases[curve],this.curveType||(this.curveType={name:curve}),this.curve=new elliptic.ec(this.curveType.name),this.keys=void 0}function formatReturnValue(bn,enc,len){Array.isArray(bn)||(bn=bn.toArray());var buf=new Buffer(bn);if(len&&buf.length<len){var zeros=new Buffer(len-buf.length);zeros.fill(0),buf=Buffer.concat([zeros,buf])}return enc?buf.toString(enc):buf}var elliptic=__webpack_require__(24),BN=__webpack_require__(19);module.exports=function(curve){return new ECDH(curve)};var aliases={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};aliases.p224=aliases.secp224r1,aliases.p256=aliases.secp256r1=aliases.prime256v1,aliases.p192=aliases.secp192r1=aliases.prime192v1,aliases.p384=aliases.secp384r1,aliases.p521=aliases.secp521r1,ECDH.prototype.generateKeys=function(enc,format){return this.keys=this.curve.genKeyPair(),this.getPublicKey(enc,format)},ECDH.prototype.computeSecret=function(other,inenc,enc){inenc=inenc||"utf8",Buffer.isBuffer(other)||(other=new Buffer(other,inenc));var otherPub=this.curve.keyFromPublic(other).getPublic(),out=otherPub.mul(this.keys.getPrivate()).getX();return formatReturnValue(out,enc,this.curveType.byteLength)},ECDH.prototype.getPublicKey=function(enc,format){var key=this.keys.getPublic("compressed"===format,!0);return"hybrid"===format&&(key[key.length-1]%2?key[0]=7:key[0]=6),formatReturnValue(key,enc)},ECDH.prototype.getPrivateKey=function(enc){return formatReturnValue(this.keys.getPrivate(),enc)},ECDH.prototype.setPublicKey=function(pub,enc){return enc=enc||"utf8",Buffer.isBuffer(pub)||(pub=new Buffer(pub,enc)),this.keys._importPublic(pub),this},ECDH.prototype.setPrivateKey=function(priv,enc){enc=enc||"utf8",Buffer.isBuffer(priv)||(priv=new Buffer(priv,enc));var _priv=new BN(priv);return _priv=_priv.toString(16),this.keys._importPrivate(_priv),this}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function toArray(buf,bigEndian){if(buf.length%intSize!==0){var len=buf.length+(intSize-buf.length%intSize);buf=Buffer.concat([buf,zeroBuffer],len)}for(var arr=[],fn=bigEndian?buf.readInt32BE:buf.readInt32LE,i=0;i<buf.length;i+=intSize)arr.push(fn.call(buf,i));return arr}function toBuffer(arr,size,bigEndian){for(var buf=new Buffer(size),fn=bigEndian?buf.writeInt32BE:buf.writeInt32LE,i=0;i<arr.length;i++)fn.call(buf,arr[i],4*i,!0);return buf}function hash(buf,fn,hashSize,bigEndian){Buffer.isBuffer(buf)||(buf=new Buffer(buf));var arr=fn(toArray(buf,bigEndian),buf.length*chrsz);return toBuffer(arr,hashSize,bigEndian)}var intSize=4,zeroBuffer=new Buffer(intSize);zeroBuffer.fill(0);var chrsz=8;exports.hash=hash}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){var require,require;!function(a){module.exports=a()}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return require(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(b,c,d){"use strict";function e(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}var f=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};!function(b){function d(a){return a&&"object"===("undefined"==typeof a?"undefined":g(a))}function h(a){var b=Object.keys(a).sort();if(1===b.length){var c=b[0],d=a[c],e=void 0,f=void 0;switch(c){case"eq":e="only";break;case"gt":e="lowerBound",f=!0;break;case"lt":e="upperBound",f=!0;break;case"gte":e="lowerBound";break;case"lte":e="upperBound";break;default:throw new TypeError("`"+c+"` is not a valid key")}return[e,[d,f]]}var g=a[b[0]],h=a[b[1]],i=b.join("-");switch(i){case"gt-lt":case"gt-lte":case"gte-lt":case"gte-lte":return["bound",[g,h,"gt"===b[0],"lt"===b[1]]];default:throw new TypeError("`"+i+"` are conflicted keys")}}function i(a){if(a&&"object"===("undefined"==typeof a?"undefined":g(a))&&!(a instanceof j)){var b=h(a),c=f(b,2),d=c[0],i=c[1];return j[d].apply(j,e(i))}return a}var j=b.IDBKeyRange||b.webkitIDBKeyRange,k={readonly:"readonly",readwrite:"readwrite"},l=Object.prototype.hasOwnProperty,m=function(a){return a},n=b.indexedDB||b.webkitIndexedDB||b.mozIndexedDB||b.oIndexedDB||b.msIndexedDB||b.shimIndexedDB||function(){throw new Error("IndexedDB required")}(),o={},p=["abort","error","versionchange"],q=function(a,b,c,d){var f=this,i=null,l=function(d,f,h,l,m,n,o){return new Promise(function(p,q){var r=void 0;try{r=d?j[d].apply(j,e(f)):null}catch(s){return void q(s)}n=n||[],m=m||null;var t=[],u=0,v=[r],w=b.transaction(a,i?k.readwrite:k.readonly);w.onerror=function(a){return q(a)},w.onabort=function(a){return q(a)},w.oncomplete=function(){return p(t)};var x=w.objectStore(a),y="string"==typeof c?x.index(c):x;"count"!==h&&v.push(l||"next");var z=i?Object.keys(i):[],A=function(a){return z.forEach(function(b){var c=i[b];"function"==typeof c&&(c=c(a)),a[b]=c}),a};y[h].apply(y,v).onsuccess=function(a){var b=a.target.result;if("number"==typeof b)t=b;else if(b)if(null!==m&&m[0]>u)u=m[0],b.advance(m[0]);else if(null!==m&&u>=m[0]+m[1]);else{var c=function(){var a=!0,c="value"in b?b.value:b.key;try{n.forEach(function(b){a="function"==typeof b[0]?a&&b[0](c):a&&c[b[0]]===b[1]})}catch(d){return q(d),{v:void 0}}if(a){if(u++,i)try{c=A(c),b.update(c)}catch(d){return q(d),{v:void 0}}try{t.push(o(c))}catch(d){return q(d),{v:void 0}}}b.continue()}();if("object"===("undefined"==typeof c?"undefined":g(c)))return c.v}}})},n=function(a,b,c){var e=[],f="next",h="openCursor",j=null,k=m,n=!1,o=d||c,p=function(){return o?Promise.reject(o):l(a,b,h,n?f+"unique":f,j,e,k)},q=function(){return f=null,h="count",{execute:p}},r=function(){return h="openKeyCursor",{desc:u,distinct:v,execute:p,filter:t,limit:s,map:x}},s=function(a,b){return j=b?[a,b]:[0,a],o=j.some(function(a){return"number"!=typeof a})?new Error("limit() arguments must be numeric"):o,{desc:u,distinct:v,filter:t,keys:r,execute:p,map:x,modify:w}},t=function y(a,b){return e.push([a,b]),{desc:u,distinct:v,execute:p,filter:y,keys:r,limit:s,map:x,modify:w}},u=function(){return f="prev",{distinct:v,execute:p,filter:t,keys:r,limit:s,map:x,modify:w}},v=function(){return n=!0,{count:q,desc:u,execute:p,filter:t,keys:r,limit:s,map:x,modify:w}},w=function(a){return i=a&&"object"===("undefined"==typeof a?"undefined":g(a))?a:null,{execute:p}},x=function(a){return k=a,{count:q,desc:u,distinct:v,execute:p,filter:t,keys:r,limit:s,modify:w}};return{count:q,desc:u,distinct:v,execute:p,filter:t,keys:r,limit:s,map:x,modify:w}};["only","bound","upperBound","lowerBound"].forEach(function(a){f[a]=function(){return n(a,arguments)}}),this.range=function(a){var b=void 0,c=[null,null];try{c=h(a)}catch(d){b=d}return n.apply(void 0,e(c).concat([b]))},this.filter=function(){var a=n(null,null);return a.filter.apply(a,arguments)},this.all=function(){return this.filter()}},r=function(a,b,c,e){var f=this,g=!1;if(this.getIndexedDB=function(){return a},this.isClosed=function(){return g},this.query=function(b,c){var d=g?new Error("Database has been closed"):null;return new q(b,a,c,d)},this.add=function(b){for(var c=arguments.length,e=Array(c>1?c-1:0),f=1;c>f;f++)e[f-1]=arguments[f];return new Promise(function(c,f){if(g)return void f(new Error("Database has been closed"));var h=e.reduce(function(a,b){return a.concat(b)},[]),j=a.transaction(b,k.readwrite);j.onerror=function(a){a.preventDefault(),f(a)},j.onabort=function(a){return f(a)},j.oncomplete=function(){return c(h)};var m=j.objectStore(b);h.some(function(a){var b=void 0,c=void 0;if(d(a)&&l.call(a,"item")&&(c=a.key,a=a.item,null!=c))try{c=i(c)}catch(e){return f(e),!0}try{b=null!=c?m.add(a,c):m.add(a)}catch(e){return f(e),!0}b.onsuccess=function(b){if(d(a)){var c=b.target,e=c.source.keyPath;null===e&&(e="__id__"),l.call(a,e)||Object.defineProperty(a,e,{value:c.result,enumerable:!0})}}})})},this.update=function(b){for(var c=arguments.length,e=Array(c>1?c-1:0),f=1;c>f;f++)e[f-1]=arguments[f];return new Promise(function(c,f){if(g)return void f(new Error("Database has been closed"));var h=e.reduce(function(a,b){return a.concat(b)},[]),j=a.transaction(b,k.readwrite);j.onerror=function(a){a.preventDefault(),f(a)},j.onabort=function(a){return f(a)},j.oncomplete=function(){return c(h)};var m=j.objectStore(b);h.some(function(a){var b=void 0,c=void 0;if(d(a)&&l.call(a,"item")&&(c=a.key,a=a.item,null!=c))try{c=i(c)}catch(e){return f(e),!0}try{b=null!=c?m.put(a,c):m.put(a)}catch(g){return f(g),!0}b.onsuccess=function(b){if(d(a)){var c=b.target,e=c.source.keyPath;null===e&&(e="__id__"),l.call(a,e)||Object.defineProperty(a,e,{value:c.result,enumerable:!0})}}})})},this.put=function(){return this.update.apply(this,arguments)},this.remove=function(b,c){return new Promise(function(d,e){if(g)return void e(new Error("Database has been closed"));try{c=i(c)}catch(f){return void e(f)}var h=a.transaction(b,k.readwrite);h.onerror=function(a){a.preventDefault(),e(a)},h.onabort=function(a){return e(a)},h.oncomplete=function(){return d(c)};var j=h.objectStore(b);try{j.delete(c)}catch(l){e(l)}})},this.delete=function(){return this.remove.apply(this,arguments)},this.clear=function(b){return new Promise(function(c,d){if(g)return void d(new Error("Database has been closed"));var e=a.transaction(b,k.readwrite);e.onerror=function(a){return d(a)},e.onabort=function(a){return d(a)},e.oncomplete=function(){return c()};var f=e.objectStore(b);f.clear()})},this.close=function(){return new Promise(function(d,e){return g?void e(new Error("Database has been closed")):(a.close(),g=!0,delete o[b][c],void d())})},this.get=function(b,c){return new Promise(function(d,e){if(g)return void e(new Error("Database has been closed"));try{c=i(c)}catch(f){return void e(f)}var h=a.transaction(b);h.onerror=function(a){a.preventDefault(),e(a)},h.onabort=function(a){return e(a)};var j=h.objectStore(b),k=void 0;try{k=j.get(c)}catch(l){e(l)}k.onsuccess=function(a){return d(a.target.result)}})},this.count=function(b,c){return new Promise(function(d,e){if(g)return void e(new Error("Database has been closed"));try{c=i(c)}catch(f){return void e(f)}var h=a.transaction(b);h.onerror=function(a){a.preventDefault(),e(a)},h.onabort=function(a){return e(a)};var j=h.objectStore(b),k=void 0;try{k=null==c?j.count():j.count(c)}catch(l){e(l)}k.onsuccess=function(a){return d(a.target.result)}})},this.addEventListener=function(b,c){if(!p.includes(b))throw new Error("Unrecognized event type "+b);return"error"===b?void a.addEventListener(b,function(a){a.preventDefault(),c(a)}):void a.addEventListener(b,c)},this.removeEventListener=function(b,c){if(!p.includes(b))throw new Error("Unrecognized event type "+b);a.removeEventListener(b,c)},p.forEach(function(a){this[a]=function(b){return this.addEventListener(a,b),this}},this),!e){var h=void 0;return[].some.call(a.objectStoreNames,function(a){if(f[a])return h=new Error('The store name, "'+a+'", which you have attempted to load, conflicts with db.js method names."'),f.close(),!0;f[a]={};var b=Object.keys(f);b.filter(function(a){return![].concat(p,["close","addEventListener","removeEventListener"]).includes(a)}).map(function(b){return f[a][b]=function(){for(var c=arguments.length,d=Array(c),e=0;c>e;e++)d[e]=arguments[e];return f[b].apply(f,[a].concat(d))}})}),h}},s=function(a,b,c,d,e,f){if(c&&0!==c.length){for(var h=0;h<d.objectStoreNames.length;h++){var i=d.objectStoreNames[h];l.call(c,i)||d.deleteObjectStore(i)}var j=void 0;return Object.keys(c).some(function(a){var e=c[a],f=void 0;if(d.objectStoreNames.contains(a))f=b.transaction.objectStore(a);else try{f=d.createObjectStore(a,e.key)}catch(h){return j=h,!0}Object.keys(e.indexes||{}).some(function(a){try{f.index(a)}catch(b){var c=e.indexes[a];c=c&&"object"===("undefined"==typeof c?"undefined":g(c))?c:{};try{f.createIndex(a,c.keyPath||c.key||a,c)}catch(d){return j=d,!0}}})}),j}},t=function(a,b,c,d){var e=a.target.result;o[b][c]=e;var f=new r(e,b,c,d);return f instanceof Error?Promise.reject(f):Promise.resolve(f)},u={version:"0.15.0",open:function(a){var b=a.server,c=a.version||1,d=a.schema,e=a.noServerMethods;return o[b]||(o[b]={}),new Promise(function(a,f){if(o[b][c])t({target:{result:o[b][c]}},b,c,e).then(a,f);else{var h=function(){if("function"==typeof d)try{d=d()}catch(g){return f(g),{v:void 0}}var h=n.open(b,c);h.onsuccess=function(d){return t(d,b,c,e).then(a,f)},h.onerror=function(a){a.preventDefault(),f(a)},h.onupgradeneeded=function(a){var e=s(a,h,d,a.target.result,b,c);e&&f(e)},h.onblocked=function(a){var d=new Promise(function(a,d){h.onsuccess=function(f){t(f,b,c,e).then(a,d)},h.onerror=function(a){return d(a)}});a.resume=d,f(a)}}();if("object"===("undefined"==typeof h?"undefined":g(h)))return h.v}})},delete:function(a){return new Promise(function(b,c){var d=n.deleteDatabase(a);d.onsuccess=function(a){return b(a)},d.onerror=function(a){return c(a)},d.onblocked=function(a){a=null===a.newVersion||"undefined"==typeof Proxy?a:new Proxy(a,{get:function(a,b){return"newVersion"===b?null:a[b]}});var b=new Promise(function(b,c){d.onsuccess=function(c){"newVersion"in c||(c.newVersion=a.newVersion),"oldVersion"in c||(c.oldVersion=a.oldVersion),b(c)},d.onerror=function(a){return c(a)}});a.resume=b,c(a)}})},cmp:function(a,b){return new Promise(function(c,d){try{c(n.cmp(a,b))}catch(e){d(e)}})}};"undefined"!=typeof c&&"undefined"!=typeof c.exports?c.exports=u:"function"==typeof a&&a.amd?a(function(){return u}):b.db=u}(self)},{}]},{},[1])(1)})},function(module,exports,__webpack_require__){function selectColor(){return exports.colors[prevColor++%exports.colors.length]}function debug(namespace){function disabled(){}function enabled(){var self=enabled,curr=+new Date,ms=curr-(prevTime||curr);self.diff=ms,self.prev=prevTime,self.curr=curr,prevTime=curr,null==self.useColors&&(self.useColors=exports.useColors()),null==self.color&&self.useColors&&(self.color=selectColor());var args=Array.prototype.slice.call(arguments);args[0]=exports.coerce(args[0]),"string"!=typeof args[0]&&(args=["%o"].concat(args));var index=0;args[0]=args[0].replace(/%([a-z%])/g,function(match,format){if("%%"===match)return match;index++;var formatter=exports.formatters[format];if("function"==typeof formatter){var val=args[index];match=formatter.call(self,val),args.splice(index,1),index--}return match}),"function"==typeof exports.formatArgs&&(args=exports.formatArgs.apply(self,args));var logFn=enabled.log||exports.log||console.log.bind(console);logFn.apply(self,args)}disabled.enabled=!1,enabled.enabled=!0;var fn=exports.enabled(namespace)?enabled:disabled;return fn.namespace=namespace,fn}function enable(namespaces){exports.save(namespaces);for(var split=(namespaces||"").split(/[\s,]+/),len=split.length,i=0;i<len;i++)split[i]&&(namespaces=split[i].replace(/\*/g,".*?"),"-"===namespaces[0]?exports.skips.push(new RegExp("^"+namespaces.substr(1)+"$")):exports.names.push(new RegExp("^"+namespaces+"$")))}function disable(){exports.enable("")}function enabled(name){var i,len;for(i=0,len=exports.skips.length;i<len;i++)if(exports.skips[i].test(name))return!1;for(i=0,len=exports.names.length;i<len;i++)if(exports.names[i].test(name))return!0;return!1}function coerce(val){return val instanceof Error?val.stack||val.message:val}exports=module.exports=debug,exports.coerce=coerce,exports.disable=disable,exports.enable=enable,exports.enabled=enabled,exports.humanize=__webpack_require__(698),exports.names=[],exports.skips=[],exports.formatters={};var prevTime,prevColor=0},function(module,exports){module.exports=function(){for(var i=0;i<arguments.length;i++)if(void 0!==arguments[i])return arguments[i]}},function(module,exports,__webpack_require__){"use strict";function CBCState(iv){assert.equal(iv.length,8,"Invalid IV length"),this.iv=new Array(8);for(var i=0;i<this.iv.length;i++)this.iv[i]=iv[i]}function instantiate(Base){function CBC(options){Base.call(this,options),this._cbcInit()}inherits(CBC,Base);for(var keys=Object.keys(proto),i=0;i<keys.length;i++){var key=keys[i];CBC.prototype[key]=proto[key]}return CBC.create=function(options){return new CBC(options)},CBC}var assert=__webpack_require__(82),inherits=__webpack_require__(2),proto={};exports.instantiate=instantiate,proto._cbcInit=function(){var state=new CBCState(this.options.iv);this._cbcState=state},proto._update=function(inp,inOff,out,outOff){
var state=this._cbcState,superProto=this.constructor.super_.prototype,iv=state.iv;if("encrypt"===this.type){for(var i=0;i<this.blockSize;i++)iv[i]^=inp[inOff+i];superProto._update.call(this,iv,0,out,outOff);for(var i=0;i<this.blockSize;i++)iv[i]=out[outOff+i]}else{superProto._update.call(this,inp,inOff,out,outOff);for(var i=0;i<this.blockSize;i++)out[outOff+i]^=iv[i];for(var i=0;i<this.blockSize;i++)iv[i]=inp[inOff+i]}}},function(module,exports,__webpack_require__){"use strict";function Cipher(options){this.options=options,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}var assert=__webpack_require__(82);module.exports=Cipher,Cipher.prototype._init=function(){},Cipher.prototype.update=function(data){return 0===data.length?[]:"decrypt"===this.type?this._updateDecrypt(data):this._updateEncrypt(data)},Cipher.prototype._buffer=function(data,off){for(var min=Math.min(this.buffer.length-this.bufferOff,data.length-off),i=0;i<min;i++)this.buffer[this.bufferOff+i]=data[off+i];return this.bufferOff+=min,min},Cipher.prototype._flushBuffer=function(out,off){return this._update(this.buffer,0,out,off),this.bufferOff=0,this.blockSize},Cipher.prototype._updateEncrypt=function(data){var inputOff=0,outputOff=0,count=(this.bufferOff+data.length)/this.blockSize|0,out=new Array(count*this.blockSize);0!==this.bufferOff&&(inputOff+=this._buffer(data,inputOff),this.bufferOff===this.buffer.length&&(outputOff+=this._flushBuffer(out,outputOff)));for(var max=data.length-(data.length-inputOff)%this.blockSize;inputOff<max;inputOff+=this.blockSize)this._update(data,inputOff,out,outputOff),outputOff+=this.blockSize;for(;inputOff<data.length;inputOff++,this.bufferOff++)this.buffer[this.bufferOff]=data[inputOff];return out},Cipher.prototype._updateDecrypt=function(data){for(var inputOff=0,outputOff=0,count=Math.ceil((this.bufferOff+data.length)/this.blockSize)-1,out=new Array(count*this.blockSize);count>0;count--)inputOff+=this._buffer(data,inputOff),outputOff+=this._flushBuffer(out,outputOff);return inputOff+=this._buffer(data,inputOff),out},Cipher.prototype.final=function(buffer){var first;buffer&&(first=this.update(buffer));var last;return last="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),first?first.concat(last):last},Cipher.prototype._pad=function(buffer,off){if(0===off)return!1;for(;off<buffer.length;)buffer[off++]=0;return!0},Cipher.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var out=new Array(this.blockSize);return this._update(this.buffer,0,out,0),out},Cipher.prototype._unpad=function(buffer){return buffer},Cipher.prototype._finalDecrypt=function(){assert.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var out=new Array(this.blockSize);return this._flushBuffer(out,0),this._unpad(out)}},function(module,exports,__webpack_require__){"use strict";function DESState(){this.tmp=new Array(2),this.keys=null}function DES(options){Cipher.call(this,options);var state=new DESState;this._desState=state,this.deriveKeys(state,options.key)}var assert=__webpack_require__(82),inherits=__webpack_require__(2),des=__webpack_require__(167),utils=des.utils,Cipher=des.Cipher;inherits(DES,Cipher),module.exports=DES,DES.create=function(options){return new DES(options)};var shiftTable=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];DES.prototype.deriveKeys=function(state,key){state.keys=new Array(32),assert.equal(key.length,this.blockSize,"Invalid key length");var kL=utils.readUInt32BE(key,0),kR=utils.readUInt32BE(key,4);utils.pc1(kL,kR,state.tmp,0),kL=state.tmp[0],kR=state.tmp[1];for(var i=0;i<state.keys.length;i+=2){var shift=shiftTable[i>>>1];kL=utils.r28shl(kL,shift),kR=utils.r28shl(kR,shift),utils.pc2(kL,kR,state.keys,i)}},DES.prototype._update=function(inp,inOff,out,outOff){var state=this._desState,l=utils.readUInt32BE(inp,inOff),r=utils.readUInt32BE(inp,inOff+4);utils.ip(l,r,state.tmp,0),l=state.tmp[0],r=state.tmp[1],"encrypt"===this.type?this._encrypt(state,l,r,state.tmp,0):this._decrypt(state,l,r,state.tmp,0),l=state.tmp[0],r=state.tmp[1],utils.writeUInt32BE(out,l,outOff),utils.writeUInt32BE(out,r,outOff+4)},DES.prototype._pad=function(buffer,off){for(var value=buffer.length-off,i=off;i<buffer.length;i++)buffer[i]=value;return!0},DES.prototype._unpad=function(buffer){for(var pad=buffer[buffer.length-1],i=buffer.length-pad;i<buffer.length;i++)assert.equal(buffer[i],pad);return buffer.slice(0,buffer.length-pad)},DES.prototype._encrypt=function(state,lStart,rStart,out,off){for(var l=lStart,r=rStart,i=0;i<state.keys.length;i+=2){var keyL=state.keys[i],keyR=state.keys[i+1];utils.expand(r,state.tmp,0),keyL^=state.tmp[0],keyR^=state.tmp[1];var s=utils.substitute(keyL,keyR),f=utils.permute(s),t=r;r=(l^f)>>>0,l=t}utils.rip(r,l,out,off)},DES.prototype._decrypt=function(state,lStart,rStart,out,off){for(var l=rStart,r=lStart,i=state.keys.length-2;i>=0;i-=2){var keyL=state.keys[i],keyR=state.keys[i+1];utils.expand(l,state.tmp,0),keyL^=state.tmp[0],keyR^=state.tmp[1];var s=utils.substitute(keyL,keyR),f=utils.permute(s),t=l;l=(r^f)>>>0,r=t}utils.rip(l,r,out,off)}},function(module,exports,__webpack_require__){"use strict";function EDEState(type,key){assert.equal(key.length,24,"Invalid key length");var k1=key.slice(0,8),k2=key.slice(8,16),k3=key.slice(16,24);"encrypt"===type?this.ciphers=[DES.create({type:"encrypt",key:k1}),DES.create({type:"decrypt",key:k2}),DES.create({type:"encrypt",key:k3})]:this.ciphers=[DES.create({type:"decrypt",key:k3}),DES.create({type:"encrypt",key:k2}),DES.create({type:"decrypt",key:k1})]}function EDE(options){Cipher.call(this,options);var state=new EDEState(this.type,this.options.key);this._edeState=state}var assert=__webpack_require__(82),inherits=__webpack_require__(2),des=__webpack_require__(167),Cipher=des.Cipher,DES=des.DES;inherits(EDE,Cipher),module.exports=EDE,EDE.create=function(options){return new EDE(options)},EDE.prototype._update=function(inp,inOff,out,outOff){var state=this._edeState;state.ciphers[0]._update(inp,inOff,out,outOff),state.ciphers[1]._update(out,outOff,out,outOff),state.ciphers[2]._update(out,outOff,out,outOff)},EDE.prototype._pad=DES.prototype._pad,EDE.prototype._unpad=DES.prototype._unpad},function(module,exports){"use strict";exports.readUInt32BE=function(bytes,off){var res=bytes[0+off]<<24|bytes[1+off]<<16|bytes[2+off]<<8|bytes[3+off];return res>>>0},exports.writeUInt32BE=function(bytes,value,off){bytes[0+off]=value>>>24,bytes[1+off]=value>>>16&255,bytes[2+off]=value>>>8&255,bytes[3+off]=255&value},exports.ip=function(inL,inR,out,off){for(var outL=0,outR=0,i=6;i>=0;i-=2){for(var j=0;j<=24;j+=8)outL<<=1,outL|=inR>>>j+i&1;for(var j=0;j<=24;j+=8)outL<<=1,outL|=inL>>>j+i&1}for(var i=6;i>=0;i-=2){for(var j=1;j<=25;j+=8)outR<<=1,outR|=inR>>>j+i&1;for(var j=1;j<=25;j+=8)outR<<=1,outR|=inL>>>j+i&1}out[off+0]=outL>>>0,out[off+1]=outR>>>0},exports.rip=function(inL,inR,out,off){for(var outL=0,outR=0,i=0;i<4;i++)for(var j=24;j>=0;j-=8)outL<<=1,outL|=inR>>>j+i&1,outL<<=1,outL|=inL>>>j+i&1;for(var i=4;i<8;i++)for(var j=24;j>=0;j-=8)outR<<=1,outR|=inR>>>j+i&1,outR<<=1,outR|=inL>>>j+i&1;out[off+0]=outL>>>0,out[off+1]=outR>>>0},exports.pc1=function(inL,inR,out,off){for(var outL=0,outR=0,i=7;i>=5;i--){for(var j=0;j<=24;j+=8)outL<<=1,outL|=inR>>j+i&1;for(var j=0;j<=24;j+=8)outL<<=1,outL|=inL>>j+i&1}for(var j=0;j<=24;j+=8)outL<<=1,outL|=inR>>j+i&1;for(var i=1;i<=3;i++){for(var j=0;j<=24;j+=8)outR<<=1,outR|=inR>>j+i&1;for(var j=0;j<=24;j+=8)outR<<=1,outR|=inL>>j+i&1}for(var j=0;j<=24;j+=8)outR<<=1,outR|=inL>>j+i&1;out[off+0]=outL>>>0,out[off+1]=outR>>>0},exports.r28shl=function(num,shift){return num<<shift&268435455|num>>>28-shift};var pc2table=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];exports.pc2=function(inL,inR,out,off){for(var outL=0,outR=0,len=pc2table.length>>>1,i=0;i<len;i++)outL<<=1,outL|=inL>>>pc2table[i]&1;for(var i=len;i<pc2table.length;i++)outR<<=1,outR|=inR>>>pc2table[i]&1;out[off+0]=outL>>>0,out[off+1]=outR>>>0},exports.expand=function(r,out,off){var outL=0,outR=0;outL=(1&r)<<5|r>>>27;for(var i=23;i>=15;i-=4)outL<<=6,outL|=r>>>i&63;for(var i=11;i>=3;i-=4)outR|=r>>>i&63,outR<<=6;outR|=(31&r)<<1|r>>>31,out[off+0]=outL>>>0,out[off+1]=outR>>>0};var sTable=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];exports.substitute=function(inL,inR){for(var out=0,i=0;i<4;i++){var b=inL>>>18-6*i&63,sb=sTable[64*i+b];out<<=4,out|=sb}for(var i=0;i<4;i++){var b=inR>>>18-6*i&63,sb=sTable[256+64*i+b];out<<=4,out|=sb}return out>>>0};var permuteTable=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];exports.permute=function(num){for(var out=0,i=0;i<permuteTable.length;i++)out<<=1,out|=num>>>permuteTable[i]&1;return out>>>0},exports.padSplit=function(num,size,group){for(var str=num.toString(2);str.length<size;)str="0"+str;for(var out=[],i=0;i<size;i+=group)out.push(str.slice(i,i+group));return out.join(" ")}},function(module,exports,__webpack_require__){(function(Buffer){function getDiffieHellman(mod){var prime=new Buffer(primes[mod].prime,"hex"),gen=new Buffer(primes[mod].gen,"hex");return new DH(prime,gen)}function createDiffieHellman(prime,enc,generator,genc){return Buffer.isBuffer(enc)||void 0===ENCODINGS[enc]?createDiffieHellman(prime,"binary",enc,generator):(enc=enc||"binary",genc=genc||"binary",generator=generator||new Buffer([2]),Buffer.isBuffer(generator)||(generator=new Buffer(generator,genc)),"number"==typeof prime?new DH(generatePrime(prime,generator),generator,(!0)):(Buffer.isBuffer(prime)||(prime=new Buffer(prime,enc)),new DH(prime,generator,(!0))))}var generatePrime=__webpack_require__(245),primes=__webpack_require__(318),DH=__webpack_require__(589),ENCODINGS={binary:!0,hex:!0,base64:!0};exports.DiffieHellmanGroup=exports.createDiffieHellmanGroup=exports.getDiffieHellman=getDiffieHellman,exports.createDiffieHellman=exports.DiffieHellman=createDiffieHellman}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function setPublicKey(pub,enc){return enc=enc||"utf8",Buffer.isBuffer(pub)||(pub=new Buffer(pub,enc)),this._pub=new BN(pub),this}function setPrivateKey(priv,enc){return enc=enc||"utf8",Buffer.isBuffer(priv)||(priv=new Buffer(priv,enc)),this._priv=new BN(priv),this}function checkPrime(prime,generator){var gen=generator.toString("hex"),hex=[gen,prime.toString(16)].join("_");if(hex in primeCache)return primeCache[hex];var error=0;if(prime.isEven()||!primes.simpleSieve||!primes.fermatTest(prime)||!millerRabin.test(prime))return error+=1,error+="02"===gen||"05"===gen?8:4,primeCache[hex]=error,error;millerRabin.test(prime.shrn(1))||(error+=2);var rem;switch(gen){case"02":prime.mod(TWENTYFOUR).cmp(ELEVEN)&&(error+=8);break;case"05":rem=prime.mod(TEN),rem.cmp(THREE)&&rem.cmp(SEVEN)&&(error+=8);break;default:error+=4}return primeCache[hex]=error,error}function DH(prime,generator,malleable){this.setGenerator(generator),this.__prime=new BN(prime),this._prime=BN.mont(this.__prime),this._primeLen=prime.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,malleable?(this.setPublicKey=setPublicKey,this.setPrivateKey=setPrivateKey):this._primeCode=8}function formatReturnValue(bn,enc){var buf=new Buffer(bn.toArray());return enc?buf.toString(enc):buf}var BN=__webpack_require__(19),MillerRabin=__webpack_require__(276),millerRabin=new MillerRabin,TWENTYFOUR=new BN(24),ELEVEN=new BN(11),TEN=new BN(10),THREE=new BN(3),SEVEN=new BN(7),primes=__webpack_require__(245),randomBytes=__webpack_require__(100);module.exports=DH;var primeCache={};Object.defineProperty(DH.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=checkPrime(this.__prime,this.__gen)),this._primeCode}}),DH.prototype.generateKeys=function(){return this._priv||(this._priv=new BN(randomBytes(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},DH.prototype.computeSecret=function(other){other=new BN(other),other=other.toRed(this._prime);var secret=other.redPow(this._priv).fromRed(),out=new Buffer(secret.toArray()),prime=this.getPrime();if(out.length<prime.length){var front=new Buffer(prime.length-out.length);front.fill(0),out=Buffer.concat([front,out])}return out},DH.prototype.getPublicKey=function(enc){return formatReturnValue(this._pub,enc)},DH.prototype.getPrivateKey=function(enc){return formatReturnValue(this._priv,enc)},DH.prototype.getPrime=function(enc){return formatReturnValue(this.__prime,enc)},DH.prototype.getGenerator=function(enc){return formatReturnValue(this._gen,enc)},DH.prototype.setGenerator=function(gen,enc){return enc=enc||"utf8",Buffer.isBuffer(gen)||(gen=new Buffer(gen,enc)),this.__gen=gen,this._gen=new BN(gen),this}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer,process){var stream=__webpack_require__(593),eos=__webpack_require__(591),inherits=__webpack_require__(2),shift=__webpack_require__(312),SIGNAL_FLUSH=new Buffer([0]),onuncork=function(self,fn){self._corked?self.once("uncork",fn):fn()},destroyer=function(self,end){return function(err){err?self.destroy("premature close"===err.message?null:err):end&&!self._ended&&self.end()}},end=function(ws,fn){return ws?ws._writableState&&ws._writableState.finished?fn():ws._writableState?ws.end(fn):(ws.end(),void fn()):fn()},toStreams2=function(rs){return new stream.Readable({objectMode:!0,highWaterMark:16}).wrap(rs)},Duplexify=function(writable,readable,opts){return this instanceof Duplexify?(stream.Duplex.call(this,opts),this._writable=null,this._readable=null,this._readable2=null,this._forwardDestroy=!opts||opts.destroy!==!1,this._forwardEnd=!opts||opts.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.closed=!1,this.destroyed=!1,writable&&this.setWritable(writable),void(readable&&this.setReadable(readable))):new Duplexify(writable,readable,opts)};inherits(Duplexify,stream.Duplex),Duplexify.obj=function(writable,readable,opts){return opts||(opts={}),opts.objectMode=!0,opts.highWaterMark=16,new Duplexify(writable,readable,opts)},Duplexify.prototype.cork=function(){1===++this._corked&&this.emit("cork")},Duplexify.prototype.uncork=function(){this._corked&&0===--this._corked&&this.emit("uncork")},Duplexify.prototype.setWritable=function(writable){if(this._unwrite&&this._unwrite(),this.destroyed)return void(writable&&writable.destroy&&writable.destroy());if(null===writable||writable===!1)return void this.end();var self=this,unend=eos(writable,{writable:!0,readable:!1},destroyer(this,this._forwardEnd)),ondrain=function(){var ondrain=self._ondrain;self._ondrain=null,ondrain&&ondrain()},clear=function(){self._writable.removeListener("drain",ondrain),unend()};this._unwrite&&process.nextTick(ondrain),this._writable=writable,this._writable.on("drain",ondrain),this._unwrite=clear,this.uncork()},Duplexify.prototype.setReadable=function(readable){if(this._unread&&this._unread(),this.destroyed)return void(readable&&readable.destroy&&readable.destroy());if(null===readable||readable===!1)return this.push(null),void this.resume();var self=this,unend=eos(readable,{writable:!1,readable:!0},destroyer(this)),onreadable=function(){self._forward()},onend=function(){self.push(null)},onclose=function(){self.closed||(self.closed=!0,self.emit("close"))},clear=function(){self._readable2.removeListener("readable",onreadable),self._readable2.removeListener("end",onend),unend()};this._drained=!0,this._readable=readable,this._readable2=readable._readableState?readable:toStreams2(readable),this._readable2.on("readable",onreadable),this._readable2.on("end",onend),this._readable2.on("close",onclose),this._unread=clear,this._forward()},Duplexify.prototype._read=function(){this._drained=!0,this._forward()},Duplexify.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){this._forwarding=!0;for(var data;null!==(data=shift(this._readable2));)this._drained=this.push(data);this._forwarding=!1}},Duplexify.prototype.destroy=function(err){if(!this.destroyed){this.destroyed=!0;var self=this;process.nextTick(function(){self._destroy(err)})}},Duplexify.prototype._destroy=function(err){if(err){var ondrain=this._ondrain;this._ondrain=null,ondrain?ondrain(err):this.emit("error",err)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.closed||(this.closed=!0,this.emit("close"))},Duplexify.prototype._write=function(data,enc,cb){return this.destroyed?cb():this._corked?onuncork(this,this._write.bind(this,data,enc,cb)):data===SIGNAL_FLUSH?this._finish(cb):this._writable?void(this._writable.write(data)===!1?this._ondrain=cb:cb()):cb()},Duplexify.prototype._finish=function(cb){var self=this;this.emit("preend"),onuncork(this,function(){end(self._forwardEnd&&self._writable,function(){self._writableState.prefinished===!1&&(self._writableState.prefinished=!0),self.emit("prefinish"),onuncork(self,cb)})})},Duplexify.prototype.end=function(data,enc,cb){return"function"==typeof data?this.end(null,null,data):"function"==typeof enc?this.end(data,null,enc):(this._ended=!0,data&&this.write(data),this._writableState.ending||this.write(SIGNAL_FLUSH),stream.Writable.prototype.end.call(this,cb))},module.exports=Duplexify}).call(exports,__webpack_require__(0).Buffer,__webpack_require__(3))},function(module,exports,__webpack_require__){var once=__webpack_require__(131),noop=function(){},isRequest=function(stream){return stream.setHeader&&"function"==typeof stream.abort},eos=function(stream,opts,callback){if("function"==typeof opts)return eos(stream,null,opts);opts||(opts={}),callback=once(callback||noop);var ws=stream._writableState,rs=stream._readableState,readable=opts.readable||opts.readable!==!1&&stream.readable,writable=opts.writable||opts.writable!==!1&&stream.writable,onlegacyfinish=function(){stream.writable||onfinish()},onfinish=function(){writable=!1,readable||callback()},onend=function(){readable=!1,writable||callback()},onclose=function(){return(!readable||rs&&rs.ended)&&(!writable||ws&&ws.ended)?void 0:callback(new Error("premature close"))},onrequest=function(){stream.req.on("finish",onfinish)};return isRequest(stream)?(stream.on("complete",onfinish),stream.on("abort",onclose),stream.req?onrequest():stream.on("request",onrequest)):writable&&!ws&&(stream.on("end",onlegacyfinish),stream.on("close",onlegacyfinish)),stream.on("end",onend),stream.on("finish",onfinish),opts.error!==!1&&stream.on("error",callback),stream.on("close",onclose),function(){stream.removeListener("complete",onfinish),stream.removeListener("abort",onclose),stream.removeListener("request",onrequest),stream.req&&stream.req.removeListener("finish",onfinish),stream.removeListener("end",onlegacyfinish),stream.removeListener("close",onlegacyfinish),stream.removeListener("finish",onfinish),stream.removeListener("end",onend),stream.removeListener("error",callback),stream.removeListener("close",onclose)}};module.exports=eos},function(module,exports,__webpack_require__){"use strict";function PassThrough(options){return this instanceof PassThrough?void Transform.call(this,options):new PassThrough(options)}module.exports=PassThrough;var Transform=__webpack_require__(247),util=__webpack_require__(4);util.inherits=__webpack_require__(2),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},function(module,exports,__webpack_require__){(function(process){var Stream=function(){try{return __webpack_require__(6)}catch(_){}}();exports=module.exports=__webpack_require__(246),exports.Stream=Stream||exports,exports.Readable=exports,exports.Writable=__webpack_require__(248),exports.Duplex=__webpack_require__(75),exports.Transform=__webpack_require__(247),exports.PassThrough=__webpack_require__(592),!process.browser&&"disable"===process.env.READABLE_STREAM&&Stream&&(module.exports=Stream)}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";function BaseCurve(type,conf){this.type=type,this.p=new BN(conf.p,16),this.red=conf.prime?BN.red(conf.prime):BN.mont(this.p),this.zero=new BN(0).toRed(this.red),this.one=new BN(1).toRed(this.red),this.two=new BN(2).toRed(this.red),this.n=conf.n&&new BN(conf.n,16),this.g=conf.g&&this.pointFromJSON(conf.g,conf.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var adjustCount=this.n&&this.p.div(this.n);!adjustCount||adjustCount.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function BasePoint(curve,type){this.curve=curve,this.type=type,this.precomputed=null}var BN=__webpack_require__(19),elliptic=__webpack_require__(24),utils=elliptic.utils,getNAF=utils.getNAF,getJSF=utils.getJSF,assert=utils.assert;module.exports=BaseCurve,BaseCurve.prototype.point=function(){throw new Error("Not implemented")},BaseCurve.prototype.validate=function(){throw new Error("Not implemented")},BaseCurve.prototype._fixedNafMul=function(p,k){assert(p.precomputed);var doubles=p._getDoubles(),naf=getNAF(k,1),I=(1<<doubles.step+1)-(doubles.step%2===0?2:1);I/=3;for(var repr=[],j=0;j<naf.length;j+=doubles.step){for(var nafW=0,k=j+doubles.step-1;k>=j;k--)nafW=(nafW<<1)+naf[k];repr.push(nafW)}for(var a=this.jpoint(null,null,null),b=this.jpoint(null,null,null),i=I;i>0;i--){for(var j=0;j<repr.length;j++){var nafW=repr[j];nafW===i?b=b.mixedAdd(doubles.points[j]):nafW===-i&&(b=b.mixedAdd(doubles.points[j].neg()))}a=a.add(b)}return a.toP()},BaseCurve.prototype._wnafMul=function(p,k){var w=4,nafPoints=p._getNAFPoints(w);w=nafPoints.wnd;for(var wnd=nafPoints.points,naf=getNAF(k,w),acc=this.jpoint(null,null,null),i=naf.length-1;i>=0;i--){for(var k=0;i>=0&&0===naf[i];i--)k++;if(i>=0&&k++,acc=acc.dblp(k),i<0)break;var z=naf[i];assert(0!==z),acc="affine"===p.type?z>0?acc.mixedAdd(wnd[z-1>>1]):acc.mixedAdd(wnd[-z-1>>1].neg()):z>0?acc.add(wnd[z-1>>1]):acc.add(wnd[-z-1>>1].neg())}return"affine"===p.type?acc.toP():acc},BaseCurve.prototype._wnafMulAdd=function(defW,points,coeffs,len,jacobianResult){for(var wndWidth=this._wnafT1,wnd=this._wnafT2,naf=this._wnafT3,max=0,i=0;i<len;i++){var p=points[i],nafPoints=p._getNAFPoints(defW);wndWidth[i]=nafPoints.wnd,wnd[i]=nafPoints.points}for(var i=len-1;i>=1;i-=2){var a=i-1,b=i;if(1===wndWidth[a]&&1===wndWidth[b]){var comb=[points[a],null,null,points[b]];0===points[a].y.cmp(points[b].y)?(comb[1]=points[a].add(points[b]),comb[2]=points[a].toJ().mixedAdd(points[b].neg())):0===points[a].y.cmp(points[b].y.redNeg())?(comb[1]=points[a].toJ().mixedAdd(points[b]),comb[2]=points[a].add(points[b].neg())):(comb[1]=points[a].toJ().mixedAdd(points[b]),comb[2]=points[a].toJ().mixedAdd(points[b].neg()));var index=[-3,-1,-5,-7,0,7,5,1,3],jsf=getJSF(coeffs[a],coeffs[b]);max=Math.max(jsf[0].length,max),naf[a]=new Array(max),naf[b]=new Array(max);for(var j=0;j<max;j++){var ja=0|jsf[0][j],jb=0|jsf[1][j];naf[a][j]=index[3*(ja+1)+(jb+1)],naf[b][j]=0,wnd[a]=comb}}else naf[a]=getNAF(coeffs[a],wndWidth[a]),naf[b]=getNAF(coeffs[b],wndWidth[b]),max=Math.max(naf[a].length,max),max=Math.max(naf[b].length,max)}for(var acc=this.jpoint(null,null,null),tmp=this._wnafT4,i=max;i>=0;i--){for(var k=0;i>=0;){for(var zero=!0,j=0;j<len;j++)tmp[j]=0|naf[j][i],0!==tmp[j]&&(zero=!1);if(!zero)break;k++,i--}if(i>=0&&k++,acc=acc.dblp(k),i<0)break;for(var j=0;j<len;j++){var p,z=tmp[j];0!==z&&(z>0?p=wnd[j][z-1>>1]:z<0&&(p=wnd[j][-z-1>>1].neg()),acc="affine"===p.type?acc.mixedAdd(p):acc.add(p))}}for(var i=0;i<len;i++)wnd[i]=null;return jacobianResult?acc:acc.toP()},BaseCurve.BasePoint=BasePoint,BasePoint.prototype.eq=function(){throw new Error("Not implemented")},BasePoint.prototype.validate=function(){return this.curve.validate(this)},BaseCurve.prototype.decodePoint=function(bytes,enc){bytes=utils.toArray(bytes,enc);var len=this.p.byteLength();if((4===bytes[0]||6===bytes[0]||7===bytes[0])&&bytes.length-1===2*len){6===bytes[0]?assert(bytes[bytes.length-1]%2===0):7===bytes[0]&&assert(bytes[bytes.length-1]%2===1);var res=this.point(bytes.slice(1,1+len),bytes.slice(1+len,1+2*len));return res}if((2===bytes[0]||3===bytes[0])&&bytes.length-1===len)return this.pointFromX(bytes.slice(1,1+len),3===bytes[0]);throw new Error("Unknown point format")},BasePoint.prototype.encodeCompressed=function(enc){return this.encode(enc,!0)},BasePoint.prototype._encode=function(compact){var len=this.curve.p.byteLength(),x=this.getX().toArray("be",len);return compact?[this.getY().isEven()?2:3].concat(x):[4].concat(x,this.getY().toArray("be",len))},BasePoint.prototype.encode=function(enc,compact){return utils.encode(this._encode(compact),enc)},BasePoint.prototype.precompute=function(power){if(this.precomputed)return this;var precomputed={doubles:null,naf:null,beta:null};return precomputed.naf=this._getNAFPoints(8),precomputed.doubles=this._getDoubles(4,power),precomputed.beta=this._getBeta(),this.precomputed=precomputed,this},BasePoint.prototype._hasDoubles=function(k){if(!this.precomputed)return!1;var doubles=this.precomputed.doubles;return!!doubles&&doubles.points.length>=Math.ceil((k.bitLength()+1)/doubles.step)},BasePoint.prototype._getDoubles=function(step,power){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var doubles=[this],acc=this,i=0;i<power;i+=step){for(var j=0;j<step;j++)acc=acc.dbl();doubles.push(acc)}return{step:step,points:doubles}},BasePoint.prototype._getNAFPoints=function(wnd){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var res=[this],max=(1<<wnd)-1,dbl=1===max?null:this.dbl(),i=1;i<max;i++)res[i]=res[i-1].add(dbl);return{wnd:wnd,points:res}},BasePoint.prototype._getBeta=function(){return null},BasePoint.prototype.dblp=function(k){for(var r=this,i=0;i<k;i++)r=r.dbl();return r}},function(module,exports,__webpack_require__){"use strict";function EdwardsCurve(conf){this.twisted=1!==(0|conf.a),this.mOneA=this.twisted&&(0|conf.a)===-1,this.extended=this.mOneA,Base.call(this,"edwards",conf),this.a=new BN(conf.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN(conf.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN(conf.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|conf.c)}function Point(curve,x,y,z,t){Base.BasePoint.call(this,curve,"projective"),null===x&&null===y&&null===z?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN(x,16),this.y=new BN(y,16),this.z=z?new BN(z,16):this.curve.one,this.t=t&&new BN(t,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}var curve=__webpack_require__(124),elliptic=__webpack_require__(24),BN=__webpack_require__(19),inherits=__webpack_require__(2),Base=curve.base,assert=elliptic.utils.assert;inherits(EdwardsCurve,Base),module.exports=EdwardsCurve,EdwardsCurve.prototype._mulA=function(num){return this.mOneA?num.redNeg():this.a.redMul(num)},EdwardsCurve.prototype._mulC=function(num){return this.oneC?num:this.c.redMul(num)},EdwardsCurve.prototype.jpoint=function(x,y,z,t){return this.point(x,y,z,t)},EdwardsCurve.prototype.pointFromX=function(x,odd){x=new BN(x,16),x.red||(x=x.toRed(this.red));var x2=x.redSqr(),rhs=this.c2.redSub(this.a.redMul(x2)),lhs=this.one.redSub(this.c2.redMul(this.d).redMul(x2)),y2=rhs.redMul(lhs.redInvm()),y=y2.redSqrt();if(0!==y.redSqr().redSub(y2).cmp(this.zero))throw new Error("invalid point");var isOdd=y.fromRed().isOdd();return(odd&&!isOdd||!odd&&isOdd)&&(y=y.redNeg()),this.point(x,y)},EdwardsCurve.prototype.pointFromY=function(y,odd){y=new BN(y,16),y.red||(y=y.toRed(this.red));var y2=y.redSqr(),lhs=y2.redSub(this.one),rhs=y2.redMul(this.d).redAdd(this.one),x2=lhs.redMul(rhs.redInvm());if(0===x2.cmp(this.zero)){if(odd)throw new Error("invalid point");return this.point(this.zero,y)}var x=x2.redSqrt();if(0!==x.redSqr().redSub(x2).cmp(this.zero))throw new Error("invalid point");return x.isOdd()!==odd&&(x=x.redNeg()),this.point(x,y)},EdwardsCurve.prototype.validate=function(point){if(point.isInfinity())return!0;point.normalize();var x2=point.x.redSqr(),y2=point.y.redSqr(),lhs=x2.redMul(this.a).redAdd(y2),rhs=this.c2.redMul(this.one.redAdd(this.d.redMul(x2).redMul(y2)));return 0===lhs.cmp(rhs)},inherits(Point,Base.BasePoint),EdwardsCurve.prototype.pointFromJSON=function(obj){return Point.fromJSON(this,obj)},EdwardsCurve.prototype.point=function(x,y,z,t){return new Point(this,x,y,z,t)},Point.fromJSON=function(curve,obj){return new Point(curve,obj[0],obj[1],obj[2])},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},Point.prototype._extDbl=function(){var a=this.x.redSqr(),b=this.y.redSqr(),c=this.z.redSqr();c=c.redIAdd(c);var d=this.curve._mulA(a),e=this.x.redAdd(this.y).redSqr().redISub(a).redISub(b),g=d.redAdd(b),f=g.redSub(c),h=d.redSub(b),nx=e.redMul(f),ny=g.redMul(h),nt=e.redMul(h),nz=f.redMul(g);return this.curve.point(nx,ny,nz,nt)},Point.prototype._projDbl=function(){var nx,ny,nz,b=this.x.redAdd(this.y).redSqr(),c=this.x.redSqr(),d=this.y.redSqr();if(this.curve.twisted){var e=this.curve._mulA(c),f=e.redAdd(d);if(this.zOne)nx=b.redSub(c).redSub(d).redMul(f.redSub(this.curve.two)),ny=f.redMul(e.redSub(d)),nz=f.redSqr().redSub(f).redSub(f);else{var h=this.z.redSqr(),j=f.redSub(h).redISub(h);nx=b.redSub(c).redISub(d).redMul(j),ny=f.redMul(e.redSub(d)),nz=f.redMul(j)}}else{var e=c.redAdd(d),h=this.curve._mulC(this.c.redMul(this.z)).redSqr(),j=e.redSub(h).redSub(h);nx=this.curve._mulC(b.redISub(e)).redMul(j),ny=this.curve._mulC(e).redMul(c.redISub(d)),nz=e.redMul(j)}return this.curve.point(nx,ny,nz)},Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Point.prototype._extAdd=function(p){var a=this.y.redSub(this.x).redMul(p.y.redSub(p.x)),b=this.y.redAdd(this.x).redMul(p.y.redAdd(p.x)),c=this.t.redMul(this.curve.dd).redMul(p.t),d=this.z.redMul(p.z.redAdd(p.z)),e=b.redSub(a),f=d.redSub(c),g=d.redAdd(c),h=b.redAdd(a),nx=e.redMul(f),ny=g.redMul(h),nt=e.redMul(h),nz=f.redMul(g);return this.curve.point(nx,ny,nz,nt);
},Point.prototype._projAdd=function(p){var ny,nz,a=this.z.redMul(p.z),b=a.redSqr(),c=this.x.redMul(p.x),d=this.y.redMul(p.y),e=this.curve.d.redMul(c).redMul(d),f=b.redSub(e),g=b.redAdd(e),tmp=this.x.redAdd(this.y).redMul(p.x.redAdd(p.y)).redISub(c).redISub(d),nx=a.redMul(f).redMul(tmp);return this.curve.twisted?(ny=a.redMul(g).redMul(d.redSub(this.curve._mulA(c))),nz=f.redMul(g)):(ny=a.redMul(g).redMul(d.redSub(c)),nz=this.curve._mulC(f).redMul(g)),this.curve.point(nx,ny,nz)},Point.prototype.add=function(p){return this.isInfinity()?p:p.isInfinity()?this:this.curve.extended?this._extAdd(p):this._projAdd(p)},Point.prototype.mul=function(k){return this._hasDoubles(k)?this.curve._fixedNafMul(this,k):this.curve._wnafMul(this,k)},Point.prototype.mulAdd=function(k1,p,k2){return this.curve._wnafMulAdd(1,[this,p],[k1,k2],2,!1)},Point.prototype.jmulAdd=function(k1,p,k2){return this.curve._wnafMulAdd(1,[this,p],[k1,k2],2,!0)},Point.prototype.normalize=function(){if(this.zOne)return this;var zi=this.z.redInvm();return this.x=this.x.redMul(zi),this.y=this.y.redMul(zi),this.t&&(this.t=this.t.redMul(zi)),this.z=this.curve.one,this.zOne=!0,this},Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Point.prototype.eq=function(other){return this===other||0===this.getX().cmp(other.getX())&&0===this.getY().cmp(other.getY())},Point.prototype.eqXToP=function(x){var rx=x.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(rx))return!0;for(var xc=x.clone(),t=this.curve.redN.redMul(this.z);;){if(xc.iadd(this.curve.n),xc.cmp(this.curve.p)>=0)return!1;if(rx.redIAdd(t),0===this.x.cmp(rx))return!0}return!1},Point.prototype.toP=Point.prototype.normalize,Point.prototype.mixedAdd=Point.prototype.add},function(module,exports,__webpack_require__){"use strict";function MontCurve(conf){Base.call(this,"mont",conf),this.a=new BN(conf.a,16).toRed(this.red),this.b=new BN(conf.b,16).toRed(this.red),this.i4=new BN(4).toRed(this.red).redInvm(),this.two=new BN(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function Point(curve,x,z){Base.BasePoint.call(this,curve,"projective"),null===x&&null===z?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN(x,16),this.z=new BN(z,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}var curve=__webpack_require__(124),BN=__webpack_require__(19),inherits=__webpack_require__(2),Base=curve.base,elliptic=__webpack_require__(24),utils=elliptic.utils;inherits(MontCurve,Base),module.exports=MontCurve,MontCurve.prototype.validate=function(point){var x=point.normalize().x,x2=x.redSqr(),rhs=x2.redMul(x).redAdd(x2.redMul(this.a)).redAdd(x),y=rhs.redSqrt();return 0===y.redSqr().cmp(rhs)},inherits(Point,Base.BasePoint),MontCurve.prototype.decodePoint=function(bytes,enc){return this.point(utils.toArray(bytes,enc),1)},MontCurve.prototype.point=function(x,z){return new Point(this,x,z)},MontCurve.prototype.pointFromJSON=function(obj){return Point.fromJSON(this,obj)},Point.prototype.precompute=function(){},Point.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Point.fromJSON=function(curve,obj){return new Point(curve,obj[0],obj[1]||curve.one)},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Point.prototype.dbl=function(){var a=this.x.redAdd(this.z),aa=a.redSqr(),b=this.x.redSub(this.z),bb=b.redSqr(),c=aa.redSub(bb),nx=aa.redMul(bb),nz=c.redMul(bb.redAdd(this.curve.a24.redMul(c)));return this.curve.point(nx,nz)},Point.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.diffAdd=function(p,diff){var a=this.x.redAdd(this.z),b=this.x.redSub(this.z),c=p.x.redAdd(p.z),d=p.x.redSub(p.z),da=d.redMul(a),cb=c.redMul(b),nx=diff.z.redMul(da.redAdd(cb).redSqr()),nz=diff.x.redMul(da.redISub(cb).redSqr());return this.curve.point(nx,nz)},Point.prototype.mul=function(k){for(var t=k.clone(),a=this,b=this.curve.point(null,null),c=this,bits=[];0!==t.cmpn(0);t.iushrn(1))bits.push(t.andln(1));for(var i=bits.length-1;i>=0;i--)0===bits[i]?(a=a.diffAdd(b,c),b=b.dbl()):(b=a.diffAdd(b,c),a=a.dbl());return b},Point.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.eq=function(other){return 0===this.getX().cmp(other.getX())},Point.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(module,exports,__webpack_require__){"use strict";function ShortCurve(conf){Base.call(this,"short",conf),this.a=new BN(conf.a,16).toRed(this.red),this.b=new BN(conf.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(conf),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function Point(curve,x,y,isRed){Base.BasePoint.call(this,curve,"affine"),null===x&&null===y?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN(x,16),this.y=new BN(y,16),isRed&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint(curve,x,y,z){Base.BasePoint.call(this,curve,"jacobian"),null===x&&null===y&&null===z?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN(0)):(this.x=new BN(x,16),this.y=new BN(y,16),this.z=new BN(z,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var curve=__webpack_require__(124),elliptic=__webpack_require__(24),BN=__webpack_require__(19),inherits=__webpack_require__(2),Base=curve.base,assert=elliptic.utils.assert;inherits(ShortCurve,Base),module.exports=ShortCurve,ShortCurve.prototype._getEndomorphism=function(conf){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var beta,lambda;if(conf.beta)beta=new BN(conf.beta,16).toRed(this.red);else{var betas=this._getEndoRoots(this.p);beta=betas[0].cmp(betas[1])<0?betas[0]:betas[1],beta=beta.toRed(this.red)}if(conf.lambda)lambda=new BN(conf.lambda,16);else{var lambdas=this._getEndoRoots(this.n);0===this.g.mul(lambdas[0]).x.cmp(this.g.x.redMul(beta))?lambda=lambdas[0]:(lambda=lambdas[1],assert(0===this.g.mul(lambda).x.cmp(this.g.x.redMul(beta))))}var basis;return basis=conf.basis?conf.basis.map(function(vec){return{a:new BN(vec.a,16),b:new BN(vec.b,16)}}):this._getEndoBasis(lambda),{beta:beta,lambda:lambda,basis:basis}}},ShortCurve.prototype._getEndoRoots=function(num){var red=num===this.p?this.red:BN.mont(num),tinv=new BN(2).toRed(red).redInvm(),ntinv=tinv.redNeg(),s=new BN(3).toRed(red).redNeg().redSqrt().redMul(tinv),l1=ntinv.redAdd(s).fromRed(),l2=ntinv.redSub(s).fromRed();return[l1,l2]},ShortCurve.prototype._getEndoBasis=function(lambda){for(var a0,b0,a1,b1,a2,b2,prevR,r,x,aprxSqrt=this.n.ushrn(Math.floor(this.n.bitLength()/2)),u=lambda,v=this.n.clone(),x1=new BN(1),y1=new BN(0),x2=new BN(0),y2=new BN(1),i=0;0!==u.cmpn(0);){var q=v.div(u);r=v.sub(q.mul(u)),x=x2.sub(q.mul(x1));var y=y2.sub(q.mul(y1));if(!a1&&r.cmp(aprxSqrt)<0)a0=prevR.neg(),b0=x1,a1=r.neg(),b1=x;else if(a1&&2===++i)break;prevR=r,v=u,u=r,x2=x1,x1=x,y2=y1,y1=y}a2=r.neg(),b2=x;var len1=a1.sqr().add(b1.sqr()),len2=a2.sqr().add(b2.sqr());return len2.cmp(len1)>=0&&(a2=a0,b2=b0),a1.negative&&(a1=a1.neg(),b1=b1.neg()),a2.negative&&(a2=a2.neg(),b2=b2.neg()),[{a:a1,b:b1},{a:a2,b:b2}]},ShortCurve.prototype._endoSplit=function(k){var basis=this.endo.basis,v1=basis[0],v2=basis[1],c1=v2.b.mul(k).divRound(this.n),c2=v1.b.neg().mul(k).divRound(this.n),p1=c1.mul(v1.a),p2=c2.mul(v2.a),q1=c1.mul(v1.b),q2=c2.mul(v2.b),k1=k.sub(p1).sub(p2),k2=q1.add(q2).neg();return{k1:k1,k2:k2}},ShortCurve.prototype.pointFromX=function(x,odd){x=new BN(x,16),x.red||(x=x.toRed(this.red));var y2=x.redSqr().redMul(x).redIAdd(x.redMul(this.a)).redIAdd(this.b),y=y2.redSqrt();if(0!==y.redSqr().redSub(y2).cmp(this.zero))throw new Error("invalid point");var isOdd=y.fromRed().isOdd();return(odd&&!isOdd||!odd&&isOdd)&&(y=y.redNeg()),this.point(x,y)},ShortCurve.prototype.validate=function(point){if(point.inf)return!0;var x=point.x,y=point.y,ax=this.a.redMul(x),rhs=x.redSqr().redMul(x).redIAdd(ax).redIAdd(this.b);return 0===y.redSqr().redISub(rhs).cmpn(0)},ShortCurve.prototype._endoWnafMulAdd=function(points,coeffs,jacobianResult){for(var npoints=this._endoWnafT1,ncoeffs=this._endoWnafT2,i=0;i<points.length;i++){var split=this._endoSplit(coeffs[i]),p=points[i],beta=p._getBeta();split.k1.negative&&(split.k1.ineg(),p=p.neg(!0)),split.k2.negative&&(split.k2.ineg(),beta=beta.neg(!0)),npoints[2*i]=p,npoints[2*i+1]=beta,ncoeffs[2*i]=split.k1,ncoeffs[2*i+1]=split.k2}for(var res=this._wnafMulAdd(1,npoints,ncoeffs,2*i,jacobianResult),j=0;j<2*i;j++)npoints[j]=null,ncoeffs[j]=null;return res},inherits(Point,Base.BasePoint),ShortCurve.prototype.point=function(x,y,isRed){return new Point(this,x,y,isRed)},ShortCurve.prototype.pointFromJSON=function(obj,red){return Point.fromJSON(this,obj,red)},Point.prototype._getBeta=function(){if(this.curve.endo){var pre=this.precomputed;if(pre&&pre.beta)return pre.beta;var beta=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(pre){var curve=this.curve,endoMul=function(p){return curve.point(p.x.redMul(curve.endo.beta),p.y)};pre.beta=beta,beta.precomputed={beta:null,naf:pre.naf&&{wnd:pre.naf.wnd,points:pre.naf.points.map(endoMul)},doubles:pre.doubles&&{step:pre.doubles.step,points:pre.doubles.points.map(endoMul)}}}return beta}},Point.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point.fromJSON=function(curve,obj,red){function obj2point(obj){return curve.point(obj[0],obj[1],red)}"string"==typeof obj&&(obj=JSON.parse(obj));var res=curve.point(obj[0],obj[1],red);if(!obj[2])return res;var pre=obj[2];return res.precomputed={beta:null,doubles:pre.doubles&&{step:pre.doubles.step,points:[res].concat(pre.doubles.points.map(obj2point))},naf:pre.naf&&{wnd:pre.naf.wnd,points:[res].concat(pre.naf.points.map(obj2point))}},res},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return this.inf},Point.prototype.add=function(p){if(this.inf)return p;if(p.inf)return this;if(this.eq(p))return this.dbl();if(this.neg().eq(p))return this.curve.point(null,null);if(0===this.x.cmp(p.x))return this.curve.point(null,null);var c=this.y.redSub(p.y);0!==c.cmpn(0)&&(c=c.redMul(this.x.redSub(p.x).redInvm()));var nx=c.redSqr().redISub(this.x).redISub(p.x),ny=c.redMul(this.x.redSub(nx)).redISub(this.y);return this.curve.point(nx,ny)},Point.prototype.dbl=function(){if(this.inf)return this;var ys1=this.y.redAdd(this.y);if(0===ys1.cmpn(0))return this.curve.point(null,null);var a=this.curve.a,x2=this.x.redSqr(),dyinv=ys1.redInvm(),c=x2.redAdd(x2).redIAdd(x2).redIAdd(a).redMul(dyinv),nx=c.redSqr().redISub(this.x.redAdd(this.x)),ny=c.redMul(this.x.redSub(nx)).redISub(this.y);return this.curve.point(nx,ny)},Point.prototype.getX=function(){return this.x.fromRed()},Point.prototype.getY=function(){return this.y.fromRed()},Point.prototype.mul=function(k){return k=new BN(k,16),this._hasDoubles(k)?this.curve._fixedNafMul(this,k):this.curve.endo?this.curve._endoWnafMulAdd([this],[k]):this.curve._wnafMul(this,k)},Point.prototype.mulAdd=function(k1,p2,k2){var points=[this,p2],coeffs=[k1,k2];return this.curve.endo?this.curve._endoWnafMulAdd(points,coeffs):this.curve._wnafMulAdd(1,points,coeffs,2)},Point.prototype.jmulAdd=function(k1,p2,k2){var points=[this,p2],coeffs=[k1,k2];return this.curve.endo?this.curve._endoWnafMulAdd(points,coeffs,!0):this.curve._wnafMulAdd(1,points,coeffs,2,!0)},Point.prototype.eq=function(p){return this===p||this.inf===p.inf&&(this.inf||0===this.x.cmp(p.x)&&0===this.y.cmp(p.y))},Point.prototype.neg=function(_precompute){if(this.inf)return this;var res=this.curve.point(this.x,this.y.redNeg());if(_precompute&&this.precomputed){var pre=this.precomputed,negate=function(p){return p.neg()};res.precomputed={naf:pre.naf&&{wnd:pre.naf.wnd,points:pre.naf.points.map(negate)},doubles:pre.doubles&&{step:pre.doubles.step,points:pre.doubles.points.map(negate)}}}return res},Point.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var res=this.curve.jpoint(this.x,this.y,this.curve.one);return res},inherits(JPoint,Base.BasePoint),ShortCurve.prototype.jpoint=function(x,y,z){return new JPoint(this,x,y,z)},JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var zinv=this.z.redInvm(),zinv2=zinv.redSqr(),ax=this.x.redMul(zinv2),ay=this.y.redMul(zinv2).redMul(zinv);return this.curve.point(ax,ay)},JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint.prototype.add=function(p){if(this.isInfinity())return p;if(p.isInfinity())return this;var pz2=p.z.redSqr(),z2=this.z.redSqr(),u1=this.x.redMul(pz2),u2=p.x.redMul(z2),s1=this.y.redMul(pz2.redMul(p.z)),s2=p.y.redMul(z2.redMul(this.z)),h=u1.redSub(u2),r=s1.redSub(s2);if(0===h.cmpn(0))return 0!==r.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h2=h.redSqr(),h3=h2.redMul(h),v=u1.redMul(h2),nx=r.redSqr().redIAdd(h3).redISub(v).redISub(v),ny=r.redMul(v.redISub(nx)).redISub(s1.redMul(h3)),nz=this.z.redMul(p.z).redMul(h);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.mixedAdd=function(p){if(this.isInfinity())return p.toJ();if(p.isInfinity())return this;var z2=this.z.redSqr(),u1=this.x,u2=p.x.redMul(z2),s1=this.y,s2=p.y.redMul(z2).redMul(this.z),h=u1.redSub(u2),r=s1.redSub(s2);if(0===h.cmpn(0))return 0!==r.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h2=h.redSqr(),h3=h2.redMul(h),v=u1.redMul(h2),nx=r.redSqr().redIAdd(h3).redISub(v).redISub(v),ny=r.redMul(v.redISub(nx)).redISub(s1.redMul(h3)),nz=this.z.redMul(h);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.dblp=function(pow){if(0===pow)return this;if(this.isInfinity())return this;if(!pow)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var r=this,i=0;i<pow;i++)r=r.dbl();return r}for(var a=this.curve.a,tinv=this.curve.tinv,jx=this.x,jy=this.y,jz=this.z,jz4=jz.redSqr().redSqr(),jyd=jy.redAdd(jy),i=0;i<pow;i++){var jx2=jx.redSqr(),jyd2=jyd.redSqr(),jyd4=jyd2.redSqr(),c=jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4)),t1=jx.redMul(jyd2),nx=c.redSqr().redISub(t1.redAdd(t1)),t2=t1.redISub(nx),dny=c.redMul(t2);dny=dny.redIAdd(dny).redISub(jyd4);var nz=jyd.redMul(jz);i+1<pow&&(jz4=jz4.redMul(jyd4)),jx=nx,jz=nz,jyd=dny}return this.curve.jpoint(jx,jyd.redMul(tinv),jz)},JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint.prototype._zeroDbl=function(){var nx,ny,nz;if(this.zOne){var xx=this.x.redSqr(),yy=this.y.redSqr(),yyyy=yy.redSqr(),s=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);s=s.redIAdd(s);var m=xx.redAdd(xx).redIAdd(xx),t=m.redSqr().redISub(s).redISub(s),yyyy8=yyyy.redIAdd(yyyy);yyyy8=yyyy8.redIAdd(yyyy8),yyyy8=yyyy8.redIAdd(yyyy8),nx=t,ny=m.redMul(s.redISub(t)).redISub(yyyy8),nz=this.y.redAdd(this.y)}else{var a=this.x.redSqr(),b=this.y.redSqr(),c=b.redSqr(),d=this.x.redAdd(b).redSqr().redISub(a).redISub(c);d=d.redIAdd(d);var e=a.redAdd(a).redIAdd(a),f=e.redSqr(),c8=c.redIAdd(c);c8=c8.redIAdd(c8),c8=c8.redIAdd(c8),nx=f.redISub(d).redISub(d),ny=e.redMul(d.redISub(nx)).redISub(c8),nz=this.y.redMul(this.z),nz=nz.redIAdd(nz)}return this.curve.jpoint(nx,ny,nz)},JPoint.prototype._threeDbl=function(){var nx,ny,nz;if(this.zOne){var xx=this.x.redSqr(),yy=this.y.redSqr(),yyyy=yy.redSqr(),s=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);s=s.redIAdd(s);var m=xx.redAdd(xx).redIAdd(xx).redIAdd(this.curve.a),t=m.redSqr().redISub(s).redISub(s);nx=t;var yyyy8=yyyy.redIAdd(yyyy);yyyy8=yyyy8.redIAdd(yyyy8),yyyy8=yyyy8.redIAdd(yyyy8),ny=m.redMul(s.redISub(t)).redISub(yyyy8),nz=this.y.redAdd(this.y)}else{var delta=this.z.redSqr(),gamma=this.y.redSqr(),beta=this.x.redMul(gamma),alpha=this.x.redSub(delta).redMul(this.x.redAdd(delta));alpha=alpha.redAdd(alpha).redIAdd(alpha);var beta4=beta.redIAdd(beta);beta4=beta4.redIAdd(beta4);var beta8=beta4.redAdd(beta4);nx=alpha.redSqr().redISub(beta8),nz=this.y.redAdd(this.z).redSqr().redISub(gamma).redISub(delta);var ggamma8=gamma.redSqr();ggamma8=ggamma8.redIAdd(ggamma8),ggamma8=ggamma8.redIAdd(ggamma8),ggamma8=ggamma8.redIAdd(ggamma8),ny=alpha.redMul(beta4.redISub(nx)).redISub(ggamma8)}return this.curve.jpoint(nx,ny,nz)},JPoint.prototype._dbl=function(){var a=this.curve.a,jx=this.x,jy=this.y,jz=this.z,jz4=jz.redSqr().redSqr(),jx2=jx.redSqr(),jy2=jy.redSqr(),c=jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4)),jxd4=jx.redAdd(jx);jxd4=jxd4.redIAdd(jxd4);var t1=jxd4.redMul(jy2),nx=c.redSqr().redISub(t1.redAdd(t1)),t2=t1.redISub(nx),jyd8=jy2.redSqr();jyd8=jyd8.redIAdd(jyd8),jyd8=jyd8.redIAdd(jyd8),jyd8=jyd8.redIAdd(jyd8);var ny=c.redMul(t2).redISub(jyd8),nz=jy.redAdd(jy).redMul(jz);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var xx=this.x.redSqr(),yy=this.y.redSqr(),zz=this.z.redSqr(),yyyy=yy.redSqr(),m=xx.redAdd(xx).redIAdd(xx),mm=m.redSqr(),e=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);e=e.redIAdd(e),e=e.redAdd(e).redIAdd(e),e=e.redISub(mm);var ee=e.redSqr(),t=yyyy.redIAdd(yyyy);t=t.redIAdd(t),t=t.redIAdd(t),t=t.redIAdd(t);var u=m.redIAdd(e).redSqr().redISub(mm).redISub(ee).redISub(t),yyu4=yy.redMul(u);yyu4=yyu4.redIAdd(yyu4),yyu4=yyu4.redIAdd(yyu4);var nx=this.x.redMul(ee).redISub(yyu4);nx=nx.redIAdd(nx),nx=nx.redIAdd(nx);var ny=this.y.redMul(u.redMul(t.redISub(u)).redISub(e.redMul(ee)));ny=ny.redIAdd(ny),ny=ny.redIAdd(ny),ny=ny.redIAdd(ny);var nz=this.z.redAdd(e).redSqr().redISub(zz).redISub(ee);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.mul=function(k,kbase){return k=new BN(k,kbase),this.curve._wnafMul(this,k)},JPoint.prototype.eq=function(p){if("affine"===p.type)return this.eq(p.toJ());if(this===p)return!0;var z2=this.z.redSqr(),pz2=p.z.redSqr();if(0!==this.x.redMul(pz2).redISub(p.x.redMul(z2)).cmpn(0))return!1;var z3=z2.redMul(this.z),pz3=pz2.redMul(p.z);return 0===this.y.redMul(pz3).redISub(p.y.redMul(z3)).cmpn(0)},JPoint.prototype.eqXToP=function(x){var zs=this.z.redSqr(),rx=x.toRed(this.curve.red).redMul(zs);if(0===this.x.cmp(rx))return!0;for(var xc=x.clone(),t=this.curve.redN.redMul(zs);;){if(xc.iadd(this.curve.n),xc.cmp(this.curve.p)>=0)return!1;if(rx.redIAdd(t),0===this.x.cmp(rx))return!0}return!1},JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(module,exports,__webpack_require__){"use strict";function PresetCurve(options){"short"===options.type?this.curve=new elliptic.curve.short(options):"edwards"===options.type?this.curve=new elliptic.curve.edwards(options):this.curve=new elliptic.curve.mont(options),this.g=this.curve.g,this.n=this.curve.n,this.hash=options.hash,assert(this.g.validate(),"Invalid curve"),assert(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function defineCurve(name,options){Object.defineProperty(curves,name,{configurable:!0,enumerable:!0,get:function(){var curve=new PresetCurve(options);return Object.defineProperty(curves,name,{configurable:!0,enumerable:!0,value:curve}),curve}})}var curves=exports,hash=__webpack_require__(64),elliptic=__webpack_require__(24),assert=elliptic.utils.assert;curves.PresetCurve=PresetCurve,defineCurve("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),defineCurve("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),defineCurve("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),defineCurve("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),defineCurve("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),defineCurve("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"0",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:!1,g:["9"]}),defineCurve("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var pre;try{pre=__webpack_require__(606)}catch(e){pre=void 0}defineCurve("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",pre]})},function(module,exports,__webpack_require__){"use strict";function EC(options){return this instanceof EC?("string"==typeof options&&(assert(elliptic.curves.hasOwnProperty(options),"Unknown curve "+options),options=elliptic.curves[options]),options instanceof elliptic.curves.PresetCurve&&(options={curve:options}),this.curve=options.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=options.curve.g,this.g.precompute(options.curve.n.bitLength()+1),void(this.hash=options.hash||options.curve.hash)):new EC(options)}var BN=__webpack_require__(19),elliptic=__webpack_require__(24),utils=elliptic.utils,assert=utils.assert,KeyPair=__webpack_require__(600),Signature=__webpack_require__(601);module.exports=EC,EC.prototype.keyPair=function(options){return new KeyPair(this,options)},EC.prototype.keyFromPrivate=function(priv,enc){return KeyPair.fromPrivate(this,priv,enc)},EC.prototype.keyFromPublic=function(pub,enc){return KeyPair.fromPublic(this,pub,enc)},EC.prototype.genKeyPair=function(options){options||(options={});for(var drbg=new elliptic.hmacDRBG({hash:this.hash,pers:options.pers,entropy:options.entropy||elliptic.rand(this.hash.hmacStrength),nonce:this.n.toArray()}),bytes=this.n.byteLength(),ns2=this.n.sub(new BN(2));;){var priv=new BN(drbg.generate(bytes));if(!(priv.cmp(ns2)>0))return priv.iaddn(1),this.keyFromPrivate(priv)}},EC.prototype._truncateToN=function(msg,truncOnly){var delta=8*msg.byteLength()-this.n.bitLength();return delta>0&&(msg=msg.ushrn(delta)),!truncOnly&&msg.cmp(this.n)>=0?msg.sub(this.n):msg},EC.prototype.sign=function(msg,key,enc,options){"object"==typeof enc&&(options=enc,enc=null),options||(options={}),key=this.keyFromPrivate(key,enc),msg=this._truncateToN(new BN(msg,16));for(var bytes=this.n.byteLength(),bkey=key.getPrivate().toArray("be",bytes),nonce=msg.toArray("be",bytes),drbg=new elliptic.hmacDRBG({hash:this.hash,entropy:bkey,nonce:nonce,pers:options.pers,persEnc:options.persEnc}),ns1=this.n.sub(new BN(1)),iter=0;!0;iter++){var k=options.k?options.k(iter):new BN(drbg.generate(this.n.byteLength()));if(k=this._truncateToN(k,!0),!(k.cmpn(1)<=0||k.cmp(ns1)>=0)){var kp=this.g.mul(k);if(!kp.isInfinity()){var kpX=kp.getX(),r=kpX.umod(this.n);if(0!==r.cmpn(0)){var s=k.invm(this.n).mul(r.mul(key.getPrivate()).iadd(msg));if(s=s.umod(this.n),0!==s.cmpn(0)){var recoveryParam=(kp.getY().isOdd()?1:0)|(0!==kpX.cmp(r)?2:0);return options.canonical&&s.cmp(this.nh)>0&&(s=this.n.sub(s),recoveryParam^=1),new Signature({r:r,s:s,recoveryParam:recoveryParam})}}}}}},EC.prototype.verify=function(msg,signature,key,enc){msg=this._truncateToN(new BN(msg,16)),key=this.keyFromPublic(key,enc),signature=new Signature(signature,"hex");var r=signature.r,s=signature.s;if(r.cmpn(1)<0||r.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var sinv=s.invm(this.n),u1=sinv.mul(msg).umod(this.n),u2=sinv.mul(r).umod(this.n);if(!this.curve._maxwellTrick){var p=this.g.mulAdd(u1,key.getPublic(),u2);return!p.isInfinity()&&0===p.getX().umod(this.n).cmp(r)}var p=this.g.jmulAdd(u1,key.getPublic(),u2);return!p.isInfinity()&&p.eqXToP(r)},EC.prototype.recoverPubKey=function(msg,signature,j,enc){assert((3&j)===j,"The recovery param is more than two bits"),signature=new Signature(signature,enc);var n=this.n,e=new BN(msg),r=signature.r,s=signature.s,isYOdd=1&j,isSecondKey=j>>1;if(r.cmp(this.curve.p.umod(this.curve.n))>=0&&isSecondKey)throw new Error("Unable to find sencond key candinate");r=isSecondKey?this.curve.pointFromX(r.add(this.curve.n),isYOdd):this.curve.pointFromX(r,isYOdd);var eNeg=n.sub(e),rInv=signature.r.invm(n);return this.g.mulAdd(eNeg,r,s).mul(rInv)},EC.prototype.getKeyRecoveryParam=function(e,signature,Q,enc){if(signature=new Signature(signature,enc),null!==signature.recoveryParam)return signature.recoveryParam;for(var i=0;i<4;i++){var Qprime;try{Qprime=this.recoverPubKey(e,signature,i)}catch(e){continue}if(Qprime.eq(Q))return i}throw new Error("Unable to find valid recovery factor")}},function(module,exports,__webpack_require__){"use strict";function KeyPair(ec,options){this.ec=ec,this.priv=null,this.pub=null,options.priv&&this._importPrivate(options.priv,options.privEnc),options.pub&&this._importPublic(options.pub,options.pubEnc)}var BN=__webpack_require__(19);module.exports=KeyPair,KeyPair.fromPublic=function(ec,pub,enc){return pub instanceof KeyPair?pub:new KeyPair(ec,{pub:pub,pubEnc:enc})},KeyPair.fromPrivate=function(ec,priv,enc){return priv instanceof KeyPair?priv:new KeyPair(ec,{priv:priv,privEnc:enc})},KeyPair.prototype.validate=function(){var pub=this.getPublic();return pub.isInfinity()?{result:!1,reason:"Invalid public key"}:pub.validate()?pub.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair.prototype.getPublic=function(compact,enc){return"string"==typeof compact&&(enc=compact,compact=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),enc?this.pub.encode(enc,compact):this.pub},KeyPair.prototype.getPrivate=function(enc){return"hex"===enc?this.priv.toString(16,2):this.priv},KeyPair.prototype._importPrivate=function(key,enc){this.priv=new BN(key,enc||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair.prototype._importPublic=function(key,enc){return key.x||key.y?void(this.pub=this.ec.curve.point(key.x,key.y)):void(this.pub=this.ec.curve.decodePoint(key,enc))},KeyPair.prototype.derive=function(pub){return pub.mul(this.priv).getX()},KeyPair.prototype.sign=function(msg,enc,options){return this.ec.sign(msg,this,enc,options)},KeyPair.prototype.verify=function(msg,signature){return this.ec.verify(msg,signature,this)},KeyPair.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(module,exports,__webpack_require__){"use strict";function Signature(options,enc){return options instanceof Signature?options:void(this._importDER(options,enc)||(assert(options.r&&options.s,"Signature without r or s"),this.r=new BN(options.r,16),this.s=new BN(options.s,16),void 0===options.recoveryParam?this.recoveryParam=null:this.recoveryParam=options.recoveryParam))}function Position(){this.place=0}function getLength(buf,p){var initial=buf[p.place++];if(!(128&initial))return initial;for(var octetLen=15&initial,val=0,i=0,off=p.place;i<octetLen;i++,off++)val<<=8,val|=buf[off];return p.place=off,val}function rmPadding(buf){for(var i=0,len=buf.length-1;!buf[i]&&!(128&buf[i+1])&&i<len;)i++;return 0===i?buf:buf.slice(i)}function constructLength(arr,len){if(len<128)return void arr.push(len);var octets=1+(Math.log(len)/Math.LN2>>>3);for(arr.push(128|octets);--octets;)arr.push(len>>>(octets<<3)&255);arr.push(len)}var BN=__webpack_require__(19),elliptic=__webpack_require__(24),utils=elliptic.utils,assert=utils.assert;module.exports=Signature,Signature.prototype._importDER=function(data,enc){
data=utils.toArray(data,enc);var p=new Position;if(48!==data[p.place++])return!1;var len=getLength(data,p);if(len+p.place!==data.length)return!1;if(2!==data[p.place++])return!1;var rlen=getLength(data,p),r=data.slice(p.place,rlen+p.place);if(p.place+=rlen,2!==data[p.place++])return!1;var slen=getLength(data,p);if(data.length!==slen+p.place)return!1;var s=data.slice(p.place,slen+p.place);return 0===r[0]&&128&r[1]&&(r=r.slice(1)),0===s[0]&&128&s[1]&&(s=s.slice(1)),this.r=new BN(r),this.s=new BN(s),this.recoveryParam=null,!0},Signature.prototype.toDER=function(enc){var r=this.r.toArray(),s=this.s.toArray();for(128&r[0]&&(r=[0].concat(r)),128&s[0]&&(s=[0].concat(s)),r=rmPadding(r),s=rmPadding(s);!(s[0]||128&s[1]);)s=s.slice(1);var arr=[2];constructLength(arr,r.length),arr=arr.concat(r),arr.push(2),constructLength(arr,s.length);var backHalf=arr.concat(s),res=[48];return constructLength(res,backHalf.length),res=res.concat(backHalf),utils.encode(res,enc)}},function(module,exports,__webpack_require__){"use strict";function EDDSA(curve){if(assert("ed25519"===curve,"only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(curve);var curve=elliptic.curves[curve].curve;this.curve=curve,this.g=curve.g,this.g.precompute(curve.n.bitLength()+1),this.pointClass=curve.point().constructor,this.encodingLength=Math.ceil(curve.n.bitLength()/8),this.hash=hash.sha512}var hash=__webpack_require__(64),elliptic=__webpack_require__(24),utils=elliptic.utils,assert=utils.assert,parseBytes=utils.parseBytes,KeyPair=__webpack_require__(603),Signature=__webpack_require__(604);module.exports=EDDSA,EDDSA.prototype.sign=function(message,secret){message=parseBytes(message);var key=this.keyFromSecret(secret),r=this.hashInt(key.messagePrefix(),message),R=this.g.mul(r),Rencoded=this.encodePoint(R),s_=this.hashInt(Rencoded,key.pubBytes(),message).mul(key.priv()),S=r.add(s_).umod(this.curve.n);return this.makeSignature({R:R,S:S,Rencoded:Rencoded})},EDDSA.prototype.verify=function(message,sig,pub){message=parseBytes(message),sig=this.makeSignature(sig);var key=this.keyFromPublic(pub),h=this.hashInt(sig.Rencoded(),key.pubBytes(),message),SG=this.g.mul(sig.S()),RplusAh=sig.R().add(key.pub().mul(h));return RplusAh.eq(SG)},EDDSA.prototype.hashInt=function(){for(var hash=this.hash(),i=0;i<arguments.length;i++)hash.update(arguments[i]);return utils.intFromLE(hash.digest()).umod(this.curve.n)},EDDSA.prototype.keyFromPublic=function(pub){return KeyPair.fromPublic(this,pub)},EDDSA.prototype.keyFromSecret=function(secret){return KeyPair.fromSecret(this,secret)},EDDSA.prototype.makeSignature=function(sig){return sig instanceof Signature?sig:new Signature(this,sig)},EDDSA.prototype.encodePoint=function(point){var enc=point.getY().toArray("le",this.encodingLength);return enc[this.encodingLength-1]|=point.getX().isOdd()?128:0,enc},EDDSA.prototype.decodePoint=function(bytes){bytes=utils.parseBytes(bytes);var lastIx=bytes.length-1,normed=bytes.slice(0,lastIx).concat(bytes[lastIx]&-129),xIsOdd=0!==(128&bytes[lastIx]),y=utils.intFromLE(normed);return this.curve.pointFromY(y,xIsOdd)},EDDSA.prototype.encodeInt=function(num){return num.toArray("le",this.encodingLength)},EDDSA.prototype.decodeInt=function(bytes){return utils.intFromLE(bytes)},EDDSA.prototype.isPoint=function(val){return val instanceof this.pointClass}},function(module,exports,__webpack_require__){"use strict";function KeyPair(eddsa,params){this.eddsa=eddsa,this._secret=parseBytes(params.secret),eddsa.isPoint(params.pub)?this._pub=params.pub:this._pubBytes=parseBytes(params.pub)}var elliptic=__webpack_require__(24),utils=elliptic.utils,assert=utils.assert,parseBytes=utils.parseBytes,cachedProperty=utils.cachedProperty;KeyPair.fromPublic=function(eddsa,pub){return pub instanceof KeyPair?pub:new KeyPair(eddsa,{pub:pub})},KeyPair.fromSecret=function(eddsa,secret){return secret instanceof KeyPair?secret:new KeyPair(eddsa,{secret:secret})},KeyPair.prototype.secret=function(){return this._secret},cachedProperty(KeyPair,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),cachedProperty(KeyPair,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),cachedProperty(KeyPair,"privBytes",function(){var eddsa=this.eddsa,hash=this.hash(),lastIx=eddsa.encodingLength-1,a=hash.slice(0,eddsa.encodingLength);return a[0]&=248,a[lastIx]&=127,a[lastIx]|=64,a}),cachedProperty(KeyPair,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),cachedProperty(KeyPair,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),cachedProperty(KeyPair,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),KeyPair.prototype.sign=function(message){return assert(this._secret,"KeyPair can only verify"),this.eddsa.sign(message,this)},KeyPair.prototype.verify=function(message,sig){return this.eddsa.verify(message,sig,this)},KeyPair.prototype.getSecret=function(enc){return assert(this._secret,"KeyPair is public only"),utils.encode(this.secret(),enc)},KeyPair.prototype.getPublic=function(enc){return utils.encode(this.pubBytes(),enc)},module.exports=KeyPair},function(module,exports,__webpack_require__){"use strict";function Signature(eddsa,sig){this.eddsa=eddsa,"object"!=typeof sig&&(sig=parseBytes(sig)),Array.isArray(sig)&&(sig={R:sig.slice(0,eddsa.encodingLength),S:sig.slice(eddsa.encodingLength)}),assert(sig.R&&sig.S,"Signature without R or S"),eddsa.isPoint(sig.R)&&(this._R=sig.R),sig.S instanceof BN&&(this._S=sig.S),this._Rencoded=Array.isArray(sig.R)?sig.R:sig.Rencoded,this._Sencoded=Array.isArray(sig.S)?sig.S:sig.Sencoded}var BN=__webpack_require__(19),elliptic=__webpack_require__(24),utils=elliptic.utils,assert=utils.assert,cachedProperty=utils.cachedProperty,parseBytes=utils.parseBytes;cachedProperty(Signature,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),cachedProperty(Signature,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),cachedProperty(Signature,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),cachedProperty(Signature,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),Signature.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Signature.prototype.toHex=function(){return utils.encode(this.toBytes(),"hex").toUpperCase()},module.exports=Signature},function(module,exports,__webpack_require__){"use strict";function HmacDRBG(options){if(!(this instanceof HmacDRBG))return new HmacDRBG(options);this.hash=options.hash,this.predResist=!!options.predResist,this.outLen=this.hash.outSize,this.minEntropy=options.minEntropy||this.hash.hmacStrength,this.reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var entropy=utils.toArray(options.entropy,options.entropyEnc),nonce=utils.toArray(options.nonce,options.nonceEnc),pers=utils.toArray(options.pers,options.persEnc);assert(entropy.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(entropy,nonce,pers)}var hash=__webpack_require__(64),elliptic=__webpack_require__(24),utils=elliptic.utils,assert=utils.assert;module.exports=HmacDRBG,HmacDRBG.prototype._init=function(entropy,nonce,pers){var seed=entropy.concat(nonce).concat(pers);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(seed),this.reseed=1,this.reseedInterval=281474976710656},HmacDRBG.prototype._hmac=function(){return new hash.hmac(this.hash,this.K)},HmacDRBG.prototype._update=function(seed){var kmac=this._hmac().update(this.V).update([0]);seed&&(kmac=kmac.update(seed)),this.K=kmac.digest(),this.V=this._hmac().update(this.V).digest(),seed&&(this.K=this._hmac().update(this.V).update([1]).update(seed).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG.prototype.reseed=function(entropy,entropyEnc,add,addEnc){"string"!=typeof entropyEnc&&(addEnc=add,add=entropyEnc,entropyEnc=null),entropy=utils.toBuffer(entropy,entropyEnc),add=utils.toBuffer(add,addEnc),assert(entropy.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(entropy.concat(add||[])),this.reseed=1},HmacDRBG.prototype.generate=function(len,enc,add,addEnc){if(this.reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof enc&&(addEnc=add,add=enc,enc=null),add&&(add=utils.toArray(add,addEnc),this._update(add));for(var temp=[];temp.length<len;)this.V=this._hmac().update(this.V).digest(),temp=temp.concat(this.V);var res=temp.slice(0,len);return this._update(add),this.reseed++,utils.encode(res,enc)}},function(module,exports){module.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]
}}},function(module,exports,__webpack_require__){"use strict";function toArray(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return[];var res=[];if("string"!=typeof msg){for(var i=0;i<msg.length;i++)res[i]=0|msg[i];return res}if(enc){if("hex"===enc){msg=msg.replace(/[^a-z0-9]+/gi,""),msg.length%2!==0&&(msg="0"+msg);for(var i=0;i<msg.length;i+=2)res.push(parseInt(msg[i]+msg[i+1],16))}}else for(var i=0;i<msg.length;i++){var c=msg.charCodeAt(i),hi=c>>8,lo=255&c;hi?res.push(hi,lo):res.push(lo)}return res}function zero2(word){return 1===word.length?"0"+word:word}function toHex(msg){for(var res="",i=0;i<msg.length;i++)res+=zero2(msg[i].toString(16));return res}function getNAF(num,w){for(var naf=[],ws=1<<w+1,k=num.clone();k.cmpn(1)>=0;){var z;if(k.isOdd()){var mod=k.andln(ws-1);z=mod>(ws>>1)-1?(ws>>1)-mod:mod,k.isubn(z)}else z=0;naf.push(z);for(var shift=0!==k.cmpn(0)&&0===k.andln(ws-1)?w+1:1,i=1;i<shift;i++)naf.push(0);k.iushrn(shift)}return naf}function getJSF(k1,k2){var jsf=[[],[]];k1=k1.clone(),k2=k2.clone();for(var d1=0,d2=0;k1.cmpn(-d1)>0||k2.cmpn(-d2)>0;){var m14=k1.andln(3)+d1&3,m24=k2.andln(3)+d2&3;3===m14&&(m14=-1),3===m24&&(m24=-1);var u1;if(0===(1&m14))u1=0;else{var m8=k1.andln(7)+d1&7;u1=3!==m8&&5!==m8||2!==m24?m14:-m14}jsf[0].push(u1);var u2;if(0===(1&m24))u2=0;else{var m8=k2.andln(7)+d2&7;u2=3!==m8&&5!==m8||2!==m14?m24:-m24}jsf[1].push(u2),2*d1===u1+1&&(d1=1-d1),2*d2===u2+1&&(d2=1-d2),k1.iushrn(1),k2.iushrn(1)}return jsf}function cachedProperty(obj,name,computer){var key="_"+name;obj.prototype[name]=function(){return void 0!==this[key]?this[key]:this[key]=computer.call(this)}}function parseBytes(bytes){return"string"==typeof bytes?utils.toArray(bytes,"hex"):bytes}function intFromLE(bytes){return new BN(bytes,"hex","le")}var utils=exports,BN=__webpack_require__(19);utils.assert=function(val,msg){if(!val)throw new Error(msg||"Assertion failed")},utils.toArray=toArray,utils.zero2=zero2,utils.toHex=toHex,utils.encode=function(arr,enc){return"hex"===enc?toHex(arr):arr},utils.getNAF=getNAF,utils.getJSF=getJSF,utils.cachedProperty=cachedProperty,utils.parseBytes=parseBytes,utils.intFromLE=intFromLE},function(module,exports,__webpack_require__){var once=__webpack_require__(131),noop=function(){},isRequest=function(stream){return stream.setHeader&&"function"==typeof stream.abort},isChildProcess=function(stream){return stream.stdio&&Array.isArray(stream.stdio)&&3===stream.stdio.length},eos=function(stream,opts,callback){if("function"==typeof opts)return eos(stream,null,opts);opts||(opts={}),callback=once(callback||noop);var ws=stream._writableState,rs=stream._readableState,readable=opts.readable||opts.readable!==!1&&stream.readable,writable=opts.writable||opts.writable!==!1&&stream.writable,onlegacyfinish=function(){stream.writable||onfinish()},onfinish=function(){writable=!1,readable||callback()},onend=function(){readable=!1,writable||callback()},onexit=function(exitCode){callback(exitCode?new Error("exited with error code: "+exitCode):null)},onclose=function(){return(!readable||rs&&rs.ended)&&(!writable||ws&&ws.ended)?void 0:callback(new Error("premature close"))},onrequest=function(){stream.req.on("finish",onfinish)};return isRequest(stream)?(stream.on("complete",onfinish),stream.on("abort",onclose),stream.req?onrequest():stream.on("request",onrequest)):writable&&!ws&&(stream.on("end",onlegacyfinish),stream.on("close",onlegacyfinish)),isChildProcess(stream)&&stream.on("exit",onexit),stream.on("end",onend),stream.on("finish",onfinish),opts.error!==!1&&stream.on("error",callback),stream.on("close",onclose),function(){stream.removeListener("complete",onfinish),stream.removeListener("abort",onclose),stream.removeListener("request",onrequest),stream.req&&stream.req.removeListener("finish",onfinish),stream.removeListener("end",onlegacyfinish),stream.removeListener("close",onlegacyfinish),stream.removeListener("finish",onfinish),stream.removeListener("exit",onexit),stream.removeListener("end",onend),stream.removeListener("error",callback),stream.removeListener("close",onclose)}};module.exports=eos},function(module,exports,__webpack_require__){module.exports=__webpack_require__(610)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(611),module.exports.parser=__webpack_require__(76)},function(module,exports,__webpack_require__){(function(global){function Socket(uri,opts){if(!(this instanceof Socket))return new Socket(uri,opts);opts=opts||{},uri&&"object"==typeof uri&&(opts=uri,uri=null),uri?(uri=parseuri(uri),opts.hostname=uri.host,opts.secure="https"==uri.protocol||"wss"==uri.protocol,opts.port=uri.port,uri.query&&(opts.query=uri.query)):opts.host&&(opts.hostname=parseuri(opts.host).host),this.secure=null!=opts.secure?opts.secure:global.location&&"https:"==location.protocol,opts.hostname&&!opts.port&&(opts.port=this.secure?"443":"80"),this.agent=opts.agent||!1,this.hostname=opts.hostname||(global.location?location.hostname:"localhost"),this.port=opts.port||(global.location&&location.port?location.port:this.secure?443:80),this.query=opts.query||{},"string"==typeof this.query&&(this.query=parseqs.decode(this.query)),this.upgrade=!1!==opts.upgrade,this.path=(opts.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!opts.forceJSONP,this.jsonp=!1!==opts.jsonp,this.forceBase64=!!opts.forceBase64,this.enablesXDR=!!opts.enablesXDR,this.timestampParam=opts.timestampParam||"t",this.timestampRequests=opts.timestampRequests,this.transports=opts.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=opts.policyPort||843,this.rememberUpgrade=opts.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=opts.onlyBinaryUpgrades,this.perMessageDeflate=!1!==opts.perMessageDeflate&&(opts.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=opts.pfx||null,this.key=opts.key||null,this.passphrase=opts.passphrase||null,this.cert=opts.cert||null,this.ca=opts.ca||null,this.ciphers=opts.ciphers||null,this.rejectUnauthorized=void 0===opts.rejectUnauthorized||opts.rejectUnauthorized;var freeGlobal="object"==typeof global&&global;freeGlobal.global===freeGlobal&&opts.extraHeaders&&Object.keys(opts.extraHeaders).length>0&&(this.extraHeaders=opts.extraHeaders),this.open()}function clone(obj){var o={};for(var i in obj)obj.hasOwnProperty(i)&&(o[i]=obj[i]);return o}var transports=__webpack_require__(249),Emitter=__webpack_require__(111),debug=__webpack_require__(10)("engine.io-client:socket"),index=__webpack_require__(171),parser=__webpack_require__(76),parseuri=__webpack_require__(281),parsejson=__webpack_require__(714),parseqs=__webpack_require__(179);module.exports=Socket,Socket.priorWebsocketSuccess=!1,Emitter(Socket.prototype),Socket.protocol=parser.protocol,Socket.Socket=Socket,Socket.Transport=__webpack_require__(169),Socket.transports=__webpack_require__(249),Socket.parser=__webpack_require__(76),Socket.prototype.createTransport=function(name){debug('creating transport "%s"',name);var query=clone(this.query);query.EIO=parser.protocol,query.transport=name,this.id&&(query.sid=this.id);var transport=new transports[name]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:query,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders});return transport},Socket.prototype.open=function(){var transport;if(this.rememberUpgrade&&Socket.priorWebsocketSuccess&&this.transports.indexOf("websocket")!=-1)transport="websocket";else{if(0===this.transports.length){var self=this;return void setTimeout(function(){self.emit("error","No transports available")},0)}transport=this.transports[0]}this.readyState="opening";try{transport=this.createTransport(transport)}catch(e){return this.transports.shift(),void this.open()}transport.open(),this.setTransport(transport)},Socket.prototype.setTransport=function(transport){debug("setting transport %s",transport.name);var self=this;this.transport&&(debug("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=transport,transport.on("drain",function(){self.onDrain()}).on("packet",function(packet){self.onPacket(packet)}).on("error",function(e){self.onError(e)}).on("close",function(){self.onClose("transport close")})},Socket.prototype.probe=function(name){function onTransportOpen(){if(self.onlyBinaryUpgrades){var upgradeLosesBinary=!this.supportsBinary&&self.transport.supportsBinary;failed=failed||upgradeLosesBinary}failed||(debug('probe transport "%s" opened',name),transport.send([{type:"ping",data:"probe"}]),transport.once("packet",function(msg){if(!failed)if("pong"==msg.type&&"probe"==msg.data){if(debug('probe transport "%s" pong',name),self.upgrading=!0,self.emit("upgrading",transport),!transport)return;Socket.priorWebsocketSuccess="websocket"==transport.name,debug('pausing current transport "%s"',self.transport.name),self.transport.pause(function(){failed||"closed"!=self.readyState&&(debug("changing transport and sending upgrade packet"),cleanup(),self.setTransport(transport),transport.send([{type:"upgrade"}]),self.emit("upgrade",transport),transport=null,self.upgrading=!1,self.flush())})}else{debug('probe transport "%s" failed',name);var err=new Error("probe error");err.transport=transport.name,self.emit("upgradeError",err)}}))}function freezeTransport(){failed||(failed=!0,cleanup(),transport.close(),transport=null)}function onerror(err){var error=new Error("probe error: "+err);error.transport=transport.name,freezeTransport(),debug('probe transport "%s" failed because of error: %s',name,err),self.emit("upgradeError",error)}function onTransportClose(){onerror("transport closed")}function onclose(){onerror("socket closed")}function onupgrade(to){transport&&to.name!=transport.name&&(debug('"%s" works - aborting "%s"',to.name,transport.name),freezeTransport())}function cleanup(){transport.removeListener("open",onTransportOpen),transport.removeListener("error",onerror),transport.removeListener("close",onTransportClose),self.removeListener("close",onclose),self.removeListener("upgrading",onupgrade)}debug('probing transport "%s"',name);var transport=this.createTransport(name,{probe:1}),failed=!1,self=this;Socket.priorWebsocketSuccess=!1,transport.once("open",onTransportOpen),transport.once("error",onerror),transport.once("close",onTransportClose),this.once("close",onclose),this.once("upgrading",onupgrade),transport.open()},Socket.prototype.onOpen=function(){if(debug("socket open"),this.readyState="open",Socket.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){debug("starting upgrade probes");for(var i=0,l=this.upgrades.length;i<l;i++)this.probe(this.upgrades[i])}},Socket.prototype.onPacket=function(packet){if("opening"==this.readyState||"open"==this.readyState)switch(debug('socket receive: type "%s", data "%s"',packet.type,packet.data),this.emit("packet",packet),this.emit("heartbeat"),packet.type){case"open":this.onHandshake(parsejson(packet.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var err=new Error("server error");err.code=packet.data,this.onError(err);break;case"message":this.emit("data",packet.data),this.emit("message",packet.data)}else debug('packet received with socket readyState "%s"',this.readyState)},Socket.prototype.onHandshake=function(data){this.emit("handshake",data),this.id=data.sid,this.transport.query.sid=data.sid,this.upgrades=this.filterUpgrades(data.upgrades),this.pingInterval=data.pingInterval,this.pingTimeout=data.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},Socket.prototype.onHeartbeat=function(timeout){clearTimeout(this.pingTimeoutTimer);var self=this;self.pingTimeoutTimer=setTimeout(function(){"closed"!=self.readyState&&self.onClose("ping timeout")},timeout||self.pingInterval+self.pingTimeout)},Socket.prototype.setPing=function(){var self=this;clearTimeout(self.pingIntervalTimer),self.pingIntervalTimer=setTimeout(function(){debug("writing ping packet - expecting pong within %sms",self.pingTimeout),self.ping(),self.onHeartbeat(self.pingTimeout)},self.pingInterval)},Socket.prototype.ping=function(){var self=this;this.sendPacket("ping",function(){self.emit("ping")})},Socket.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},Socket.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(debug("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},Socket.prototype.write=Socket.prototype.send=function(msg,options,fn){return this.sendPacket("message",msg,options,fn),this},Socket.prototype.sendPacket=function(type,data,options,fn){if("function"==typeof data&&(fn=data,data=void 0),"function"==typeof options&&(fn=options,options=null),"closing"!=this.readyState&&"closed"!=this.readyState){options=options||{},options.compress=!1!==options.compress;var packet={type:type,data:data,options:options};this.emit("packetCreate",packet),this.writeBuffer.push(packet),fn&&this.once("flush",fn),this.flush()}},Socket.prototype.close=function(){function close(){self.onClose("forced close"),debug("socket closing - telling transport to close"),self.transport.close()}function cleanupAndClose(){self.removeListener("upgrade",cleanupAndClose),self.removeListener("upgradeError",cleanupAndClose),close()}function waitForUpgrade(){self.once("upgrade",cleanupAndClose),self.once("upgradeError",cleanupAndClose)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var self=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?waitForUpgrade():close()}):this.upgrading?waitForUpgrade():close()}return this},Socket.prototype.onError=function(err){debug("socket error %j",err),Socket.priorWebsocketSuccess=!1,this.emit("error",err),this.onClose("transport error",err)},Socket.prototype.onClose=function(reason,desc){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){debug('socket close with reason: "%s"',reason);var self=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",reason,desc),self.writeBuffer=[],self.prevBufferLen=0}},Socket.prototype.filterUpgrades=function(upgrades){for(var filteredUpgrades=[],i=0,j=upgrades.length;i<j;i++)~index(this.transports,upgrades[i])&&filteredUpgrades.push(upgrades[i]);return filteredUpgrades}}).call(exports,__webpack_require__(9))},function(module,exports,__webpack_require__){(function(global){function empty(){}function JSONPPolling(opts){Polling.call(this,opts),this.query=this.query||{},callbacks||(global.___eio||(global.___eio=[]),callbacks=global.___eio),this.index=callbacks.length;var self=this;callbacks.push(function(msg){self.onData(msg)}),this.query.j=this.index,global.document&&global.addEventListener&&global.addEventListener("beforeunload",function(){self.script&&(self.script.onerror=empty)},!1)}var Polling=__webpack_require__(250),inherit=__webpack_require__(112);module.exports=JSONPPolling;var callbacks,rNewline=/\n/g,rEscapedNewline=/\\n/g;inherit(JSONPPolling,Polling),JSONPPolling.prototype.supportsBinary=!1,JSONPPolling.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),Polling.prototype.doClose.call(this)},JSONPPolling.prototype.doPoll=function(){var self=this,script=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),script.async=!0,script.src=this.uri(),script.onerror=function(e){self.onError("jsonp poll error",e)};var insertAt=document.getElementsByTagName("script")[0];insertAt?insertAt.parentNode.insertBefore(script,insertAt):(document.head||document.body).appendChild(script),this.script=script;var isUAgecko="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);isUAgecko&&setTimeout(function(){var iframe=document.createElement("iframe");document.body.appendChild(iframe),document.body.removeChild(iframe)},100)},JSONPPolling.prototype.doWrite=function(data,fn){function complete(){initIframe(),fn()}function initIframe(){if(self.iframe)try{self.form.removeChild(self.iframe)}catch(e){self.onError("jsonp polling iframe removal error",e)}try{var html='<iframe src="javascript:0" name="'+self.iframeId+'">';iframe=document.createElement(html)}catch(e){iframe=document.createElement("iframe"),iframe.name=self.iframeId,iframe.src="javascript:0"}iframe.id=self.iframeId,self.form.appendChild(iframe),self.iframe=iframe}var self=this;if(!this.form){var iframe,form=document.createElement("form"),area=document.createElement("textarea"),id=this.iframeId="eio_iframe_"+this.index;form.className="socketio",form.style.position="absolute",form.style.top="-1000px",form.style.left="-1000px",form.target=id,form.method="POST",form.setAttribute("accept-charset","utf-8"),area.name="d",form.appendChild(area),document.body.appendChild(form),this.form=form,this.area=area}this.form.action=this.uri(),initIframe(),data=data.replace(rEscapedNewline,"\\\n"),this.area.value=data.replace(rNewline,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==self.iframe.readyState&&complete()}:this.iframe.onload=complete}}).call(exports,__webpack_require__(9))},function(module,exports,__webpack_require__){(function(global){function empty(){}function XHR(opts){if(Polling.call(this,opts),global.location){var isSSL="https:"==location.protocol,port=location.port;port||(port=isSSL?443:80),this.xd=opts.hostname!=global.location.hostname||port!=opts.port,this.xs=opts.secure!=isSSL}else this.extraHeaders=opts.extraHeaders}function Request(opts){this.method=opts.method||"GET",this.uri=opts.uri,this.xd=!!opts.xd,this.xs=!!opts.xs,this.async=!1!==opts.async,this.data=void 0!=opts.data?opts.data:null,this.agent=opts.agent,this.isBinary=opts.isBinary,this.supportsBinary=opts.supportsBinary,this.enablesXDR=opts.enablesXDR,this.pfx=opts.pfx,this.key=opts.key,this.passphrase=opts.passphrase,this.cert=opts.cert,this.ca=opts.ca,this.ciphers=opts.ciphers,this.rejectUnauthorized=opts.rejectUnauthorized,this.extraHeaders=opts.extraHeaders,this.create()}function unloadHandler(){for(var i in Request.requests)Request.requests.hasOwnProperty(i)&&Request.requests[i].abort()}var XMLHttpRequest=__webpack_require__(170),Polling=__webpack_require__(250),Emitter=__webpack_require__(111),inherit=__webpack_require__(112),debug=__webpack_require__(10)("engine.io-client:polling-xhr");module.exports=XHR,module.exports.Request=Request,inherit(XHR,Polling),XHR.prototype.supportsBinary=!0,XHR.prototype.request=function(opts){return opts=opts||{},opts.uri=this.uri(),opts.xd=this.xd,opts.xs=this.xs,opts.agent=this.agent||!1,opts.supportsBinary=this.supportsBinary,opts.enablesXDR=this.enablesXDR,opts.pfx=this.pfx,opts.key=this.key,opts.passphrase=this.passphrase,opts.cert=this.cert,opts.ca=this.ca,opts.ciphers=this.ciphers,opts.rejectUnauthorized=this.rejectUnauthorized,opts.extraHeaders=this.extraHeaders,new Request(opts)},XHR.prototype.doWrite=function(data,fn){var isBinary="string"!=typeof data&&void 0!==data,req=this.request({method:"POST",data:data,isBinary:isBinary}),self=this;req.on("success",fn),req.on("error",function(err){self.onError("xhr post error",err)}),this.sendXhr=req},XHR.prototype.doPoll=function(){debug("xhr poll");var req=this.request(),self=this;req.on("data",function(data){self.onData(data)}),req.on("error",function(err){self.onError("xhr poll error",err)}),this.pollXhr=req},Emitter(Request.prototype),Request.prototype.create=function(){var opts={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};opts.pfx=this.pfx,opts.key=this.key,opts.passphrase=this.passphrase,opts.cert=this.cert,opts.ca=this.ca,opts.ciphers=this.ciphers,opts.rejectUnauthorized=this.rejectUnauthorized;var xhr=this.xhr=new XMLHttpRequest(opts),self=this;try{debug("xhr open %s: %s",this.method,this.uri),xhr.open(this.method,this.uri,this.async);try{if(this.extraHeaders){xhr.setDisableHeaderCheck(!0);for(var i in this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&xhr.setRequestHeader(i,this.extraHeaders[i])}}catch(e){}if(this.supportsBinary&&(xhr.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?xhr.setRequestHeader("Content-type","application/octet-stream"):xhr.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}"withCredentials"in xhr&&(xhr.withCredentials=!0),this.hasXDR()?(xhr.onload=function(){self.onLoad()},xhr.onerror=function(){self.onError(xhr.responseText)}):xhr.onreadystatechange=function(){4==xhr.readyState&&(200==xhr.status||1223==xhr.status?self.onLoad():setTimeout(function(){self.onError(xhr.status)},0))},debug("xhr data %s",this.data),xhr.send(this.data)}catch(e){return void setTimeout(function(){self.onError(e)},0)}global.document&&(this.index=Request.requestsCount++,Request.requests[this.index]=this)},Request.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},Request.prototype.onData=function(data){this.emit("data",data),this.onSuccess()},Request.prototype.onError=function(err){this.emit("error",err),this.cleanup(!0)},Request.prototype.cleanup=function(fromError){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=empty:this.xhr.onreadystatechange=empty,fromError)try{this.xhr.abort()}catch(e){}global.document&&delete Request.requests[this.index],this.xhr=null}},Request.prototype.onLoad=function(){var data;try{var contentType;try{contentType=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(e){}if("application/octet-stream"===contentType)data=this.xhr.response;else if(this.supportsBinary)try{data=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(e){for(var ui8Arr=new Uint8Array(this.xhr.response),dataArray=[],idx=0,length=ui8Arr.length;idx<length;idx++)dataArray.push(ui8Arr[idx]);data=String.fromCharCode.apply(null,dataArray)}else data=this.xhr.responseText}catch(e){this.onError(e)}null!=data&&this.onData(data)},Request.prototype.hasXDR=function(){return"undefined"!=typeof global.XDomainRequest&&!this.xs&&this.enablesXDR},Request.prototype.abort=function(){this.cleanup()},global.document&&(Request.requestsCount=0,Request.requests={},global.attachEvent?global.attachEvent("onunload",unloadHandler):global.addEventListener&&global.addEventListener("beforeunload",unloadHandler,!1))}).call(exports,__webpack_require__(9))},function(module,exports,__webpack_require__){(function(global){function WS(opts){var forceBase64=opts&&opts.forceBase64;forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=opts.perMessageDeflate,Transport.call(this,opts)}var Transport=__webpack_require__(169),parser=__webpack_require__(76),parseqs=__webpack_require__(179),inherit=__webpack_require__(112),yeast=__webpack_require__(315),debug=__webpack_require__(10)("engine.io-client:websocket"),BrowserWebSocket=global.WebSocket||global.MozWebSocket,WebSocket=BrowserWebSocket;if(!WebSocket&&"undefined"==typeof window)try{WebSocket=__webpack_require__(794)}catch(e){}module.exports=WS,inherit(WS,Transport),WS.prototype.name="websocket",WS.prototype.supportsBinary=!0,WS.prototype.doOpen=function(){if(this.check()){var uri=this.uri(),protocols=void 0,opts={agent:this.agent,perMessageDeflate:this.perMessageDeflate};opts.pfx=this.pfx,opts.key=this.key,opts.passphrase=this.passphrase,opts.cert=this.cert,opts.ca=this.ca,opts.ciphers=this.ciphers,opts.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(opts.headers=this.extraHeaders),this.ws=BrowserWebSocket?new WebSocket(uri):new WebSocket(uri,protocols,opts),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},WS.prototype.addEventListeners=function(){var self=this;this.ws.onopen=function(){self.onOpen()},this.ws.onclose=function(){self.onClose()},this.ws.onmessage=function(ev){self.onData(ev.data)},this.ws.onerror=function(e){self.onError("websocket error",e)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(WS.prototype.onData=function(data){var self=this;setTimeout(function(){Transport.prototype.onData.call(self,data)},0)}),WS.prototype.write=function(packets){function done(){self.emit("flush"),setTimeout(function(){self.writable=!0,self.emit("drain")},0)}var self=this;this.writable=!1;for(var total=packets.length,i=0,l=total;i<l;i++)!function(packet){parser.encodePacket(packet,self.supportsBinary,function(data){if(!BrowserWebSocket){var opts={};if(packet.options&&(opts.compress=packet.options.compress),self.perMessageDeflate){var len="string"==typeof data?global.Buffer.byteLength(data):data.length;len<self.perMessageDeflate.threshold&&(opts.compress=!1)}}try{BrowserWebSocket?self.ws.send(data):self.ws.send(data,opts)}catch(e){debug("websocket closed before onclose event")}--total||done()})}(packets[i])},WS.prototype.onClose=function(){Transport.prototype.onClose.call(this)},WS.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},WS.prototype.uri=function(){var query=this.query||{},schema=this.secure?"wss":"ws",port="";this.port&&("wss"==schema&&443!=this.port||"ws"==schema&&80!=this.port)&&(port=":"+this.port),this.timestampRequests&&(query[this.timestampParam]=yeast()),this.supportsBinary||(query.b64=1),query=parseqs.encode(query),query.length&&(query="?"+query);var ipv6=this.hostname.indexOf(":")!==-1;return schema+"://"+(ipv6?"["+this.hostname+"]":this.hostname)+port+this.path+query},WS.prototype.check=function(){return!(!WebSocket||"__initialize"in WebSocket&&this.name===WS.prototype.name)}}).call(exports,__webpack_require__(9))},function(module,exports){module.exports=Object.keys||function(obj){var arr=[],has=Object.prototype.hasOwnProperty;for(var i in obj)has.call(obj,i)&&arr.push(i);return arr}},function(module,exports,__webpack_require__){(function(global){function hasBinary(data){function _hasBinary(obj){if(!obj)return!1;if(global.Buffer&&global.Buffer.isBuffer(obj)||global.ArrayBuffer&&obj instanceof ArrayBuffer||global.Blob&&obj instanceof Blob||global.File&&obj instanceof File)return!0;if(isArray(obj)){for(var i=0;i<obj.length;i++)if(_hasBinary(obj[i]))return!0}else if(obj&&"object"==typeof obj){obj.toJSON&&(obj=obj.toJSON());for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)&&_hasBinary(obj[key]))return!0}return!1}return _hasBinary(data)}var isArray=__webpack_require__(617);module.exports=hasBinary}).call(exports,__webpack_require__(9))},function(module,exports){module.exports=Array.isArray||function(arr){return"[object Array]"==Object.prototype.toString.call(arr)}},function(module,exports){module.exports=function(origins,visit,finish){function walk(){function add(item){queue.push(item)}function done(err){if(!finished)return err?(finished=!0,finish(err)):(theQueue=queue.concat(theQueue),0===theQueue.length?finish():void walk())}var key=theQueue.shift();visit(key,add,done);var queue=[]}var finished=!1,theQueue=[];theQueue=theQueue.concat(origins),walk(theQueue[0])}},function(module,exports,__webpack_require__){(function(process){function toFunction(list){return list=list.slice(),function(_,cb){var err=null,item=list.length?list.shift():null;item instanceof Error&&(err=item,item=null),cb(err,item)}}function from2(opts,read){("object"!=typeof opts||Array.isArray(opts))&&(read=opts,opts={});var rs=new Proto(opts);return rs._from=Array.isArray(read)?toFunction(read):read,rs}function ctor(opts,read){function Class(override){function check(err,data){if(!self.destroyed){if(err)return self.destroy(err);if(null===data)return self.push(null);self._reading=!1,self.push(data)&&self._read(hwm)}}if(!(this instanceof Class))return new Class(override);this._reading=!1,this._callback=check,this.destroyed=!1,Readable.call(this,override||opts);var self=this,hwm=this._readableState.highWaterMark}return"function"==typeof opts&&(read=opts,opts={}),opts=defaults(opts),inherits(Class,Readable),Class.prototype._from=read,Class.prototype._read=function(size){this._reading||this.destroyed||(this._reading=!0,this._from(size,this._callback))},Class.prototype.destroy=function(err){if(!this.destroyed){this.destroyed=!0;var self=this;process.nextTick(function(){err&&self.emit("error",err),self.emit("close")})}},Class}function obj(opts,read){return("function"==typeof opts||Array.isArray(opts))&&(read=opts,opts={}),opts=defaults(opts),opts.objectMode=!0,opts.highWaterMark=16,from2(opts,read)}function defaults(opts){return opts=opts||{}}var Readable=__webpack_require__(621).Readable,inherits=__webpack_require__(2);module.exports=from2,from2.ctor=ctor,from2.obj=obj;var Proto=ctor()}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";function PassThrough(options){return this instanceof PassThrough?void Transform.call(this,options):new PassThrough(options)}module.exports=PassThrough;var Transform=__webpack_require__(252),util=__webpack_require__(4);util.inherits=__webpack_require__(2),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},function(module,exports,__webpack_require__){(function(process){var Stream=function(){try{return __webpack_require__(6)}catch(_){}}();exports=module.exports=__webpack_require__(251),exports.Stream=Stream||exports,exports.Readable=exports,exports.Writable=__webpack_require__(253),exports.Duplex=__webpack_require__(77),exports.Transform=__webpack_require__(252),exports.PassThrough=__webpack_require__(620),!process.browser&&"disable"===process.env.READABLE_STREAM&&Stream&&(module.exports=Stream)}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){var mkdirp=__webpack_require__(188),LRU=__webpack_require__(697),eos=__webpack_require__(608),duplexify=__webpack_require__(590),path=__webpack_require__(44),noop=function(){},join=function(root,dir){return path.join(root,path.resolve("/",dir).replace(/^[a-zA-Z]:/,""))},listen=function(stream,opts,cb){return cb?(eos(stream,function(err){return err?cb(err):void cb(null,opts)}),stream):stream},BlobStore=function(opts){return this instanceof BlobStore?("string"==typeof opts&&(opts={path:opts}),this.path=opts.path,void(this.cache=LRU(opts.cache||100))):new BlobStore(opts)};BlobStore.prototype.createWriteStream=function(opts,cb){"string"==typeof opts&&(opts={key:opts}),opts.name&&!opts.key&&(opts.key=opts.name);var key=join(this.path,opts.key),dir=path.dirname(key),cache=this.cache;if(cache.get(dir))return listen(fs.createWriteStream(key,opts),opts,cb);var proxy=listen(duplexify(),opts,cb);return proxy.setReadable(!1),mkdirp(dir,function(err){if(!proxy.destroyed){if(err)return proxy.destroy(err);cache.set(dir,!0),proxy.setWritable(fs.createWriteStream(key,opts))}}),proxy},BlobStore.prototype.createReadStream=function(key,opts){
return key&&"object"==typeof key?this.createReadStream(key.key,key):fs.createReadStream(join(this.path,key),opts)},BlobStore.prototype.exists=function(opts,cb){"string"==typeof opts&&(opts={key:opts});var key=join(this.path,opts.key);fs.stat(key,function(err,stat){return err&&"ENOENT"!==err.code?cb(err):void cb(null,!!stat)})},BlobStore.prototype.remove=function(opts,cb){"string"==typeof opts&&(opts={key:opts}),opts||(opts=noop);var key=join(this.path,opts.key);fs.unlink(key,function(err){return err&&"ENOENT"!==err.code?cb(err):void cb()})},module.exports=BlobStore},function(module,exports,__webpack_require__){var util=__webpack_require__(14),INDENT_START=/[\{\[]/,INDENT_END=/[\}\]]/;module.exports=function(){var lines=[],indent=0,push=function(str){for(var spaces="";spaces.length<2*indent;)spaces+="  ";lines.push(spaces+str)},line=function(fmt){return fmt?INDENT_END.test(fmt.trim()[0])&&INDENT_START.test(fmt[fmt.length-1])?(indent--,push(util.format.apply(util,arguments)),indent++,line):INDENT_START.test(fmt[fmt.length-1])?(push(util.format.apply(util,arguments)),indent++,line):INDENT_END.test(fmt.trim()[0])?(indent--,push(util.format.apply(util,arguments)),line):(push(util.format.apply(util,arguments)),line):line};return line.toString=function(){return lines.join("\n")},line.toFunction=function(scope){var src="return ("+line.toString()+")",keys=Object.keys(scope||{}).map(function(key){return key}),vals=keys.map(function(key){return scope[key]});return Function.apply(null,keys.concat(src)).apply(null,vals)},arguments.length&&line.apply(null,arguments),line}},function(module,exports,__webpack_require__){var isProperty=__webpack_require__(655),gen=function(obj,prop){return isProperty(prop)?obj+"."+prop:obj+"["+JSON.stringify(prop)+"]"};gen.valid=isProperty,gen.property=function(prop){return isProperty(prop)?prop:JSON.stringify(prop)},module.exports=gen},function(module,exports){module.exports=function(){if("undefined"==typeof window)return null;var wrtc={RTCPeerConnection:window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,RTCSessionDescription:window.RTCSessionDescription||window.mozRTCSessionDescription||window.webkitRTCSessionDescription,RTCIceCandidate:window.RTCIceCandidate||window.mozRTCIceCandidate||window.webkitRTCIceCandidate};return wrtc.RTCPeerConnection?wrtc:null}},function(module,exports,__webpack_require__){(function(global){function hasBinary(data){function _hasBinary(obj){if(!obj)return!1;if(global.Buffer&&global.Buffer.isBuffer&&global.Buffer.isBuffer(obj)||global.ArrayBuffer&&obj instanceof ArrayBuffer||global.Blob&&obj instanceof Blob||global.File&&obj instanceof File)return!0;if(isArray(obj)){for(var i=0;i<obj.length;i++)if(_hasBinary(obj[i]))return!0}else if(obj&&"object"==typeof obj){obj.toJSON&&"function"==typeof obj.toJSON&&(obj=obj.toJSON());for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)&&_hasBinary(obj[key]))return!0}return!1}return _hasBinary(data)}var isArray=__webpack_require__(627);module.exports=hasBinary}).call(exports,__webpack_require__(9))},function(module,exports){module.exports=Array.isArray||function(arr){return"[object Array]"==Object.prototype.toString.call(arr)}},function(module,exports){try{module.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(err){module.exports=!1}},function(module,exports,__webpack_require__){function BlockHash(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var hash=__webpack_require__(64),utils=hash.utils,assert=utils.assert;exports.BlockHash=BlockHash,BlockHash.prototype.update=function(msg,enc){if(msg=utils.toArray(msg,enc),this.pending?this.pending=this.pending.concat(msg):this.pending=msg,this.pendingTotal+=msg.length,this.pending.length>=this._delta8){msg=this.pending;var r=msg.length%this._delta8;this.pending=msg.slice(msg.length-r,msg.length),0===this.pending.length&&(this.pending=null),msg=utils.join32(msg,0,msg.length-r,this.endian);for(var i=0;i<msg.length;i+=this._delta32)this._update(msg,i,i+this._delta32)}return this},BlockHash.prototype.digest=function(enc){return this.update(this._pad()),assert(null===this.pending),this._digest(enc)},BlockHash.prototype._pad=function(){var len=this.pendingTotal,bytes=this._delta8,k=bytes-(len+this.padLength)%bytes,res=new Array(k+this.padLength);res[0]=128;for(var i=1;i<k;i++)res[i]=0;if(len<<=3,"big"===this.endian){for(var t=8;t<this.padLength;t++)res[i++]=0;res[i++]=0,res[i++]=0,res[i++]=0,res[i++]=0,res[i++]=len>>>24&255,res[i++]=len>>>16&255,res[i++]=len>>>8&255,res[i++]=255&len}else{res[i++]=255&len,res[i++]=len>>>8&255,res[i++]=len>>>16&255,res[i++]=len>>>24&255,res[i++]=0,res[i++]=0,res[i++]=0,res[i++]=0;for(var t=8;t<this.padLength;t++)res[i++]=0}return res}},function(module,exports,__webpack_require__){function Hmac(hash,key,enc){return this instanceof Hmac?(this.Hash=hash,this.blockSize=hash.blockSize/8,this.outSize=hash.outSize/8,this.inner=null,this.outer=null,void this._init(utils.toArray(key,enc))):new Hmac(hash,key,enc)}var hash=__webpack_require__(64),utils=hash.utils,assert=utils.assert;module.exports=Hmac,Hmac.prototype._init=function(key){key.length>this.blockSize&&(key=(new this.Hash).update(key).digest()),assert(key.length<=this.blockSize);for(var i=key.length;i<this.blockSize;i++)key.push(0);for(var i=0;i<key.length;i++)key[i]^=54;this.inner=(new this.Hash).update(key);for(var i=0;i<key.length;i++)key[i]^=106;this.outer=(new this.Hash).update(key)},Hmac.prototype.update=function(msg,enc){return this.inner.update(msg,enc),this},Hmac.prototype.digest=function(enc){return this.outer.update(this.inner.digest()),this.outer.digest(enc)}},function(module,exports,__webpack_require__){function RIPEMD160(){return this instanceof RIPEMD160?(BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.endian="little")):new RIPEMD160}function f(j,x,y,z){return j<=15?x^y^z:j<=31?x&y|~x&z:j<=47?(x|~y)^z:j<=63?x&z|y&~z:x^(y|~z)}function K(j){return j<=15?0:j<=31?1518500249:j<=47?1859775393:j<=63?2400959708:2840853838}function Kh(j){return j<=15?1352829926:j<=31?1548603684:j<=47?1836072691:j<=63?2053994217:0}var hash=__webpack_require__(64),utils=hash.utils,rotl32=utils.rotl32,sum32=utils.sum32,sum32_3=utils.sum32_3,sum32_4=utils.sum32_4,BlockHash=hash.common.BlockHash;utils.inherits(RIPEMD160,BlockHash),exports.ripemd160=RIPEMD160,RIPEMD160.blockSize=512,RIPEMD160.outSize=160,RIPEMD160.hmacStrength=192,RIPEMD160.padLength=64,RIPEMD160.prototype._update=function(msg,start){for(var A=this.h[0],B=this.h[1],C=this.h[2],D=this.h[3],E=this.h[4],Ah=A,Bh=B,Ch=C,Dh=D,Eh=E,j=0;j<80;j++){var T=sum32(rotl32(sum32_4(A,f(j,B,C,D),msg[r[j]+start],K(j)),s[j]),E);A=E,E=D,D=rotl32(C,10),C=B,B=T,T=sum32(rotl32(sum32_4(Ah,f(79-j,Bh,Ch,Dh),msg[rh[j]+start],Kh(j)),sh[j]),Eh),Ah=Eh,Eh=Dh,Dh=rotl32(Ch,10),Ch=Bh,Bh=T}T=sum32_3(this.h[1],C,Dh),this.h[1]=sum32_3(this.h[2],D,Eh),this.h[2]=sum32_3(this.h[3],E,Ah),this.h[3]=sum32_3(this.h[4],A,Bh),this.h[4]=sum32_3(this.h[0],B,Ch),this.h[0]=T},RIPEMD160.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"little"):utils.split32(this.h,"little")};var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(module,exports,__webpack_require__){function SHA256(){return this instanceof SHA256?(BlockHash.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,void(this.W=new Array(64))):new SHA256}function SHA224(){return this instanceof SHA224?(SHA256.call(this),void(this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])):new SHA224}function SHA512(){return this instanceof SHA512?(BlockHash.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,void(this.W=new Array(160))):new SHA512}function SHA384(){return this instanceof SHA384?(SHA512.call(this),void(this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428])):new SHA384}function SHA1(){return this instanceof SHA1?(BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.W=new Array(80))):new SHA1}function ch32(x,y,z){return x&y^~x&z}function maj32(x,y,z){return x&y^x&z^y&z}function p32(x,y,z){return x^y^z}function s0_256(x){return rotr32(x,2)^rotr32(x,13)^rotr32(x,22)}function s1_256(x){return rotr32(x,6)^rotr32(x,11)^rotr32(x,25)}function g0_256(x){return rotr32(x,7)^rotr32(x,18)^x>>>3}function g1_256(x){return rotr32(x,17)^rotr32(x,19)^x>>>10}function ft_1(s,x,y,z){return 0===s?ch32(x,y,z):1===s||3===s?p32(x,y,z):2===s?maj32(x,y,z):void 0}function ch64_hi(xh,xl,yh,yl,zh,zl){var r=xh&yh^~xh&zh;return r<0&&(r+=4294967296),r}function ch64_lo(xh,xl,yh,yl,zh,zl){var r=xl&yl^~xl&zl;return r<0&&(r+=4294967296),r}function maj64_hi(xh,xl,yh,yl,zh,zl){var r=xh&yh^xh&zh^yh&zh;return r<0&&(r+=4294967296),r}function maj64_lo(xh,xl,yh,yl,zh,zl){var r=xl&yl^xl&zl^yl&zl;return r<0&&(r+=4294967296),r}function s0_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,28),c1_hi=rotr64_hi(xl,xh,2),c2_hi=rotr64_hi(xl,xh,7),r=c0_hi^c1_hi^c2_hi;return r<0&&(r+=4294967296),r}function s0_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,28),c1_lo=rotr64_lo(xl,xh,2),c2_lo=rotr64_lo(xl,xh,7),r=c0_lo^c1_lo^c2_lo;return r<0&&(r+=4294967296),r}function s1_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,14),c1_hi=rotr64_hi(xh,xl,18),c2_hi=rotr64_hi(xl,xh,9),r=c0_hi^c1_hi^c2_hi;return r<0&&(r+=4294967296),r}function s1_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,14),c1_lo=rotr64_lo(xh,xl,18),c2_lo=rotr64_lo(xl,xh,9),r=c0_lo^c1_lo^c2_lo;return r<0&&(r+=4294967296),r}function g0_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,1),c1_hi=rotr64_hi(xh,xl,8),c2_hi=shr64_hi(xh,xl,7),r=c0_hi^c1_hi^c2_hi;return r<0&&(r+=4294967296),r}function g0_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,1),c1_lo=rotr64_lo(xh,xl,8),c2_lo=shr64_lo(xh,xl,7),r=c0_lo^c1_lo^c2_lo;return r<0&&(r+=4294967296),r}function g1_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,19),c1_hi=rotr64_hi(xl,xh,29),c2_hi=shr64_hi(xh,xl,6),r=c0_hi^c1_hi^c2_hi;return r<0&&(r+=4294967296),r}function g1_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,19),c1_lo=rotr64_lo(xl,xh,29),c2_lo=shr64_lo(xh,xl,6),r=c0_lo^c1_lo^c2_lo;return r<0&&(r+=4294967296),r}var hash=__webpack_require__(64),utils=hash.utils,assert=utils.assert,rotr32=utils.rotr32,rotl32=utils.rotl32,sum32=utils.sum32,sum32_4=utils.sum32_4,sum32_5=utils.sum32_5,rotr64_hi=utils.rotr64_hi,rotr64_lo=utils.rotr64_lo,shr64_hi=utils.shr64_hi,shr64_lo=utils.shr64_lo,sum64=utils.sum64,sum64_hi=utils.sum64_hi,sum64_lo=utils.sum64_lo,sum64_4_hi=utils.sum64_4_hi,sum64_4_lo=utils.sum64_4_lo,sum64_5_hi=utils.sum64_5_hi,sum64_5_lo=utils.sum64_5_lo,BlockHash=hash.common.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],sha1_K=[1518500249,1859775393,2400959708,3395469782];utils.inherits(SHA256,BlockHash),exports.sha256=SHA256,SHA256.blockSize=512,SHA256.outSize=256,SHA256.hmacStrength=192,SHA256.padLength=64,SHA256.prototype._update=function(msg,start){for(var W=this.W,i=0;i<16;i++)W[i]=msg[start+i];for(;i<W.length;i++)W[i]=sum32_4(g1_256(W[i-2]),W[i-7],g0_256(W[i-15]),W[i-16]);var a=this.h[0],b=this.h[1],c=this.h[2],d=this.h[3],e=this.h[4],f=this.h[5],g=this.h[6],h=this.h[7];assert(this.k.length===W.length);for(var i=0;i<W.length;i++){var T1=sum32_5(h,s1_256(e),ch32(e,f,g),this.k[i],W[i]),T2=sum32(s0_256(a),maj32(a,b,c));h=g,g=f,f=e,e=sum32(d,T1),d=c,c=b,b=a,a=sum32(T1,T2)}this.h[0]=sum32(this.h[0],a),this.h[1]=sum32(this.h[1],b),this.h[2]=sum32(this.h[2],c),this.h[3]=sum32(this.h[3],d),this.h[4]=sum32(this.h[4],e),this.h[5]=sum32(this.h[5],f),this.h[6]=sum32(this.h[6],g),this.h[7]=sum32(this.h[7],h)},SHA256.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")},utils.inherits(SHA224,SHA256),exports.sha224=SHA224,SHA224.blockSize=512,SHA224.outSize=224,SHA224.hmacStrength=192,SHA224.padLength=64,SHA224.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h.slice(0,7),"big"):utils.split32(this.h.slice(0,7),"big")},utils.inherits(SHA512,BlockHash),exports.sha512=SHA512,SHA512.blockSize=1024,SHA512.outSize=512,SHA512.hmacStrength=192,SHA512.padLength=128,SHA512.prototype._prepareBlock=function(msg,start){for(var W=this.W,i=0;i<32;i++)W[i]=msg[start+i];for(;i<W.length;i+=2){var c0_hi=g1_512_hi(W[i-4],W[i-3]),c0_lo=g1_512_lo(W[i-4],W[i-3]),c1_hi=W[i-14],c1_lo=W[i-13],c2_hi=g0_512_hi(W[i-30],W[i-29]),c2_lo=g0_512_lo(W[i-30],W[i-29]),c3_hi=W[i-32],c3_lo=W[i-31];W[i]=sum64_4_hi(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo),W[i+1]=sum64_4_lo(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo)}},SHA512.prototype._update=function(msg,start){this._prepareBlock(msg,start);var W=this.W,ah=this.h[0],al=this.h[1],bh=this.h[2],bl=this.h[3],ch=this.h[4],cl=this.h[5],dh=this.h[6],dl=this.h[7],eh=this.h[8],el=this.h[9],fh=this.h[10],fl=this.h[11],gh=this.h[12],gl=this.h[13],hh=this.h[14],hl=this.h[15];assert(this.k.length===W.length);for(var i=0;i<W.length;i+=2){var c0_hi=hh,c0_lo=hl,c1_hi=s1_512_hi(eh,el),c1_lo=s1_512_lo(eh,el),c2_hi=ch64_hi(eh,el,fh,fl,gh,gl),c2_lo=ch64_lo(eh,el,fh,fl,gh,gl),c3_hi=this.k[i],c3_lo=this.k[i+1],c4_hi=W[i],c4_lo=W[i+1],T1_hi=sum64_5_hi(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo,c4_hi,c4_lo),T1_lo=sum64_5_lo(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo,c4_hi,c4_lo),c0_hi=s0_512_hi(ah,al),c0_lo=s0_512_lo(ah,al),c1_hi=maj64_hi(ah,al,bh,bl,ch,cl),c1_lo=maj64_lo(ah,al,bh,bl,ch,cl),T2_hi=sum64_hi(c0_hi,c0_lo,c1_hi,c1_lo),T2_lo=sum64_lo(c0_hi,c0_lo,c1_hi,c1_lo);hh=gh,hl=gl,gh=fh,gl=fl,fh=eh,fl=el,eh=sum64_hi(dh,dl,T1_hi,T1_lo),el=sum64_lo(dl,dl,T1_hi,T1_lo),dh=ch,dl=cl,ch=bh,cl=bl,bh=ah,bl=al,ah=sum64_hi(T1_hi,T1_lo,T2_hi,T2_lo),al=sum64_lo(T1_hi,T1_lo,T2_hi,T2_lo)}sum64(this.h,0,ah,al),sum64(this.h,2,bh,bl),sum64(this.h,4,ch,cl),sum64(this.h,6,dh,dl),sum64(this.h,8,eh,el),sum64(this.h,10,fh,fl),sum64(this.h,12,gh,gl),sum64(this.h,14,hh,hl)},SHA512.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")},utils.inherits(SHA384,SHA512),exports.sha384=SHA384,SHA384.blockSize=1024,SHA384.outSize=384,SHA384.hmacStrength=192,SHA384.padLength=128,SHA384.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h.slice(0,12),"big"):utils.split32(this.h.slice(0,12),"big")},utils.inherits(SHA1,BlockHash),exports.sha1=SHA1,SHA1.blockSize=512,SHA1.outSize=160,SHA1.hmacStrength=80,SHA1.padLength=64,SHA1.prototype._update=function(msg,start){for(var W=this.W,i=0;i<16;i++)W[i]=msg[start+i];for(;i<W.length;i++)W[i]=rotl32(W[i-3]^W[i-8]^W[i-14]^W[i-16],1);for(var a=this.h[0],b=this.h[1],c=this.h[2],d=this.h[3],e=this.h[4],i=0;i<W.length;i++){var s=~~(i/20),t=sum32_5(rotl32(a,5),ft_1(s,b,c,d),e,W[i],sha1_K[s]);e=d,d=c,c=rotl32(b,30),b=a,a=t}this.h[0]=sum32(this.h[0],a),this.h[1]=sum32(this.h[1],b),this.h[2]=sum32(this.h[2],c),this.h[3]=sum32(this.h[3],d),this.h[4]=sum32(this.h[4],e)},SHA1.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")}},function(module,exports,__webpack_require__){function toArray(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return[];var res=[];if("string"==typeof msg)if(enc){if("hex"===enc){msg=msg.replace(/[^a-z0-9]+/gi,""),msg.length%2!==0&&(msg="0"+msg);for(var i=0;i<msg.length;i+=2)res.push(parseInt(msg[i]+msg[i+1],16))}}else for(var i=0;i<msg.length;i++){var c=msg.charCodeAt(i),hi=c>>8,lo=255&c;hi?res.push(hi,lo):res.push(lo)}else for(var i=0;i<msg.length;i++)res[i]=0|msg[i];return res}function toHex(msg){for(var res="",i=0;i<msg.length;i++)res+=zero2(msg[i].toString(16));return res}function htonl(w){var res=w>>>24|w>>>8&65280|w<<8&16711680|(255&w)<<24;return res>>>0}function toHex32(msg,endian){for(var res="",i=0;i<msg.length;i++){var w=msg[i];"little"===endian&&(w=htonl(w)),res+=zero8(w.toString(16))}return res}function zero2(word){return 1===word.length?"0"+word:word}function zero8(word){return 7===word.length?"0"+word:6===word.length?"00"+word:5===word.length?"000"+word:4===word.length?"0000"+word:3===word.length?"00000"+word:2===word.length?"000000"+word:1===word.length?"0000000"+word:word}function join32(msg,start,end,endian){var len=end-start;assert(len%4===0);for(var res=new Array(len/4),i=0,k=start;i<res.length;i++,k+=4){var w;w="big"===endian?msg[k]<<24|msg[k+1]<<16|msg[k+2]<<8|msg[k+3]:msg[k+3]<<24|msg[k+2]<<16|msg[k+1]<<8|msg[k],res[i]=w>>>0}return res}function split32(msg,endian){for(var res=new Array(4*msg.length),i=0,k=0;i<msg.length;i++,k+=4){var m=msg[i];"big"===endian?(res[k]=m>>>24,res[k+1]=m>>>16&255,res[k+2]=m>>>8&255,res[k+3]=255&m):(res[k+3]=m>>>24,res[k+2]=m>>>16&255,res[k+1]=m>>>8&255,res[k]=255&m)}return res}function rotr32(w,b){return w>>>b|w<<32-b}function rotl32(w,b){return w<<b|w>>>32-b}function sum32(a,b){return a+b>>>0}function sum32_3(a,b,c){return a+b+c>>>0}function sum32_4(a,b,c,d){return a+b+c+d>>>0}function sum32_5(a,b,c,d,e){return a+b+c+d+e>>>0}function assert(cond,msg){if(!cond)throw new Error(msg||"Assertion failed")}function sum64(buf,pos,ah,al){var bh=buf[pos],bl=buf[pos+1],lo=al+bl>>>0,hi=(lo<al?1:0)+ah+bh;buf[pos]=hi>>>0,buf[pos+1]=lo}function sum64_hi(ah,al,bh,bl){var lo=al+bl>>>0,hi=(lo<al?1:0)+ah+bh;return hi>>>0}function sum64_lo(ah,al,bh,bl){var lo=al+bl;return lo>>>0}function sum64_4_hi(ah,al,bh,bl,ch,cl,dh,dl){var carry=0,lo=al;lo=lo+bl>>>0,carry+=lo<al?1:0,lo=lo+cl>>>0,carry+=lo<cl?1:0,lo=lo+dl>>>0,carry+=lo<dl?1:0;var hi=ah+bh+ch+dh+carry;return hi>>>0}function sum64_4_lo(ah,al,bh,bl,ch,cl,dh,dl){var lo=al+bl+cl+dl;return lo>>>0}function sum64_5_hi(ah,al,bh,bl,ch,cl,dh,dl,eh,el){var carry=0,lo=al;lo=lo+bl>>>0,carry+=lo<al?1:0,lo=lo+cl>>>0,carry+=lo<cl?1:0,lo=lo+dl>>>0,carry+=lo<dl?1:0,lo=lo+el>>>0,carry+=lo<el?1:0;var hi=ah+bh+ch+dh+eh+carry;return hi>>>0}function sum64_5_lo(ah,al,bh,bl,ch,cl,dh,dl,eh,el){var lo=al+bl+cl+dl+el;return lo>>>0}function rotr64_hi(ah,al,num){var r=al<<32-num|ah>>>num;return r>>>0}function rotr64_lo(ah,al,num){var r=ah<<32-num|al>>>num;return r>>>0}function shr64_hi(ah,al,num){return ah>>>num}function shr64_lo(ah,al,num){var r=ah<<32-num|al>>>num;return r>>>0}var utils=exports,inherits=__webpack_require__(2);utils.toArray=toArray,utils.toHex=toHex,utils.htonl=htonl,utils.toHex32=toHex32,utils.zero2=zero2,utils.zero8=zero8,utils.join32=join32,utils.split32=split32,utils.rotr32=rotr32,utils.rotl32=rotl32,utils.sum32=sum32,utils.sum32_3=sum32_3,utils.sum32_4=sum32_4,utils.sum32_5=sum32_5,utils.assert=assert,utils.inherits=inherits,exports.sum64=sum64,exports.sum64_hi=sum64_hi,exports.sum64_lo=sum64_lo,exports.sum64_4_hi=sum64_4_hi,exports.sum64_4_lo=sum64_4_lo,exports.sum64_5_hi=sum64_5_hi,exports.sum64_5_lo=sum64_5_lo,exports.rotr64_hi=rotr64_hi,exports.rotr64_lo=rotr64_lo,exports.shr64_hi=shr64_hi,exports.shr64_lo=shr64_lo},function(module,exports){var hat=module.exports=function(bits,base){if(base||(base=16),void 0===bits&&(bits=128),bits<=0)return"0";for(var digits=Math.log(Math.pow(2,bits))/Math.log(base),i=2;digits===1/0;i*=2)digits=Math.log(Math.pow(2,bits/i))/Math.log(base)*i;for(var rem=digits-Math.floor(digits),res="",i=0;i<Math.floor(digits);i++){var x=Math.floor(Math.random()*base).toString(base);res=x+res}if(rem){var b=Math.pow(base,rem),x=Math.floor(Math.random()*b).toString(base);res=x+res}var parsed=parseInt(res,base);return parsed!==1/0&&parsed>=Math.pow(2,bits)?hat(bits,base):res};hat.rack=function(bits,base,expandBy){var fn=function(data){var iters=0;do{if(iters++>10){if(!expandBy)throw new Error("too many ID collisions, use more bits");bits+=expandBy}var id=hat(bits,base)}while(Object.hasOwnProperty.call(hats,id));return hats[id]=data,id},hats=fn.hats={};return fn.get=function(id){return fn.hats[id]},fn.set=function(id,value){return fn.hats[id]=value,fn},fn.bits=bits||128,fn.base=base||16,fn}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(636)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(){var Heap,defaultCmp,floor,heapify,heappop,heappush,heappushpop,heapreplace,insort,min,nlargest,nsmallest,updateItem,_siftdown,_siftup;floor=Math.floor,min=Math.min,defaultCmp=function(x,y){return x<y?-1:x>y?1:0},insort=function(a,x,lo,hi,cmp){var mid;if(null==lo&&(lo=0),null==cmp&&(cmp=defaultCmp),lo<0)throw new Error("lo must be non-negative");for(null==hi&&(hi=a.length);lo<hi;)mid=floor((lo+hi)/2),cmp(x,a[mid])<0?hi=mid:lo=mid+1;return[].splice.apply(a,[lo,lo-lo].concat(x)),x},heappush=function(array,item,cmp){return null==cmp&&(cmp=defaultCmp),array.push(item),_siftdown(array,0,array.length-1,cmp)},heappop=function(array,cmp){var lastelt,returnitem;return null==cmp&&(cmp=defaultCmp),lastelt=array.pop(),array.length?(returnitem=array[0],array[0]=lastelt,_siftup(array,0,cmp)):returnitem=lastelt,returnitem},heapreplace=function(array,item,cmp){var returnitem;return null==cmp&&(cmp=defaultCmp),returnitem=array[0],array[0]=item,_siftup(array,0,cmp),returnitem},heappushpop=function(array,item,cmp){var _ref;return null==cmp&&(cmp=defaultCmp),array.length&&cmp(array[0],item)<0&&(_ref=[array[0],item],item=_ref[0],array[0]=_ref[1],_siftup(array,0,cmp)),item},heapify=function(array,cmp){var i,_i,_len,_ref1,_results,_results1;for(null==cmp&&(cmp=defaultCmp),_ref1=function(){_results1=[];for(var _j=0,_ref=floor(array.length/2);0<=_ref?_j<_ref:_j>_ref;0<=_ref?_j++:_j--)_results1.push(_j);return _results1}.apply(this).reverse(),_results=[],_i=0,_len=_ref1.length;_i<_len;_i++)i=_ref1[_i],_results.push(_siftup(array,i,cmp));return _results},updateItem=function(array,item,cmp){var pos;if(null==cmp&&(cmp=defaultCmp),pos=array.indexOf(item),pos!==-1)return _siftdown(array,0,pos,cmp),_siftup(array,pos,cmp)},nlargest=function(array,n,cmp){var elem,result,_i,_len,_ref;if(null==cmp&&(cmp=defaultCmp),result=array.slice(0,n),!result.length)return result;for(heapify(result,cmp),_ref=array.slice(n),_i=0,_len=_ref.length;_i<_len;_i++)elem=_ref[_i],heappushpop(result,elem,cmp);return result.sort(cmp).reverse()},nsmallest=function(array,n,cmp){var elem,i,los,result,_i,_j,_len,_ref,_ref1,_results;if(null==cmp&&(cmp=defaultCmp),10*n<=array.length){if(result=array.slice(0,n).sort(cmp),!result.length)return result;for(los=result[result.length-1],_ref=array.slice(n),_i=0,_len=_ref.length;_i<_len;_i++)elem=_ref[_i],cmp(elem,los)<0&&(insort(result,elem,0,null,cmp),result.pop(),los=result[result.length-1]);return result}for(heapify(array,cmp),_results=[],i=_j=0,_ref1=min(n,array.length);0<=_ref1?_j<_ref1:_j>_ref1;i=0<=_ref1?++_j:--_j)_results.push(heappop(array,cmp));return _results},_siftdown=function(array,startpos,pos,cmp){var newitem,parent,parentpos;for(null==cmp&&(cmp=defaultCmp),newitem=array[pos];pos>startpos&&(parentpos=pos-1>>1,parent=array[parentpos],cmp(newitem,parent)<0);)array[pos]=parent,pos=parentpos;return array[pos]=newitem},_siftup=function(array,pos,cmp){var childpos,endpos,newitem,rightpos,startpos;for(null==cmp&&(cmp=defaultCmp),endpos=array.length,startpos=pos,newitem=array[pos],childpos=2*pos+1;childpos<endpos;)rightpos=childpos+1,rightpos<endpos&&!(cmp(array[childpos],array[rightpos])<0)&&(childpos=rightpos),array[pos]=array[childpos],pos=childpos,childpos=2*pos+1;return array[pos]=newitem,_siftdown(array,startpos,pos,cmp)},Heap=function(){function Heap(cmp){this.cmp=null!=cmp?cmp:defaultCmp,this.nodes=[]}return Heap.push=heappush,Heap.pop=heappop,Heap.replace=heapreplace,Heap.pushpop=heappushpop,Heap.heapify=heapify,Heap.updateItem=updateItem,Heap.nlargest=nlargest,Heap.nsmallest=nsmallest,Heap.prototype.push=function(x){return heappush(this.nodes,x,this.cmp)},Heap.prototype.pop=function(){return heappop(this.nodes,this.cmp)},Heap.prototype.peek=function(){return this.nodes[0]},Heap.prototype.contains=function(x){return this.nodes.indexOf(x)!==-1},Heap.prototype.replace=function(x){return heapreplace(this.nodes,x,this.cmp)},Heap.prototype.pushpop=function(x){return heappushpop(this.nodes,x,this.cmp)},Heap.prototype.heapify=function(){return heapify(this.nodes,this.cmp)},Heap.prototype.updateItem=function(x){return updateItem(this.nodes,x,this.cmp)},Heap.prototype.clear=function(){return this.nodes=[]},Heap.prototype.empty=function(){return 0===this.nodes.length},Heap.prototype.size=function(){return this.nodes.length},Heap.prototype.clone=function(){var heap;return heap=new Heap,heap.nodes=this.nodes.slice(0),heap},Heap.prototype.toArray=function(){return this.nodes.slice(0)},Heap.prototype.insert=Heap.prototype.push,Heap.prototype.top=Heap.prototype.peek,Heap.prototype.front=Heap.prototype.peek,Heap.prototype.has=Heap.prototype.contains,Heap.prototype.copy=Heap.prototype.clone,Heap}(),function(root,factory){return __WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_FACTORY__=factory,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(this,function(){return Heap})}).call(this)},function(module,exports,__webpack_require__){(function(global){function IntMap(){this.map={},this.size=0}var hasOwn=Object.prototype.hasOwnProperty;IntMap.prototype.set=function(key,value){return this.has(key)?this.map[key]=value:(this.map[key]=value,this.size++),this},IntMap.prototype.get=function(key){return this.map[key]},IntMap.prototype.delete=function(key){var deleted=this.has(key);return deleted&&(delete this.map[key],this.size--),deleted},IntMap.prototype.has=function(key){return hasOwn.call(this.map,key)},IntMap.prototype.forEach=function(f,thisArg){for(var key in this.map)f.call(thisArg,this.map[key],key,this)},void 0===global.Map?module.exports=IntMap:module.exports=global.Map}).call(exports,__webpack_require__(9))},function(module,exports){function Queue(){this._in=[],this._out=[],this.length=0}Queue.prototype.enqueueAll=function(list){this._in=this._in.concat(list),this.length+=list.length},Queue.prototype.enqueue=function(item){this._in.push(item),this.length++},Queue.prototype.dequeue=function(){return this._out.length?(this.length--,this._out.pop()):this._in.length?(this._out=this._in.reverse(),this._in=[],this.length--,this._out.pop()):void 0},Queue.prototype.clear=function(){this._out=[],this._in=[],this.length=0},Queue.prototype.toArray=function(){var res=[];return res=res.concat(this._out),res.reverse(),res=res.concat(this._in)},Queue.prototype.toString=function(){return this.toArray().toString()},module.exports=Queue},function(module,exports,__webpack_require__){function Compressor(options){Duplex.call(this,{writableObjectMode:!0}),this._encoder=null,this._table=table.create(options.table)}var hpack=__webpack_require__(78),utils=hpack.utils,encoder=hpack.encoder,table=hpack.table,assert=utils.assert,inherits=__webpack_require__(2),Duplex=__webpack_require__(258).Duplex;inherits(Compressor,Duplex),module.exports=Compressor,Compressor.create=function(options){return new Compressor(options)},Compressor.prototype._read=function(){},Compressor.prototype._write=function(data,enc,cb){assert(Array.isArray(data),"Compressor.write() expects list of headers"),this._encoder=encoder.create();for(var i=0;i<data.length;i++)this._encodeHeader(data[i]);var data=this._encoder.render();this._encoder=null,cb(null);for(var i=0;i<data.length;i++)this.push(data[i])},Compressor.prototype.updateTableSize=function(size){this._table.updateSize(size)},Compressor.prototype.reset=function(){var enc=encoder.create(),size=this._table.size;enc.encodeBits(1,3),enc.encodeInt(0),this.updateTableSize(0),enc.encodeBits(1,3),enc.encodeInt(size),this.updateTableSize(size);for(var data=enc.render(),i=0;i<data.length;i++)this.push(data[i])},Compressor.prototype._encodeHeader=function(header){if(header.neverIndex)var index=0,neverIndex=1,isIndexed=0,isIncremental=0;else var index=this._table.reverseLookup(header.name,header.value),isIndexed=index>0,isIncremental=header.incremental!==!1,neverIndex=0;if(this._encoder.encodeBit(isIndexed),isIndexed)return void this._encoder.encodeInt(index);var name=utils.toArray(header.name),value=utils.toArray(header.value);this._encoder.encodeBit(isIncremental),isIncremental?this._table.add(header.name,header.value,name.length,value.length):(this._encoder.encodeBit(0),this._encoder.encodeBit(neverIndex)),
this._encoder.encodeInt(-index),0===index&&this._encoder.encodeStr(name,header.huffman!==!1),this._encoder.encodeStr(value,header.huffman!==!1)}},function(module,exports,__webpack_require__){function Decoder(){this.buffer=new OffsetBuffer,this.bitOffset=0,this._huffmanNode=null}var hpack=__webpack_require__(78),utils=hpack.utils,huffman=hpack.huffman.decode,assert=utils.assert,OffsetBuffer=__webpack_require__(130);module.exports=Decoder,Decoder.create=function(){return new Decoder},Decoder.prototype.isEmpty=function(){return this.buffer.isEmpty()},Decoder.prototype.push=function(chunk){this.buffer.push(chunk)},Decoder.prototype.decodeBit=function(){assert(this.buffer.has(1),"Buffer too small for an int");var octet,offset=this.bitOffset;return 8===++this.bitOffset?(octet=this.buffer.readUInt8(),this.bitOffset=0):octet=this.buffer.peekUInt8(),octet>>>7-offset&1},Decoder.prototype.skipBits=function(n){this.bitOffset+=n,this.buffer.skip(this.bitOffset>>3),this.bitOffset&=7},Decoder.prototype.decodeInt=function(){assert(this.buffer.has(1),"Buffer too small for an int");var prefix=8-this.bitOffset;this.bitOffset=0;var max=(1<<prefix)-1,octet=this.buffer.readUInt8()&max;if(octet!==max)return octet;var res=0,isLast=!1,len=0;do octet=this.buffer.readUInt8(),isLast=0===(128&octet),res<<=7,res|=127&octet,len++;while(!isLast);return assert(isLast,"Incomplete data for multi-octet integer"),assert(len<=4,"Integer does not fit into 32 bits"),res=res>>>21|(res>>14&127)<<7|(res>>7&127)<<14|(127&res)<<21,res>>=7*(4-len),res+=max},Decoder.prototype.decodeHuffmanWord=function(input,inputBits,out){for(var root=huffman,node=this._huffmanNode,word=input,bits=inputBits;bits>0;word&=(1<<bits)-1){for(var i=Math.max(0,bits-8);i<bits;i++){var subnode=node[word>>>i];if("number"!=typeof subnode){node=subnode,bits=i;break}if(0!==subnode){if(subnode>>>9===bits-i){var octet=511&subnode;assert(256!==octet,"EOS in encoding"),out.push(octet),node=root,bits=i;break}subnode=0}}if(0===subnode)break}return this._huffmanNode=node,bits},Decoder.prototype.decodeStr=function(){var isHuffman=this.decodeBit(),len=this.decodeInt();if(assert(this.buffer.has(len),"Not enough octets for string"),!isHuffman)return this.buffer.take(len);this._huffmanNode=huffman;for(var out=[],word=0,bits=0,lastKey=0,i=0;i<len;i++)word<<=8,word|=this.buffer.readUInt8(),bits+=8,bits=this.decodeHuffmanWord(word,bits,out),lastKey=word>>bits,word&=(1<<bits)-1;return assert(this._huffmanNode===huffman,"8-bit EOS"),assert(word+1===1<<bits,"Final sequence is not EOS"),this._huffmanNode=null,out}},function(module,exports,__webpack_require__){(function(process){function Decompressor(options){Duplex.call(this,{readableObjectMode:!0}),this._decoder=decoder.create(),this._table=table.create(options.table)}var hpack=__webpack_require__(78),utils=hpack.utils,decoder=hpack.decoder,table=hpack.table,inherits=(utils.assert,__webpack_require__(2)),Duplex=__webpack_require__(258).Duplex;inherits(Decompressor,Duplex),module.exports=Decompressor,Decompressor.create=function(options){return new Decompressor(options)},Decompressor.prototype._read=function(){},Decompressor.prototype._write=function(data,enc,cb){this._decoder.push(data),cb(null)},Decompressor.prototype.execute=function(cb){function done(err){process.nextTick(function(){cb(err)})}for(;!this._decoder.isEmpty();)try{this._execute()}catch(err){return cb?done(err):this.emit("error",err)}cb&&done(null)},Decompressor.prototype.updateTableSize=function(size){this._table.updateSize(size)},Decompressor.prototype._execute=function(){var isIndexed=this._decoder.decodeBit();if(isIndexed)return this._processIndexed();var isIncremental=this._decoder.decodeBit(),neverIndex=0;if(!isIncremental){var isUpdate=this._decoder.decodeBit();if(isUpdate)return this._processUpdate();neverIndex=this._decoder.decodeBit()}this._processLiteral(isIncremental,neverIndex)},Decompressor.prototype._processIndexed=function(){var index=this._decoder.decodeInt(),lookup=this._table.lookup(index);this.push({name:lookup.name,value:lookup.value,neverIndex:!1})},Decompressor.prototype._processLiteral=function(inc,never){var name,nameSize,index=this._decoder.decodeInt();if(0===index)name=this._decoder.decodeStr(),nameSize=name.length,name=utils.stringify(name);else{var lookup=this._table.lookup(index);nameSize=lookup.nameSize,name=lookup.name}var value=this._decoder.decodeStr(),valueSize=value.length;value=utils.stringify(value),inc&&this._table.add(name,value,nameSize,valueSize),this.push({name:name,value:value,neverIndex:0!==never})},Decompressor.prototype._processUpdate=function(){var size=this._decoder.decodeInt();this.updateTableSize(size)}}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){function Encoder(){this.buffer=new WBuf,this.word=0,this.bitOffset=0}var hpack=__webpack_require__(78),utils=hpack.utils,huffman=hpack.huffman.encode,WBuf=(utils.assert,__webpack_require__(187));module.exports=Encoder,Encoder.create=function(){return new Encoder},Encoder.prototype.render=function(){return this.buffer.render()},Encoder.prototype.encodeBit=function(bit){this.word<<=1,this.word|=bit,this.bitOffset++,8===this.bitOffset&&(this.buffer.writeUInt8(this.word),this.word=0,this.bitOffset=0)},Encoder.prototype.encodeBits=function(bits,len){for(var left=bits,leftLen=len;leftLen>0;){var avail=Math.min(leftLen,8-this.bitOffset),toWrite=left>>>leftLen-avail;8===avail?this.buffer.writeUInt8(toWrite):(this.word<<=avail,this.word|=toWrite,this.bitOffset+=avail,8===this.bitOffset&&(this.buffer.writeUInt8(this.word),this.word=0,this.bitOffset=0)),leftLen-=avail,left&=(1<<leftLen)-1}},Encoder.prototype.skipBits=function(num){this.bitOffset+=num,this.buffer.skip(this.bitOffset>>3),this.bitOffset&=7},Encoder.prototype.encodeInt=function(num){var prefix=8-this.bitOffset;this.bitOffset=0;var max=(1<<prefix)-1;if(num<max)return this.buffer.writeUInt8(this.word<<prefix|num),octet;var left=num-max;this.buffer.writeUInt8(this.word<<prefix|max);do{var octet=127&left;left>>=7,0!==left&&(octet|=128),this.buffer.writeUInt8(octet)}while(0!==left)},Encoder.prototype.encodeStr=function(value,isHuffman){if(this.encodeBit(isHuffman?1:0),isHuffman){for(var codes=[],len=0,pad=0,i=0;i<value.length;i++){var code=huffman[value[i]];codes.push(code),len+=code[0]}len%8!==0&&(pad=8-len%8),len+=pad,this.buffer.reserve(len/8+1),this.encodeInt(len/8);for(var i=0;i<codes.length;i++){var code=codes[i];this.encodeBits(code[1],code[0])}this.encodeBits(255>>>8-pad,pad)}else{this.buffer.reserve(value.length+1),this.encodeInt(value.length);for(var i=0;i<value.length;i++)this.buffer.writeUInt8(value[i])}}},function(module,exports){exports.decode=[2608,2609,2610,2657,2659,2661,2665,2671,2675,2676,0,0,0,0,0,0,0,0,0,0,3104,3109,3117,3118,3119,3123,3124,3125,3126,3127,3128,3129,3133,3137,3167,3170,3172,3174,3175,3176,3180,3181,3182,3184,3186,3189,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3642,3650,3651,3652,3653,3654,3655,3656,3657,3658,3659,3660,3661,3662,3663,3664,3665,3666,3667,3668,3669,3670,3671,3673,3690,3691,3697,3702,3703,3704,3705,3706,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4134,4138,4140,4155,4184,4186,[1057,1058,1064,1065,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1087,0,1575,1579,1660,0,0,0,0,0,2083,2110,0,0,0,0,0,0,0,0,0,0,0,0,2560,2596,2624,2651,2653,2686,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3166,3197,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3644,3680,3707,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,[1628,1731,1744,0,0,0,2176,2178,2179,2210,2232,2242,2272,2274,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2713,2721,2727,2732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[2736,2737,2739,2769,2776,2777,2787,2789,2790,0,0,0,0,0,0,0,0,0,3201,3204,3205,3206,3208,3218,3226,3228,3232,3235,3236,3241,3242,3245,3250,3253,3257,3258,3259,3261,3262,3268,3270,3300,3304,3305,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3585,3719,3721,3722,3723,3724,3725,3727,3731,3733,3734,3735,3736,3739,3741,3742,3749,3750,3752,3758,3759,3764,3766,3767,3772,3775,3781,3815,3823,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4105,4238,4240,4241,4244,4255,4267,4302,4311,4321,4332,4333,[711,719,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[746,747,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1216,1217,1224,1225,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1226,1229,1234,1237,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1242,1243,1262,1264,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1266,1267,1279,0,0,0,1739,1740,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1747,1748,1750,1757,1758,1759,1777,1780,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1781,1782,1783,1784,1786,1787,1788,1789,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1790,0,2050,2051,2052,2053,2054,2055,2056,2059,2060,2062,2063,2064,2065,2066,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[2067,2068,2069,2071,2072,2073,2074,2075,2076,2077,2078,2079,2175,2268,2297,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3082,3085,3094,3328,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]]],exports.encode=[[13,8184],[23,8388568],[28,268435426],[28,268435427],[28,268435428],[28,268435429],[28,268435430],[28,268435431],[28,268435432],[24,16777194],[30,1073741820],[28,268435433],[28,268435434],[30,1073741821],[28,268435435],[28,268435436],[28,268435437],[28,268435438],[28,268435439],[28,268435440],[28,268435441],[28,268435442],[30,1073741822],[28,268435443],[28,268435444],[28,268435445],[28,268435446],[28,268435447],[28,268435448],[28,268435449],[28,268435450],[28,268435451],[6,20],[10,1016],[10,1017],[12,4090],[13,8185],[6,21],[8,248],[11,2042],[10,1018],[10,1019],[8,249],[11,2043],[8,250],[6,22],[6,23],[6,24],[5,0],[5,1],[5,2],[6,25],[6,26],[6,27],[6,28],[6,29],[6,30],[6,31],[7,92],[8,251],[15,32764],[6,32],[12,4091],[10,1020],[13,8186],[6,33],[7,93],[7,94],[7,95],[7,96],[7,97],[7,98],[7,99],[7,100],[7,101],[7,102],[7,103],[7,104],[7,105],[7,106],[7,107],[7,108],[7,109],[7,110],[7,111],[7,112],[7,113],[7,114],[8,252],[7,115],[8,253],[13,8187],[19,524272],[13,8188],[14,16380],[6,34],[15,32765],[5,3],[6,35],[5,4],[6,36],[5,5],[6,37],[6,38],[6,39],[5,6],[7,116],[7,117],[6,40],[6,41],[6,42],[5,7],[6,43],[7,118],[6,44],[5,8],[5,9],[6,45],[7,119],[7,120],[7,121],[7,122],[7,123],[15,32766],[11,2044],[14,16381],[13,8189],[28,268435452],[20,1048550],[22,4194258],[20,1048551],[20,1048552],[22,4194259],[22,4194260],[22,4194261],[23,8388569],[22,4194262],[23,8388570],[23,8388571],[23,8388572],[23,8388573],[23,8388574],[24,16777195],[23,8388575],[24,16777196],[24,16777197],[22,4194263],[23,8388576],[24,16777198],[23,8388577],[23,8388578],[23,8388579],[23,8388580],[21,2097116],[22,4194264],[23,8388581],[22,4194265],[23,8388582],[23,8388583],[24,16777199],[22,4194266],[21,2097117],[20,1048553],[22,4194267],[22,4194268],[23,8388584],[23,8388585],[21,2097118],[23,8388586],[22,4194269],[22,4194270],[24,16777200],[21,2097119],[22,4194271],[23,8388587],[23,8388588],[21,2097120],[21,2097121],[22,4194272],[21,2097122],[23,8388589],[22,4194273],[23,8388590],[23,8388591],[20,1048554],[22,4194274],[22,4194275],[22,4194276],[23,8388592],[22,4194277],[22,4194278],[23,8388593],[26,67108832],[26,67108833],[20,1048555],[19,524273],[22,4194279],[23,8388594],[22,4194280],[25,33554412],[26,67108834],[26,67108835],[26,67108836],[27,134217694],[27,134217695],[26,67108837],[24,16777201],[25,33554413],[19,524274],[21,2097123],[26,67108838],[27,134217696],[27,134217697],[26,67108839],[27,134217698],[24,16777202],[21,2097124],[21,2097125],[26,67108840],[26,67108841],[28,268435453],[27,134217699],[27,134217700],[27,134217701],[20,1048556],[24,16777203],[20,1048557],[21,2097126],[22,4194281],[21,2097127],[21,2097128],[23,8388595],[22,4194282],[22,4194283],[25,33554414],[25,33554415],[24,16777204],[24,16777205],[26,67108842],[23,8388596],[26,67108843],[27,134217702],[26,67108844],[26,67108845],[27,134217703],[27,134217704],[27,134217705],[27,134217706],[27,134217707],[28,268435454],[27,134217708],[27,134217709],[27,134217710],[27,134217711],[27,134217712],[26,67108846],[30,1073741823]]},function(module,exports){exports.table=[{name:":authority",value:"",nameSize:10,totalSize:42},{name:":method",value:"GET",nameSize:7,totalSize:42},{name:":method",value:"POST",nameSize:7,totalSize:43},{name:":path",value:"/",nameSize:5,totalSize:38},{name:":path",value:"/index.html",nameSize:5,totalSize:48},{name:":scheme",value:"http",nameSize:7,totalSize:43},{name:":scheme",value:"https",nameSize:7,totalSize:44},{name:":status",value:"200",nameSize:7,totalSize:42},{name:":status",value:"204",nameSize:7,totalSize:42},{name:":status",value:"206",nameSize:7,totalSize:42},{name:":status",value:"304",nameSize:7,totalSize:42},{name:":status",value:"400",nameSize:7,totalSize:42},{name:":status",value:"404",nameSize:7,totalSize:42},{name:":status",value:"500",nameSize:7,totalSize:42},{name:"accept-charset",value:"",nameSize:14,totalSize:46},{name:"accept-encoding",value:"gzip, deflate",nameSize:15,totalSize:60},{name:"accept-language",value:"",nameSize:15,totalSize:47},{name:"accept-ranges",value:"",nameSize:13,totalSize:45},{name:"accept",value:"",nameSize:6,totalSize:38},{name:"access-control-allow-origin",value:"",nameSize:27,totalSize:59},{name:"age",value:"",nameSize:3,totalSize:35},{name:"allow",value:"",nameSize:5,totalSize:37},{name:"authorization",value:"",nameSize:13,totalSize:45},{name:"cache-control",value:"",nameSize:13,totalSize:45},{name:"content-disposition",value:"",nameSize:19,totalSize:51},{name:"content-encoding",value:"",nameSize:16,totalSize:48},{name:"content-language",value:"",nameSize:16,totalSize:48},{name:"content-length",value:"",nameSize:14,totalSize:46},{name:"content-location",value:"",nameSize:16,totalSize:48},{name:"content-range",value:"",nameSize:13,totalSize:45},{name:"content-type",value:"",nameSize:12,totalSize:44},{name:"cookie",value:"",nameSize:6,totalSize:38},{name:"date",value:"",nameSize:4,totalSize:36},{name:"etag",value:"",nameSize:4,totalSize:36},{name:"expect",value:"",nameSize:6,totalSize:38},{name:"expires",value:"",nameSize:7,totalSize:39},{name:"from",value:"",nameSize:4,totalSize:36},{name:"host",value:"",nameSize:4,totalSize:36},{name:"if-match",value:"",nameSize:8,totalSize:40},{name:"if-modified-since",value:"",nameSize:17,totalSize:49},{name:"if-none-match",value:"",nameSize:13,totalSize:45},{name:"if-range",value:"",nameSize:8,totalSize:40},{name:"if-unmodified-since",value:"",nameSize:19,totalSize:51},{name:"last-modified",value:"",nameSize:13,totalSize:45},{name:"link",value:"",nameSize:4,totalSize:36},{name:"location",value:"",nameSize:8,totalSize:40},{name:"max-forwards",value:"",nameSize:12,totalSize:44},{name:"proxy-authenticate",value:"",nameSize:18,totalSize:50},{name:"proxy-authorization",value:"",nameSize:19,totalSize:51},{name:"range",value:"",nameSize:5,totalSize:37},{name:"referer",value:"",nameSize:7,totalSize:39},{name:"refresh",value:"",nameSize:7,totalSize:39},{name:"retry-after",value:"",nameSize:11,totalSize:43},{name:"server",value:"",nameSize:6,totalSize:38},{name:"set-cookie",value:"",nameSize:10,totalSize:42},{name:"strict-transport-security",value:"",nameSize:25,totalSize:57},{name:"transfer-encoding",value:"",nameSize:17,totalSize:49},{name:"user-agent",value:"",nameSize:10,totalSize:42},{name:"vary",value:"",nameSize:4,totalSize:36},{name:"via",value:"",nameSize:3,totalSize:35},{name:"www-authenticate",value:"",nameSize:16,totalSize:48}],exports.map={":authority":{index:1,values:{"":1}},":method":{index:2,values:{GET:2,POST:3}},":path":{index:4,values:{"/":4,"/index.html":5}},":scheme":{index:6,values:{http:6,https:7}},":status":{index:8,values:{200:8,204:9,206:10,304:11,400:12,404:13,500:14}},"accept-charset":{index:15,values:{"":15}},"accept-encoding":{index:16,values:{"gzip, deflate":16}},"accept-language":{index:17,values:{"":17}},"accept-ranges":{index:18,values:{"":18}},accept:{index:19,values:{"":19}},"access-control-allow-origin":{index:20,values:{"":20}},age:{index:21,values:{"":21}},allow:{index:22,values:{"":22}},authorization:{index:23,values:{"":23}},"cache-control":{index:24,values:{"":24}},"content-disposition":{index:25,values:{"":25}},"content-encoding":{index:26,values:{"":26}},"content-language":{index:27,values:{"":27}},"content-length":{index:28,values:{"":28}},"content-location":{index:29,values:{"":29}},"content-range":{index:30,values:{"":30}},"content-type":{index:31,values:{"":31}},cookie:{index:32,values:{"":32}},date:{index:33,values:{"":33}},etag:{index:34,values:{"":34}},expect:{index:35,values:{"":35}},expires:{index:36,values:{"":36}},from:{index:37,values:{"":37}},host:{index:38,values:{"":38}},"if-match":{index:39,values:{"":39}},"if-modified-since":{index:40,values:{"":40}},"if-none-match":{index:41,values:{"":41}},"if-range":{index:42,values:{"":42}},"if-unmodified-since":{index:43,values:{"":43}},"last-modified":{index:44,values:{"":44}},link:{index:45,values:{"":45}},location:{index:46,values:{"":46}},"max-forwards":{index:47,values:{"":47}},"proxy-authenticate":{index:48,values:{"":48}},"proxy-authorization":{index:49,values:{"":49}},range:{index:50,values:{"":50}},referer:{index:51,values:{"":51}},refresh:{index:52,values:{"":52}},"retry-after":{index:53,values:{"":53}},server:{index:54,values:{"":54}},"set-cookie":{index:55,values:{"":55}},"strict-transport-security":{index:56,values:{"":56}},"transfer-encoding":{index:57,values:{"":57}},"user-agent":{index:58,values:{"":58}},vary:{index:59,values:{"":59}},via:{index:60,values:{"":60}},"www-authenticate":{index:61,values:{"":61}}}},function(module,exports,__webpack_require__){function Table(options){this.static=hpack["static-table"],this.dynamic=[],this.size=0,this.maxSize=0,this.length=this.static.table.length,this.protocolMaxSize=options.maxSize,this.maxSize=this.protocolMaxSize,this.lookupDepth=options.lookupDepth||32}var hpack=__webpack_require__(78),utils=hpack.utils,assert=utils.assert;module.exports=Table,Table.create=function(options){return new Table(options)},Table.prototype.lookup=function(index){return assert(0!==index,"Zero indexed field"),assert(index<=this.length,"Indexed field OOB"),index<=this.static.table.length?this.static.table[index-1]:this.dynamic[this.length-index]},Table.prototype.reverseLookup=function(name,value){var staticEntry=this.static.map[name];if(staticEntry&&staticEntry.values[value])return staticEntry.values[value];for(var limit=Math.max(0,this.dynamic.length-this.lookupDepth),i=this.dynamic.length-1;i>=limit;i--){var entry=this.dynamic[i];if(entry.name===name&&entry.value===value)return this.length-i;if(entry.name===name){if(staticEntry)break;return-(this.length-i)}}return staticEntry?-staticEntry.index:0},Table.prototype.add=function(name,value,nameSize,valueSize){var totalSize=nameSize+valueSize+32;this.dynamic.push({name:name,value:value,nameSize:nameSize,totalSize:totalSize}),this.size+=totalSize,this.length++,this.evict()},Table.prototype.evict=function(){for(;this.size>this.maxSize;){var entry=this.dynamic.shift();this.size-=entry.totalSize,this.length--}assert(this.size>=0,"Table size sanity check failed")},Table.prototype.updateSize=function(size){assert(size<=this.protocolMaxSize,"Table size bigger than maximum"),this.maxSize=size,this.evict()}},function(module,exports){exports.assert=function(cond,text){if(!cond)throw new Error(text)},exports.stringify=function(arr){for(var res="",i=0;i<arr.length;i++)res+=String.fromCharCode(arr[i]);return res},exports.toArray=function(str){for(var res=[],i=0;i<str.length;i++){var c=str.charCodeAt(i),hi=c>>>8,lo=255&c;hi?res.push(hi,lo):res.push(lo)}return res}},function(module,exports,__webpack_require__){"use strict";function PassThrough(options){return this instanceof PassThrough?void Transform.call(this,options):new PassThrough(options)}module.exports=PassThrough;var Transform=__webpack_require__(256),util=__webpack_require__(4);util.inherits=__webpack_require__(2),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function noop(){}function Blobs(opts){if(!(this instanceof Blobs))return new Blobs(opts);this.opts=isUndefined(opts)?{}:opts,"string"==typeof opts&&(this.opts={name:opts}),this.opts.name=isUndefined(this.opts.name)?"idb-plus-blob-store":this.opts.name;var schema={};schema[this.opts.name]={};var self=this;this._store=db.open({server:self.opts.name,version:1,schema:schema}).then(function(server){return server[self.opts.name]})}var db=__webpack_require__(580),isUndefined=__webpack_require__(274),from=__webpack_require__(619),toBuffer=__webpack_require__(781),Transform=__webpack_require__(180).Transform,util=__webpack_require__(14);module.exports=Blobs,Blobs.prototype.createWriteStream=function(opts,cb){"function"==typeof opts&&(opts={}),"string"==typeof opts&&(opts={key:opts}),opts.name&&isUndefined(opts.key)&&(opts.key=opts.name),cb||(cb=noop);var self=this,key=opts.key;if(isUndefined(key))return cb(new Error("Missing key"));var FlushableStream=function(options){Transform.call(this,options),this._bufs=[],this._evilIsFlushing=!1,this._evilFlushed=!1};return util.inherits(FlushableStream,Transform),FlushableStream.prototype._transform=function(chunk,encoding,done){"number"==typeof buf&&(chunk=chunk.toString()),this._bufs.push(Buffer.isBuffer(chunk)?chunk:new Buffer(chunk)),this.push(chunk),done&&done()},FlushableStream.prototype._flush=function(done){this._evilIsFlushing=!0;var server,innerSelf=this,finish=function(err){innerSelf._evilIsFlushing=!1,innerSelf._evilFlushed=!0,innerSelf.emit("_evilFlush"),done&&done(err)},data=this._bufs.slice();self._store.then(function(s){server=s}).then(function(){return server.get(key)}).then(function(data){if(data)return server.remove(key)}).then(function(){return server.add({key:key,item:data})}).then(function(){cb(null,{key:key,size:data.length}),finish()}).catch(finish)},FlushableStream.prototype.emit=function(event){var innerSelf=this,args=arguments,emit=function(){Transform.prototype.emit.apply(innerSelf,args)};switch(event){case"finish":if(this._evilFlushed)emit();else{if(this._evilIsFlushing)return;this._flush()}break;case"_evilFlush":this.emit("finish");break;default:emit()}},new FlushableStream},Blobs.prototype.createReadStream=function(opts){opts||(opts={}),"string"==typeof opts&&(opts={key:opts}),opts.name&&isUndefined(opts.key)&&(opts.key=opts.name);var self=this,key=opts.key;if(isUndefined(key))throw new Error("Missing key");var buf=null,result=from(function(size,next){return buf?0===buf.length?next(null,null):void next(null,toBuffer(buf.pop())):self._store.then(function(server){return server.get(key)}).then(function(result){if(!result)throw new Error("key not found: "+key);buf=result;var nextPart=buf.pop();return isUndefined(nextPart)?next(null,new Buffer(0)):void next(null,toBuffer(nextPart))}).catch(function(err){next(err)})});return result.resume(),result},Blobs.prototype.exists=function(opts,cb){"string"==typeof opts&&(opts={key:opts}),cb||(cb=noop);var key=isUndefined(opts.key)?"undefined":opts.key;this._store.then(function(server){return server.get(key)}).then(function(result){return result?cb(null,!0):void cb(null,!1)}).catch(cb)},Blobs.prototype.remove=function(opts,cb){"string"==typeof opts&&(opts={key:opts}),cb||(cb=noop);var key=isUndefined(opts.key)?"undefined":opts.key;this._store.then(function(server){return server.remove(key)}).then(function(){cb()},cb)}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:(s?-1:1)*(1/0);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},function(module,exports,__webpack_require__){(function(Buffer,process){var stream=__webpack_require__(653),eos=__webpack_require__(651),inherits=__webpack_require__(2),shift=__webpack_require__(312),SIGNAL_FLUSH=new Buffer([0]),onuncork=function(self,fn){self._corked?self.once("uncork",fn):fn()},destroyer=function(self,end){return function(err){err?self.destroy("premature close"===err.message?null:err):end&&!self._ended&&self.end()}},end=function(ws,fn){return ws?ws._writableState&&ws._writableState.finished?fn():ws._writableState?ws.end(fn):(ws.end(),void fn()):fn()},toStreams2=function(rs){return new stream.Readable({objectMode:!0,highWaterMark:16}).wrap(rs)},Duplexify=function(writable,readable,opts){return this instanceof Duplexify?(stream.Duplex.call(this,opts),this._writable=null,this._readable=null,this._readable2=null,this._forwardDestroy=!opts||opts.destroy!==!1,this._forwardEnd=!opts||opts.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.closed=!1,this.destroyed=!1,writable&&this.setWritable(writable),
void(readable&&this.setReadable(readable))):new Duplexify(writable,readable,opts)};inherits(Duplexify,stream.Duplex),Duplexify.obj=function(writable,readable,opts){return opts||(opts={}),opts.objectMode=!0,opts.highWaterMark=16,new Duplexify(writable,readable,opts)},Duplexify.prototype.cork=function(){1===++this._corked&&this.emit("cork")},Duplexify.prototype.uncork=function(){this._corked&&0===--this._corked&&this.emit("uncork")},Duplexify.prototype.setWritable=function(writable){if(this._unwrite&&this._unwrite(),this.destroyed)return void(writable&&writable.destroy&&writable.destroy());if(null===writable||writable===!1)return void this.end();var self=this,unend=eos(writable,{writable:!0,readable:!1},destroyer(this,this._forwardEnd)),ondrain=function(){var ondrain=self._ondrain;self._ondrain=null,ondrain&&ondrain()},clear=function(){self._writable.removeListener("drain",ondrain),unend()};this._unwrite&&process.nextTick(ondrain),this._writable=writable,this._writable.on("drain",ondrain),this._unwrite=clear,this.uncork()},Duplexify.prototype.setReadable=function(readable){if(this._unread&&this._unread(),this.destroyed)return void(readable&&readable.destroy&&readable.destroy());if(null===readable||readable===!1)return this.push(null),void this.resume();var self=this,unend=eos(readable,{writable:!1,readable:!0},destroyer(this)),onreadable=function(){self._forward()},onend=function(){self.push(null)},onclose=function(){self.closed||(self.closed=!0,self.emit("close"))},clear=function(){self._readable2.removeListener("readable",onreadable),self._readable2.removeListener("end",onend),unend()};this._drained=!0,this._readable=readable,this._readable2=readable._readableState?readable:toStreams2(readable),this._readable2.on("readable",onreadable),this._readable2.on("end",onend),this._readable2.on("close",onclose),this._unread=clear,this._forward()},Duplexify.prototype._read=function(){this._drained=!0,this._forward()},Duplexify.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){this._forwarding=!0;for(var data;null!==(data=shift(this._readable2));)this._drained=this.push(data);this._forwarding=!1}},Duplexify.prototype.destroy=function(err){if(!this.destroyed){this.destroyed=!0;var self=this;process.nextTick(function(){self._destroy(err)})}},Duplexify.prototype._destroy=function(err){if(err){var ondrain=this._ondrain;this._ondrain=null,ondrain?ondrain(err):this.emit("error",err)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.closed||(this.closed=!0,this.emit("close"))},Duplexify.prototype._write=function(data,enc,cb){return this.destroyed?cb():this._corked?onuncork(this,this._write.bind(this,data,enc,cb)):data===SIGNAL_FLUSH?this._finish(cb):this._writable?void(this._writable.write(data)===!1?this._ondrain=cb:cb()):cb()},Duplexify.prototype._finish=function(cb){var self=this;this.emit("preend"),onuncork(this,function(){end(self._forwardEnd&&self._writable,function(){self._writableState.prefinished===!1&&(self._writableState.prefinished=!0),self.emit("prefinish"),onuncork(self,cb)})})},Duplexify.prototype.end=function(data,enc,cb){return"function"==typeof data?this.end(null,null,data):"function"==typeof enc?this.end(data,null,enc):(this._ended=!0,data&&this.write(data),this._writableState.ending||this.write(SIGNAL_FLUSH),stream.Writable.prototype.end.call(this,cb))},module.exports=Duplexify}).call(exports,__webpack_require__(0).Buffer,__webpack_require__(3))},function(module,exports,__webpack_require__){var once=__webpack_require__(131),noop=function(){},isRequest=function(stream){return stream.setHeader&&"function"==typeof stream.abort},eos=function(stream,opts,callback){if("function"==typeof opts)return eos(stream,null,opts);opts||(opts={}),callback=once(callback||noop);var ws=stream._writableState,rs=stream._readableState,readable=opts.readable||opts.readable!==!1&&stream.readable,writable=opts.writable||opts.writable!==!1&&stream.writable,onlegacyfinish=function(){stream.writable||onfinish()},onfinish=function(){writable=!1,readable||callback()},onend=function(){readable=!1,writable||callback()},onclose=function(){return(!readable||rs&&rs.ended)&&(!writable||ws&&ws.ended)?void 0:callback(new Error("premature close"))},onrequest=function(){stream.req.on("finish",onfinish)};return isRequest(stream)?(stream.on("complete",onfinish),stream.on("abort",onclose),stream.req?onrequest():stream.on("request",onrequest)):writable&&!ws&&(stream.on("end",onlegacyfinish),stream.on("close",onlegacyfinish)),stream.on("end",onend),stream.on("finish",onfinish),opts.error!==!1&&stream.on("error",callback),stream.on("close",onclose),function(){stream.removeListener("complete",onfinish),stream.removeListener("abort",onclose),stream.removeListener("request",onrequest),stream.req&&stream.req.removeListener("finish",onfinish),stream.removeListener("end",onlegacyfinish),stream.removeListener("close",onlegacyfinish),stream.removeListener("finish",onfinish),stream.removeListener("end",onend),stream.removeListener("error",callback),stream.removeListener("close",onclose)}};module.exports=eos},function(module,exports,__webpack_require__){"use strict";function PassThrough(options){return this instanceof PassThrough?void Transform.call(this,options):new PassThrough(options)}module.exports=PassThrough;var Transform=__webpack_require__(261),util=__webpack_require__(4);util.inherits=__webpack_require__(2),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},function(module,exports,__webpack_require__){(function(process){var Stream=function(){try{return __webpack_require__(6)}catch(_){}}();exports=module.exports=__webpack_require__(260),exports.Stream=Stream||exports,exports.Readable=exports,exports.Writable=__webpack_require__(262),exports.Duplex=__webpack_require__(80),exports.Transform=__webpack_require__(261),exports.PassThrough=__webpack_require__(652),!process.browser&&"disable"===process.env.READABLE_STREAM&&Stream&&(module.exports=Stream)}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";function _normalizeFamily(family){return family?family.toLowerCase():"ipv4"}var ip=exports,Buffer=__webpack_require__(0).Buffer,os=__webpack_require__(278);ip.toBuffer=function(ip,buff,offset){offset=~~offset;var result;if(this.isV4Format(ip))result=buff||new Buffer(offset+4),ip.split(/\./g).map(function(byte){result[offset++]=255&parseInt(byte,10)});else if(this.isV6Format(ip)){var i,sections=ip.split(":",8);for(i=0;i<sections.length;i++){var v4Buffer,isv4=this.isV4Format(sections[i]);isv4&&(v4Buffer=this.toBuffer(sections[i]),sections[i]=v4Buffer.slice(0,2).toString("hex")),v4Buffer&&++i<8&&sections.splice(i,0,v4Buffer.slice(2,4).toString("hex"))}if(""===sections[0])for(;sections.length<8;)sections.unshift("0");else if(""===sections[sections.length-1])for(;sections.length<8;)sections.push("0");else if(sections.length<8){for(i=0;i<sections.length&&""!==sections[i];i++);var argv=[i,1];for(i=9-sections.length;i>0;i--)argv.push("0");sections.splice.apply(sections,argv)}for(result=buff||new Buffer(offset+16),i=0;i<sections.length;i++){var word=parseInt(sections[i],16);result[offset++]=word>>8&255,result[offset++]=255&word}}if(!result)throw Error("Invalid ip address: "+ip);return result},ip.toString=function(buff,offset,length){offset=~~offset,length=length||buff.length-offset;var result=[];if(4===length){for(var i=0;i<length;i++)result.push(buff[offset+i]);result=result.join(".")}else if(16===length){for(var i=0;i<length;i+=2)result.push(buff.readUInt16BE(offset+i).toString(16));result=result.join(":"),result=result.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),result=result.replace(/:{3,4}/,"::")}return result};var ipv4Regex=/^(\d{1,3}\.){3,3}\d{1,3}$/,ipv6Regex=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;ip.isV4Format=function(ip){return ipv4Regex.test(ip)},ip.isV6Format=function(ip){return ipv6Regex.test(ip)},ip.fromPrefixLen=function(prefixlen,family){family=prefixlen>32?"ipv6":_normalizeFamily(family);var len=4;"ipv6"===family&&(len=16);for(var buff=new Buffer(len),i=0,n=buff.length;i<n;++i){var bits=8;prefixlen<8&&(bits=prefixlen),prefixlen-=bits,buff[i]=~(255>>bits)}return ip.toString(buff)},ip.mask=function(addr,mask){addr=ip.toBuffer(addr),mask=ip.toBuffer(mask);var result=new Buffer(Math.max(addr.length,mask.length));if(addr.length===mask.length)for(var i=0;i<addr.length;i++)result[i]=addr[i]&mask[i];else if(4===mask.length)for(var i=0;i<mask.length;i++)result[i]=addr[addr.length-4+i]&mask[i];else{for(var i=0;i<result.length-6;i++)result[i]=0;result[10]=255,result[11]=255;for(var i=0;i<addr.length;i++)result[i+12]=addr[i]&mask[i+12]}return ip.toString(result)},ip.cidr=function(cidrString){var cidrParts=cidrString.split("/"),addr=cidrParts[0];if(2!==cidrParts.length)throw new Error("invalid CIDR subnet: "+addr);var mask=ip.fromPrefixLen(parseInt(cidrParts[1],10));return ip.mask(addr,mask)},ip.subnet=function(addr,mask){for(var networkAddress=ip.toLong(ip.mask(addr,mask)),maskBuffer=ip.toBuffer(mask),maskLength=0,i=0;i<maskBuffer.length;i++)if(255===maskBuffer[i])maskLength+=8;else for(var octet=255&maskBuffer[i];octet;)octet=octet<<1&255,maskLength++;var numberOfAddresses=Math.pow(2,32-maskLength);return{networkAddress:ip.fromLong(networkAddress),firstAddress:numberOfAddresses<=2?ip.fromLong(networkAddress):ip.fromLong(networkAddress+1),lastAddress:numberOfAddresses<=2?ip.fromLong(networkAddress+numberOfAddresses-1):ip.fromLong(networkAddress+numberOfAddresses-2),broadcastAddress:ip.fromLong(networkAddress+numberOfAddresses-1),subnetMask:mask,subnetMaskLength:maskLength,numHosts:numberOfAddresses<=2?numberOfAddresses:numberOfAddresses-2,length:numberOfAddresses,contains:function(other){return networkAddress===ip.toLong(ip.mask(other,mask))}}},ip.cidrSubnet=function(cidrString){var cidrParts=cidrString.split("/"),addr=cidrParts[0];if(2!==cidrParts.length)throw new Error("invalid CIDR subnet: "+addr);var mask=ip.fromPrefixLen(parseInt(cidrParts[1],10));return ip.subnet(addr,mask)},ip.not=function(addr){for(var buff=ip.toBuffer(addr),i=0;i<buff.length;i++)buff[i]=255^buff[i];return ip.toString(buff)},ip.or=function(a,b){if(a=ip.toBuffer(a),b=ip.toBuffer(b),a.length===b.length){for(var i=0;i<a.length;++i)a[i]|=b[i];return ip.toString(a)}var buff=a,other=b;b.length>a.length&&(buff=b,other=a);for(var offset=buff.length-other.length,i=offset;i<buff.length;++i)buff[i]|=other[i-offset];return ip.toString(buff)},ip.isEqual=function(a,b){if(a=ip.toBuffer(a),b=ip.toBuffer(b),a.length===b.length){for(var i=0;i<a.length;i++)if(a[i]!==b[i])return!1;return!0}if(4===b.length){var t=b;b=a,a=t}for(var i=0;i<10;i++)if(0!==b[i])return!1;var word=b.readUInt16BE(10);if(0!==word&&65535!==word)return!1;for(var i=0;i<4;i++)if(a[i]!==b[i+12])return!1;return!0},ip.isPrivate=function(addr){return/^(::f{4}:)?10\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(addr)||/^(::f{4}:)?192\.168\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(addr)||/^(::f{4}:)?172\.(1[6-9]|2\d|30|31)\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(addr)||/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(addr)||/^(::f{4}:)?169\.254\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(addr)||/^f[cd][0-9a-f]{2}:/i.test(addr)||/^fe80:/i.test(addr)||/^::1$/.test(addr)||/^::$/.test(addr)},ip.isPublic=function(addr){return!ip.isPrivate(addr)},ip.isLoopback=function(addr){return/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/.test(addr)||/^fe80::1$/.test(addr)||/^::1$/.test(addr)||/^::$/.test(addr)},ip.loopback=function(family){if(family=_normalizeFamily(family),"ipv4"!==family&&"ipv6"!==family)throw new Error("family must be ipv4 or ipv6");return"ipv4"===family?"127.0.0.1":"fe80::1"},ip.address=function(name,family){var all,interfaces=os.networkInterfaces();if(family=_normalizeFamily(family),name&&"private"!==name&&"public"!==name){var res=interfaces[name].filter(function(details){var itemFamily=details.family.toLowerCase();return itemFamily===family});if(0===res.length)return;return res[0].address}var all=Object.keys(interfaces).map(function(nic){var addresses=interfaces[nic].filter(function(details){return details.family=details.family.toLowerCase(),details.family===family&&!ip.isLoopback(details.address)&&(!name||("public"===name?ip.isPrivate(details.address):ip.isPublic(details.address)))});return addresses.length?addresses[0].address:void 0}).filter(Boolean);return all.length?all[0]:ip.loopback(family)},ip.toLong=function(ip){var ipl=0;return ip.split(".").forEach(function(octet){ipl<<=8,ipl+=parseInt(octet)}),ipl>>>0},ip.fromLong=function(ipl){return(ipl>>>24)+"."+(ipl>>16&255)+"."+(ipl>>8&255)+"."+(255&ipl)}},function(module,exports){"use strict";function isProperty(str){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(str)}module.exports=isProperty},function(module,exports){function isTypedArray(arr){return isStrictTypedArray(arr)||isLooseTypedArray(arr)}function isStrictTypedArray(arr){return arr instanceof Int8Array||arr instanceof Int16Array||arr instanceof Int32Array||arr instanceof Uint8Array||arr instanceof Uint8ClampedArray||arr instanceof Uint16Array||arr instanceof Uint32Array||arr instanceof Float32Array||arr instanceof Float64Array}function isLooseTypedArray(arr){return names[toString.call(arr)]}module.exports=isTypedArray,isTypedArray.strict=isStrictTypedArray,isTypedArray.loose=isLooseTypedArray;var toString=Object.prototype.toString,names={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0}},function(module,exports){function read(buf,offset){var b,res=0,offset=offset||0,shift=0,counter=offset,l=buf.length;do{if(counter>=l)return void(read.bytesRead=0);b=buf[counter++],res+=shift<28?(b&REST)<<shift:(b&REST)*Math.pow(2,shift),shift+=7}while(b>=MSB);return read.bytes=counter-offset,res}module.exports=read;var MSB=128,REST=127},function(module,exports){function encode(num,out,offset){out=out||[],offset=offset||0;for(var oldOffset=offset;num>=INT;)out[offset++]=255&num|MSB,num/=128;for(;num&MSBALL;)out[offset++]=255&num|MSB,num>>>=7;return out[offset]=0|num,encode.bytes=offset-oldOffset+1,out}module.exports=encode;var MSB=128,REST=127,MSBALL=~REST,INT=Math.pow(2,31)},function(module,exports,__webpack_require__){module.exports={encode:__webpack_require__(658),decode:__webpack_require__(657),encodingLength:__webpack_require__(660)}},function(module,exports){var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49);module.exports=function(value){return value<N1?1:value<N2?2:value<N3?3:value<N4?4:value<N5?5:value<N6?6:value<N7?7:8}},function(module,exports,__webpack_require__){(function(Buffer){var varint=__webpack_require__(49),stream=__webpack_require__(269),util=__webpack_require__(14),Decoder=function(opts){return this instanceof Decoder?(stream.Transform.call(this),this._missing=0,this._message=null,this._limit=opts&&opts.limit||0,this._allowEmpty=!(!opts||!opts.allowEmpty),this._prefix=new Buffer(this._limit?varint.encodingLength(this._limit):100),this._ptr=0,void(this._allowEmpty&&(this._readableState.highWaterMark=16,this._readableState.objectMode=!0))):new Decoder(opts)};util.inherits(Decoder,stream.Transform),Decoder.prototype._push=function(message){this._ptr=0,this._missing=0,this._message=null,this.push(message)},Decoder.prototype._parseLength=function(data,offset){for(offset;offset<data.length;offset++){if(this._ptr>=this._prefix.length)return this._prefixError(data);if(this._prefix[this._ptr++]=data[offset],!(128&data[offset]))return this._missing=varint.decode(this._prefix),this._limit&&this._missing>this._limit?this._prefixError(data):(!this._missing&&this._allowEmpty&&this._push(Buffer(0)),this._ptr=0,offset+1)}return data.length},Decoder.prototype._prefixError=function(data){return this.emit("error",new Error("Message is larger than max length")),data.length},Decoder.prototype._parseMessage=function(data,offset){var free=data.length-offset,missing=this._missing;if(!this._message){if(missing<=free)return this._push(data.slice(offset,offset+missing)),offset+missing;this._message=new Buffer(missing)}return data.copy(this._message,this._ptr,offset,offset+missing),missing<=free?(this._push(this._message),offset+missing):(this._missing-=free,this._ptr+=free,data.length)},Decoder.prototype._transform=function(data,enc,cb){for(var offset=0;offset<data.length;)offset=this._missing?this._parseMessage(data,offset):this._parseLength(data,offset);cb()},module.exports=Decoder}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){var varint=__webpack_require__(49),stream=__webpack_require__(269),util=__webpack_require__(14),pool=new Buffer(10240),used=0,Encoder=function(){return this instanceof Encoder?void stream.Transform.call(this):new Encoder};util.inherits(Encoder,stream.Transform),Encoder.prototype._transform=function(data,enc,cb){varint.encode(data.length,pool,used),used+=varint.encode.bytes,this.push(pool.slice(used-varint.encode.bytes,used)),this.push(data),pool.length-used<100&&(pool=new Buffer(10240),used=0),cb()},module.exports=Encoder}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";function PassThrough(options){return this instanceof PassThrough?void Transform.call(this,options):new PassThrough(options)}module.exports=PassThrough;var Transform=__webpack_require__(267),util=__webpack_require__(4);util.inherits=__webpack_require__(2),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},function(module,exports,__webpack_require__){"use strict";(function(Buffer){var EC=__webpack_require__(24).ec,curveMap={"P-256":"p256","P-384":"p384","P-521":"p521"};module.exports=function(curveName){var curve=curveMap[curveName];if(!curve)throw new Error("unsupported curve passed");var ec=new EC(curve),priv=ec.genKeyPair(),genSharedKey=function(theirPub,forcePrivate){var pub=ec.keyFromPublic(theirPub,"hex"),p=forcePrivate||priv;return p.derive(pub.getPublic()).toBuffer("le")};return{key:new Buffer(priv.getPublic("hex"),"hex"),genSharedKey:genSharedKey}}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";(function(Buffer){var protobuf=__webpack_require__(84),pbm=(__webpack_require__(44),protobuf(Buffer("ZW51bSBLZXlUeXBlIHsKCVJTQSA9IDA7Cn0KCm1lc3NhZ2UgUHVibGljS2V5IHsKCXJlcXVpcmVkIEtleVR5cGUgVHlwZSA9IDE7CglyZXF1aXJlZCBieXRlcyBEYXRhID0gMjsKfQoKbWVzc2FnZSBQcml2YXRlS2V5IHsKCXJlcXVpcmVkIEtleVR5cGUgVHlwZSA9IDE7CglyZXF1aXJlZCBieXRlcyBEYXRhID0gMjsKfQ==","base64")));exports.utils=__webpack_require__(270);var keys=exports.keys=__webpack_require__(667);exports.keyStretcher=__webpack_require__(666),exports.generateEphemeralKeyPair=__webpack_require__(664),exports.generateKeyPair=function(type,bits){var key=keys[type.toLowerCase()];if(!key)throw new Error("invalid or unsupported key type");return key.generateKeyPair(bits)},exports.unmarshalPublicKey=function(buf){var decoded=pbm.PublicKey.decode(buf);switch(decoded.Type){case pbm.KeyType.RSA:return keys.rsa.unmarshalRsaPublicKey(decoded.Data);default:throw new Error("invalid or unsupported key type")}},exports.marshalPublicKey=function(key,type){if(type=(type||"rsa").toLowerCase(),"rsa"!==type)throw new Error("invalid or unsupported key type");return pbm.PublicKey.encode({Type:pbm.KeyType.RSA,Data:key.marshal()})},exports.unmarshalPrivateKey=function(buf){var decoded=pbm.PrivateKey.decode(buf);switch(decoded.Type){case pbm.KeyType.RSA:return keys.rsa.unmarshalRsaPrivateKey(decoded.Data);default:throw new Error("invalid or unsupported key type")}},exports.marshalPrivateKey=function(key,type){if(type=(type||"rsa").toLowerCase(),"rsa"!==type)throw new Error("invalid or unsupported key type");return pbm.PrivateKey.encode({Type:pbm.KeyType.RSA,Data:key.marshal()})}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";(function(Buffer){var forge=__webpack_require__(271),createBuffer=forge.util.createBuffer,cipherMap={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}},hashMap={SHA1:"sha1",SHA256:"sha256",SHA512:forge.md.sha512.create()};module.exports=function(cipherType,hashType,secret){var cipher=cipherMap[cipherType],hash=hashMap[hashType];if(!cipher)throw new Error("unkown cipherType passed");if(!hash)throw new Error("unkown hashType passed");Buffer.isBuffer(secret)&&(secret=createBuffer(secret.toString("binary")));var cipherKeySize=cipher.keySize,ivSize=cipher.ivSize,hmacKeySize=20,seed="key expansion",resultLength=2*(ivSize+cipherKeySize+hmacKeySize),m=forge.hmac.create();m.start(hash,secret),m.update(seed);for(var a=m.digest().bytes(),result=createBuffer(),j=0;j<resultLength;){
m.start(hash,secret),m.update(a),m.update(seed);var b=createBuffer(m.digest(),"raw"),todo=b.length();j+todo>resultLength&&(todo=resultLength-j),result.putBytes(b.getBytes(todo)),j+=todo,m.start(hash,secret),m.update(a),a=m.digest().bytes()}var half=resultLength/2,r1=createBuffer(result.getBytes(half)),r2=createBuffer(result.getBytes()),createKey=function(res){return{iv:new Buffer(res.getBytes(ivSize),"binary"),cipherKey:new Buffer(res.getBytes(cipherKeySize),"binary"),macKey:new Buffer(res.getBytes(),"binary")}};return{k1:createKey(r1),k2:createKey(r2)}}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";module.exports={rsa:__webpack_require__(668)}},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function unmarshalRsaPrivateKey(bytes){Buffer.isBuffer(bytes)&&(bytes=forge.util.createBuffer(bytes.toString("binary")));var key=pki.privateKeyFromAsn1(forge.asn1.fromDer(bytes));return new RsaPrivateKey(key)}function unmarshalRsaPublicKey(bytes){Buffer.isBuffer(bytes)&&(bytes=forge.util.createBuffer(bytes.toString("binary")));var key=pki.publicKeyFromAsn1(forge.asn1.fromDer(bytes));return new RsaPublicKey(key)}function generateKeyPair(bits){var p=rsa.generateKeyPair({bits:bits});return new RsaPrivateKey(p.privateKey,p.publicKey)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),forge=__webpack_require__(271),protobuf=__webpack_require__(84),utils=(__webpack_require__(44),__webpack_require__(270)),pki=forge.pki,rsa=pki.rsa,pbm=protobuf(Buffer("ZW51bSBLZXlUeXBlIHsKCVJTQSA9IDA7Cn0KCm1lc3NhZ2UgUHVibGljS2V5IHsKCXJlcXVpcmVkIEtleVR5cGUgVHlwZSA9IDE7CglyZXF1aXJlZCBieXRlcyBEYXRhID0gMjsKfQoKbWVzc2FnZSBQcml2YXRlS2V5IHsKCXJlcXVpcmVkIEtleVR5cGUgVHlwZSA9IDE7CglyZXF1aXJlZCBieXRlcyBEYXRhID0gMjsKfQ==","base64")),RsaPublicKey=function(){function RsaPublicKey(k){_classCallCheck(this,RsaPublicKey),this._key=k}return _createClass(RsaPublicKey,[{key:"verify",value:function(data,sig){var md=forge.md.sha256.create();return Buffer.isBuffer(data)?md.update(data.toString("binary"),"binary"):md.update(data),this._key.verify(md.digest().bytes(),sig)}},{key:"marshal",value:function(){return new Buffer(forge.asn1.toDer(pki.publicKeyToAsn1(this._key)).bytes(),"binary")}},{key:"encrypt",value:function(bytes){return this._key.encrypt(bytes,"RSAES-PKCS1-V1_5")}},{key:"equals",value:function(key){return this.bytes.equals(key.bytes)}},{key:"hash",value:function(){return utils.keyHash(this.bytes)}},{key:"bytes",get:function(){return pbm.PublicKey.encode({Type:pbm.KeyType.RSA,Data:this.marshal()})}}]),RsaPublicKey}(),RsaPrivateKey=function(){function RsaPrivateKey(privKey,pubKey){_classCallCheck(this,RsaPrivateKey),this._privateKey=privKey,pubKey?this._publicKey=pubKey:this._publicKey=forge.pki.setRsaPublicKey(privKey.n,privKey.e)}return _createClass(RsaPrivateKey,[{key:"genSecret",value:function(){return forge.random.getBytesSync(16)}},{key:"sign",value:function(message){var md=forge.md.sha256.create();Buffer.isBuffer(message)?md.update(message.toString("binary"),"binary"):md.update(message);var raw=this._privateKey.sign(md,"RSASSA-PKCS1-V1_5");return new Buffer(raw,"binary")}},{key:"decrypt",value:function(bytes){return this._privateKey.decrypt(bytes,"RSAES-PKCS1-V1_5")}},{key:"marshal",value:function(){return new Buffer(forge.asn1.toDer(pki.privateKeyToAsn1(this._privateKey)).bytes(),"binary")}},{key:"equals",value:function(key){return this.bytes.equals(key.bytes)}},{key:"hash",value:function(){return utils.keyHash(this.bytes)}},{key:"public",get:function(){if(!this._publicKey)throw new Error("public key not provided");return new RsaPublicKey(this._publicKey)}},{key:"bytes",get:function(){return pbm.PrivateKey.encode({Type:pbm.KeyType.RSA,Data:this.marshal()})}}]),RsaPrivateKey}();module.exports={RsaPublicKey:RsaPublicKey,RsaPrivateKey:RsaPrivateKey,unmarshalRsaPublicKey:unmarshalRsaPublicKey,unmarshalRsaPrivateKey:unmarshalRsaPrivateKey,generateKeyPair:generateKeyPair}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function hasObservedAddr(msg){return msg.observedAddr&&msg.observedAddr.length>0}var PeerInfo=(__webpack_require__(44),__webpack_require__(134)),PeerId=__webpack_require__(65),multiaddr=__webpack_require__(83),bl=__webpack_require__(92),lpstream=__webpack_require__(265),protobuf=__webpack_require__(84),schema=Buffer("bWVzc2FnZSBJZGVudGlmeSB7CgogIC8vIHByb3RvY29sVmVyc2lvbiBkZXRlcm1pbmVzIGNvbXBhdGliaWxpdHkgYmV0d2VlbiBwZWVycwogIG9wdGlvbmFsIHN0cmluZyBwcm90b2NvbFZlcnNpb24gPSA1OyAvLyBlLmcuIGlwZnMvMS4wLjAKCiAgLy8gYWdlbnRWZXJzaW9uIGlzIGxpa2UgYSBVc2VyQWdlbnQgc3RyaW5nIGluIGJyb3dzZXJzLCBvciBjbGllbnQgdmVyc2lvbiBpbiBiaXR0b3JyZW50CiAgLy8gaW5jbHVkZXMgdGhlIGNsaWVudCBuYW1lIGFuZCBjbGllbnQuCiAgb3B0aW9uYWwgc3RyaW5nIGFnZW50VmVyc2lvbiA9IDY7IC8vIGUuZy4gZ28taXBmcy8wLjEuMAoKICAvLyBwdWJsaWNLZXkgaXMgdGhpcyBub2RlJ3MgcHVibGljIGtleSAod2hpY2ggYWxzbyBnaXZlcyBpdHMgbm9kZS5JRCkKICAvLyAtIG1heSBub3QgbmVlZCB0byBiZSBzZW50LCBhcyBzZWN1cmUgY2hhbm5lbCBpbXBsaWVzIGl0IGhhcyBiZWVuIHNlbnQuCiAgLy8gLSB0aGVuIGFnYWluLCBpZiB3ZSBjaGFuZ2UgLyBkaXNhYmxlIHNlY3VyZSBjaGFubmVsLCBtYXkgc3RpbGwgd2FudCBpdC4KICBvcHRpb25hbCBieXRlcyBwdWJsaWNLZXkgPSAxOwoKICAvLyBsaXN0ZW5BZGRycyBhcmUgdGhlIG11bHRpYWRkcnMgdGhlIHNlbmRlciBub2RlIGxpc3RlbnMgZm9yIG9wZW4gY29ubmVjdGlvbnMgb24KICByZXBlYXRlZCBieXRlcyBsaXN0ZW5BZGRycyA9IDI7CgogIC8vIG9zZXJ2ZWRBZGRyIGlzIHRoZSBtdWx0aWFkZHIgb2YgdGhlIHJlbW90ZSBlbmRwb2ludCB0aGF0IHRoZSBzZW5kZXIgbm9kZSBwZXJjZWl2ZXMKICAvLyB0aGlzIGlzIHVzZWZ1bCBpbmZvcm1hdGlvbiB0byBjb252ZXkgdG8gdGhlIG90aGVyIHNpZGUsIGFzIGl0IGhlbHBzIHRoZSByZW1vdGUgZW5kcG9pbnQKICAvLyBkZXRlcm1pbmUgd2hldGhlciBpdHMgY29ubmVjdGlvbiB0byB0aGUgbG9jYWwgcGVlciBnb2VzIHRocm91Z2ggTkFULgogIG9wdGlvbmFsIGJ5dGVzIG9ic2VydmVkQWRkciA9IDQ7CgogIC8vIChERVBSRUNBVEVEKSBwcm90b2NvbHMgYXJlIHRoZSBzZXJ2aWNlcyB0aGlzIG5vZGUgaXMgcnVubmluZwogIC8vIHJlcGVhdGVkIHN0cmluZyBwcm90b2NvbHMgPSAzOwp9Cg==","base64"),idPb=protobuf(schema);exports=module.exports,exports.multicodec="/ipfs/id/1.0.0",exports.exec=function(conn,callback){var decode=lpstream.decode();conn.pipe(decode).pipe(bl(function(err,data){if(err)return callback(err);var msg=idPb.Identify.decode(data),observedAddrs=[];hasObservedAddr(msg)&&(Array.isArray(msg.observedAddr)||(msg.observedAddr=[msg.observedAddr]),observedAddrs=msg.observedAddr.map(function(oa){return multiaddr(oa)}));var pId=PeerId.createFromPubKey(msg.publicKey),pInfo=new PeerInfo(pId);msg.listenAddrs.forEach(function(ma){pInfo.multiaddr.add(multiaddr(ma))}),callback(null,pInfo,observedAddrs)})),conn.end()},exports.handler=function(pInfoSelf){return function(conn){var encode=lpstream.encode();encode.pipe(conn),conn.getObservedAddrs(function(err,observedAddrs){if(!err){observedAddrs=observedAddrs[0];var publicKey=new Buffer(0);pInfoSelf.id.pubKey&&(publicKey=pInfoSelf.id.pubKey.bytes);var msgSend=idPb.Identify.encode({protocolVersion:"ipfs/0.1.0",agentVersion:"na",publicKey:publicKey,listenAddrs:pInfoSelf.multiaddrs.map(function(ma){return ma.buffer}),observedAddr:observedAddrs?observedAddrs.buffer:new Buffer("")});encode.write(msgSend),encode.end()}})}}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";var Swarm=__webpack_require__(674),PeerInfo=__webpack_require__(134),PeerId=__webpack_require__(65),WS=__webpack_require__(678),WebRTCStar=__webpack_require__(676),spdy=__webpack_require__(671),EE=__webpack_require__(5).EventEmitter,multiaddr=__webpack_require__(83),PeerBook=__webpack_require__(283),mafmt=__webpack_require__(129);exports=module.exports;var OFFLINE_ERROR_MESSAGE="The libp2p node is not started yet",IPFS_CODE=421;exports.Node=function Node(pInfo,pBook){var _this=this;if(!(this instanceof Node))return new Node(pInfo,pBook);pInfo||(pInfo=new PeerInfo,pInfo.multiaddr.add(multiaddr("/ip4/0.0.0.0/tcp/0"))),pBook||(pBook=new PeerBook),this.peerInfo=pInfo,this.peerBook=pBook,this.swarm=new Swarm(pInfo),this.swarm.connection.addStreamMuxer(spdy),this.swarm.connection.reuse(),this.swarm.on("peer-mux-established",function(peerInfo){_this.peerBook.put(peerInfo)}),this.swarm.on("peer-mux-closed",function(peerInfo){_this.peerBook.removeByB58String(peerInfo.id.toB58String())});var isOnline=!1;this.start=function(callback){var wstar=new WebRTCStar;wstar.filter(_this.peerInfo.multiaddrs).length>0?(_this.swarm.transport.add("wstar",wstar),wstar.discovery.on("peer",function(peerInfo){_this.discovery.emit("peer",peerInfo)}),_this.swarm.listen(function(err){return err?callback(err):(_this.swarm.transport.add("ws",new WS),isOnline=!0,void callback())})):(_this.swarm.transport.add("ws",new WS),isOnline=!0,callback())},this.stop=function(callback){isOnline=!1,_this.swarm.close(callback)},this.dialById=function(id,protocol,callback){return"function"==typeof protocol&&(callback=protocol,protocol=void 0),isOnline?void callback(new Error("not implemented yet")):callback(new Error(OFFLINE_ERROR_MESSAGE))},this.dialByMultiaddr=function(maddr,protocol,callback){if("function"==typeof protocol&&(callback=protocol,protocol=void 0),!isOnline)return callback(new Error(OFFLINE_ERROR_MESSAGE));if("string"==typeof maddr&&(maddr=multiaddr(maddr)),!mafmt.IPFS.matches(maddr.toString()))return callback(new Error("multiaddr not valid"));var ipfsIdB58String=maddr.stringTuples().filter(function(tuple){if(tuple[0]===IPFS_CODE)return!0})[0][1],peer=void 0;try{peer=_this.peerBook.getByB58String(ipfsIdB58String)}catch(err){peer=new PeerInfo(PeerId.createFromB58String(ipfsIdB58String))}peer.multiaddr.add(maddr),_this.dialByPeerInfo(peer,protocol,callback)},this.dialByPeerInfo=function(peer,protocol,callback){return"function"==typeof protocol&&(callback=protocol,protocol=void 0),isOnline?void _this.swarm.dial(peer,protocol,function(err,conn){return err?callback(err):(_this.peerBook.put(peer),void callback(null,conn))}):callback(new Error(OFFLINE_ERROR_MESSAGE))},this.hangUpById=function(id,callback){callback(new Error("not implemented yet"))},this.hangUpByMultiaddr=function(maddr,callback){if(!isOnline)return callback(new Error(OFFLINE_ERROR_MESSAGE));if("string"==typeof maddr&&(maddr=multiaddr(maddr)),!mafmt.IPFS.matches(maddr.toString()))return callback(new Error("multiaddr not valid"));var ipfsIdB58String=maddr.stringTuples().filter(function(tuple){if(tuple[0]===IPFS_CODE)return!0})[0][1];try{var pi=_this.peerBook.getByB58String(ipfsIdB58String);_this.hangUpByPeerInfo(pi,callback)}catch(err){callback()}},this.hangUpByPeerInfo=function(peer,callback){return isOnline?(_this.peerBook.removeByB58String(peer.id.toB58String()),void _this.swarm.hangUp(peer,callback)):callback(new Error(OFFLINE_ERROR_MESSAGE))},this.handle=function(protocol,handler){return _this.swarm.handle(protocol,handler)},this.unhandle=function(protocol){return _this.swarm.unhandle(protocol)},this.discovery=new EE,this.routing=null,this.records=null}},function(module,exports,__webpack_require__){"use strict";function noop(){}var spdy=__webpack_require__(25),Connection=__webpack_require__(98).Connection,EE=__webpack_require__(5).EventEmitter;exports=module.exports=function(conn,isListener){var muxer=spdy.connection.create(conn,{protocol:"spdy",isServer:isListener}),proxyMuxer=new EE;return muxer.start(3.1),proxyMuxer.newStream=function(callback){callback||(callback=noop);var muxedConn=new Connection(muxer.request({method:"POST",path:"/",headers:{}},callback));return conn.getObservedAddrs&&(muxedConn.getObservedAddrs=conn.getObservedAddrs.bind(conn),muxedConn.getPeerInfo=conn.getPeerInfo.bind(conn),muxedConn.setPeerInfo=conn.setPeerInfo.bind(conn)),muxedConn},muxer.on("close",function(){proxyMuxer.emit("close")}),muxer.on("error",function(err){proxyMuxer.emit("error",err)}),proxyMuxer.end=function(cb){muxer.end(cb)},muxer.on("stream",function(stream){stream.respond(200,{});var muxedConn=new Connection(stream);conn.getObservedAddrs&&(muxedConn.getObservedAddrs=conn.getObservedAddrs.bind(conn),muxedConn.getPeerInfo=conn.getPeerInfo.bind(conn),muxedConn.setPeerInfo=conn.setPeerInfo.bind(conn)),proxyMuxer.emit("stream",muxedConn)}),proxyMuxer.multicodec=exports.multicodec,proxyMuxer},exports.multicodec="/spdy/3.1.0"},function(module,exports,__webpack_require__){"use strict";var protocolMuxer=__webpack_require__(126),identify=__webpack_require__(669),multistream=__webpack_require__(178);module.exports=function(swarm){return{addUpgrade:function(){},addStreamMuxer:function(muxer){swarm.muxers[muxer.multicodec]=muxer,swarm.handle(muxer.multicodec,function(conn){var muxedConn=muxer(conn,!0);muxedConn.on("stream",function(conn){protocolMuxer(swarm.protocols,conn)}),swarm.identify&&(conn.getPeerInfo=function(cb){var conn=muxedConn.newStream(),ms=new multistream.Dialer;ms.handle(conn,function(err){return err?cb(err):void ms.select(identify.multicodec,function(err,conn){return err?cb(err):void identify.exec(conn,function(err,peerInfo,observedAddrs){return err?cb(err):(observedAddrs.forEach(function(oa){swarm._peerInfo.multiaddr.addSafe(oa)}),void cb(null,peerInfo))})})})},conn.getPeerInfo(function(err,peerInfo){return err?console.log("Identify not successful"):(swarm.muxedConns[peerInfo.id.toB58String()]={muxer:muxedConn},swarm.emit("peer-mux-established",peerInfo),void muxedConn.on("close",function(){delete swarm.muxedConns[peerInfo.id.toB58String()],swarm.emit("peer-mux-closed",peerInfo)}))}))})},reuse:function(){swarm.identify=!0,swarm.handle(identify.multicodec,identify.handler(swarm._peerInfo))}}}},function(module,exports,__webpack_require__){"use strict";var multistream=__webpack_require__(178),Connection=__webpack_require__(98).Connection,protocolMuxer=__webpack_require__(126);module.exports=function(swarm){return function(pi,protocol,callback){function gotWarmedUpConn(conn){conn.setPeerInfo(pi),attemptMuxerUpgrade(conn,function(err,muxer){return protocol?void(err?protocolHandshake(conn,protocol,callback):gotMuxer(muxer)):(err&&(swarm.conns[b58Id]=conn),callback())})}function gotMuxer(muxer){swarm.identify,openConnInMuxedConn(muxer,function(conn){protocolHandshake(conn,protocol,callback)})}function attemptDial(pi,cb){function nextTransport(key){var multiaddrs=pi.multiaddrs.slice();swarm.transport.dial(key,multiaddrs,function(err,conn){function cryptoDial(){var ms=new multistream.Dialer;ms.handle(conn,function(err){return err?cb(err):void ms.select("/plaintext/1.0.0",cb)})}return err?0===tKeys.length?cb(new Error("Could not dial in any of the transports")):nextTransport(tKeys.shift()):void cryptoDial()})}var tKeys=swarm.availableTransports(pi);return 0===tKeys.length?cb(new Error("No available transport to dial to")):void nextTransport(tKeys.shift())}function attemptMuxerUpgrade(conn,cb){function nextMuxer(key){var ms=new multistream.Dialer;ms.handle(conn,function(err){return err?callback(new Error("multistream not supported")):void ms.select(key,function(err,conn){if(err)return void(0===muxers.length?cb(new Error("could not upgrade to stream muxing")):nextMuxer(muxers.shift()));var muxedConn=swarm.muxers[key](conn,!1);swarm.muxedConns[b58Id]={},swarm.muxedConns[b58Id].muxer=muxedConn,swarm.emit("peer-mux-established",pi),muxedConn.once("close",function(){delete swarm.muxedConns[pi.id.toB58String()],swarm.emit("peer-mux-closed",pi)}),muxedConn.on("stream",function(conn){protocolMuxer(swarm.protocols,conn)}),cb(null,muxedConn)})})}var muxers=Object.keys(swarm.muxers);return 0===muxers.length?cb(new Error("no muxers available")):void nextMuxer(muxers.shift())}function openConnInMuxedConn(muxer,cb){cb(muxer.newStream())}function protocolHandshake(conn,protocol,cb){var ms=new multistream.Dialer;ms.handle(conn,function(err){return err?callback(err):void ms.select(protocol,function(err,conn){return err?callback(err):(proxyConn.setInnerConn(conn),void callback(null,proxyConn))})})}"function"==typeof protocol&&(callback=protocol,protocol=null),callback||(callback=function(){});var proxyConn=new Connection,b58Id=pi.id.toB58String();if(swarm.muxedConns[b58Id]){if(!protocol)return callback();gotMuxer(swarm.muxedConns[b58Id].muxer)}else if(swarm.conns[b58Id]){var conn=swarm.conns[b58Id];swarm.conns[b58Id]=void 0,gotWarmedUpConn(conn)}else attemptDial(pi,function(err,conn){return err?callback(err):void gotWarmedUpConn(conn)});return proxyConn}}},function(module,exports,__webpack_require__){"use strict";function Swarm(peerInfo){var _this=this;if(!(this instanceof Swarm))return new Swarm(peerInfo);if(!peerInfo)throw new Error("You must provide a value for `peerInfo`");this._peerInfo=peerInfo,this.transports={},this.conns={},this.muxedConns={},this.protocols={},this.muxers={},this.identify=!1,this.transport=transport(this),this.connection=connection(this),this.availableTransports=function(pi){var addrs=pi.multiaddrs;return Object.keys(_this.transports).filter(function(ts){var dialable=addrs.map(function(addr){return addr.toString().indexOf("webrtc-star")>0?addr:contains(addr.protoNames(),"ipfs")?addr.decapsulate("ipfs"):addr});return _this.transports[ts].filter(dialable).length>0})},this.dial=dial(this),this.listen=function(callback){parallel(_this.availableTransports(peerInfo).map(function(ts){return function(cb){_this.transport.listen(ts,{},null,cb)}}),callback)},this.handle=function(protocol,handler){_this.protocols[protocol]=handler},this.handle("/plaintext/1.0.0",function(conn){protocolMuxer(_this.protocols,conn)}),this.unhandle=function(protocol,handler){_this.protocols[protocol]&&delete _this.protocols[protocol]},this.hangUp=function(peerInfo,callback){var key=peerInfo.id.toB58String();if(_this.muxedConns[key]){var muxer=_this.muxedConns[key].muxer;muxer.end(),muxer.once("close",function(){delete _this.muxedConns[key],callback()})}else callback()},this.close=function(callback){Object.keys(_this.muxedConns).forEach(function(key){_this.muxedConns[key].muxer.end()});var transports=_this.transports;parallel(Object.keys(transports).map(function(key){return function(cb){parallel(transports[key].listeners.map(function(listener){return function(cb){listener.close(cb)}}),cb)}}),callback)}}var util=__webpack_require__(14),EE=__webpack_require__(5).EventEmitter,parallel=__webpack_require__(181),contains=__webpack_require__(273),transport=__webpack_require__(675),connection=__webpack_require__(672),dial=__webpack_require__(673),protocolMuxer=__webpack_require__(126);exports=module.exports=Swarm,util.inherits(Swarm,EE)},function(module,exports,__webpack_require__){"use strict";function dialables(tp,multiaddrs){return tp.filter(multiaddrs.map(function(addr){return addr.toString().indexOf("webrtc-star")>0?addr:addr}))}function noop(){}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj},Connection=__webpack_require__(98).Connection,parallel=__webpack_require__(181),debug=__webpack_require__(10),log=debug("libp2p:swarm"),protocolMuxer=__webpack_require__(126);module.exports=function(swarm){return{add:function(key,transport,options,callback){if("function"==typeof options&&(callback=options,options={}),callback||(callback=noop),swarm.transports[key])throw new Error("There is already a transport with this key");swarm.transports[key]=transport,swarm.transports[key].listeners||(swarm.transports[key].listeners=[]),callback()},dial:function(key,multiaddrs,callback){function connectError(){callback(new Error("failed to connect to every multiaddr"))}function next(multiaddr){function connectError(){return 0===multiaddrs.length?callback(new Error("failed to connect to every multiaddr")):void next(multiaddrs.shift())}var conn=t.dial(multiaddr);conn.once("error",connectError),conn.once("connect",function(){conn.removeListener("error",connectError),proxyConn.setInnerConn(conn),callback(null,proxyConn)})}var t=swarm.transports[key];if(Array.isArray(multiaddrs)||(multiaddrs=[multiaddrs]),multiaddrs=dialables(t,multiaddrs),1===multiaddrs.length){var _ret=function(){var conn=t.dial(multiaddrs.shift());return conn.once("error",connectError),conn.once("connect",function(){conn.removeListener("error",connectError),callback(null,conn)}),{v:conn}}();if("object"===("undefined"==typeof _ret?"undefined":_typeof(_ret)))return _ret.v}var proxyConn=new Connection;return next(multiaddrs.shift()),proxyConn},listen:function(key,options,handler,callback){handler||(handler=protocolMuxer.bind(null,swarm.protocols));var multiaddrs=dialables(swarm.transports[key],swarm._peerInfo.multiaddrs),transport=swarm.transports[key];transport.listeners||(transport.listeners=[]);var freshMultiaddrs=[],createListeners=multiaddrs.map(function(ma){return function(cb){var listener=transport.createListener(handler);listener.listen(ma,function(){log("Listener started on:",ma.toString()),listener.getAddrs(function(err,addrs){return err?cb(err):(freshMultiaddrs=freshMultiaddrs.concat(addrs),transport.listeners.push(listener),void cb())})})}});parallel(createListeners,function(){swarm._peerInfo.multiaddr.replace(multiaddrs,freshMultiaddrs),callback()})},close:function(key,callback){var transport=swarm.transports[key];return transport?void parallel(transport.listeners.map(function(listener){return function(cb){listener.close(cb)}}),callback):callback(new Error("Trying to close non existing transport: "+key))}}}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(677)},function(module,exports,__webpack_require__){"use strict";(function(process){function WebRTCStar(){function peerDiscovered(maStr){log("Peer Discovered:",maStr);var id=peerId.createFromB58String(maStr.split("/")[8]),peer=new PeerInfo(id);peer.multiaddr.add(multiaddr(maStr)),this.discovery.emit("peer",peer)}var _this=this;if(!(this instanceof WebRTCStar))return new WebRTCStar;var maSelf=void 0,listeners={};this.discovery=new EE,this.dial=function(ma,options,callback){"function"==typeof options&&(callback=options,options={}),callback||(callback=function(){});var intentId=(~~(1e9*Math.random())).toString(36)+Date.now(),sioClient=listeners[Object.keys(listeners)[0]].io,channel=new SimplePeer({initiator:!0,trickle:!1}),conn=new Connection(channel);return channel.on("signal",function(signal){sioClient.emit("ss-handshake",{intentId:intentId,srcMultiaddr:maSelf.toString(),dstMultiaddr:ma.toString(),signal:signal})}),channel.on("timeout",function(){conn.emit("timeout")}),channel.on("error",function(err){callback(err),conn.emit("error",err)}),sioClient.on("ws-handshake",function(offer){offer.intentId===intentId&&offer.answer&&(channel.on("connect",function(){conn.destroy=channel.destroy.bind(channel),channel.on("close",function(){conn.emit("close")}),conn.getObservedAddrs=function(callback){return callback(null,[ma])},conn.emit("connect"),callback(null,conn)}),channel.signal(offer.signal))}),conn},this.createListener=function(options,handler){"function"==typeof options&&(handler=options,options={});var listener=new EE;return listener.listen=function(ma,callback){function incommingDial(offer){if(!offer.answer){var channel=new SimplePeer({trickle:!1}),conn=Connection(channel);channel.on("connect",function(){conn.getObservedAddrs=function(callback){return callback(null,[offer.srcMultiaddr])},listener.emit("connection",conn),handler(conn)}),channel.on("signal",function(signal){offer.signal=signal,offer.answer=!0,listener.io.emit("ss-handshake",offer)}),channel.signal(offer.signal)}}callback||(callback=function(){}),maSelf=ma;var sioUrl="http://"+ma.toString().split("/")[3]+":"+ma.toString().split("/")[5];listener.io=io.connect(sioUrl,sioOptions),listener.io.on("connect_error",callback),listener.io.on("connect",function(){listener.io.emit("ss-join",ma.toString()),listener.io.on("ws-handshake",incommingDial),listener.io.on("ws-peer",peerDiscovered.bind(_this)),listener.emit("listening"),callback()})},listener.close=function(callback){callback||(callback=function(){}),listener.io.emit("ss-leave"),setTimeout(function(){listener.emit("close"),callback()},100)},listener.getAddrs=function(callback){process.nextTick(function(){callback(null,[maSelf])})},listeners[multiaddr.toString()]=listener,listener},this.filter=function(multiaddrs){return Array.isArray(multiaddrs)||(multiaddrs=[multiaddrs]),multiaddrs.filter(function(ma){return mafmt.WebRTCStar.matches(ma)})}}var debug=__webpack_require__(10),log=debug("libp2p:webrtc-star"),multiaddr=__webpack_require__(83),mafmt=__webpack_require__(129),io=__webpack_require__(746),EE=__webpack_require__(5).EventEmitter,SimplePeer=__webpack_require__(740),peerId=__webpack_require__(65),PeerInfo=__webpack_require__(134),Connection=__webpack_require__(98).Connection;exports=module.exports=WebRTCStar;var sioOptions={transports:["websocket"],"force new connection":!0}}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";function WebSockets(){return this instanceof WebSockets?(this.dial=function(ma,options,callback){"function"==typeof options&&(callback=options,options={}),callback||(callback=function(){});var maOpts=ma.toOptions(),socket=new SW("ws://"+maOpts.host+":"+maOpts.port),conn=new Connection(socket);return socket.on("timeout",function(){conn.emit("timeout")}),socket.on("error",function(err){callback(err),conn.emit("error",err)}),socket.on("connect",function(){callback(null,conn),conn.emit("connect")}),conn.getObservedAddrs=function(cb){return cb(null,[ma])},conn},this.createListener=function(options,handler){"function"==typeof options&&(handler=options,options={});var listener=SWS.createServer(function(socket){var conn=new Connection(socket);conn.getObservedAddrs=function(cb){return cb(null,[])},handler(conn)}),listeningMultiaddr=void 0;return listener._listen=listener.listen,listener.listen=function(ma,callback){callback||(callback=function(){}),listeningMultiaddr=ma,contains(ma.protoNames(),"ipfs")&&(ma=ma.decapsulate("ipfs")),listener._listen(ma.toOptions(),callback)},listener._close=listener.close,listener.close=function(options,callback){"function"==typeof options&&(callback=options,options={timeout:CLOSE_TIMEOUT}),callback||(callback=function(){}),options||(options={timeout:CLOSE_TIMEOUT});var closed=!1;listener.once("close",function(){closed=!0}),listener._close(callback),setTimeout(function(){closed||(log("unable to close graciously, destroying conns"),Object.keys(listener.__connections).forEach(function(key){log("destroying %s",key),listener.__connections[key].destroy()}))},options.timeout||CLOSE_TIMEOUT)},listener.__connections={},listener.on("connection",function(socket){var key=(~~(1e9*Math.random())).toString(36)+Date.now();listener.__connections[key]=socket,socket.on("close",function(){delete listener.__connections[key]})}),listener.getAddrs=function(callback){callback(null,[listeningMultiaddr])},listener},void(this.filter=function(multiaddrs){return Array.isArray(multiaddrs)||(multiaddrs=[multiaddrs]),multiaddrs.filter(function(ma){return contains(ma.protoNames(),"ipfs")&&(ma=ma.decapsulate("ipfs")),mafmt.WebSockets.matches(ma)})})):new WebSockets}var debug=__webpack_require__(10),log=debug("libp2p:websockets"),SW=__webpack_require__(743),isNode=__webpack_require__(168),SWS=void 0;SWS=isNode?__webpack_require__(188):{};var mafmt=__webpack_require__(129),contains=__webpack_require__(273),Connection=__webpack_require__(98).Connection,CLOSE_TIMEOUT=2e3;exports=module.exports=WebSockets},function(module,exports,__webpack_require__){(function(setImmediate){module.exports=function(){function _releaser(key,exec){return function(done){return function(){_release(key,exec),done&&done.apply(null,arguments)}}}function _release(key,exec){var i=locked[key].indexOf(exec);~i&&(locked[key].splice(i,1),isLocked(key)?setImmediate(function(){locked[key][0](_releaser(key,locked[key][0]))}):delete locked[key])}function _lock(key,exec){return isLocked(key)?(locked[key].push(exec),!1):(locked[key]=[exec],!0)}function lock(key,exec){function releaser(done){return function(){var args=[].slice.call(arguments);for(var key in l)_release(key,l[key]);done.apply(this,args)}}if(Array.isArray(key)){var keys=key.length,l={};return void key.forEach(function(key){function ready(){n++||--keys||exec(releaser)}var n=0;l[key]=ready,_lock(key,ready)&&ready()})}_lock(key,exec)&&exec(_releaser(key,exec))}function isLocked(key){return!!Array.isArray(locked[key])&&!!locked[key].length}var locked={};return lock.isLocked=isLocked,lock}}).call(exports,__webpack_require__(21).setImmediate)},function(module,exports,__webpack_require__){function baseBind(bindData){function bound(){if(partialArgs){var args=slice(partialArgs);push.apply(args,arguments)}if(this instanceof bound){var thisBinding=baseCreate(func.prototype),result=func.apply(thisBinding,args||arguments);return isObject(result)?result:thisBinding}return func.apply(thisArg,args||arguments)}var func=bindData[0],partialArgs=bindData[2],thisArg=bindData[4];return setBindData(bound,bindData),bound}var baseCreate=__webpack_require__(272),isObject=__webpack_require__(128),setBindData=__webpack_require__(174),slice=__webpack_require__(127),arrayRef=[],push=arrayRef.push;module.exports=baseBind},function(module,exports,__webpack_require__){function baseCreateCallback(func,thisArg,argCount){if("function"!=typeof func)return identity;if("undefined"==typeof thisArg||!("prototype"in func))return func;var bindData=func.__bindData__;if("undefined"==typeof bindData&&(support.funcNames&&(bindData=!func.name),bindData=bindData||!support.funcDecomp,!bindData)){var source=fnToString.call(func);support.funcNames||(bindData=!reFuncName.test(source)),bindData||(bindData=reThis.test(source),setBindData(func,bindData))}if(bindData===!1||bindData!==!0&&1&bindData[1])return func;switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 2:return function(a,b){return func.call(thisArg,a,b)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)}}return bind(func,thisArg)}var bind=__webpack_require__(686),identity=__webpack_require__(689),setBindData=__webpack_require__(174),support=__webpack_require__(696),reFuncName=/^\s*function[ \n\r\t]+\w/,reThis=/\bthis\b/,fnToString=Function.prototype.toString;module.exports=baseCreateCallback},function(module,exports,__webpack_require__){function baseCreateWrapper(bindData){function bound(){var thisBinding=isBind?thisArg:this;if(partialArgs){var args=slice(partialArgs);push.apply(args,arguments)}if((partialRightArgs||isCurry)&&(args||(args=slice(arguments)),partialRightArgs&&push.apply(args,partialRightArgs),isCurry&&args.length<arity))return bitmask|=16,baseCreateWrapper([func,isCurryBound?bitmask:bitmask&-4,args,null,thisArg,arity]);if(args||(args=arguments),isBindKey&&(func=thisBinding[key]),this instanceof bound){thisBinding=baseCreate(func.prototype);var result=func.apply(thisBinding,args);return isObject(result)?result:thisBinding}return func.apply(thisBinding,args)}var func=bindData[0],bitmask=bindData[1],partialArgs=bindData[2],partialRightArgs=bindData[3],thisArg=bindData[4],arity=bindData[5],isBind=1&bitmask,isBindKey=2&bitmask,isCurry=4&bitmask,isCurryBound=8&bitmask,key=func;return setBindData(bound,bindData),bound}var baseCreate=__webpack_require__(272),isObject=__webpack_require__(128),setBindData=__webpack_require__(174),slice=__webpack_require__(127),arrayRef=[],push=arrayRef.push;
module.exports=baseCreateWrapper},function(module,exports){function baseIndexOf(array,value,fromIndex){for(var index=(fromIndex||0)-1,length=array?array.length:0;++index<length;)if(array[index]===value)return index;return-1}module.exports=baseIndexOf},function(module,exports,__webpack_require__){function createWrapper(func,bitmask,partialArgs,partialRightArgs,thisArg,arity){var isBind=1&bitmask,isBindKey=2&bitmask,isCurry=4&bitmask,isPartial=16&bitmask,isPartialRight=32&bitmask;if(!isBindKey&&!isFunction(func))throw new TypeError;isPartial&&!partialArgs.length&&(bitmask&=-17,isPartial=partialArgs=!1),isPartialRight&&!partialRightArgs.length&&(bitmask&=-33,isPartialRight=partialRightArgs=!1);var bindData=func&&func.__bindData__;if(bindData&&bindData!==!0)return bindData=slice(bindData),bindData[2]&&(bindData[2]=slice(bindData[2])),bindData[3]&&(bindData[3]=slice(bindData[3])),!isBind||1&bindData[1]||(bindData[4]=thisArg),!isBind&&1&bindData[1]&&(bitmask|=8),!isCurry||4&bindData[1]||(bindData[5]=arity),isPartial&&push.apply(bindData[2]||(bindData[2]=[]),partialArgs),isPartialRight&&unshift.apply(bindData[3]||(bindData[3]=[]),partialRightArgs),bindData[1]|=bitmask,createWrapper.apply(null,bindData);var creater=1==bitmask||17===bitmask?baseBind:baseCreateWrapper;return creater([func,bitmask,partialArgs,partialRightArgs,thisArg,arity])}var baseBind=__webpack_require__(680),baseCreateWrapper=__webpack_require__(682),isFunction=__webpack_require__(692),slice=__webpack_require__(127),arrayRef=[],push=arrayRef.push,unshift=arrayRef.unshift;module.exports=createWrapper},function(module,exports,__webpack_require__){var objectTypes=__webpack_require__(173),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,shimKeys=function(object){var index,iterable=object,result=[];if(!iterable)return result;if(!objectTypes[typeof object])return result;for(index in iterable)hasOwnProperty.call(iterable,index)&&result.push(index);return result};module.exports=shimKeys},function(module,exports,__webpack_require__){function bind(func,thisArg){return arguments.length>2?createWrapper(func,17,slice(arguments,2),null,thisArg):createWrapper(func,1,null,null,thisArg)}var createWrapper=__webpack_require__(684),slice=__webpack_require__(127);module.exports=bind},function(module,exports,__webpack_require__){(function(global,module){function arrayFilter(array,predicate){for(var index=-1,length=array?array.length:0,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}function arraySome(array,predicate){for(var index=-1,length=array?array.length:0;++index<length;)if(predicate(array[index],index,array))return!0;return!1}function baseProperty(key){return function(object){return null==object?void 0:object[key]}}function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function baseUnary(func){return function(value){return func(value)}}function getValue(object,key){return null==object?void 0:object[key]}function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach(function(value,key){result[++index]=[key,value]}),result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}function Hash(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(key){return this.has(key)&&delete this.__data__[key]}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}function hashSet(key,value){var data=this.__data__;return data[key]=nativeCreate&&void 0===value?HASH_UNDEFINED:value,this}function ListCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0)return!1;var lastIndex=data.length-1;return index==lastIndex?data.pop():splice.call(data,index,1),!0}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?data.push([key,value]):data[index][1]=value,this}function MapCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(key){return getMapData(this,key).delete(key)}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){return getMapData(this,key).set(key,value),this}function SetCache(values){var index=-1,length=values?values.length:0;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}function setCacheAdd(value){return this.__data__.set(value,HASH_UNDEFINED),this}function setCacheHas(value){return this.__data__.has(value)}function Stack(entries){this.__data__=new ListCache(entries)}function stackClear(){this.__data__=new ListCache}function stackDelete(key){return this.__data__.delete(key)}function stackGet(key){return this.__data__.get(key)}function stackHas(key){return this.__data__.has(key)}function stackSet(key,value){var cache=this.__data__;if(cache instanceof ListCache){var pairs=cache.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1)return pairs.push([key,value]),this;cache=this.__data__=new MapCache(pairs)}return cache.set(key,value),this}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseFilter(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseGet(object,path){path=isKey(path,object)?[path]:castPath(path);for(var index=0,length=path.length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}function baseGetTag(value){return objectToString.call(value)}function baseHas(object,key){return null!=object&&(hasOwnProperty.call(object,key)||"object"==typeof object&&key in object&&null===getPrototype(object))}function baseHasIn(object,key){return null!=object&&key in Object(object)}function baseIsEqual(value,other,customizer,bitmask,stack){return value===other||(null==value||null==other||!isObject(value)&&!isObjectLike(other)?value!==value&&other!==other:baseIsEqualDeep(value,other,baseIsEqual,customizer,bitmask,stack))}function baseIsEqualDeep(object,other,equalFunc,customizer,bitmask,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;objIsArr||(objTag=getTag(object),objTag=objTag==argsTag?objectTag:objTag),othIsArr||(othTag=getTag(other),othTag=othTag==argsTag?objectTag:othTag);var objIsObj=objTag==objectTag&&!isHostObject(object),othIsObj=othTag==objectTag&&!isHostObject(other),isSameTag=objTag==othTag;if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,equalFunc,customizer,bitmask,stack):equalByTag(object,other,objTag,equalFunc,customizer,bitmask,stack);if(!(bitmask&PARTIAL_COMPARE_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,customizer,bitmask,stack)}}return!!isSameTag&&(stack||(stack=new Stack),equalObjects(object,other,equalFunc,customizer,bitmask,stack))}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(void 0===objValue&&!(key in object))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(void 0===result?baseIsEqual(srcValue,objValue,customizer,UNORDERED_COMPARE_FLAG|PARTIAL_COMPARE_FLAG,stack):result))return!1}}return!0}function baseIsNative(value){if(!isObject(value)||isMasked(value))return!1;var pattern=isFunction(value)||isHostObject(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objectToString.call(value)]}function baseIteratee(value){return"function"==typeof value?value:null==value?identity:"object"==typeof value?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}function baseMatches(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseMatchesProperty(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return void 0===objValue&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,void 0,UNORDERED_COMPARE_FLAG|PARTIAL_COMPARE_FLAG)}}function basePropertyDeep(path){return function(object){return baseGet(object,path)}}function baseToString(value){if("string"==typeof value)return value;if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function castPath(value){return isArray(value)?value:stringToPath(value)}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&iteratee(iterable[index],index,iterable)!==!1;);return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===!1)break}return object}}function equalArrays(array,other,equalFunc,customizer,bitmask,stack){var isPartial=bitmask&PARTIAL_COMPARE_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=bitmask&UNORDERED_COMPARE_FLAG?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,function(othValue,othIndex){if(!seen.has(othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,customizer,bitmask,stack)))return seen.add(othIndex)})){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,customizer,bitmask,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}function equalByTag(object,other,tag,equalFunc,customizer,bitmask,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&PARTIAL_COMPARE_FLAG;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=UNORDERED_COMPARE_FLAG,stack.set(object,other);var result=equalArrays(convert(object),convert(other),equalFunc,customizer,bitmask,stack);return stack.delete(object),result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}function equalObjects(object,other,equalFunc,customizer,bitmask,stack){var isPartial=bitmask&PARTIAL_COMPARE_FLAG,objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:baseHas(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,customizer,bitmask,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor)&&(result=!1)}return stack.delete(object),stack.delete(other),result}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}function getMatchData(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}function hasPath(object,path,hasFunc){path=isKey(path,object)?[path]:castPath(path);for(var result,index=-1,length=path.length;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}if(result)return result;var length=object?object.length:0;return!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isString(object)||isArguments(object))}function indexKeys(object){var length=object?object.length:void 0;return isLength(length)&&(isArray(object)||isString(object)||isArguments(object))?baseTimes(length,String):null}function isIndex(value,length){return length=null==length?MAX_SAFE_INTEGER:length,!!length&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isKey(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}function isPrototype(value){var Ctor=value&&value.constructor,proto="function"==typeof Ctor&&Ctor.prototype||objectProto;return value===proto}function isStrictComparable(value){return value===value&&!isObject(value)}function matchesStrictComparable(key,srcValue){return function(object){return null!=object&&(object[key]===srcValue&&(void 0!==srcValue||key in Object(object)))}}function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function filter(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,baseIteratee(predicate,3))}function memoize(func,resolver){if("function"!=typeof func||resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result),result};return memoized.cache=new(memoize.Cache||MapCache),memoized}function eq(value,other){return value===other||value!==value&&other!==other}function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}function isArrayLike(value){return null!=value&&isLength(getLength(value))&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}function isString(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&objectToString.call(value)==stringTag}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&objectToString.call(value)==symbolTag}function toString(value){return null==value?"":baseToString(value)}function get(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}function hasIn(object,path){return null!=object&&hasPath(object,path,baseHasIn)}function keys(object){var isProto=isPrototype(object);if(!isProto&&!isArrayLike(object))return baseKeys(object);var indexes=indexKeys(object),skipIndexes=!!indexes,result=indexes||[],length=result.length;for(var key in object)!baseHas(object,key)||skipIndexes&&("length"==key||isIndex(key,length))||isProto&&"constructor"==key||result.push(key);return result}function identity(value){return value}function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}var LARGE_ARRAY_SIZE=200,FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",UNORDERED_COMPARE_FLAG=1,PARTIAL_COMPARE_FLAG=2,INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",promiseTag="[object Promise]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reEscapeChar=/\\(\\)?/g,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^(?:0|[1-9]\d*)$/,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{return freeProcess&&freeProcess.binding("util")}catch(e){}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,arrayProto=Array.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}(),funcToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol=root.Symbol,Uint8Array=root.Uint8Array,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,nativeGetPrototype=Object.getPrototypeOf,nativeKeys=Object.keys,DataView=getNative(root,"DataView"),Map=getNative(root,"Map"),Promise=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),nativeCreate=getNative(Object,"create"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;var baseEach=createBaseEach(baseForOwn),baseFor=createBaseFor(),baseKeys=overArg(nativeKeys,Object),getLength=baseProperty("length"),getPrototype=overArg(nativeGetPrototype,Object),getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(value){var result=objectToString.call(value),Ctor=result==objectTag?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):void 0;if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return result});var stringToPath=memoize(function(string){string=toString(string);var result=[];return reLeadingDot.test(string)&&result.push(""),string.replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result});memoize.Cache=MapCache;var isArray=Array.isArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=filter}).call(exports,__webpack_require__(9),__webpack_require__(53)(module))},function(module,exports,__webpack_require__){var baseCreateCallback=__webpack_require__(681),keys=__webpack_require__(694),objectTypes=__webpack_require__(173),forOwn=function(collection,callback,thisArg){var index,iterable=collection,result=iterable;if(!iterable)return result;if(!objectTypes[typeof iterable])return result;callback=callback&&"undefined"==typeof thisArg?callback:baseCreateCallback(callback,thisArg,3);for(var ownIndex=-1,ownProps=objectTypes[typeof iterable]&&keys(iterable),length=ownProps?ownProps.length:0;++ownIndex<length;)if(index=ownProps[ownIndex],callback(iterable[index],index,collection)===!1)return result;return result};module.exports=forOwn},function(module,exports){function identity(value){return value}module.exports=identity},function(module,exports,__webpack_require__){var isNative=__webpack_require__(99),arrayClass="[object Array]",objectProto=Object.prototype,toString=objectProto.toString,nativeIsArray=isNative(nativeIsArray=Array.isArray)&&nativeIsArray,isArray=nativeIsArray||function(value){return value&&"object"==typeof value&&"number"==typeof value.length&&toString.call(value)==arrayClass||!1};module.exports=isArray},function(module,exports,__webpack_require__){(function(global,module){function arraySome(array,predicate){for(var index=-1,length=array?array.length:0;++index<length;)if(predicate(array[index],index,array))return!0;return!1}function baseProperty(key){return function(object){return null==object?void 0:object[key]}}function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function baseUnary(func){return function(value){return func(value)}}function getValue(object,key){return null==object?void 0:object[key]}function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach(function(value,key){result[++index]=[key,value]}),result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}function Hash(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(key){return this.has(key)&&delete this.__data__[key]}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}function hashSet(key,value){var data=this.__data__;return data[key]=nativeCreate&&void 0===value?HASH_UNDEFINED:value,this}function ListCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0)return!1;var lastIndex=data.length-1;return index==lastIndex?data.pop():splice.call(data,index,1),!0}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?data.push([key,value]):data[index][1]=value,this}function MapCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(key){return getMapData(this,key).delete(key)}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){return getMapData(this,key).set(key,value),this}function SetCache(values){var index=-1,length=values?values.length:0;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}function setCacheAdd(value){return this.__data__.set(value,HASH_UNDEFINED),this}function setCacheHas(value){return this.__data__.has(value)}function Stack(entries){this.__data__=new ListCache(entries)}function stackClear(){this.__data__=new ListCache}function stackDelete(key){return this.__data__.delete(key)}function stackGet(key){return this.__data__.get(key)}function stackHas(key){return this.__data__.has(key)}function stackSet(key,value){var cache=this.__data__;if(cache instanceof ListCache){var pairs=cache.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1)return pairs.push([key,value]),this;cache=this.__data__=new MapCache(pairs)}return cache.set(key,value),this}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseGetTag(value){return objectToString.call(value)}function baseHas(object,key){return null!=object&&(hasOwnProperty.call(object,key)||"object"==typeof object&&key in object&&null===getPrototype(object))}function baseIsEqual(value,other,customizer,bitmask,stack){return value===other||(null==value||null==other||!isObject(value)&&!isObjectLike(other)?value!==value&&other!==other:baseIsEqualDeep(value,other,baseIsEqual,customizer,bitmask,stack))}function baseIsEqualDeep(object,other,equalFunc,customizer,bitmask,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;objIsArr||(objTag=getTag(object),objTag=objTag==argsTag?objectTag:objTag),othIsArr||(othTag=getTag(other),othTag=othTag==argsTag?objectTag:othTag);var objIsObj=objTag==objectTag&&!isHostObject(object),othIsObj=othTag==objectTag&&!isHostObject(other),isSameTag=objTag==othTag;if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,equalFunc,customizer,bitmask,stack):equalByTag(object,other,objTag,equalFunc,customizer,bitmask,stack);if(!(bitmask&PARTIAL_COMPARE_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),
equalFunc(objUnwrapped,othUnwrapped,customizer,bitmask,stack)}}return!!isSameTag&&(stack||(stack=new Stack),equalObjects(object,other,equalFunc,customizer,bitmask,stack))}function baseIsNative(value){if(!isObject(value)||isMasked(value))return!1;var pattern=isFunction(value)||isHostObject(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objectToString.call(value)]}function equalArrays(array,other,equalFunc,customizer,bitmask,stack){var isPartial=bitmask&PARTIAL_COMPARE_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=bitmask&UNORDERED_COMPARE_FLAG?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,function(othValue,othIndex){if(!seen.has(othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,customizer,bitmask,stack)))return seen.add(othIndex)})){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,customizer,bitmask,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}function equalByTag(object,other,tag,equalFunc,customizer,bitmask,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&PARTIAL_COMPARE_FLAG;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=UNORDERED_COMPARE_FLAG,stack.set(object,other);var result=equalArrays(convert(object),convert(other),equalFunc,customizer,bitmask,stack);return stack.delete(object),result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}function equalObjects(object,other,equalFunc,customizer,bitmask,stack){var isPartial=bitmask&PARTIAL_COMPARE_FLAG,objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:baseHas(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,customizer,bitmask,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor)&&(result=!1)}return stack.delete(object),stack.delete(other),result}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}function indexKeys(object){var length=object?object.length:void 0;return isLength(length)&&(isArray(object)||isString(object)||isArguments(object))?baseTimes(length,String):null}function isIndex(value,length){return length=null==length?MAX_SAFE_INTEGER:length,!!length&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}function isPrototype(value){var Ctor=value&&value.constructor,proto="function"==typeof Ctor&&Ctor.prototype||objectProto;return value===proto}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function eq(value,other){return value===other||value!==value&&other!==other}function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}function isArrayLike(value){return null!=value&&isLength(getLength(value))&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isEqualWith(value,other,customizer){customizer="function"==typeof customizer?customizer:void 0;var result=customizer?customizer(value,other):void 0;return void 0===result?baseIsEqual(value,other,customizer):!!result}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}function isString(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&objectToString.call(value)==stringTag}function keys(object){var isProto=isPrototype(object);if(!isProto&&!isArrayLike(object))return baseKeys(object);var indexes=indexKeys(object),skipIndexes=!!indexes,result=indexes||[],length=result.length;for(var key in object)!baseHas(object,key)||skipIndexes&&("length"==key||isIndex(key,length))||isProto&&"constructor"==key||result.push(key);return result}var LARGE_ARRAY_SIZE=200,HASH_UNDEFINED="__lodash_hash_undefined__",UNORDERED_COMPARE_FLAG=1,PARTIAL_COMPARE_FLAG=2,MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",promiseTag="[object Promise]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^(?:0|[1-9]\d*)$/,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{return freeProcess&&freeProcess.binding("util")}catch(e){}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,arrayProto=Array.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}(),funcToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol=root.Symbol,Uint8Array=root.Uint8Array,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,nativeGetPrototype=Object.getPrototypeOf,nativeKeys=Object.keys,DataView=getNative(root,"DataView"),Map=getNative(root,"Map"),Promise=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),nativeCreate=getNative(Object,"create"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;var baseKeys=overArg(nativeKeys,Object),getLength=baseProperty("length"),getPrototype=overArg(nativeGetPrototype,Object),getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(value){var result=objectToString.call(value),Ctor=result==objectTag?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):void 0;if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return result});var isArray=Array.isArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=isEqualWith}).call(exports,__webpack_require__(9),__webpack_require__(53)(module))},function(module,exports){function isFunction(value){return"function"==typeof value}module.exports=isFunction},function(module,exports){function isString(value){return"string"==typeof value||value&&"object"==typeof value&&toString.call(value)==stringClass||!1}var stringClass="[object String]",objectProto=Object.prototype,toString=objectProto.toString;module.exports=isString},function(module,exports,__webpack_require__){var isNative=__webpack_require__(99),isObject=__webpack_require__(128),shimKeys=__webpack_require__(685),nativeKeys=isNative(nativeKeys=Object.keys)&&nativeKeys,keys=nativeKeys?function(object){return isObject(object)?nativeKeys(object):[]}:shimKeys;module.exports=keys},function(module,exports){function baseProperty(key){return function(object){return null==object?void 0:object[key]}}function baseRange(start,end,step,fromRight){for(var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);length--;)result[fromRight?length:++index]=start,start+=step;return result}function createRange(fromRight){return function(start,end,step){return step&&"number"!=typeof step&&isIterateeCall(start,end,step)&&(end=step=void 0),start=toFinite(start),void 0===end?(end=start,start=0):end=toFinite(end),step=void 0===step?start<end?1:-1:toFinite(step),baseRange(start,end,step,fromRight)}}function isIndex(value,length){return length=null==length?MAX_SAFE_INTEGER:length,!!length&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}function eq(value,other){return value===other||value!==value&&other!==other}function isArrayLike(value){return null!=value&&isLength(getLength(value))&&!isFunction(value)}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&objectToString.call(value)==symbolTag}function toFinite(value){if(!value)return 0===value?value:0;if(value=toNumber(value),value===INFINITY||value===-INFINITY){var sign=value<0?-1:1;return sign*MAX_INTEGER}return value===value?value:0}function toNumber(value){if("number"==typeof value)return value;if(isSymbol(value))return NAN;if(isObject(value)){var other=isFunction(value.valueOf)?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}var INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,MAX_INTEGER=1.7976931348623157e308,NAN=NaN,funcTag="[object Function]",genTag="[object GeneratorFunction]",symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,reIsUint=/^(?:0|[1-9]\d*)$/,freeParseInt=parseInt,objectProto=Object.prototype,objectToString=objectProto.toString,nativeCeil=Math.ceil,nativeMax=Math.max,getLength=baseProperty("length"),range=createRange();module.exports=range},function(module,exports,__webpack_require__){(function(global){var isNative=__webpack_require__(99),reThis=/\bthis\b/,support={};support.funcDecomp=!isNative(global.WinRTError)&&reThis.test(function(){return this}),support.funcNames="string"==typeof Function.name,module.exports=support}).call(exports,__webpack_require__(9))},function(module,exports){!function(){function hOP(obj,key){return Object.prototype.hasOwnProperty.call(obj,key)}function naiveLength(){return 1}function typeCheckKey(key){didTypeWarning||"string"==typeof key||"number"==typeof key||(didTypeWarning=!0,console.error(new TypeError("LRU: key must be a string or number. Almost certainly a bug! "+typeof key).stack))}function LRUCache(options){return this instanceof LRUCache?("number"==typeof options&&(options={max:options}),options||(options={}),this._max=options.max,(!this._max||"number"!=typeof this._max||this._max<=0)&&(this._max=1/0),this._lengthCalculator=options.length||naiveLength,"function"!=typeof this._lengthCalculator&&(this._lengthCalculator=naiveLength),this._allowStale=options.stale||!1,this._maxAge=options.maxAge||null,this._dispose=options.dispose,void this.reset()):new LRUCache(options)}function get(self,key,doUse){typeCheckKey(key);var hit=self._cache[key];return hit&&(isStale(self,hit)?(del(self,hit),self._allowStale||(hit=void 0)):doUse&&use(self,hit),hit&&(hit=hit.value)),hit}function isStale(self,hit){if(!hit||!hit.maxAge&&!self._maxAge)return!1;var stale=!1,diff=Date.now()-hit.now;return stale=hit.maxAge?diff>hit.maxAge:self._maxAge&&diff>self._maxAge}function use(self,hit){shiftLU(self,hit),hit.lu=self._mru++,self._lruList[hit.lu]=hit}function trim(self){for(;self._lru<self._mru&&self._length>self._max;)del(self,self._lruList[self._lru])}function shiftLU(self,hit){for(delete self._lruList[hit.lu];self._lru<self._mru&&!self._lruList[self._lru];)self._lru++}function del(self,hit){hit&&(self._dispose&&self._dispose(hit.key,hit.value),self._length-=hit.length,self._itemCount--,delete self._cache[hit.key],shiftLU(self,hit))}function Entry(key,value,lu,length,now,maxAge){this.key=key,this.value=value,this.lu=lu,this.length=length,this.now=now,maxAge&&(this.maxAge=maxAge)}"object"==typeof module&&module.exports?module.exports=LRUCache:this.LRUCache=LRUCache;var didTypeWarning=!1;Object.defineProperty(LRUCache.prototype,"max",{set:function(mL){(!mL||"number"!=typeof mL||mL<=0)&&(mL=1/0),this._max=mL,this._length>this._max&&trim(this)},get:function(){return this._max},enumerable:!0}),Object.defineProperty(LRUCache.prototype,"lengthCalculator",{set:function(lC){if("function"!=typeof lC){this._lengthCalculator=naiveLength,this._length=this._itemCount;for(var key in this._cache)this._cache[key].length=1}else{this._lengthCalculator=lC,this._length=0;for(var key in this._cache)this._cache[key].length=this._lengthCalculator(this._cache[key].value),this._length+=this._cache[key].length}this._length>this._max&&trim(this)},get:function(){return this._lengthCalculator},enumerable:!0}),Object.defineProperty(LRUCache.prototype,"length",{get:function(){return this._length},enumerable:!0}),Object.defineProperty(LRUCache.prototype,"itemCount",{get:function(){return this._itemCount},enumerable:!0}),LRUCache.prototype.forEach=function(fn,thisp){thisp=thisp||this;for(var i=0,itemCount=this._itemCount,k=this._mru-1;k>=0&&i<itemCount;k--)if(this._lruList[k]){i++;var hit=this._lruList[k];isStale(this,hit)&&(del(this,hit),this._allowStale||(hit=void 0)),hit&&fn.call(thisp,hit.value,hit.key,this)}},LRUCache.prototype.keys=function(){for(var keys=new Array(this._itemCount),i=0,k=this._mru-1;k>=0&&i<this._itemCount;k--)if(this._lruList[k]){var hit=this._lruList[k];keys[i++]=hit.key}return keys},LRUCache.prototype.values=function(){for(var values=new Array(this._itemCount),i=0,k=this._mru-1;k>=0&&i<this._itemCount;k--)if(this._lruList[k]){var hit=this._lruList[k];values[i++]=hit.value}return values},LRUCache.prototype.reset=function(){if(this._dispose&&this._cache)for(var k in this._cache)this._dispose(k,this._cache[k].value);this._cache=Object.create(null),this._lruList=Object.create(null),this._mru=0,this._lru=0,this._length=0,this._itemCount=0},LRUCache.prototype.dump=function(){for(var arr=[],i=0,k=this._mru-1;k>=0&&i<this._itemCount;k--)if(this._lruList[k]){var hit=this._lruList[k];isStale(this,hit)||(++i,arr.push({k:hit.key,v:hit.value,e:hit.now+(hit.maxAge||0)}))}return arr},LRUCache.prototype.dumpLru=function(){return this._lruList},LRUCache.prototype.set=function(key,value,maxAge){maxAge=maxAge||this._maxAge,typeCheckKey(key);var now=maxAge?Date.now():0,len=this._lengthCalculator(value);if(hOP(this._cache,key))return len>this._max?(del(this,this._cache[key]),!1):(this._dispose&&this._dispose(key,this._cache[key].value),this._cache[key].now=now,this._cache[key].maxAge=maxAge,this._cache[key].value=value,this._length+=len-this._cache[key].length,this._cache[key].length=len,this.get(key),this._length>this._max&&trim(this),!0);var hit=new Entry(key,value,(this._mru++),len,now,maxAge);return hit.length>this._max?(this._dispose&&this._dispose(key,value),!1):(this._length+=hit.length,this._lruList[hit.lu]=this._cache[key]=hit,this._itemCount++,this._length>this._max&&trim(this),!0)},LRUCache.prototype.has=function(key){if(typeCheckKey(key),!hOP(this._cache,key))return!1;var hit=this._cache[key];return!isStale(this,hit)},LRUCache.prototype.get=function(key){return typeCheckKey(key),get(this,key,!0)},LRUCache.prototype.peek=function(key){return typeCheckKey(key),get(this,key,!1)},LRUCache.prototype.pop=function(){var hit=this._lruList[this._lru];return del(this,hit),hit||null},LRUCache.prototype.del=function(key){typeCheckKey(key),del(this,this._cache[key])},LRUCache.prototype.load=function(arr){this.reset();for(var now=Date.now(),l=arr.length-1;l>=0;l--){var hit=arr[l];typeCheckKey(hit.k);var expiresAt=hit.e||0;if(0===expiresAt)this.set(hit.k,hit.v);else{var maxAge=expiresAt-now;maxAge>0&&this.set(hit.k,hit.v,maxAge)}}}}()},function(module,exports){function parse(str){if(str=""+str,!(str.length>1e4)){var match=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);if(match){var n=parseFloat(match[1]),type=(match[2]||"ms").toLowerCase();switch(type){case"years":case"year":case"yrs":case"yr":case"y":return n*y;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"hrs":case"hr":case"h":return n*h;case"minutes":case"minute":case"mins":case"min":case"m":return n*m;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function short(ms){return ms>=d?Math.round(ms/d)+"d":ms>=h?Math.round(ms/h)+"h":ms>=m?Math.round(ms/m)+"m":ms>=s?Math.round(ms/s)+"s":ms+"ms"}function long(ms){return plural(ms,d,"day")||plural(ms,h,"hour")||plural(ms,m,"minute")||plural(ms,s,"second")||ms+" ms"}function plural(ms,n,name){if(!(ms<n))return ms<1.5*n?Math.floor(ms/n)+" "+name:Math.ceil(ms/n)+" "+name+"s"}var s=1e3,m=60*s,h=60*m,d=24*h,y=365.25*d;module.exports=function(val,options){return options=options||{},"string"==typeof val?parse(val):options.long?long(val):short(val)}},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function stringToStringTuples(str){var tuples=[],parts=str.split("/").slice(1);if(1===parts.length&&""===parts[0])return[];for(var p=0;p<parts.length;p++){var part=parts[p],proto=protocols(part);if(0!==proto.size){if(p++,p>=parts.length)throw ParseError("invalid address: "+str);tuples.push([part,parts[p]])}else tuples.push([part])}return tuples}function stringTuplesToString(tuples){var parts=[];return map(tuples,function(tup){var proto=protoFromTuple(tup);parts.push(proto.name),tup.length>1&&parts.push(tup[1])}),"/"+parts.join("/")}function stringTuplesToTuples(tuples){return map(tuples,function(tup){Array.isArray(tup)||(tup=[tup]);var proto=protoFromTuple(tup);return tup.length>1?[proto.code,convert.toBuffer(proto.code,tup[1])]:[proto.code]})}function tuplesToStringTuples(tuples){return map(tuples,function(tup){var proto=protoFromTuple(tup);return tup.length>1?[proto.code,convert.toString(proto.code,tup[1])]:[proto.code]})}function tuplesToBuffer(tuples){return fromBuffer(Buffer.concat(map(tuples,function(tup){var proto=protoFromTuple(tup),buf=new Buffer(varint.encode(proto.code));return tup.length>1&&(buf=Buffer.concat([buf,tup[1]])),buf})))}function sizeForAddr(p,addr){if(p.size>0)return p.size/8;if(0===p.size)return 0;var size=varint.decode(addr);return size+varint.decode.bytes}function bufferToTuples(buf){for(var tuples=[],i=0;i<buf.length;){var code=varint.decode(buf,i),n=varint.decode.bytes,p=protocols(code),size=sizeForAddr(p,buf.slice(i+n));if(0!==size){var addr=buf.slice(i+n,i+n+size);if(i+=size+n,i>buf.length)throw ParseError("Invalid address buffer: "+buf.toString("hex"));tuples.push([code,addr])}else tuples.push([code]),i+=n}return tuples}function bufferToString(buf){var a=bufferToTuples(buf),b=tuplesToStringTuples(a);return stringTuplesToString(b)}function stringToBuffer(str){str=cleanPath(str);var a=stringToStringTuples(str),b=stringTuplesToTuples(a);return tuplesToBuffer(b)}function fromString(str){return stringToBuffer(str)}function fromBuffer(buf){var err=validateBuffer(buf);if(err)throw err;return new Buffer(buf)}function validateBuffer(buf){try{bufferToTuples(buf)}catch(err){return err}}function isValidBuffer(buf){return void 0===validateBuffer(buf)}function cleanPath(str){return"/"+filter(str.trim().split("/")).join("/")}function ParseError(str){return new Error("Error parsing address: "+str)}function protoFromTuple(tup){var proto=protocols(tup[0]);return proto}var map=__webpack_require__(175),filter=__webpack_require__(687),convert=__webpack_require__(700),protocols=__webpack_require__(176),varint=__webpack_require__(49);module.exports={stringToStringTuples:stringToStringTuples,stringTuplesToString:stringTuplesToString,tuplesToStringTuples:tuplesToStringTuples,stringTuplesToTuples:stringTuplesToTuples,bufferToTuples:bufferToTuples,tuplesToBuffer:tuplesToBuffer,bufferToString:bufferToString,stringToBuffer:stringToBuffer,fromString:fromString,fromBuffer:fromBuffer,validateBuffer:validateBuffer,isValidBuffer:isValidBuffer,cleanPath:cleanPath,ParseError:ParseError,protoFromTuple:protoFromTuple,sizeForAddr:sizeForAddr}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function Convert(proto,a){return a instanceof Buffer?Convert.toString(proto,a):Convert.toBuffer(proto,a)}function port2buf(port){var buf=new Buffer(2);return buf.writeUInt16BE(port,0),buf}function buf2port(buf){return buf.readUInt16BE(0)}function mh2buf(hash){var mh=new Buffer(bs58.decode(hash)),size=new Buffer(varint.encode(mh.length));return Buffer.concat([size,mh])}function buf2mh(buf){var size=varint.decode(buf),address=buf.slice(varint.decode.bytes);if(address.length!==size)throw new Error("inconsistent lengths");return bs58.encode(address)}var ip=__webpack_require__(654),protocols=__webpack_require__(176),bs58=__webpack_require__(54),varint=__webpack_require__(49);module.exports=Convert,Convert.toString=function(proto,buf){switch(proto=protocols(proto),proto.code){case 4:case 41:return ip.toString(buf);case 6:case 17:case 33:case 132:return buf2port(buf);case 421:return buf2mh(buf);default:return buf.toString("hex")}},Convert.toBuffer=function(proto,str){switch(proto=protocols(proto),proto.code){case 4:case 41:return ip.toBuffer(str);case 6:case 17:case 33:case 132:return port2buf(parseInt(str,10));case 421:return mh2buf(str);default:return new Buffer(str,"hex")}}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports){"use strict";exports.names={sha1:17,"sha2-256":18,"sha2-512":19,sha3:20,blake2b:64,blake2s:65},exports.codes={17:"sha1",18:"sha2-256",19:"sha2-512",20:"sha3",64:"blake2b",65:"blake2s"},exports.defaultLengths={17:20,18:32,19:64,20:64,64:64,65:32}},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function Dialer(){if(!(this instanceof Dialer))return new Dialer;var conn=void 0;this.handle=function(_conn,callback){lpm.read(_conn,function(buffer){var msg=buffer.toString().slice(0,-1);msg===PROTOCOL_ID?(lpm.write(_conn,new Buffer(PROTOCOL_ID+"\n")),conn=_conn,callback()):callback(new Error("Incompatible multistream"))})},this.select=function(protocol,callback){return conn?(lpm.write(conn,new Buffer(protocol+"\n")),void lpm.read(conn,function(msgBuffer){var msg=msgBuffer.toString().slice(0,-1);return msg===protocol?callback(null,conn):"na"===msg?callback(new Error(protocol+" not supported")):void 0})):callback(new Error("multistream handshake has not finalized yet"))},this.ls=function(callback){lpm.write(conn,new Buffer("ls\n"));var protos=[];lpm.read(conn,function(msgBuffer){var nProtos=(varint.decode(msgBuffer),varint.decode(msgBuffer,varint.decode.bytes));times(nProtos,function(n,next){lpm.read(conn,function(msgBuffer){protos.push(msgBuffer.toString().slice(0,-1)),next()})},function(err){return err?callback(err):void callback(null,protos)})})}}function times(i,work,callback){parallel(range(i).map(function(i){return function(callback){return work(i,callback)}}),callback)}var lpm=__webpack_require__(264),PROTOCOL_ID=__webpack_require__(277),varint=__webpack_require__(49),range=__webpack_require__(695),parallel=__webpack_require__(181);exports=module.exports=Dialer}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function Listener(){if(!(this instanceof Listener))return new Listener;var handlers={},conn=void 0;this.handle=function(_conn,callback){function listenerMultistreamHandshakeCheck(){lpm.read(_conn,function(buffer){var msg=buffer.toString().slice(0,-1);return msg!==PROTOCOL_ID?callback(new Error("not supported version of multistream")):(conn=_conn,lpm.read(conn,incMsg),callback(),void 0)})}function incMsg(msgBuffer){var msg=msgBuffer.toString().slice(0,-1);if("ls"===msg){var protos=Object.keys(handlers),nProtos=protos.length,size=protos.reduce(function(size,proto){var p=new Buffer(proto+"\n"),el=varint.encodingLength(p.length);return size+el},0),nProtoVI=new Buffer(varint.encode(nProtos)),sizeVI=new Buffer(varint.encode(size)),buf=Buffer.concat([nProtoVI,sizeVI,new Buffer("\n")]);lpm.write(conn,buf),protos.forEach(function(proto){lpm.write(conn,new Buffer(proto+"\n"))})}return handlers[msg]?(lpm.write(conn,new Buffer(msg+"\n")),handlers[msg](conn)):(lpm.write(conn,new Buffer("na\n")),void lpm.read(conn,incMsg))}lpm.write(_conn,new Buffer(PROTOCOL_ID+"\n")),listenerMultistreamHandshakeCheck()},this.addHandler=function(protocol,handlerFunc){if("function"!=typeof handlerFunc)throw new Error("handler function must be a function");handlers[protocol]=handlerFunc}}var lpm=__webpack_require__(264),PROTOCOL_ID=__webpack_require__(277),varint=__webpack_require__(49);exports=module.exports=Listener}).call(exports,__webpack_require__(0).Buffer)},function(module,exports){"use strict";module.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(module,exports,__webpack_require__){"use strict";function err(strm,errorCode){return strm.msg=msg[errorCode],errorCode}function rank(f){return(f<<1)-(f>4?9:0)}function zero(buf){for(var len=buf.length;--len>=0;)buf[len]=0}function flush_pending(strm){var s=strm.state,len=s.pending;len>strm.avail_out&&(len=strm.avail_out),0!==len&&(utils.arraySet(strm.output,s.pending_buf,s.pending_out,len,strm.next_out),strm.next_out+=len,s.pending_out+=len,strm.total_out+=len,strm.avail_out-=len,s.pending-=len,0===s.pending&&(s.pending_out=0))}function flush_block_only(s,last){trees._tr_flush_block(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,last),s.block_start=s.strstart,flush_pending(s.strm)}function put_byte(s,b){s.pending_buf[s.pending++]=b}function putShortMSB(s,b){s.pending_buf[s.pending++]=b>>>8&255,s.pending_buf[s.pending++]=255&b}function read_buf(strm,buf,start,size){var len=strm.avail_in;return len>size&&(len=size),0===len?0:(strm.avail_in-=len,utils.arraySet(buf,strm.input,strm.next_in,len,start),1===strm.state.wrap?strm.adler=adler32(strm.adler,buf,len,start):2===strm.state.wrap&&(strm.adler=crc32(strm.adler,buf,len,start)),strm.next_in+=len,strm.total_in+=len,len)}function longest_match(s,cur_match){var match,len,chain_length=s.max_chain_length,scan=s.strstart,best_len=s.prev_length,nice_match=s.nice_match,limit=s.strstart>s.w_size-MIN_LOOKAHEAD?s.strstart-(s.w_size-MIN_LOOKAHEAD):0,_win=s.window,wmask=s.w_mask,prev=s.prev,strend=s.strstart+MAX_MATCH,scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len];
s.prev_length>=s.good_match&&(chain_length>>=2),nice_match>s.lookahead&&(nice_match=s.lookahead);do if(match=cur_match,_win[match+best_len]===scan_end&&_win[match+best_len-1]===scan_end1&&_win[match]===_win[scan]&&_win[++match]===_win[scan+1]){scan+=2,match++;do;while(_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&scan<strend);if(len=MAX_MATCH-(strend-scan),scan=strend-MAX_MATCH,len>best_len){if(s.match_start=cur_match,best_len=len,len>=nice_match)break;scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len]}}while((cur_match=prev[cur_match&wmask])>limit&&0!==--chain_length);return best_len<=s.lookahead?best_len:s.lookahead}function fill_window(s){var p,n,m,more,str,_w_size=s.w_size;do{if(more=s.window_size-s.lookahead-s.strstart,s.strstart>=_w_size+(_w_size-MIN_LOOKAHEAD)){utils.arraySet(s.window,s.window,_w_size,_w_size,0),s.match_start-=_w_size,s.strstart-=_w_size,s.block_start-=_w_size,n=s.hash_size,p=n;do m=s.head[--p],s.head[p]=m>=_w_size?m-_w_size:0;while(--n);n=_w_size,p=n;do m=s.prev[--p],s.prev[p]=m>=_w_size?m-_w_size:0;while(--n);more+=_w_size}if(0===s.strm.avail_in)break;if(n=read_buf(s.strm,s.window,s.strstart+s.lookahead,more),s.lookahead+=n,s.lookahead+s.insert>=MIN_MATCH)for(str=s.strstart-s.insert,s.ins_h=s.window[str],s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+1])&s.hash_mask;s.insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask,s.prev[str&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=str,str++,s.insert--,!(s.lookahead+s.insert<MIN_MATCH)););}while(s.lookahead<MIN_LOOKAHEAD&&0!==s.strm.avail_in)}function deflate_stored(s,flush){var max_block_size=65535;for(max_block_size>s.pending_buf_size-5&&(max_block_size=s.pending_buf_size-5);;){if(s.lookahead<=1){if(fill_window(s),0===s.lookahead&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}s.strstart+=s.lookahead,s.lookahead=0;var max_start=s.block_start+max_block_size;if((0===s.strstart||s.strstart>=max_start)&&(s.lookahead=s.strstart-max_start,s.strstart=max_start,flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE;if(s.strstart-s.block_start>=s.w_size-MIN_LOOKAHEAD&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.strstart>s.block_start&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_NEED_MORE}function deflate_fast(s,flush){for(var hash_head,bflush;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(hash_head=0,s.lookahead>=MIN_MATCH&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),0!==hash_head&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,hash_head)),s.match_length>=MIN_MATCH)if(bflush=trees._tr_tally(s,s.strstart-s.match_start,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=MIN_MATCH){s.match_length--;do s.strstart++,s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart;while(0!==--s.match_length);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask;else bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(s,flush){for(var hash_head,bflush,max_insert;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(hash_head=0,s.lookahead>=MIN_MATCH&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=MIN_MATCH-1,0!==hash_head&&s.prev_length<s.max_lazy_match&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,hash_head),s.match_length<=5&&(s.strategy===Z_FILTERED||s.match_length===MIN_MATCH&&s.strstart-s.match_start>4096)&&(s.match_length=MIN_MATCH-1)),s.prev_length>=MIN_MATCH&&s.match_length<=s.prev_length){max_insert=s.strstart+s.lookahead-MIN_MATCH,bflush=trees._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-MIN_MATCH),s.lookahead-=s.prev_length-1,s.prev_length-=2;do++s.strstart<=max_insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart);while(0!==--s.prev_length);if(s.match_available=0,s.match_length=MIN_MATCH-1,s.strstart++,bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}else if(s.match_available){if(bflush=trees._tr_tally(s,0,s.window[s.strstart-1]),bflush&&flush_block_only(s,!1),s.strstart++,s.lookahead--,0===s.strm.avail_out)return BS_NEED_MORE}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(bflush=trees._tr_tally(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_rle(s,flush){for(var bflush,prev,scan,strend,_win=s.window;;){if(s.lookahead<=MAX_MATCH){if(fill_window(s),s.lookahead<=MAX_MATCH&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(s.match_length=0,s.lookahead>=MIN_MATCH&&s.strstart>0&&(scan=s.strstart-1,prev=_win[scan],prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan])){strend=s.strstart+MAX_MATCH;do;while(prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&scan<strend);s.match_length=MAX_MATCH-(strend-scan),s.match_length>s.lookahead&&(s.match_length=s.lookahead)}if(s.match_length>=MIN_MATCH?(bflush=trees._tr_tally(s,1,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.strstart+=s.match_length,s.match_length=0):(bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++),bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_huff(s,flush){for(var bflush;;){if(0===s.lookahead&&(fill_window(s),0===s.lookahead)){if(flush===Z_NO_FLUSH)return BS_NEED_MORE;break}if(s.match_length=0,bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++,bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function Config(good_length,max_lazy,nice_length,max_chain,func){this.good_length=good_length,this.max_lazy=max_lazy,this.nice_length=nice_length,this.max_chain=max_chain,this.func=func}function lm_init(s){s.window_size=2*s.w_size,zero(s.head),s.max_lazy_match=configuration_table[s.level].max_lazy,s.good_match=configuration_table[s.level].good_length,s.nice_match=configuration_table[s.level].nice_length,s.max_chain_length=configuration_table[s.level].max_chain,s.strstart=0,s.block_start=0,s.lookahead=0,s.insert=0,s.match_length=s.prev_length=MIN_MATCH-1,s.match_available=0,s.ins_h=0}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new utils.Buf16(2*HEAP_SIZE),this.dyn_dtree=new utils.Buf16(2*(2*D_CODES+1)),this.bl_tree=new utils.Buf16(2*(2*BL_CODES+1)),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new utils.Buf16(MAX_BITS+1),this.heap=new utils.Buf16(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new utils.Buf16(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(strm){var s;return strm&&strm.state?(strm.total_in=strm.total_out=0,strm.data_type=Z_UNKNOWN,s=strm.state,s.pending=0,s.pending_out=0,s.wrap<0&&(s.wrap=-s.wrap),s.status=s.wrap?INIT_STATE:BUSY_STATE,strm.adler=2===s.wrap?0:1,s.last_flush=Z_NO_FLUSH,trees._tr_init(s),Z_OK):err(strm,Z_STREAM_ERROR)}function deflateReset(strm){var ret=deflateResetKeep(strm);return ret===Z_OK&&lm_init(strm.state),ret}function deflateSetHeader(strm,head){return strm&&strm.state?2!==strm.state.wrap?Z_STREAM_ERROR:(strm.state.gzhead=head,Z_OK):Z_STREAM_ERROR}function deflateInit2(strm,level,method,windowBits,memLevel,strategy){if(!strm)return Z_STREAM_ERROR;var wrap=1;if(level===Z_DEFAULT_COMPRESSION&&(level=6),windowBits<0?(wrap=0,windowBits=-windowBits):windowBits>15&&(wrap=2,windowBits-=16),memLevel<1||memLevel>MAX_MEM_LEVEL||method!==Z_DEFLATED||windowBits<8||windowBits>15||level<0||level>9||strategy<0||strategy>Z_FIXED)return err(strm,Z_STREAM_ERROR);8===windowBits&&(windowBits=9);var s=new DeflateState;return strm.state=s,s.strm=strm,s.wrap=wrap,s.gzhead=null,s.w_bits=windowBits,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=memLevel+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+MIN_MATCH-1)/MIN_MATCH),s.window=new utils.Buf8(2*s.w_size),s.head=new utils.Buf16(s.hash_size),s.prev=new utils.Buf16(s.w_size),s.lit_bufsize=1<<memLevel+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new utils.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=level,s.strategy=strategy,s.method=method,deflateReset(strm)}function deflateInit(strm,level){return deflateInit2(strm,level,Z_DEFLATED,MAX_WBITS,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY)}function deflate(strm,flush){var old_flush,s,beg,val;if(!strm||!strm.state||flush>Z_BLOCK||flush<0)return strm?err(strm,Z_STREAM_ERROR):Z_STREAM_ERROR;if(s=strm.state,!strm.output||!strm.input&&0!==strm.avail_in||s.status===FINISH_STATE&&flush!==Z_FINISH)return err(strm,0===strm.avail_out?Z_BUF_ERROR:Z_STREAM_ERROR);if(s.strm=strm,old_flush=s.last_flush,s.last_flush=flush,s.status===INIT_STATE)if(2===s.wrap)strm.adler=0,put_byte(s,31),put_byte(s,139),put_byte(s,8),s.gzhead?(put_byte(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),put_byte(s,255&s.gzhead.time),put_byte(s,s.gzhead.time>>8&255),put_byte(s,s.gzhead.time>>16&255),put_byte(s,s.gzhead.time>>24&255),put_byte(s,9===s.level?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0),put_byte(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(put_byte(s,255&s.gzhead.extra.length),put_byte(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=EXTRA_STATE):(put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,9===s.level?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0),put_byte(s,OS_CODE),s.status=BUSY_STATE);else{var header=Z_DEFLATED+(s.w_bits-8<<4)<<8,level_flags=-1;level_flags=s.strategy>=Z_HUFFMAN_ONLY||s.level<2?0:s.level<6?1:6===s.level?2:3,header|=level_flags<<6,0!==s.strstart&&(header|=PRESET_DICT),header+=31-header%31,s.status=BUSY_STATE,putShortMSB(s,header),0!==s.strstart&&(putShortMSB(s,strm.adler>>>16),putShortMSB(s,65535&strm.adler)),strm.adler=1}if(s.status===EXTRA_STATE)if(s.gzhead.extra){for(beg=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending!==s.pending_buf_size));)put_byte(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=NAME_STATE)}else s.status=NAME_STATE;if(s.status===NAME_STATE)if(s.gzhead.name){beg=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending===s.pending_buf_size)){val=1;break}val=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,put_byte(s,val)}while(0!==val);s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),0===val&&(s.gzindex=0,s.status=COMMENT_STATE)}else s.status=COMMENT_STATE;if(s.status===COMMENT_STATE)if(s.gzhead.comment){beg=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending===s.pending_buf_size)){val=1;break}val=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,put_byte(s,val)}while(0!==val);s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),0===val&&(s.status=HCRC_STATE)}else s.status=HCRC_STATE;if(s.status===HCRC_STATE&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&flush_pending(strm),s.pending+2<=s.pending_buf_size&&(put_byte(s,255&strm.adler),put_byte(s,strm.adler>>8&255),strm.adler=0,s.status=BUSY_STATE)):s.status=BUSY_STATE),0!==s.pending){if(flush_pending(strm),0===strm.avail_out)return s.last_flush=-1,Z_OK}else if(0===strm.avail_in&&rank(flush)<=rank(old_flush)&&flush!==Z_FINISH)return err(strm,Z_BUF_ERROR);if(s.status===FINISH_STATE&&0!==strm.avail_in)return err(strm,Z_BUF_ERROR);if(0!==strm.avail_in||0!==s.lookahead||flush!==Z_NO_FLUSH&&s.status!==FINISH_STATE){var bstate=s.strategy===Z_HUFFMAN_ONLY?deflate_huff(s,flush):s.strategy===Z_RLE?deflate_rle(s,flush):configuration_table[s.level].func(s,flush);if(bstate!==BS_FINISH_STARTED&&bstate!==BS_FINISH_DONE||(s.status=FINISH_STATE),bstate===BS_NEED_MORE||bstate===BS_FINISH_STARTED)return 0===strm.avail_out&&(s.last_flush=-1),Z_OK;if(bstate===BS_BLOCK_DONE&&(flush===Z_PARTIAL_FLUSH?trees._tr_align(s):flush!==Z_BLOCK&&(trees._tr_stored_block(s,0,0,!1),flush===Z_FULL_FLUSH&&(zero(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),flush_pending(strm),0===strm.avail_out))return s.last_flush=-1,Z_OK}return flush!==Z_FINISH?Z_OK:s.wrap<=0?Z_STREAM_END:(2===s.wrap?(put_byte(s,255&strm.adler),put_byte(s,strm.adler>>8&255),put_byte(s,strm.adler>>16&255),put_byte(s,strm.adler>>24&255),put_byte(s,255&strm.total_in),put_byte(s,strm.total_in>>8&255),put_byte(s,strm.total_in>>16&255),put_byte(s,strm.total_in>>24&255)):(putShortMSB(s,strm.adler>>>16),putShortMSB(s,65535&strm.adler)),flush_pending(strm),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?Z_OK:Z_STREAM_END)}function deflateEnd(strm){var status;return strm&&strm.state?(status=strm.state.status,status!==INIT_STATE&&status!==EXTRA_STATE&&status!==NAME_STATE&&status!==COMMENT_STATE&&status!==HCRC_STATE&&status!==BUSY_STATE&&status!==FINISH_STATE?err(strm,Z_STREAM_ERROR):(strm.state=null,status===BUSY_STATE?err(strm,Z_DATA_ERROR):Z_OK)):Z_STREAM_ERROR}function deflateSetDictionary(strm,dictionary){var s,str,n,wrap,avail,next,input,tmpDict,dictLength=dictionary.length;if(!strm||!strm.state)return Z_STREAM_ERROR;if(s=strm.state,wrap=s.wrap,2===wrap||1===wrap&&s.status!==INIT_STATE||s.lookahead)return Z_STREAM_ERROR;for(1===wrap&&(strm.adler=adler32(strm.adler,dictionary,dictLength,0)),s.wrap=0,dictLength>=s.w_size&&(0===wrap&&(zero(s.head),s.strstart=0,s.block_start=0,s.insert=0),tmpDict=new utils.Buf8(s.w_size),utils.arraySet(tmpDict,dictionary,dictLength-s.w_size,s.w_size,0),dictionary=tmpDict,dictLength=s.w_size),avail=strm.avail_in,next=strm.next_in,input=strm.input,strm.avail_in=dictLength,strm.next_in=0,strm.input=dictionary,fill_window(s);s.lookahead>=MIN_MATCH;){str=s.strstart,n=s.lookahead-(MIN_MATCH-1);do s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask,s.prev[str&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=str,str++;while(--n);s.strstart=str,s.lookahead=MIN_MATCH-1,fill_window(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=MIN_MATCH-1,s.match_available=0,strm.next_in=next,strm.input=input,strm.avail_in=avail,s.wrap=wrap,Z_OK}var configuration_table,utils=__webpack_require__(132),trees=__webpack_require__(710),adler32=__webpack_require__(279),crc32=__webpack_require__(280),msg=__webpack_require__(709),Z_NO_FLUSH=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH=4,Z_BLOCK=5,Z_OK=0,Z_STREAM_END=1,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_BUF_ERROR=-5,Z_DEFAULT_COMPRESSION=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED=4,Z_DEFAULT_STRATEGY=0,Z_UNKNOWN=2,Z_DEFLATED=8,MAX_MEM_LEVEL=9,MAX_WBITS=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3;configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],exports.deflateInit=deflateInit,exports.deflateInit2=deflateInit2,exports.deflateReset=deflateReset,exports.deflateResetKeep=deflateResetKeep,exports.deflateSetHeader=deflateSetHeader,exports.deflate=deflate,exports.deflateEnd=deflateEnd,exports.deflateSetDictionary=deflateSetDictionary,exports.deflateInfo="pako deflate (from Nodeca project)"},function(module,exports){"use strict";var BAD=30,TYPE=12;module.exports=function(strm,start){var state,_in,last,_out,beg,end,dmax,wsize,whave,wnext,s_window,hold,bits,lcode,dcode,lmask,dmask,here,op,len,dist,from,from_source,input,output;state=strm.state,_in=strm.next_in,input=strm.input,last=_in+(strm.avail_in-5),_out=strm.next_out,output=strm.output,beg=_out-(start-strm.avail_out),end=_out+(strm.avail_out-257),dmax=state.dmax,wsize=state.wsize,whave=state.whave,wnext=state.wnext,s_window=state.window,hold=state.hold,bits=state.bits,lcode=state.lencode,dcode=state.distcode,lmask=(1<<state.lenbits)-1,dmask=(1<<state.distbits)-1;top:do{bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=lcode[hold&lmask];dolen:for(;;){if(op=here>>>24,hold>>>=op,bits-=op,op=here>>>16&255,0===op)output[_out++]=65535&here;else{if(!(16&op)){if(0===(64&op)){here=lcode[(65535&here)+(hold&(1<<op)-1)];continue dolen}if(32&op){state.mode=TYPE;break top}strm.msg="invalid literal/length code",state.mode=BAD;break top}len=65535&here,op&=15,op&&(bits<op&&(hold+=input[_in++]<<bits,bits+=8),len+=hold&(1<<op)-1,hold>>>=op,bits-=op),bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=dcode[hold&dmask];dodist:for(;;){if(op=here>>>24,hold>>>=op,bits-=op,op=here>>>16&255,!(16&op)){if(0===(64&op)){here=dcode[(65535&here)+(hold&(1<<op)-1)];continue dodist}strm.msg="invalid distance code",state.mode=BAD;break top}if(dist=65535&here,op&=15,bits<op&&(hold+=input[_in++]<<bits,bits+=8,bits<op&&(hold+=input[_in++]<<bits,bits+=8)),dist+=hold&(1<<op)-1,dist>dmax){strm.msg="invalid distance too far back",state.mode=BAD;break top}if(hold>>>=op,bits-=op,op=_out-beg,dist>op){if(op=dist-op,op>whave&&state.sane){strm.msg="invalid distance too far back",state.mode=BAD;break top}if(from=0,from_source=s_window,0===wnext){if(from+=wsize-op,op<len){len-=op;do output[_out++]=s_window[from++];while(--op);from=_out-dist,from_source=output}}else if(wnext<op){if(from+=wsize+wnext-op,op-=wnext,op<len){len-=op;do output[_out++]=s_window[from++];while(--op);if(from=0,wnext<len){op=wnext,len-=op;do output[_out++]=s_window[from++];while(--op);from=_out-dist,from_source=output}}}else if(from+=wnext-op,op<len){len-=op;do output[_out++]=s_window[from++];while(--op);from=_out-dist,from_source=output}for(;len>2;)output[_out++]=from_source[from++],output[_out++]=from_source[from++],output[_out++]=from_source[from++],len-=3;len&&(output[_out++]=from_source[from++],len>1&&(output[_out++]=from_source[from++]))}else{from=_out-dist;do output[_out++]=output[from++],output[_out++]=output[from++],output[_out++]=output[from++],len-=3;while(len>2);len&&(output[_out++]=output[from++],len>1&&(output[_out++]=output[from++]))}break}}break}}while(_in<last&&_out<end);len=bits>>3,_in-=len,bits-=len<<3,hold&=(1<<bits)-1,strm.next_in=_in,strm.next_out=_out,strm.avail_in=_in<last?5+(last-_in):5-(_in-last),strm.avail_out=_out<end?257+(end-_out):257-(_out-end),state.hold=hold,state.bits=bits}},function(module,exports,__webpack_require__){"use strict";function zswap32(q){return(q>>>24&255)+(q>>>8&65280)+((65280&q)<<8)+((255&q)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils.Buf16(320),this.work=new utils.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(strm){var state;return strm&&strm.state?(state=strm.state,strm.total_in=strm.total_out=state.total=0,strm.msg="",state.wrap&&(strm.adler=1&state.wrap),state.mode=HEAD,state.last=0,state.havedict=0,state.dmax=32768,state.head=null,state.hold=0,state.bits=0,state.lencode=state.lendyn=new utils.Buf32(ENOUGH_LENS),state.distcode=state.distdyn=new utils.Buf32(ENOUGH_DISTS),state.sane=1,state.back=-1,Z_OK):Z_STREAM_ERROR}function inflateReset(strm){var state;return strm&&strm.state?(state=strm.state,state.wsize=0,state.whave=0,state.wnext=0,inflateResetKeep(strm)):Z_STREAM_ERROR}function inflateReset2(strm,windowBits){var wrap,state;return strm&&strm.state?(state=strm.state,windowBits<0?(wrap=0,windowBits=-windowBits):(wrap=(windowBits>>4)+1,windowBits<48&&(windowBits&=15)),windowBits&&(windowBits<8||windowBits>15)?Z_STREAM_ERROR:(null!==state.window&&state.wbits!==windowBits&&(state.window=null),state.wrap=wrap,state.wbits=windowBits,inflateReset(strm))):Z_STREAM_ERROR}function inflateInit2(strm,windowBits){var ret,state;return strm?(state=new InflateState,strm.state=state,state.window=null,ret=inflateReset2(strm,windowBits),ret!==Z_OK&&(strm.state=null),ret):Z_STREAM_ERROR}function inflateInit(strm){return inflateInit2(strm,DEF_WBITS)}function fixedtables(state){if(virgin){var sym;for(lenfix=new utils.Buf32(512),distfix=new utils.Buf32(32),sym=0;sym<144;)state.lens[sym++]=8;for(;sym<256;)state.lens[sym++]=9;for(;sym<280;)state.lens[sym++]=7;for(;sym<288;)state.lens[sym++]=8;for(inflate_table(LENS,state.lens,0,288,lenfix,0,state.work,{bits:9}),sym=0;sym<32;)state.lens[sym++]=5;inflate_table(DISTS,state.lens,0,32,distfix,0,state.work,{bits:5}),virgin=!1}state.lencode=lenfix,state.lenbits=9,state.distcode=distfix,state.distbits=5}function updatewindow(strm,src,end,copy){var dist,state=strm.state;return null===state.window&&(state.wsize=1<<state.wbits,state.wnext=0,state.whave=0,state.window=new utils.Buf8(state.wsize)),copy>=state.wsize?(utils.arraySet(state.window,src,end-state.wsize,state.wsize,0),state.wnext=0,state.whave=state.wsize):(dist=state.wsize-state.wnext,dist>copy&&(dist=copy),utils.arraySet(state.window,src,end-copy,dist,state.wnext),copy-=dist,copy?(utils.arraySet(state.window,src,end-copy,copy,0),state.wnext=copy,state.whave=state.wsize):(state.wnext+=dist,state.wnext===state.wsize&&(state.wnext=0),state.whave<state.wsize&&(state.whave+=dist))),0}function inflate(strm,flush){var state,input,output,next,put,have,left,hold,bits,_in,_out,copy,from,from_source,here_bits,here_op,here_val,last_bits,last_op,last_val,len,ret,opts,n,here=0,hbuf=new utils.Buf8(4),order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!strm||!strm.state||!strm.output||!strm.input&&0!==strm.avail_in)return Z_STREAM_ERROR;state=strm.state,state.mode===TYPE&&(state.mode=TYPEDO),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,_in=have,_out=left,ret=Z_OK;inf_leave:for(;;)switch(state.mode){case HEAD:if(0===state.wrap){state.mode=TYPEDO;break}for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(2&state.wrap&&35615===hold){state.check=0,hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0),hold=0,bits=0,state.mode=FLAGS;break}if(state.flags=0,state.head&&(state.head.done=!1),!(1&state.wrap)||(((255&hold)<<8)+(hold>>8))%31){strm.msg="incorrect header check",state.mode=BAD;break}if((15&hold)!==Z_DEFLATED){strm.msg="unknown compression method",state.mode=BAD;break}if(hold>>>=4,bits-=4,len=(15&hold)+8,0===state.wbits)state.wbits=len;else if(len>state.wbits){strm.msg="invalid window size",state.mode=BAD;break}state.dmax=1<<len,strm.adler=state.check=1,state.mode=512&hold?DICTID:TYPE,hold=0,bits=0;break;case FLAGS:for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.flags=hold,(255&state.flags)!==Z_DEFLATED){strm.msg="unknown compression method",state.mode=BAD;break}if(57344&state.flags){strm.msg="unknown header flags set",state.mode=BAD;break}state.head&&(state.head.text=hold>>8&1),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=TIME;case TIME:for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.time=hold),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,hbuf[2]=hold>>>16&255,hbuf[3]=hold>>>24&255,state.check=crc32(state.check,hbuf,4,0)),hold=0,bits=0,state.mode=OS;case OS:for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.xflags=255&hold,state.head.os=hold>>8),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=EXLEN;case EXLEN:if(1024&state.flags){for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length=hold,state.head&&(state.head.extra_len=hold),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0}else state.head&&(state.head.extra=null);state.mode=EXTRA;case EXTRA:if(1024&state.flags&&(copy=state.length,copy>have&&(copy=have),copy&&(state.head&&(len=state.head.extra_len-state.length,state.head.extra||(state.head.extra=new Array(state.head.extra_len)),utils.arraySet(state.head.extra,input,next,copy,len)),512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,state.length-=copy),state.length))break inf_leave;state.length=0,state.mode=NAME;case NAME:if(2048&state.flags){if(0===have)break inf_leave;copy=0;do len=input[next+copy++],state.head&&len&&state.length<65536&&(state.head.name+=String.fromCharCode(len));while(len&&copy<have);if(512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.name=null);state.length=0,state.mode=COMMENT;case COMMENT:if(4096&state.flags){if(0===have)break inf_leave;copy=0;do len=input[next+copy++],state.head&&len&&state.length<65536&&(state.head.comment+=String.fromCharCode(len));while(len&&copy<have);if(512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.comment=null);state.mode=HCRC;case HCRC:if(512&state.flags){for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(65535&state.check)){strm.msg="header crc mismatch",state.mode=BAD;break}hold=0,bits=0}state.head&&(state.head.hcrc=state.flags>>9&1,state.head.done=!0),strm.adler=state.check=0,state.mode=TYPE;break;case DICTID:for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}strm.adler=state.check=zswap32(hold),hold=0,bits=0,state.mode=DICT;case DICT:if(0===state.havedict)return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,Z_NEED_DICT;strm.adler=state.check=1,state.mode=TYPE;case TYPE:if(flush===Z_BLOCK||flush===Z_TREES)break inf_leave;case TYPEDO:if(state.last){hold>>>=7&bits,bits-=7&bits,state.mode=CHECK;break}for(;bits<3;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}switch(state.last=1&hold,hold>>>=1,bits-=1,3&hold){case 0:state.mode=STORED;break;case 1:if(fixedtables(state),state.mode=LEN_,flush===Z_TREES){hold>>>=2,bits-=2;break inf_leave}break;case 2:state.mode=TABLE;break;case 3:strm.msg="invalid block type",state.mode=BAD}hold>>>=2,bits-=2;break;case STORED:for(hold>>>=7&bits,bits-=7&bits;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if((65535&hold)!==(hold>>>16^65535)){strm.msg="invalid stored block lengths",state.mode=BAD;break}if(state.length=65535&hold,hold=0,bits=0,state.mode=COPY_,flush===Z_TREES)break inf_leave;case COPY_:state.mode=COPY;case COPY:if(copy=state.length){if(copy>have&&(copy=have),copy>left&&(copy=left),0===copy)break inf_leave;utils.arraySet(output,input,next,copy,put),have-=copy,next+=copy,left-=copy,put+=copy,state.length-=copy;break}state.mode=TYPE;break;case TABLE:for(;bits<14;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.nlen=(31&hold)+257,hold>>>=5,bits-=5,state.ndist=(31&hold)+1,hold>>>=5,bits-=5,state.ncode=(15&hold)+4,hold>>>=4,bits-=4,state.nlen>286||state.ndist>30){strm.msg="too many length or distance symbols",state.mode=BAD;break}state.have=0,state.mode=LENLENS;case LENLENS:for(;state.have<state.ncode;){for(;bits<3;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.lens[order[state.have++]]=7&hold,hold>>>=3,bits-=3}for(;state.have<19;)state.lens[order[state.have++]]=0;if(state.lencode=state.lendyn,state.lenbits=7,opts={bits:state.lenbits},ret=inflate_table(CODES,state.lens,0,19,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg="invalid code lengths set",state.mode=BAD;break}state.have=0,state.mode=CODELENS;case CODELENS:for(;state.have<state.nlen+state.ndist;){
for(;here=state.lencode[hold&(1<<state.lenbits)-1],here_bits=here>>>24,here_op=here>>>16&255,here_val=65535&here,!(here_bits<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_val<16)hold>>>=here_bits,bits-=here_bits,state.lens[state.have++]=here_val;else{if(16===here_val){for(n=here_bits+2;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold>>>=here_bits,bits-=here_bits,0===state.have){strm.msg="invalid bit length repeat",state.mode=BAD;break}len=state.lens[state.have-1],copy=3+(3&hold),hold>>>=2,bits-=2}else if(17===here_val){for(n=here_bits+3;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=here_bits,bits-=here_bits,len=0,copy=3+(7&hold),hold>>>=3,bits-=3}else{for(n=here_bits+7;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=here_bits,bits-=here_bits,len=0,copy=11+(127&hold),hold>>>=7,bits-=7}if(state.have+copy>state.nlen+state.ndist){strm.msg="invalid bit length repeat",state.mode=BAD;break}for(;copy--;)state.lens[state.have++]=len}}if(state.mode===BAD)break;if(0===state.lens[256]){strm.msg="invalid code -- missing end-of-block",state.mode=BAD;break}if(state.lenbits=9,opts={bits:state.lenbits},ret=inflate_table(LENS,state.lens,0,state.nlen,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg="invalid literal/lengths set",state.mode=BAD;break}if(state.distbits=6,state.distcode=state.distdyn,opts={bits:state.distbits},ret=inflate_table(DISTS,state.lens,state.nlen,state.ndist,state.distcode,0,state.work,opts),state.distbits=opts.bits,ret){strm.msg="invalid distances set",state.mode=BAD;break}if(state.mode=LEN_,flush===Z_TREES)break inf_leave;case LEN_:state.mode=LEN;case LEN:if(have>=6&&left>=258){strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,inflate_fast(strm,_out),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,state.mode===TYPE&&(state.back=-1);break}for(state.back=0;here=state.lencode[hold&(1<<state.lenbits)-1],here_bits=here>>>24,here_op=here>>>16&255,here_val=65535&here,!(here_bits<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_op&&0===(240&here_op)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here=state.lencode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)],here_bits=here>>>24,here_op=here>>>16&255,here_val=65535&here,!(last_bits+here_bits<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,state.length=here_val,0===here_op){state.mode=LIT;break}if(32&here_op){state.back=-1,state.mode=TYPE;break}if(64&here_op){strm.msg="invalid literal/length code",state.mode=BAD;break}state.extra=15&here_op,state.mode=LENEXT;case LENEXT:if(state.extra){for(n=state.extra;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}state.was=state.length,state.mode=DIST;case DIST:for(;here=state.distcode[hold&(1<<state.distbits)-1],here_bits=here>>>24,here_op=here>>>16&255,here_val=65535&here,!(here_bits<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(0===(240&here_op)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here=state.distcode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)],here_bits=here>>>24,here_op=here>>>16&255,here_val=65535&here,!(last_bits+here_bits<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,64&here_op){strm.msg="invalid distance code",state.mode=BAD;break}state.offset=here_val,state.extra=15&here_op,state.mode=DISTEXT;case DISTEXT:if(state.extra){for(n=state.extra;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.offset+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}if(state.offset>state.dmax){strm.msg="invalid distance too far back",state.mode=BAD;break}state.mode=MATCH;case MATCH:if(0===left)break inf_leave;if(copy=_out-left,state.offset>copy){if(copy=state.offset-copy,copy>state.whave&&state.sane){strm.msg="invalid distance too far back",state.mode=BAD;break}copy>state.wnext?(copy-=state.wnext,from=state.wsize-copy):from=state.wnext-copy,copy>state.length&&(copy=state.length),from_source=state.window}else from_source=output,from=put-state.offset,copy=state.length;copy>left&&(copy=left),left-=copy,state.length-=copy;do output[put++]=from_source[from++];while(--copy);0===state.length&&(state.mode=LEN);break;case LIT:if(0===left)break inf_leave;output[put++]=state.length,left--,state.mode=LEN;break;case CHECK:if(state.wrap){for(;bits<32;){if(0===have)break inf_leave;have--,hold|=input[next++]<<bits,bits+=8}if(_out-=left,strm.total_out+=_out,state.total+=_out,_out&&(strm.adler=state.check=state.flags?crc32(state.check,output,_out,put-_out):adler32(state.check,output,_out,put-_out)),_out=left,(state.flags?hold:zswap32(hold))!==state.check){strm.msg="incorrect data check",state.mode=BAD;break}hold=0,bits=0}state.mode=LENGTH;case LENGTH:if(state.wrap&&state.flags){for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(4294967295&state.total)){strm.msg="incorrect length check",state.mode=BAD;break}hold=0,bits=0}state.mode=DONE;case DONE:ret=Z_STREAM_END;break inf_leave;case BAD:ret=Z_DATA_ERROR;break inf_leave;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR}return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,(state.wsize||_out!==strm.avail_out&&state.mode<BAD&&(state.mode<CHECK||flush!==Z_FINISH))&&updatewindow(strm,strm.output,strm.next_out,_out-strm.avail_out)?(state.mode=MEM,Z_MEM_ERROR):(_in-=strm.avail_in,_out-=strm.avail_out,strm.total_in+=_in,strm.total_out+=_out,state.total+=_out,state.wrap&&_out&&(strm.adler=state.check=state.flags?crc32(state.check,output,_out,strm.next_out-_out):adler32(state.check,output,_out,strm.next_out-_out)),strm.data_type=state.bits+(state.last?64:0)+(state.mode===TYPE?128:0)+(state.mode===LEN_||state.mode===COPY_?256:0),(0===_in&&0===_out||flush===Z_FINISH)&&ret===Z_OK&&(ret=Z_BUF_ERROR),ret)}function inflateEnd(strm){if(!strm||!strm.state)return Z_STREAM_ERROR;var state=strm.state;return state.window&&(state.window=null),strm.state=null,Z_OK}function inflateGetHeader(strm,head){var state;return strm&&strm.state?(state=strm.state,0===(2&state.wrap)?Z_STREAM_ERROR:(state.head=head,head.done=!1,Z_OK)):Z_STREAM_ERROR}function inflateSetDictionary(strm,dictionary){var state,dictid,ret,dictLength=dictionary.length;return strm&&strm.state?(state=strm.state,0!==state.wrap&&state.mode!==DICT?Z_STREAM_ERROR:state.mode===DICT&&(dictid=1,dictid=adler32(dictid,dictionary,dictLength,0),dictid!==state.check)?Z_DATA_ERROR:(ret=updatewindow(strm,dictionary,dictLength,dictLength))?(state.mode=MEM,Z_MEM_ERROR):(state.havedict=1,Z_OK)):Z_STREAM_ERROR}var lenfix,distfix,utils=__webpack_require__(132),adler32=__webpack_require__(279),crc32=__webpack_require__(280),inflate_fast=__webpack_require__(706),inflate_table=__webpack_require__(708),CODES=0,LENS=1,DISTS=2,Z_FINISH=4,Z_BLOCK=5,Z_TREES=6,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR=-5,Z_DEFLATED=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,virgin=!0;exports.inflateReset=inflateReset,exports.inflateReset2=inflateReset2,exports.inflateResetKeep=inflateResetKeep,exports.inflateInit=inflateInit,exports.inflateInit2=inflateInit2,exports.inflate=inflate,exports.inflateEnd=inflateEnd,exports.inflateGetHeader=inflateGetHeader,exports.inflateSetDictionary=inflateSetDictionary,exports.inflateInfo="pako inflate (from Nodeca project)"},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(132),MAXBITS=15,ENOUGH_LENS=852,ENOUGH_DISTS=592,CODES=0,LENS=1,DISTS=2,lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];module.exports=function(type,lens,lens_index,codes,table,table_index,work,opts){var incr,fill,low,mask,next,end,here_bits,here_op,here_val,bits=opts.bits,len=0,sym=0,min=0,max=0,root=0,curr=0,drop=0,left=0,used=0,huff=0,base=null,base_index=0,count=new utils.Buf16(MAXBITS+1),offs=new utils.Buf16(MAXBITS+1),extra=null,extra_index=0;for(len=0;len<=MAXBITS;len++)count[len]=0;for(sym=0;sym<codes;sym++)count[lens[lens_index+sym]]++;for(root=bits,max=MAXBITS;max>=1&&0===count[max];max--);if(root>max&&(root=max),0===max)return table[table_index++]=20971520,table[table_index++]=20971520,opts.bits=1,0;for(min=1;min<max&&0===count[min];min++);for(root<min&&(root=min),left=1,len=1;len<=MAXBITS;len++)if(left<<=1,left-=count[len],left<0)return-1;if(left>0&&(type===CODES||1!==max))return-1;for(offs[1]=0,len=1;len<MAXBITS;len++)offs[len+1]=offs[len]+count[len];for(sym=0;sym<codes;sym++)0!==lens[lens_index+sym]&&(work[offs[lens[lens_index+sym]]++]=sym);if(type===CODES?(base=extra=work,end=19):type===LENS?(base=lbase,base_index-=257,extra=lext,extra_index-=257,end=256):(base=dbase,extra=dext,end=-1),huff=0,sym=0,len=min,next=table_index,curr=root,drop=0,low=-1,used=1<<root,mask=used-1,type===LENS&&used>ENOUGH_LENS||type===DISTS&&used>ENOUGH_DISTS)return 1;for(var i=0;;){i++,here_bits=len-drop,work[sym]<end?(here_op=0,here_val=work[sym]):work[sym]>end?(here_op=extra[extra_index+work[sym]],here_val=base[base_index+work[sym]]):(here_op=96,here_val=0),incr=1<<len-drop,fill=1<<curr,min=fill;do fill-=incr,table[next+(huff>>drop)+fill]=here_bits<<24|here_op<<16|here_val|0;while(0!==fill);for(incr=1<<len-1;huff&incr;)incr>>=1;if(0!==incr?(huff&=incr-1,huff+=incr):huff=0,sym++,0===--count[len]){if(len===max)break;len=lens[lens_index+work[sym]]}if(len>root&&(huff&mask)!==low){for(0===drop&&(drop=root),next+=min,curr=len-drop,left=1<<curr;curr+drop<max&&(left-=count[curr+drop],!(left<=0));)curr++,left<<=1;if(used+=1<<curr,type===LENS&&used>ENOUGH_LENS||type===DISTS&&used>ENOUGH_DISTS)return 1;low=huff&mask,table[low]=root<<24|curr<<16|next-table_index|0}}return 0!==huff&&(table[next+huff]=len-drop<<24|64<<16|0),opts.bits=root,0}},function(module,exports){"use strict";module.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(module,exports,__webpack_require__){"use strict";function zero(buf){for(var len=buf.length;--len>=0;)buf[len]=0}function StaticTreeDesc(static_tree,extra_bits,extra_base,elems,max_length){this.static_tree=static_tree,this.extra_bits=extra_bits,this.extra_base=extra_base,this.elems=elems,this.max_length=max_length,this.has_stree=static_tree&&static_tree.length}function TreeDesc(dyn_tree,stat_desc){this.dyn_tree=dyn_tree,this.max_code=0,this.stat_desc=stat_desc}function d_code(dist){return dist<256?_dist_code[dist]:_dist_code[256+(dist>>>7)]}function put_short(s,w){s.pending_buf[s.pending++]=255&w,s.pending_buf[s.pending++]=w>>>8&255}function send_bits(s,value,length){s.bi_valid>Buf_size-length?(s.bi_buf|=value<<s.bi_valid&65535,put_short(s,s.bi_buf),s.bi_buf=value>>Buf_size-s.bi_valid,s.bi_valid+=length-Buf_size):(s.bi_buf|=value<<s.bi_valid&65535,s.bi_valid+=length)}function send_code(s,c,tree){send_bits(s,tree[2*c],tree[2*c+1])}function bi_reverse(code,len){var res=0;do res|=1&code,code>>>=1,res<<=1;while(--len>0);return res>>>1}function bi_flush(s){16===s.bi_valid?(put_short(s,s.bi_buf),s.bi_buf=0,s.bi_valid=0):s.bi_valid>=8&&(s.pending_buf[s.pending++]=255&s.bi_buf,s.bi_buf>>=8,s.bi_valid-=8)}function gen_bitlen(s,desc){var h,n,m,bits,xbits,f,tree=desc.dyn_tree,max_code=desc.max_code,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,extra=desc.stat_desc.extra_bits,base=desc.stat_desc.extra_base,max_length=desc.stat_desc.max_length,overflow=0;for(bits=0;bits<=MAX_BITS;bits++)s.bl_count[bits]=0;for(tree[2*s.heap[s.heap_max]+1]=0,h=s.heap_max+1;h<HEAP_SIZE;h++)n=s.heap[h],bits=tree[2*tree[2*n+1]+1]+1,bits>max_length&&(bits=max_length,overflow++),tree[2*n+1]=bits,n>max_code||(s.bl_count[bits]++,xbits=0,n>=base&&(xbits=extra[n-base]),f=tree[2*n],s.opt_len+=f*(bits+xbits),has_stree&&(s.static_len+=f*(stree[2*n+1]+xbits)));if(0!==overflow){do{for(bits=max_length-1;0===s.bl_count[bits];)bits--;s.bl_count[bits]--,s.bl_count[bits+1]+=2,s.bl_count[max_length]--,overflow-=2}while(overflow>0);for(bits=max_length;0!==bits;bits--)for(n=s.bl_count[bits];0!==n;)m=s.heap[--h],m>max_code||(tree[2*m+1]!==bits&&(s.opt_len+=(bits-tree[2*m+1])*tree[2*m],tree[2*m+1]=bits),n--)}}function gen_codes(tree,max_code,bl_count){var bits,n,next_code=new Array(MAX_BITS+1),code=0;for(bits=1;bits<=MAX_BITS;bits++)next_code[bits]=code=code+bl_count[bits-1]<<1;for(n=0;n<=max_code;n++){var len=tree[2*n+1];0!==len&&(tree[2*n]=bi_reverse(next_code[len]++,len))}}function tr_static_init(){var n,bits,length,code,dist,bl_count=new Array(MAX_BITS+1);for(length=0,code=0;code<LENGTH_CODES-1;code++)for(base_length[code]=length,n=0;n<1<<extra_lbits[code];n++)_length_code[length++]=code;for(_length_code[length-1]=code,dist=0,code=0;code<16;code++)for(base_dist[code]=dist,n=0;n<1<<extra_dbits[code];n++)_dist_code[dist++]=code;for(dist>>=7;code<D_CODES;code++)for(base_dist[code]=dist<<7,n=0;n<1<<extra_dbits[code]-7;n++)_dist_code[256+dist++]=code;for(bits=0;bits<=MAX_BITS;bits++)bl_count[bits]=0;for(n=0;n<=143;)static_ltree[2*n+1]=8,n++,bl_count[8]++;for(;n<=255;)static_ltree[2*n+1]=9,n++,bl_count[9]++;for(;n<=279;)static_ltree[2*n+1]=7,n++,bl_count[7]++;for(;n<=287;)static_ltree[2*n+1]=8,n++,bl_count[8]++;for(gen_codes(static_ltree,L_CODES+1,bl_count),n=0;n<D_CODES;n++)static_dtree[2*n+1]=5,static_dtree[2*n]=bi_reverse(n,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS+1,L_CODES,MAX_BITS),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES,MAX_BITS),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES,MAX_BL_BITS)}function init_block(s){var n;for(n=0;n<L_CODES;n++)s.dyn_ltree[2*n]=0;for(n=0;n<D_CODES;n++)s.dyn_dtree[2*n]=0;for(n=0;n<BL_CODES;n++)s.bl_tree[2*n]=0;s.dyn_ltree[2*END_BLOCK]=1,s.opt_len=s.static_len=0,s.last_lit=s.matches=0}function bi_windup(s){s.bi_valid>8?put_short(s,s.bi_buf):s.bi_valid>0&&(s.pending_buf[s.pending++]=s.bi_buf),s.bi_buf=0,s.bi_valid=0}function copy_block(s,buf,len,header){bi_windup(s),header&&(put_short(s,len),put_short(s,~len)),utils.arraySet(s.pending_buf,s.window,buf,len,s.pending),s.pending+=len}function smaller(tree,n,m,depth){var _n2=2*n,_m2=2*m;return tree[_n2]<tree[_m2]||tree[_n2]===tree[_m2]&&depth[n]<=depth[m]}function pqdownheap(s,tree,k){for(var v=s.heap[k],j=k<<1;j<=s.heap_len&&(j<s.heap_len&&smaller(tree,s.heap[j+1],s.heap[j],s.depth)&&j++,!smaller(tree,v,s.heap[j],s.depth));)s.heap[k]=s.heap[j],k=j,j<<=1;s.heap[k]=v}function compress_block(s,ltree,dtree){var dist,lc,code,extra,lx=0;if(0!==s.last_lit)do dist=s.pending_buf[s.d_buf+2*lx]<<8|s.pending_buf[s.d_buf+2*lx+1],lc=s.pending_buf[s.l_buf+lx],lx++,0===dist?send_code(s,lc,ltree):(code=_length_code[lc],send_code(s,code+LITERALS+1,ltree),extra=extra_lbits[code],0!==extra&&(lc-=base_length[code],send_bits(s,lc,extra)),dist--,code=d_code(dist),send_code(s,code,dtree),extra=extra_dbits[code],0!==extra&&(dist-=base_dist[code],send_bits(s,dist,extra)));while(lx<s.last_lit);send_code(s,END_BLOCK,ltree)}function build_tree(s,desc){var n,m,node,tree=desc.dyn_tree,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,elems=desc.stat_desc.elems,max_code=-1;for(s.heap_len=0,s.heap_max=HEAP_SIZE,n=0;n<elems;n++)0!==tree[2*n]?(s.heap[++s.heap_len]=max_code=n,s.depth[n]=0):tree[2*n+1]=0;for(;s.heap_len<2;)node=s.heap[++s.heap_len]=max_code<2?++max_code:0,tree[2*node]=1,s.depth[node]=0,s.opt_len--,has_stree&&(s.static_len-=stree[2*node+1]);for(desc.max_code=max_code,n=s.heap_len>>1;n>=1;n--)pqdownheap(s,tree,n);node=elems;do n=s.heap[1],s.heap[1]=s.heap[s.heap_len--],pqdownheap(s,tree,1),m=s.heap[1],s.heap[--s.heap_max]=n,s.heap[--s.heap_max]=m,tree[2*node]=tree[2*n]+tree[2*m],s.depth[node]=(s.depth[n]>=s.depth[m]?s.depth[n]:s.depth[m])+1,tree[2*n+1]=tree[2*m+1]=node,s.heap[1]=node++,pqdownheap(s,tree,1);while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1],gen_bitlen(s,desc),gen_codes(tree,max_code,s.bl_count)}function scan_tree(s,tree,max_code){var n,curlen,prevlen=-1,nextlen=tree[1],count=0,max_count=7,min_count=4;for(0===nextlen&&(max_count=138,min_count=3),tree[2*(max_code+1)+1]=65535,n=0;n<=max_code;n++)curlen=nextlen,nextlen=tree[2*(n+1)+1],++count<max_count&&curlen===nextlen||(count<min_count?s.bl_tree[2*curlen]+=count:0!==curlen?(curlen!==prevlen&&s.bl_tree[2*curlen]++,s.bl_tree[2*REP_3_6]++):count<=10?s.bl_tree[2*REPZ_3_10]++:s.bl_tree[2*REPZ_11_138]++,count=0,prevlen=curlen,0===nextlen?(max_count=138,min_count=3):curlen===nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4))}function send_tree(s,tree,max_code){var n,curlen,prevlen=-1,nextlen=tree[1],count=0,max_count=7,min_count=4;for(0===nextlen&&(max_count=138,min_count=3),n=0;n<=max_code;n++)if(curlen=nextlen,nextlen=tree[2*(n+1)+1],!(++count<max_count&&curlen===nextlen)){if(count<min_count){do send_code(s,curlen,s.bl_tree);while(0!==--count)}else 0!==curlen?(curlen!==prevlen&&(send_code(s,curlen,s.bl_tree),count--),send_code(s,REP_3_6,s.bl_tree),send_bits(s,count-3,2)):count<=10?(send_code(s,REPZ_3_10,s.bl_tree),send_bits(s,count-3,3)):(send_code(s,REPZ_11_138,s.bl_tree),send_bits(s,count-11,7));count=0,prevlen=curlen,0===nextlen?(max_count=138,min_count=3):curlen===nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4)}}function build_bl_tree(s){var max_blindex;for(scan_tree(s,s.dyn_ltree,s.l_desc.max_code),scan_tree(s,s.dyn_dtree,s.d_desc.max_code),build_tree(s,s.bl_desc),max_blindex=BL_CODES-1;max_blindex>=3&&0===s.bl_tree[2*bl_order[max_blindex]+1];max_blindex--);return s.opt_len+=3*(max_blindex+1)+5+5+4,max_blindex}function send_all_trees(s,lcodes,dcodes,blcodes){var rank;for(send_bits(s,lcodes-257,5),send_bits(s,dcodes-1,5),send_bits(s,blcodes-4,4),rank=0;rank<blcodes;rank++)send_bits(s,s.bl_tree[2*bl_order[rank]+1],3);send_tree(s,s.dyn_ltree,lcodes-1),send_tree(s,s.dyn_dtree,dcodes-1)}function detect_data_type(s){var n,black_mask=4093624447;for(n=0;n<=31;n++,black_mask>>>=1)if(1&black_mask&&0!==s.dyn_ltree[2*n])return Z_BINARY;if(0!==s.dyn_ltree[18]||0!==s.dyn_ltree[20]||0!==s.dyn_ltree[26])return Z_TEXT;for(n=32;n<LITERALS;n++)if(0!==s.dyn_ltree[2*n])return Z_TEXT;return Z_BINARY}function _tr_init(s){static_init_done||(tr_static_init(),static_init_done=!0),s.l_desc=new TreeDesc(s.dyn_ltree,static_l_desc),s.d_desc=new TreeDesc(s.dyn_dtree,static_d_desc),s.bl_desc=new TreeDesc(s.bl_tree,static_bl_desc),s.bi_buf=0,s.bi_valid=0,init_block(s)}function _tr_stored_block(s,buf,stored_len,last){send_bits(s,(STORED_BLOCK<<1)+(last?1:0),3),copy_block(s,buf,stored_len,!0)}function _tr_align(s){send_bits(s,STATIC_TREES<<1,3),send_code(s,END_BLOCK,static_ltree),bi_flush(s)}function _tr_flush_block(s,buf,stored_len,last){var opt_lenb,static_lenb,max_blindex=0;s.level>0?(s.strm.data_type===Z_UNKNOWN&&(s.strm.data_type=detect_data_type(s)),build_tree(s,s.l_desc),build_tree(s,s.d_desc),max_blindex=build_bl_tree(s),opt_lenb=s.opt_len+3+7>>>3,static_lenb=s.static_len+3+7>>>3,static_lenb<=opt_lenb&&(opt_lenb=static_lenb)):opt_lenb=static_lenb=stored_len+5,stored_len+4<=opt_lenb&&buf!==-1?_tr_stored_block(s,buf,stored_len,last):s.strategy===Z_FIXED||static_lenb===opt_lenb?(send_bits(s,(STATIC_TREES<<1)+(last?1:0),3),compress_block(s,static_ltree,static_dtree)):(send_bits(s,(DYN_TREES<<1)+(last?1:0),3),send_all_trees(s,s.l_desc.max_code+1,s.d_desc.max_code+1,max_blindex+1),compress_block(s,s.dyn_ltree,s.dyn_dtree)),init_block(s),last&&bi_windup(s)}function _tr_tally(s,dist,lc){return s.pending_buf[s.d_buf+2*s.last_lit]=dist>>>8&255,s.pending_buf[s.d_buf+2*s.last_lit+1]=255&dist,s.pending_buf[s.l_buf+s.last_lit]=255&lc,s.last_lit++,0===dist?s.dyn_ltree[2*lc]++:(s.matches++,dist--,s.dyn_ltree[2*(_length_code[lc]+LITERALS+1)]++,s.dyn_dtree[2*d_code(dist)]++),s.last_lit===s.lit_bufsize-1}var utils=__webpack_require__(132),Z_FIXED=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN=2,STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH=3,MAX_MATCH=258,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],DIST_CODE_LEN=512,static_ltree=new Array(2*(L_CODES+2));zero(static_ltree);var static_dtree=new Array(2*D_CODES);zero(static_dtree);var _dist_code=new Array(DIST_CODE_LEN);zero(_dist_code);var _length_code=new Array(MAX_MATCH-MIN_MATCH+1);zero(_length_code);var base_length=new Array(LENGTH_CODES);zero(base_length);var base_dist=new Array(D_CODES);zero(base_dist);var static_l_desc,static_d_desc,static_bl_desc,static_init_done=!1;exports._tr_init=_tr_init,exports._tr_stored_block=_tr_stored_block,exports._tr_flush_block=_tr_flush_block,exports._tr_tally=_tr_tally,exports._tr_align=_tr_align},function(module,exports){"use strict";function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}module.exports=ZStream},function(module,exports,__webpack_require__){var asn1=__webpack_require__(102),RSAPrivateKey=asn1.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});exports.RSAPrivateKey=RSAPrivateKey;var RSAPublicKey=asn1.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});exports.RSAPublicKey=RSAPublicKey;var PublicKey=asn1.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPublicKey").bitstr())});exports.PublicKey=PublicKey;var AlgorithmIdentifier=asn1.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),PrivateKeyInfo=asn1.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPrivateKey").octstr())});exports.PrivateKey=PrivateKeyInfo;var EncryptedPrivateKeyInfo=asn1.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});exports.EncryptedPrivateKey=EncryptedPrivateKeyInfo;var DSAPrivateKey=asn1.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});exports.DSAPrivateKey=DSAPrivateKey,exports.DSAparam=asn1.define("DSAparam",function(){this.int()});var ECPrivateKey=asn1.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(ECParameters),this.key("publicKey").optional().explicit(1).bitstr())});exports.ECPrivateKey=ECPrivateKey;var ECParameters=asn1.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});exports.signature=asn1.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},function(module,exports,__webpack_require__){(function(Buffer){var findProc=/Proc-Type: 4,ENCRYPTED\r?\nDEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\r?\n\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n/m,startRegex=/^-----BEGIN (.*) KEY-----\r?\n/m,fullRegex=/^-----BEGIN (.*) KEY-----\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n-----END \1 KEY-----$/m,evp=__webpack_require__(125),ciphers=__webpack_require__(138);module.exports=function(okey,password){var decrypted,key=okey.toString(),match=key.match(findProc);if(match){var suite="aes"+match[1],iv=new Buffer(match[2],"hex"),cipherText=new Buffer(match[3].replace(/\r?\n/g,""),"base64"),cipherKey=evp(password,iv.slice(0,8),parseInt(match[1],10)).key,out=[],cipher=ciphers.createDecipheriv(suite,cipherKey,iv);out.push(cipher.update(cipherText)),out.push(cipher.final()),decrypted=Buffer.concat(out)}else{var match2=key.match(fullRegex);decrypted=new Buffer(match2[2].replace(/\r?\n/g,""),"base64")}var tag=key.match(startRegex)[1]+" KEY";return{tag:tag,data:decrypted}}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(global){var rvalidchars=/^[\],:{}\s]*$/,rvalidescape=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rvalidtokens=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g,rtrimLeft=/^\s+/,rtrimRight=/\s+$/;module.exports=function(data){return"string"==typeof data&&data?(data=data.replace(rtrimLeft,"").replace(rtrimRight,""),global.JSON&&JSON.parse?JSON.parse(data):rvalidchars.test(data.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,""))?new Function("return "+data)():void 0):null}}).call(exports,__webpack_require__(9))},function(module,exports,__webpack_require__){var parse=__webpack_require__(716),stringify=__webpack_require__(717);module.exports=parse,module.exports.parse=parse,module.exports.stringify=stringify},function(module,exports,__webpack_require__){var tokenize=__webpack_require__(718),MAX_RANGE=536870911,onfieldoptions=function(tokens){for(var opts={};tokens.length;)switch(tokens[0]){case"[":case",":tokens.shift();var name=tokens.shift();if("("===name&&(name=tokens.shift(),tokens.shift()),"="!==tokens[0])throw new Error("Unexpected token in field options: "+tokens[0]);if(tokens.shift(),"]"===tokens[0])throw new Error("Unexpected ] in field option");opts[name]=tokens.shift();break;case"]":return tokens.shift(),opts;default:throw new Error("Unexpected token in field options: "+tokens[0])}throw new Error("No closing tag for field options")},onfield=function(tokens){for(var field={name:null,type:null,tag:0,map:null,oneof:null,required:!1,repeated:!1,options:{}};tokens.length;)switch(tokens[0]){case"=":tokens.shift(),field.tag=Number(tokens.shift());break;case"map":if(field.type="map",field.map={from:null,to:null},tokens.shift(),"<"!==tokens[0])throw new Error("Unexpected token in map type: "+tokens[0]);if(tokens.shift(),field.map.from=tokens.shift(),","!==tokens[0])throw new Error("Unexpected token in map type: "+tokens[0]);if(tokens.shift(),field.map.to=tokens.shift(),">"!==tokens[0])throw new Error("Unexpected token in map type: "+tokens[0]);tokens.shift(),field.name=tokens.shift();break;case"repeated":case"required":case"optional":var t=tokens.shift();field.required="required"===t,field.repeated="repeated"===t,field.type=tokens.shift(),field.name=tokens.shift();break;case"[":field.options=onfieldoptions(tokens);break;case";":return tokens.shift(),field;default:throw new Error("Unexpected token in message field: "+tokens[0])}throw new Error("No ; found for message field")},onmessagebody=function(tokens){for(var body={enums:[],messages:[],fields:[],extensions:null};tokens.length;)switch(tokens[0]){case"map":case"repeated":case"optional":case"required":body.fields.push(onfield(tokens));break;case"enum":body.enums.push(onenum(tokens));break;case"message":body.messages.push(onmessage(tokens));break;case"extensions":body.extensions=onextensions(tokens);break;case"oneof":tokens.shift();var name=tokens.shift();if("{"!==tokens[0])throw new Error("Unexpected token in oneof: "+tokens[0]);for(tokens.shift();"}"!==tokens[0];){tokens.unshift("optional");var field=onfield(tokens);field.oneof=name,body.fields.push(field)}tokens.shift();break;case";":tokens.shift();break;default:tokens.unshift("optional"),body.fields.push(onfield(tokens))}return body},onextend=function(tokens){var out={name:tokens[1],message:onmessage(tokens)};return out},onextensions=function(tokens){tokens.shift();var from=Number(tokens.shift());if(isNaN(from))throw new Error("Invalid from in extensions definition");if("to"!==tokens.shift())throw new Error("Expected keyword 'to' in extensions definition");var to=tokens.shift();if("max"===to&&(to=MAX_RANGE),to=Number(to),isNaN(to))throw new Error("Invalid to in extensions definition");if(";"!==tokens.shift())throw new Error("Missing ; in extensions definition");return{from:from,to:to}},onmessage=function(tokens){tokens.shift();var lvl=1,body=[],msg={name:tokens.shift(),enums:[],messages:[],fields:[]};if("{"!==tokens[0])throw new Error("Expected { but found "+tokens[0]);for(tokens.shift();tokens.length;){if("{"===tokens[0]?lvl++:"}"===tokens[0]&&lvl--,!lvl)return tokens.shift(),body=onmessagebody(body),msg.enums=body.enums,msg.messages=body.messages,msg.fields=body.fields,msg.extensions=body.extensions,msg;body.push(tokens.shift())}if(lvl)throw new Error("No closing tag for message")},onpackagename=function(tokens){tokens.shift();var name=tokens.shift();if(";"!==tokens[0])throw new Error("Expected ; but found "+tokens[0]);return tokens.shift(),name},onsyntaxversion=function(tokens){if(tokens.shift(),"="!==tokens[0])throw new Error("Expected = but found "+tokens[0]);tokens.shift();var version=tokens.shift();switch(version){case'"proto2"':version=2;break;case'"proto3"':version=3;break;default:throw new Error("Expected protobuf syntax version but found "+version)}if(";"!==tokens[0])throw new Error("Expected ; but found "+tokens[0]);return tokens.shift(),version},onenumvalue=function(tokens){if(tokens.length<4)throw new Error("Invalid enum value: "+tokens.slice(0,3).join(" "));if("="!==tokens[1])throw new Error("Expected = but found "+tokens[1]);if(";"!==tokens[3])throw new Error("Expected ; but found "+tokens[1]);var name=tokens.shift();tokens.shift();var value=Number(tokens.shift());return tokens.shift(),{name:name,value:value}},onenum=function(tokens){tokens.shift();var e={name:tokens.shift(),values:{}};if("{"!==tokens[0])throw new Error("Expected { but found "+tokens[0]);for(tokens.shift();tokens.length;){if("}"===tokens[0])return tokens.shift(),";"===tokens[0]&&tokens.shift(),e;if("option"===tokens[0])for(;";"!==tokens.shift(););var val=onenumvalue(tokens);e.values[val.name]=val.value}throw new Error("No closing tag for enum");
},onoption=function(tokens){for(var name=null,value=null,parse=function(value){return"true"===value||"false"!==value&&value.replace(/^"+|"+$/gm,"")};tokens.length;){if(";"===tokens[0])return tokens.shift(),{name:name,value:value};switch(tokens[0]){case"option":tokens.shift();var hasBracket="("===tokens[0];if(hasBracket&&tokens.shift(),name=tokens.shift(),hasBracket){if(")"!==tokens[0])throw new Error("Expected ) but found "+tokens[0]);tokens.shift()}break;case"=":if(tokens.shift(),null===name)throw new Error("Expected key for option with value: "+tokens[0]);if(value=parse(tokens.shift()),"optimize_for"===name&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(value))throw new Error("Unexpected value for option optimize_for: "+value);"{"===value&&(value=onoptionMap(tokens));break;default:throw new Error("Unexpected token in option: "+tokens[0])}}},onoptionMap=function(tokens){for(var parse=function(value){return"true"===value||"false"!==value&&value.replace(/^"+|"+$/gm,"")},map={};tokens.length;){if("}"===tokens[0])return tokens.shift(),map;var hasBracket="("===tokens[0];hasBracket&&tokens.shift();var key=tokens.shift();if(hasBracket){if(")"!==tokens[0])throw new Error("Expected ) but found "+tokens[0]);tokens.shift()}var value=null;switch(tokens[0]){case":":if(void 0!==map[key])throw new Error("Duplicate option map key "+key);tokens.shift(),value=parse(tokens.shift()),"{"===value&&(value=onoptionMap(tokens)),map[key]=value;break;case"{":if(tokens.shift(),value=onoptionMap(tokens),void 0===map[key]&&(map[key]=[]),!Array.isArray(map[key]))throw new Error("Duplicate option map key "+key);map[key].push(value);break;default:throw new Error("Unexpected token in option map: "+tokens[0])}}throw new Error("No closing tag for option map")},onimport=function(tokens){tokens.shift();var file=tokens.shift().replace(/^"+|"+$/gm,"");if(";"!==tokens[0])throw new Error("Unexpected token: "+tokens[0]+'. Expected ";"');return tokens.shift(),file},onservice=function(tokens){tokens.shift();var service={name:tokens.shift(),methods:[],options:{}};if("{"!==tokens[0])throw new Error("Expected { but found "+tokens[0]);for(tokens.shift();tokens.length;){if("}"===tokens[0])return tokens.shift(),";"===tokens[0]&&tokens.shift(),service;switch(tokens[0]){case"option":var opt=onoption(tokens);if(void 0!==service.options[opt.name])throw new Error("Duplicate option "+opt.name);service.options[opt.name]=opt.value;break;case"rpc":service.methods.push(onrpc(tokens));break;default:throw new Error("Unexpected token in service: "+tokens[0])}}throw new Error("No closing tag for service")},onrpc=function(tokens){tokens.shift();var rpc={name:tokens.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if("("!==tokens[0])throw new Error("Expected ( but found "+tokens[0]);if(tokens.shift(),"stream"===tokens[0]&&(tokens.shift(),rpc.client_streaming=!0),rpc.input_type=tokens.shift(),")"!==tokens[0])throw new Error("Expected ) but found "+tokens[0]);if(tokens.shift(),"returns"!==tokens[0])throw new Error("Expected returns but found "+tokens[0]);if(tokens.shift(),"("!==tokens[0])throw new Error("Expected ( but found "+tokens[0]);if(tokens.shift(),"stream"===tokens[0]&&(tokens.shift(),rpc.server_streaming=!0),rpc.output_type=tokens.shift(),")"!==tokens[0])throw new Error("Expected ) but found "+tokens[0]);if(tokens.shift(),";"===tokens[0])return tokens.shift(),rpc;if("{"!==tokens[0])throw new Error("Expected { but found "+tokens[0]);for(tokens.shift();tokens.length;){if("}"===tokens[0])return tokens.shift(),";"===tokens[0]&&tokens.shift(),rpc;if("option"!==tokens[0])throw new Error("Unexpected token in rpc options: "+tokens[0]);var opt=onoption(tokens);if(void 0!==rpc.options[opt.name])throw new Error("Duplicate option "+opt.name);rpc.options[opt.name]=opt.value}throw new Error("No closing tag for rpc")},parse=function(buf){for(var tokens=tokenize(buf.toString()),i=0;i<tokens.length;i++)if(/^(\"|\')([^\'\"]*)$/.test(tokens[i])){var j;for(j=1===tokens[i].length?i+1:i;j<tokens.length;j++)if(/^([^\'\"]*)(\"|\')$/.test(tokens[j])){tokens=tokens.slice(0,i).concat(tokens.slice(i,j+1).join("")).concat(tokens.slice(j+1));break}}for(var schema={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},firstline=!0;tokens.length;){switch(tokens[0]){case"package":schema.package=onpackagename(tokens);break;case"syntax":if(!firstline)throw new Error("Protobuf syntax version should be first thing in file");schema.syntax=onsyntaxversion(tokens);break;case"message":schema.messages.push(onmessage(tokens));break;case"enum":schema.enums.push(onenum(tokens));break;case"option":var opt=onoption(tokens);if(schema.options[opt.name])throw new Error("Duplicate option "+opt.name);schema.options[opt.name]=opt.value;break;case"import":schema.imports.push(onimport(tokens));break;case"extend":schema.extends.push(onextend(tokens));break;case"service":schema.services||(schema.services=[]),schema.services.push(onservice(tokens));break;default:throw new Error("Unexpected token: "+tokens[0])}firstline=!1}return schema.extends.forEach(function(ext){schema.messages.forEach(function(msg){msg.name===ext.name&&ext.message.fields.forEach(function(field){if(!msg.extensions||field.tag<msg.extensions.from||field.tag>msg.extensions.to)throw new Error(msg.name+" does not declare "+field.tag+" as an extension number");msg.fields.push(field)})})}),schema};module.exports=parse},function(module,exports){var onfield=function(f,result){var prefix=f.repeated?"repeated":f.required?"required":"optional";"map"===f.type&&(prefix="map<"+f.map.from+","+f.map.to+">"),f.oneof&&(prefix="");var opts=Object.keys(f.options||{}).map(function(key){return key+" = "+f.options[key]}).join(",");return opts&&(opts=" ["+opts+"]"),result.push((prefix?prefix+" ":"")+("map"===f.map?"":f.type+" ")+f.name+" = "+f.tag+opts+";"),result},onmessage=function(m,result){result.push("message "+m.name+" {"),m.enums||(m.enums=[]),m.enums.forEach(function(e){result.push(onenum(e,[]))}),m.messages||(m.messages=[]),m.messages.forEach(function(m){result.push(onmessage(m,[]))});var oneofs={};return m.fields||(m.fields=[]),m.fields.forEach(function(f){f.oneof?(oneofs[f.oneof]||(oneofs[f.oneof]=[]),oneofs[f.oneof].push(onfield(f,[]))):result.push(onfield(f,[]))}),Object.keys(oneofs).forEach(function(n){oneofs[n].unshift("oneof "+n+" {"),oneofs[n].push("}"),result.push(oneofs[n])}),result.push("}",""),result},onenum=function(e,result){result.push("enum "+e.name+" {");var vals=Object.keys(e.values).map(function(key){return key+" = "+e.values[key]+";"});return result.push(vals),result.push("}",""),result},onoption=function(o,result){var keys=Object.keys(o);return keys.forEach(function(option){var v=o[option];~option.indexOf(".")&&(option="("+option+")");var type=typeof v;"object"===type?(v=onoptionMap(v,[]),v.length&&result.push("option "+option+" = {",v,"};")):("string"===type&&"optimize_for"!==option&&(v='"'+v+'"'),result.push("option "+option+" = "+v+";"))}),keys.length>0&&result.push(""),result},onoptionMap=function(o,result){var keys=Object.keys(o);return keys.forEach(function(k){var v=o[k],type=typeof v;"object"===type?Array.isArray(v)?v.forEach(function(v){v=onoptionMap(v,[]),v.length&&result.push(k+" {",v,"}")}):(v=onoptionMap(v,[]),v.length&&result.push(k+" {",v,"}")):("string"===type&&(v='"'+v+'"'),result.push(k+": "+v))}),result},onservices=function(s,result){return result.push("service "+s.name+" {"),s.options||(s.options={}),onoption(s.options,result),s.methods||(s.methods=[]),s.methods.forEach(function(m){result.push(onrpc(m,[]))}),result.push("}",""),result},onrpc=function(rpc,result){var def="rpc "+rpc.name+"(";rpc.client_streaming&&(def+="stream "),def+=rpc.input_type+") returns (",rpc.server_streaming&&(def+="stream "),def+=rpc.output_type+")",rpc.options||(rpc.options={});var options=onoption(rpc.options,[]);return options.length>1?result.push(def+" {",options.slice(0,-1),"}"):result.push(def+";"),result},indent=function(lvl){return function(line){return Array.isArray(line)?line.map(indent(lvl+"  ")).join("\n"):lvl+line}};module.exports=function(schema){var result=[];return result.push('syntax = "proto'+schema.syntax+'";',""),schema.package&&result.push("package "+schema.package+";",""),schema.options||(schema.options={}),onoption(schema.options,result),schema.enums||(schema.enums=[]),schema.enums.forEach(function(e){onenum(e,result)}),schema.messages||(schema.messages=[]),schema.messages.forEach(function(m){onmessage(m,result)}),schema.services&&schema.services.forEach(function(s){onservices(s,result)}),result.map(indent("")).join("\n")}},function(module,exports){module.exports=function(sch){var noComments=function(line){var i=line.indexOf("//");return i>-1?line.slice(0,i):line},noMultilineComments=function(){var inside=!1;return function(token){return"/*"===token?(inside=!0,!1):"*/"===token?(inside=!1,!1):!inside}},trim=function(line){return line.trim()};return sch.replace(/([;,{}\(\)=\:\[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(trim).filter(Boolean).map(noComments).map(trim).filter(Boolean).join("\n").split(/\s+|\n+/gm).filter(noMultilineComments())}},function(module,exports,__webpack_require__){(function(Buffer){var encodings=__webpack_require__(720),varint=__webpack_require__(49),genobj=__webpack_require__(624),genfun=__webpack_require__(623),skip=function(type,buffer,offset){switch(type){case 0:return varint.decode(buffer,offset),offset+varint.decode.bytes;case 1:return offset+8;case 2:var len=varint.decode(buffer,offset);return offset+varint.decode.bytes+len;case 3:case 4:throw new Error("Groups are not supported");case 5:return offset+4}throw new Error("Unknown wire type: "+type)},defined=function(val){return null!==val&&void 0!==val&&("number"!=typeof val||!isNaN(val))},isString=function(def){try{return!!def&&"string"==typeof JSON.parse(def)}catch(err){return!1}},defaultValue=function(f,def){if(f.map)return"{}";if(f.repeated)return"[]";switch(f.type){case"string":return isString(def)?def:'""';case"bool":return"true"===def?"true":"false";case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return""+Number(def||0);default:return"null"}};module.exports=function(schema,extraEncodings){var messages={},enums={},cache={},visit=function(schema,prefix){schema.enums&&schema.enums.forEach(function(e){e.id=prefix+(prefix?".":"")+e.name,enums[e.id]=e,visit(e,e.id)}),schema.messages&&schema.messages.forEach(function(m){m.id=prefix+(prefix?".":"")+m.name,messages[m.id]=m,m.fields.forEach(function(f){if(f.map){var name="Map_"+f.map.from+"_"+f.map.to,map={name:name,enums:[],messages:[],fields:[{name:"key",type:f.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:f.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:prefix+(prefix?".":"")+name};messages[map.id]||(messages[map.id]=map,schema.messages.push(map)),f.type=name,f.repeated=!0}}),visit(m,m.id)})};visit(schema,"");var compileEnum=function(e){var conditions=Object.keys(e.values).map(function(k){return"val !== "+parseInt(e.values[k],10)}).join(" && ");conditions||(conditions="true");var encode=genfun()("function encode (val, buf, offset) {")('if (%s) throw new Error("Invalid enum value: "+val)',conditions)("varint.encode(val, buf, offset)")("encode.bytes = varint.encode.bytes")("return buf")("}").toFunction({varint:varint}),decode=genfun()("function decode (buf, offset) {")("var val = varint.decode(buf, offset)")('if (%s) throw new Error("Invalid enum value: "+val)',conditions)("decode.bytes = varint.decode.bytes")("return val")("}").toFunction({varint:varint});return encodings.make(0,encode,decode,varint.encodingLength)},compileMessage=function(m,exports){m.messages.forEach(function(nested){exports[nested.name]=resolve(nested.name,m.id)}),m.enums.forEach(function(val){exports[val.name]=val.values}),exports.type=2,exports.message=!0,exports.name=m.name;var oneofs={};m.fields.forEach(function(f){f.oneof&&(oneofs[f.oneof]||(oneofs[f.oneof]=[]),oneofs[f.oneof].push(f.name))});var enc=m.fields.map(function(f){return resolve(f.type,m.id)}),forEach=function(fn){for(var i=0;i<enc.length;i++)fn(enc[i],m.fields[i],genobj("obj",m.fields[i].name),i)},encodingLength=genfun()("function encodingLength (obj) {")("var length = 0");Object.keys(oneofs).forEach(function(name){var msg=JSON.stringify("only one of the properties defined in oneof "+name+" can be set"),cnt=oneofs[name].map(function(prop){return"+defined("+genobj("obj",prop)+")"}).join(" + ");encodingLength("if ((%s) > 1) throw new Error(%s)",cnt,msg)}),forEach(function(e,f,val,i){var packed=f.repeated&&f.options&&f.options.packed&&"false"!==f.options.packed,hl=varint.encodingLength(f.tag<<3|e.type);f.required?encodingLength("if (!defined(%s)) throw new Error(%s)",val,JSON.stringify(f.name+" is required")):encodingLength("if (defined(%s)) {",val),f.map&&(encodingLength()("var tmp = Object.keys(%s)",val)("for (var i = 0; i < tmp.length; i++) {")("tmp[i] = {key: tmp[i], value: %s[tmp[i]]}",val)("}"),val="tmp"),packed?(encodingLength()("var packedLen = 0")("for (var i = 0; i < %s.length; i++) {",val)("if (!defined(%s)) continue",val+"[i]")("var len = enc[%d].encodingLength(%s)",i,val+"[i]")("packedLen += len"),e.message&&encodingLength("packedLen += varint.encodingLength(len)"),encodingLength("}")("if (packedLen) {")("length += %d + packedLen + varint.encodingLength(packedLen)",hl)("}")):(f.repeated&&(encodingLength("for (var i = 0; i < %s.length; i++) {",val),val+="[i]",encodingLength("if (!defined(%s)) continue",val)),encodingLength("var len = enc[%d].encodingLength(%s)",i,val),e.message&&encodingLength("length += varint.encodingLength(len)"),encodingLength("length += %d + len",hl),f.repeated&&encodingLength("}")),f.required||encodingLength("}")}),encodingLength()("return length")("}"),encodingLength=encodingLength.toFunction({defined:defined,varint:varint,enc:enc});var encode=genfun()("function encode (obj, buf, offset) {")("if (!offset) offset = 0")("if (!buf) buf = new Buffer(encodingLength(obj))")("var oldOffset = offset");Object.keys(oneofs).forEach(function(name){var msg=JSON.stringify("only one of the properties defined in oneof "+name+" can be set"),cnt=oneofs[name].map(function(prop){return"+defined("+genobj("obj",prop)+")"}).join(" + ");encode("if ((%s) > 1) throw new Error(%s)",cnt,msg)}),forEach(function(e,f,val,i){f.required?encode("if (!defined(%s)) throw new Error(%s)",val,JSON.stringify(f.name+" is required")):encode("if (defined(%s)) {",val);var j,packed=f.repeated&&f.options&&f.options.packed&&"false"!==f.options.packed,p=varint.encode(f.tag<<3|2),h=varint.encode(f.tag<<3|e.type);if(f.map&&(encode()("var tmp = Object.keys(%s)",val)("for (var i = 0; i < tmp.length; i++) {")("tmp[i] = {key: tmp[i], value: %s[tmp[i]]}",val)("}"),val="tmp"),packed){for(encode()("var packedLen = 0")("for (var i = 0; i < %s.length; i++) {",val)("if (!defined(%s)) continue",val+"[i]")("packedLen += enc[%d].encodingLength(%s)",i,val+"[i]")("}"),encode("if (packedLen) {"),j=0;j<h.length;j++)encode("buf[offset++] = %d",p[j]);encode("varint.encode(packedLen, buf, offset)"),encode("offset += varint.encode.bytes"),encode("}")}if(f.repeated&&(encode("for (var i = 0; i < %s.length; i++) {",val),val+="[i]",encode("if (!defined(%s)) continue",val)),!packed)for(j=0;j<h.length;j++)encode("buf[offset++] = %d",h[j]);e.message&&(encode("varint.encode(enc[%d].encodingLength(%s), buf, offset)",i,val),encode("offset += varint.encode.bytes")),encode("enc[%d].encode(%s, buf, offset)",i,val),encode("offset += enc[%d].encode.bytes",i),f.repeated&&encode("}"),f.required||encode("}")}),encode()("encode.bytes = offset - oldOffset")("return buf")("}"),encode=encode.toFunction({encodingLength:encodingLength,defined:defined,varint:varint,enc:enc,Buffer:Buffer});var invalid=m.fields.map(function(f,i){return f.required&&"!found"+i}).filter(function(f){return f}).join(" || "),decode=genfun(),objectKeys=[];return forEach(function(e,f){var def=f.options&&f.options.default,resolved=resolve(f.type,m.id,!1),vals=resolved&&resolved.values;return vals?void(f.repeated?objectKeys.push(genobj.property(f.name)+": []"):(def=def&&def in vals?vals[def]:vals[Object.keys(vals)[0]],objectKeys.push(genobj.property(f.name)+": "+parseInt(def||0,10)))):void(f.oneof||objectKeys.push(genobj.property(f.name)+": "+defaultValue(f,def)))}),decode()("function decode (buf, offset, end) {")("if (!offset) offset = 0")("if (!end) end = buf.length")('if (!(end <= buf.length && offset <= buf.length)) throw new Error("Decoded message is not valid")')("var oldOffset = offset")("var obj = {"),objectKeys.forEach(function(prop,i){decode(prop+(i===objectKeys.length-1?"":","))}),decode("}"),forEach(function(e,f,val,i){f.required&&decode("var found%d = false",i)}),decode("while (true) {")("if (end <= offset) {")(invalid&&'if (%s) throw new Error("Decoded message is not valid")',invalid)("decode.bytes = offset - oldOffset")("return obj")("}")("var prefix = varint.decode(buf, offset)")("offset += varint.decode.bytes")("var tag = prefix >> 3")("switch (tag) {"),forEach(function(e,f,val,i){var packed=f.repeated&&f.options&&f.options.packed&&"false"!==f.options.packed;decode("case %d:",f.tag),f.oneof&&m.fields.forEach(function(otherField){otherField.oneof===f.oneof&&f.name!==otherField.name&&decode("delete %s",genobj("obj",otherField.name))}),packed&&decode()("var packedEnd = varint.decode(buf, offset)")("offset += varint.decode.bytes")("packedEnd += offset")("while (offset < packedEnd) {"),e.message?(decode("var len = varint.decode(buf, offset)"),decode("offset += varint.decode.bytes"),f.map?(decode("var tmp = enc[%d].decode(buf, offset, offset + len)",i),decode("%s[tmp.key] = tmp.value",val)):f.repeated?decode("%s.push(enc[%d].decode(buf, offset, offset + len))",val,i):decode("%s = enc[%d].decode(buf, offset, offset + len)",val,i)):f.repeated?decode("%s.push(enc[%d].decode(buf, offset))",val,i):decode("%s = enc[%d].decode(buf, offset)",val,i),decode("offset += enc[%d].decode.bytes",i),packed&&decode("}"),f.required&&decode("found%d = true",i),decode("break")}),decode()("default:")("offset = skip(prefix & 7, buf, offset)")("}")("}")("}"),decode=decode.toFunction({varint:varint,skip:skip,enc:enc}),encode.bytes=decode.bytes=0,exports.buffer=!0,exports.encode=encode,exports.decode=decode,exports.encodingLength=encodingLength,exports},resolve=function(name,from,compile){if(extraEncodings&&extraEncodings[name])return extraEncodings[name];if(encodings[name])return encodings[name];var m=(from?from+"."+name:name).split(".").map(function(part,i,list){return list.slice(0,i).concat(name).join(".")}).reverse().reduce(function(result,id){return result||messages[id]||enums[id]},null);if(compile===!1)return m;if(!m)throw new Error("Could not resolve "+name);return m.values?compileEnum(m):cache[m.id]||compileMessage(m,cache[m.id]={})};return(schema.enums||[]).concat((schema.messages||[]).map(function(message){return resolve(message.id)}))}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){var varint=__webpack_require__(49),svarint=__webpack_require__(735),encoder=function(type,encode,decode,encodingLength){return encode.bytes=decode.bytes=0,{type:type,encode:encode,decode:decode,encodingLength:encodingLength}};exports.make=encoder,exports.bytes=function(tag){var bufferLength=function(val){return Buffer.isBuffer(val)?val.length:Buffer.byteLength(val)},encodingLength=function(val){var len=bufferLength(val);return varint.encodingLength(len)+len},encode=function(val,buffer,offset){var oldOffset=offset,len=bufferLength(val);return varint.encode(len,buffer,offset),offset+=varint.encode.bytes,Buffer.isBuffer(val)?val.copy(buffer,offset):buffer.write(val,offset,len),offset+=len,encode.bytes=offset-oldOffset,buffer},decode=function(buffer,offset){var oldOffset=offset,len=varint.decode(buffer,offset);offset+=varint.decode.bytes;var val=buffer.slice(offset,offset+len);return offset+=val.length,decode.bytes=offset-oldOffset,val};return encoder(2,encode,decode,encodingLength)}(),exports.string=function(){var encodingLength=function(val){var len=Buffer.byteLength(val);return varint.encodingLength(len)+len},encode=function(val,buffer,offset){var oldOffset=offset,len=Buffer.byteLength(val);return varint.encode(len,buffer,offset,"utf-8"),offset+=varint.encode.bytes,buffer.write(val,offset,len),offset+=len,encode.bytes=offset-oldOffset,buffer},decode=function(buffer,offset){var oldOffset=offset,len=varint.decode(buffer,offset);offset+=varint.decode.bytes;var val=buffer.toString("utf-8",offset,offset+len);return offset+=len,decode.bytes=offset-oldOffset,val};return encoder(2,encode,decode,encodingLength)}(),exports.bool=function(){var encodingLength=function(val){return 1},encode=function(val,buffer,offset){return buffer[offset]=val?1:0,encode.bytes=1,buffer},decode=function(buffer,offset){var bool=buffer[offset]>0;return decode.bytes=1,bool};return encoder(0,encode,decode,encodingLength)}(),exports.int32=function(){var decode=function(buffer,offset){var val=varint.decode(buffer,offset);return decode.bytes=varint.decode.bytes,val>2147483647?val-4294967296:val},encodingLength=function(val){return varint.encodingLength(val<0?val+4294967296:val)};return encoder(0,varint.encode,decode,encodingLength)}(),exports.int64=function(){var decode=function(buffer,offset){var val=varint.decode(buffer,offset);if(val>=Math.pow(2,63)){for(var limit=9;255===buffer[offset+limit-1];)limit--;limit=limit||9;var subset=new Buffer(limit);buffer.copy(subset,0,offset,offset+limit),subset[limit-1]=127&subset[limit-1],val=-1*varint.decode(subset,0),decode.bytes=10}else decode.bytes=varint.decode.bytes;return val},encode=function(val,buffer,offset){if(val<0){var last=offset+9;for(varint.encode(val*-1,buffer,offset),offset+=varint.encode.bytes-1,buffer[offset]=128|buffer[offset];offset<last-1;)offset++,buffer[offset]=255;buffer[last]=1,encode.bytes=10}else varint.encode(val,buffer,offset),encode.bytes=varint.encode.bytes;return buffer},encodingLength=function(val){return val<0?10:varint.encodingLength(val)};return encoder(0,encode,decode,encodingLength)}(),exports.sint32=exports.sint64=function(){return encoder(0,svarint.encode,svarint.decode,svarint.encodingLength)}(),exports.uint32=exports.uint64=exports.enum=exports.varint=function(){return encoder(0,varint.encode,varint.decode,varint.encodingLength)}(),exports.fixed64=exports.sfixed64=function(){var encodingLength=function(val){return 8},encode=function(val,buffer,offset){return val.copy(buffer,offset),encode.bytes=8,buffer},decode=function(buffer,offset){var val=buffer.slice(offset,offset+8);return decode.bytes=8,val};return encoder(1,encode,decode,encodingLength)}(),exports.double=function(){var encodingLength=function(val){return 8},encode=function(val,buffer,offset){return buffer.writeDoubleLE(val,offset),encode.bytes=8,buffer},decode=function(buffer,offset){var val=buffer.readDoubleLE(offset);return decode.bytes=8,val};return encoder(1,encode,decode,encodingLength)}(),exports.fixed32=function(){var encodingLength=function(val){return 4},encode=function(val,buffer,offset){return buffer.writeUInt32LE(val,offset),encode.bytes=4,buffer},decode=function(buffer,offset){var val=buffer.readUInt32LE(offset);return decode.bytes=4,val};return encoder(5,encode,decode,encodingLength)}(),exports.sfixed32=function(){var encodingLength=function(val){return 4},encode=function(val,buffer,offset){return buffer.writeInt32LE(val,offset),encode.bytes=4,buffer},decode=function(buffer,offset){var val=buffer.readInt32LE(offset);return decode.bytes=4,val};return encoder(5,encode,decode,encodingLength)}(),exports.float=function(){var encodingLength=function(val){return 4},encode=function(val,buffer,offset){return buffer.writeFloatLE(val,offset),encode.bytes=4,buffer},decode=function(buffer,offset){var val=buffer.readFloatLE(offset);return decode.bytes=4,val};return encoder(5,encode,decode,encodingLength)}()}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){exports.publicEncrypt=__webpack_require__(723),exports.privateDecrypt=__webpack_require__(722),exports.privateEncrypt=function(key,buf){return exports.publicEncrypt(key,buf,!0)},exports.publicDecrypt=function(key,buf){return exports.privateDecrypt(key,buf,!0)}},function(module,exports,__webpack_require__){(function(Buffer){function oaep(key,msg){var k=(key.modulus,key.modulus.byteLength()),iHash=(msg.length,createHash("sha1").update(new Buffer("")).digest()),hLen=iHash.length;if(0!==msg[0])throw new Error("decryption error");var maskedSeed=msg.slice(1,hLen+1),maskedDb=msg.slice(hLen+1),seed=xor(maskedSeed,mgf(maskedDb,hLen)),db=xor(maskedDb,mgf(seed,k-hLen-1));if(compare(iHash,db.slice(0,hLen)))throw new Error("decryption error");for(var i=hLen;0===db[i];)i++;if(1!==db[i++])throw new Error("decryption error");return db.slice(i)}function pkcs1(key,msg,reverse){for(var p1=msg.slice(0,2),i=2,status=0;0!==msg[i++];)if(i>=msg.length){status++;break}var ps=msg.slice(2,i-1);msg.slice(i-1,i);if(("0002"!==p1.toString("hex")&&!reverse||"0001"!==p1.toString("hex")&&reverse)&&status++,ps.length<8&&status++,status)throw new Error("decryption error");return msg.slice(i)}function compare(a,b){a=new Buffer(a),b=new Buffer(b);var dif=0,len=a.length;a.length!==b.length&&(dif++,len=Math.min(a.length,b.length));for(var i=-1;++i<len;)dif+=a[i]^b[i];return dif}var parseKeys=__webpack_require__(133),mgf=__webpack_require__(284),xor=__webpack_require__(286),bn=__webpack_require__(19),crt=__webpack_require__(139),createHash=__webpack_require__(74),withPublic=__webpack_require__(285);module.exports=function(private_key,enc,reverse){var padding;padding=private_key.padding?private_key.padding:reverse?1:4;var key=parseKeys(private_key),k=key.modulus.byteLength();if(enc.length>k||new bn(enc).cmp(key.modulus)>=0)throw new Error("decryption error");var msg;msg=reverse?withPublic(new bn(enc),key):crt(enc,key);var zBuffer=new Buffer(k-msg.length);if(zBuffer.fill(0),msg=Buffer.concat([zBuffer,msg],k),4===padding)return oaep(key,msg);if(1===padding)return pkcs1(key,msg,reverse);if(3===padding)return msg;throw new Error("unknown padding")}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function oaep(key,msg){var k=key.modulus.byteLength(),mLen=msg.length,iHash=createHash("sha1").update(new Buffer("")).digest(),hLen=iHash.length,hLen2=2*hLen;if(mLen>k-hLen2-2)throw new Error("message too long");var ps=new Buffer(k-mLen-hLen2-2);ps.fill(0);var dblen=k-hLen-1,seed=randomBytes(hLen),maskedDb=xor(Buffer.concat([iHash,ps,new Buffer([1]),msg],dblen),mgf(seed,dblen)),maskedSeed=xor(seed,mgf(maskedDb,hLen));return new bn(Buffer.concat([new Buffer([0]),maskedSeed,maskedDb],k))}function pkcs1(key,msg,reverse){var mLen=msg.length,k=key.modulus.byteLength();if(mLen>k-11)throw new Error("message too long");var ps;return reverse?(ps=new Buffer(k-mLen-3),ps.fill(255)):ps=nonZero(k-mLen-3),new bn(Buffer.concat([new Buffer([0,reverse?1:2]),ps,new Buffer([0]),msg],k))}function nonZero(len,crypto){for(var num,out=new Buffer(len),i=0,cache=randomBytes(2*len),cur=0;i<len;)cur===cache.length&&(cache=randomBytes(2*len),cur=0),num=cache[cur++],num&&(out[i++]=num);return out}var parseKeys=__webpack_require__(133),randomBytes=__webpack_require__(100),createHash=__webpack_require__(74),mgf=__webpack_require__(284),xor=__webpack_require__(286),bn=__webpack_require__(19),withPublic=__webpack_require__(285),crt=__webpack_require__(139);module.exports=function(public_key,msg,reverse){var padding;padding=public_key.padding?public_key.padding:reverse?1:4;var paddedMsg,key=parseKeys(public_key);if(4===padding)paddedMsg=oaep(key,msg);else if(1===padding)paddedMsg=pkcs1(key,msg,reverse);else{if(3!==padding)throw new Error("unknown padding");if(paddedMsg=new bn(msg),paddedMsg.cmp(key.modulus)>=0)throw new Error("data too long for modulus")}return reverse?crt(paddedMsg,key):withPublic(paddedMsg,key)}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){function PassThrough(options){return this instanceof PassThrough?void Transform.call(this,options):new PassThrough(options)}module.exports=PassThrough;var Transform=__webpack_require__(288),util=__webpack_require__(4);util.inherits=__webpack_require__(2),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},function(module,exports){module.exports=Array.isArray||function(arr){return"[object Array]"==Object.prototype.toString.call(arr)}},function(module,exports,__webpack_require__){(function(global,process){!function(global){"use strict";function wrap(innerFn,outerFn,self,tryLocsList){var generator=Object.create((outerFn||Generator).prototype),context=new Context(tryLocsList||[]);return generator._invoke=makeInvokeMethod(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){prototype[method]=function(arg){return this._invoke(method,arg)}})}function AwaitArgument(arg){this.arg=arg}function AsyncIterator(generator){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value instanceof AwaitArgument?Promise.resolve(value.arg).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)}):Promise.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result)},reject)}reject(record.arg)}function enqueue(method,arg){function callInvokeWithMethodAndArg(){return new Promise(function(resolve,reject){invoke(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}"object"==typeof process&&process.domain&&(invoke=process.domain.bind(invoke));var previousPromise;this._invoke=enqueue}function makeInvokeMethod(innerFn,self,context){var state=GenStateSuspendedStart;return function(method,arg){if(state===GenStateExecuting)throw new Error("Generator is already running");if(state===GenStateCompleted){if("throw"===method)throw arg;return doneResult()}for(;;){var delegate=context.delegate;if(delegate){if("return"===method||"throw"===method&&delegate.iterator[method]===undefined){context.delegate=null;var returnMethod=delegate.iterator.return;if(returnMethod){var record=tryCatch(returnMethod,delegate.iterator,arg);if("throw"===record.type){method="throw",arg=record.arg;continue}}if("return"===method)continue}var record=tryCatch(delegate.iterator[method],delegate.iterator,arg);if("throw"===record.type){context.delegate=null,method="throw",arg=record.arg;continue}method="next",arg=undefined;var info=record.arg;if(!info.done)return state=GenStateSuspendedYield,info;context[delegate.resultName]=info.value,context.next=delegate.nextLoc,context.delegate=null}if("next"===method)context.sent=context._sent=arg;else if("throw"===method){if(state===GenStateSuspendedStart)throw state=GenStateCompleted,arg;context.dispatchException(arg)&&(method="next",arg=undefined)}else"return"===method&&context.abrupt("return",arg);state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if("normal"===record.type){state=context.done?GenStateCompleted:GenStateSuspendedYield;var info={value:record.arg,done:context.done};if(record.arg!==ContinueSentinel)return info;context.delegate&&"next"===method&&(arg=undefined)}else"throw"===record.type&&(state=GenStateCompleted,method="throw",arg=record.arg)}}}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),
2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=undefined,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:undefined,done:!0}}var undefined,hasOwn=Object.prototype.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag",inModule="object"==typeof module,runtime=global.regeneratorRuntime;if(runtime)return void(inModule&&(module.exports=runtime));runtime=global.regeneratorRuntime=inModule?module.exports:{},runtime.wrap=wrap;var GenStateSuspendedStart="suspendedStart",GenStateSuspendedYield="suspendedYield",GenStateExecuting="executing",GenStateCompleted="completed",ContinueSentinel={},Gp=GeneratorFunctionPrototype.prototype=Generator.prototype;GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction",runtime.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},runtime.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,toStringTagSymbol in genFun||(genFun[toStringTagSymbol]="GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},runtime.awrap=function(arg){return new AwaitArgument(arg)},defineIteratorMethods(AsyncIterator.prototype),runtime.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return runtime.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})},defineIteratorMethods(Gp),Gp[iteratorSymbol]=function(){return this},Gp[toStringTagSymbol]="Generator",Gp.toString=function(){return"[object Generator]"},runtime.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},runtime.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined)},stop:function(){this.done=!0;var rootEntry=this.tryEntries[0],rootRecord=rootEntry.completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function(exception){function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,!!caught}if(this.done)throw exception;for(var context=this,i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?this.next=finallyEntry.finallyLoc:this.complete(record),ContinueSentinel},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=record.arg,this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc)},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},ContinueSentinel}}}("object"==typeof global?global:"object"==typeof window?window:"object"==typeof self?self:this)}).call(exports,__webpack_require__(9),__webpack_require__(3))},function(module,exports,__webpack_require__){(function(Buffer){function bytesToWords(bytes){for(var words=[],i=0,b=0;i<bytes.length;i++,b+=8)words[b>>>5]|=bytes[i]<<24-b%32;return words}function wordsToBytes(words){for(var bytes=[],b=0;b<32*words.length;b+=8)bytes.push(words[b>>>5]>>>24-b%32&255);return bytes}function processBlock(H,M,offset){for(var i=0;i<16;i++){var offset_i=offset+i,M_offset_i=M[offset_i];M[offset_i]=16711935&(M_offset_i<<8|M_offset_i>>>24)|4278255360&(M_offset_i<<24|M_offset_i>>>8)}var al,bl,cl,dl,el,ar,br,cr,dr,er;ar=al=H[0],br=bl=H[1],cr=cl=H[2],dr=dl=H[3],er=el=H[4];var t;for(i=0;i<80;i+=1)t=al+M[offset+zl[i]]|0,t+=i<16?f1(bl,cl,dl)+hl[0]:i<32?f2(bl,cl,dl)+hl[1]:i<48?f3(bl,cl,dl)+hl[2]:i<64?f4(bl,cl,dl)+hl[3]:f5(bl,cl,dl)+hl[4],t=0|t,t=rotl(t,sl[i]),t=t+el|0,al=el,el=dl,dl=rotl(cl,10),cl=bl,bl=t,t=ar+M[offset+zr[i]]|0,t+=i<16?f5(br,cr,dr)+hr[0]:i<32?f4(br,cr,dr)+hr[1]:i<48?f3(br,cr,dr)+hr[2]:i<64?f2(br,cr,dr)+hr[3]:f1(br,cr,dr)+hr[4],t=0|t,t=rotl(t,sr[i]),t=t+er|0,ar=er,er=dr,dr=rotl(cr,10),cr=br,br=t;t=H[1]+cl+dr|0,H[1]=H[2]+dl+er|0,H[2]=H[3]+el+ar|0,H[3]=H[4]+al+br|0,H[4]=H[0]+bl+cr|0,H[0]=t}function f1(x,y,z){return x^y^z}function f2(x,y,z){return x&y|~x&z}function f3(x,y,z){return(x|~y)^z}function f4(x,y,z){return x&z|y&~z}function f5(x,y,z){return x^(y|~z)}function rotl(x,n){return x<<n|x>>>32-n}function ripemd160(message){var H=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof message&&(message=new Buffer(message,"utf8"));var m=bytesToWords(message),nBitsLeft=8*message.length,nBitsTotal=8*message.length;m[nBitsLeft>>>5]|=128<<24-nBitsLeft%32,m[(nBitsLeft+64>>>9<<4)+14]=16711935&(nBitsTotal<<8|nBitsTotal>>>24)|4278255360&(nBitsTotal<<24|nBitsTotal>>>8);for(var i=0;i<m.length;i+=16)processBlock(H,m,i);for(i=0;i<5;i++){var H_i=H[i];H[i]=16711935&(H_i<<8|H_i>>>24)|4278255360&(H_i<<24|H_i>>>8)}var digestbytes=wordsToBytes(H);return new Buffer(digestbytes)}var zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hl=[0,1518500249,1859775393,2400959708,2840853838],hr=[1352829926,1548603684,1836072691,2053994217,0];module.exports=ripemd160}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(process){module.exports=function(tasks,limit,cb){function done(err){function end(){cb&&cb(err,results),cb=null}isSync?process.nextTick(end):end()}function each(i,err,result){if(results[i]=result,err&&(isErrored=!0),0===--pending||err)done(err);else if(!isErrored&&next<len){var key;keys?(key=keys[next],next+=1,tasks[key](function(err,result){each(key,err,result)})):(key=next,next+=1,tasks[key](function(err,result){each(key,err,result)}))}}if("number"!=typeof limit)throw new Error("second argument must be a Number");var results,len,pending,keys,isErrored,isSync=!0;Array.isArray(tasks)?(results=[],pending=len=tasks.length):(keys=Object.keys(tasks),results={},pending=len=keys.length);var next=limit;pending?keys?keys.some(function(key,i){if(tasks[key](function(err,result){each(key,err,result)}),i===limit-1)return!0}):tasks.some(function(task,i){if(task(function(err,result){each(i,err,result)}),i===limit-1)return!0}):done(null),isSync=!1}}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){(function(process){module.exports=function(tasks,cb){function done(err,args){function end(){args=args?[].concat(err,args):[err],cb&&cb.apply(void 0,args)}isSync?process.nextTick(end):end()}function each(err){var args=Array.prototype.slice.call(arguments,1);++current>=tasks.length||err?done(err,args):tasks[current].apply(void 0,[].concat(args,each))}var current=0,isSync=!0;tasks.length?tasks[0](each):done(null),isSync=!1}}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){var exports=module.exports=function(algorithm){algorithm=algorithm.toLowerCase();var Algorithm=exports[algorithm];if(!Algorithm)throw new Error(algorithm+" is not supported (we accept pull requests)");return new Algorithm};exports.sha=__webpack_require__(731),exports.sha1=__webpack_require__(732),exports.sha224=__webpack_require__(733),exports.sha256=__webpack_require__(291),exports.sha384=__webpack_require__(734),exports.sha512=__webpack_require__(292)},function(module,exports,__webpack_require__){(function(Buffer){function Sha(){this.init(),this._w=W,Hash.call(this,64,56)}function rotl5(num){return num<<5|num>>>27}function rotl30(num){return num<<30|num>>>2}function ft(s,b,c,d){return 0===s?b&c|~b&d:2===s?b&c|b&d|c&d:b^c^d}var inherits=__webpack_require__(2),Hash=__webpack_require__(86),K=[1518500249,1859775393,-1894007588,-899497514],W=new Array(80);inherits(Sha,Hash),Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha.prototype._update=function(M){for(var W=this._w,a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,i=0;i<16;++i)W[i]=M.readInt32BE(4*i);for(;i<80;++i)W[i]=W[i-3]^W[i-8]^W[i-14]^W[i-16];for(var j=0;j<80;++j){var s=~~(j/20),t=rotl5(a)+ft(s,b,c,d)+e+W[j]+K[s]|0;e=d,d=c,c=rotl30(b),b=a,a=t}this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0},Sha.prototype._hash=function(){var H=new Buffer(20);return H.writeInt32BE(0|this._a,0),H.writeInt32BE(0|this._b,4),H.writeInt32BE(0|this._c,8),H.writeInt32BE(0|this._d,12),H.writeInt32BE(0|this._e,16),H},module.exports=Sha}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function Sha1(){this.init(),this._w=W,Hash.call(this,64,56)}function rotl1(num){return num<<1|num>>>31}function rotl5(num){return num<<5|num>>>27}function rotl30(num){return num<<30|num>>>2}function ft(s,b,c,d){return 0===s?b&c|~b&d:2===s?b&c|b&d|c&d:b^c^d}var inherits=__webpack_require__(2),Hash=__webpack_require__(86),K=[1518500249,1859775393,-1894007588,-899497514],W=new Array(80);inherits(Sha1,Hash),Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha1.prototype._update=function(M){for(var W=this._w,a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,i=0;i<16;++i)W[i]=M.readInt32BE(4*i);for(;i<80;++i)W[i]=rotl1(W[i-3]^W[i-8]^W[i-14]^W[i-16]);for(var j=0;j<80;++j){var s=~~(j/20),t=rotl5(a)+ft(s,b,c,d)+e+W[j]+K[s]|0;e=d,d=c,c=rotl30(b),b=a,a=t}this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0},Sha1.prototype._hash=function(){var H=new Buffer(20);return H.writeInt32BE(0|this._a,0),H.writeInt32BE(0|this._b,4),H.writeInt32BE(0|this._c,8),H.writeInt32BE(0|this._d,12),H.writeInt32BE(0|this._e,16),H},module.exports=Sha1}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function Sha224(){this.init(),this._w=W,Hash.call(this,64,56)}var inherits=__webpack_require__(2),Sha256=__webpack_require__(291),Hash=__webpack_require__(86),W=new Array(64);inherits(Sha224,Sha256),Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},Sha224.prototype._hash=function(){var H=new Buffer(28);return H.writeInt32BE(this._a,0),H.writeInt32BE(this._b,4),H.writeInt32BE(this._c,8),H.writeInt32BE(this._d,12),H.writeInt32BE(this._e,16),H.writeInt32BE(this._f,20),H.writeInt32BE(this._g,24),H},module.exports=Sha224}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function Sha384(){this.init(),this._w=W,Hash.call(this,128,112)}var inherits=__webpack_require__(2),SHA512=__webpack_require__(292),Hash=__webpack_require__(86),W=new Array(160);inherits(Sha384,SHA512),Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},Sha384.prototype._hash=function(){function writeInt64BE(h,l,offset){H.writeInt32BE(h,offset),H.writeInt32BE(l,offset+4)}var H=new Buffer(48);return writeInt64BE(this._ah,this._al,0),writeInt64BE(this._bh,this._bl,8),writeInt64BE(this._ch,this._cl,16),writeInt64BE(this._dh,this._dl,24),writeInt64BE(this._eh,this._el,32),writeInt64BE(this._fh,this._fl,40),H},module.exports=Sha384}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){var varint=__webpack_require__(738);exports.encode=function encode(v,b,o){v=v>=0?2*v:v*-2-1;var r=varint.encode(v,b,o);return encode.bytes=varint.encode.bytes,r},exports.decode=function decode(b,o){var v=varint.decode(b,o);return decode.bytes=varint.decode.bytes,1&v?(v+1)/-2:v/2},exports.encodingLength=function(v){return varint.encodingLength(v>=0?2*v:v*-2-1)}},function(module,exports){function read(buf,offset){var b,res=0,offset=offset||0,shift=0,counter=offset,l=buf.length;do{if(counter>=l)return void(read.bytesRead=0);b=buf[counter++],res+=shift<28?(b&REST)<<shift:(b&REST)*Math.pow(2,shift),shift+=7}while(b>=MSB);return read.bytes=counter-offset,res}module.exports=read;var MSB=128,REST=127},function(module,exports){function encode(num,out,offset){out=out||[],offset=offset||0;for(var oldOffset=offset;num>=INT;)out[offset++]=255&num|MSB,num/=128;for(;num&MSBALL;)out[offset++]=255&num|MSB,num>>>=7;return out[offset]=0|num,encode.bytes=offset-oldOffset+1,out}module.exports=encode;var MSB=128,REST=127,MSBALL=~REST,INT=Math.pow(2,31)},function(module,exports,__webpack_require__){module.exports={encode:__webpack_require__(737),decode:__webpack_require__(736),encodingLength:__webpack_require__(739)}},function(module,exports){var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49);module.exports=function(value){return value<N1?1:value<N2?2:value<N3?3:value<N4?4:value<N5?5:value<N6?6:value<N7?7:8}},function(module,exports,__webpack_require__){(function(Buffer){function Peer(opts){var self=this;if(!(self instanceof Peer))return new Peer(opts);if(self.channelName=opts.initiator?opts.channelName||hat(160):null,self._debug("new peer %o",opts),opts||(opts={}),opts.allowHalfOpen=!1,null==opts.highWaterMark&&(opts.highWaterMark=1048576),stream.Duplex.call(self,opts),self.initiator=opts.initiator||!1,self.channelConfig=opts.channelConfig||Peer.channelConfig,self.config=opts.config||Peer.config,self.constraints=opts.constraints||Peer.constraints,self.offerConstraints=opts.offerConstraints,self.answerConstraints=opts.answerConstraints,self.reconnectTimer=opts.reconnectTimer||!1,self.sdpTransform=opts.sdpTransform||function(sdp){return sdp},self.stream=opts.stream||!1,self.trickle=void 0===opts.trickle||opts.trickle,self.destroyed=!1,self.connected=!1,self.remoteAddress=void 0,self.remoteFamily=void 0,self.remotePort=void 0,self.localAddress=void 0,self.localPort=void 0,self._isWrtc=!!opts.wrtc,self._wrtc=opts.wrtc&&"object"==typeof opts.wrtc?opts.wrtc:getBrowserRTC(),!self._wrtc)throw"undefined"==typeof window?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser");self._maxBufferedAmount=opts.highWaterMark,self._pcReady=!1,self._channelReady=!1,self._iceComplete=!1,self._channel=null,self._pendingCandidates=[],self._chunk=null,self._cb=null,self._interval=null,self._reconnectTimeout=null,self._pc=new self._wrtc.RTCPeerConnection(self.config,self.constraints),self._pc.oniceconnectionstatechange=function(){self._onIceConnectionStateChange()},self._pc.onsignalingstatechange=function(){self._onSignalingStateChange()},self._pc.onicecandidate=function(event){self._onIceCandidate(event)},self.stream&&self._pc.addStream(self.stream),self._pc.onaddstream=function(event){self._onAddStream(event)},self.initiator?(self._setupData({channel:self._pc.createDataChannel(self.channelName,self.channelConfig)}),self._pc.onnegotiationneeded=once(function(){self._createOffer()}),"undefined"!=typeof window&&window.webkitRTCPeerConnection||self._pc.onnegotiationneeded()):self._pc.ondatachannel=function(event){self._setupData(event)},self.on("finish",function(){self.connected?setTimeout(function(){self._destroy()},100):self.once("connect",function(){setTimeout(function(){self._destroy()},100)})})}function noop(){}module.exports=Peer;var debug=__webpack_require__(10)("simple-peer"),getBrowserRTC=__webpack_require__(625),hat=__webpack_require__(634),inherits=__webpack_require__(2),once=__webpack_require__(131),stream=__webpack_require__(742);inherits(Peer,stream.Duplex),Peer.WEBRTC_SUPPORT=!!getBrowserRTC(),Peer.config={iceServers:[{url:"stun:23.21.150.121",urls:"stun:23.21.150.121"}]},Peer.constraints={},Peer.channelConfig={},Object.defineProperty(Peer.prototype,"bufferSize",{get:function(){var self=this;return self._channel&&self._channel.bufferedAmount||0}}),Peer.prototype.address=function(){var self=this;return{port:self.localPort,family:"IPv4",address:self.localAddress}},Peer.prototype.signal=function(data){function addIceCandidate(candidate){try{self._pc.addIceCandidate(new self._wrtc.RTCIceCandidate(candidate),noop,function(err){self._onError(err)})}catch(err){self._destroy(new Error("error adding candidate: "+err.message))}}var self=this;if(self.destroyed)throw new Error("cannot signal after peer is destroyed");if("string"==typeof data)try{data=JSON.parse(data)}catch(err){data={}}self._debug("signal()"),data.sdp&&self._pc.setRemoteDescription(new self._wrtc.RTCSessionDescription(data),function(){self.destroyed||("offer"===self._pc.remoteDescription.type&&self._createAnswer(),self._pendingCandidates.forEach(addIceCandidate),self._pendingCandidates=[])},function(err){self._onError(err)}),data.candidate&&(self._pc.remoteDescription?addIceCandidate(data.candidate):self._pendingCandidates.push(data.candidate)),data.sdp||data.candidate||self._destroy(new Error("signal() called with invalid signal data"))},Peer.prototype.send=function(chunk){var self=this;Buffer.isBuffer(chunk)&&self._isWrtc&&(chunk=new Uint8Array(chunk));var len=chunk.length||chunk.byteLength||chunk.size;self._channel.send(chunk),self._debug("write: %d bytes",len)},Peer.prototype.destroy=function(onclose){var self=this;self._destroy(null,onclose)},Peer.prototype._destroy=function(err,onclose){var self=this;if(!self.destroyed){if(onclose&&self.once("close",onclose),self._debug("destroy (error: %s)",err&&err.message),self.readable=self.writable=!1,self._readableState.ended||self.push(null),self._writableState.finished||self.end(),self.destroyed=!0,self.connected=!1,self._pcReady=!1,self._channelReady=!1,self._chunk=null,self._cb=null,clearInterval(self._interval),clearTimeout(self._reconnectTimeout),self._pc){try{self._pc.close()}catch(err){}self._pc.oniceconnectionstatechange=null,self._pc.onsignalingstatechange=null,self._pc.onicecandidate=null,self._pc.onaddstream=null,self._pc.onnegotiationneeded=null,self._pc.ondatachannel=null}if(self._channel){try{self._channel.close()}catch(err){}self._channel.onmessage=null,self._channel.onopen=null,self._channel.onclose=null}self._pc=null,self._channel=null,err&&self.emit("error",err),self.emit("close")}},Peer.prototype._setupData=function(event){var self=this;self._channel=event.channel,self.channelName=self._channel.label,self._channel.binaryType="arraybuffer",self._channel.onmessage=function(event){self._onChannelMessage(event)},self._channel.onopen=function(){self._onChannelOpen()},self._channel.onclose=function(){self._onChannelClose()}},Peer.prototype._read=function(){},Peer.prototype._write=function(chunk,encoding,cb){var self=this;if(self.destroyed)return cb(new Error("cannot write after peer is destroyed"));if(self.connected){try{self.send(chunk)}catch(err){return self._onError(err)}self._channel.bufferedAmount>self._maxBufferedAmount?(self._debug("start backpressure: bufferedAmount %d",self._channel.bufferedAmount),self._cb=cb):cb(null)}else self._debug("write before connect"),self._chunk=chunk,self._cb=cb},Peer.prototype._createOffer=function(){var self=this;self.destroyed||self._pc.createOffer(function(offer){if(!self.destroyed){offer.sdp=self.sdpTransform(offer.sdp),self._pc.setLocalDescription(offer,noop,function(err){self._onError(err)});var sendOffer=function(){var signal=self._pc.localDescription||offer;self._debug("signal"),self.emit("signal",{type:signal.type,sdp:signal.sdp})};self.trickle||self._iceComplete?sendOffer():self.once("_iceComplete",sendOffer)}},function(err){self._onError(err)},self.offerConstraints)},Peer.prototype._createAnswer=function(){var self=this;self.destroyed||self._pc.createAnswer(function(answer){if(!self.destroyed){answer.sdp=self.sdpTransform(answer.sdp),self._pc.setLocalDescription(answer,noop,function(err){self._onError(err)});var sendAnswer=function(){var signal=self._pc.localDescription||answer;self._debug("signal"),self.emit("signal",{type:signal.type,sdp:signal.sdp})};self.trickle||self._iceComplete?sendAnswer():self.once("_iceComplete",sendAnswer)}},function(err){self._onError(err)},self.answerConstraints)},Peer.prototype._onIceConnectionStateChange=function(){var self=this;if(!self.destroyed){var iceGatheringState=self._pc.iceGatheringState,iceConnectionState=self._pc.iceConnectionState;self._debug("iceConnectionStateChange %s %s",iceGatheringState,iceConnectionState),self.emit("iceConnectionStateChange",iceGatheringState,iceConnectionState),"connected"!==iceConnectionState&&"completed"!==iceConnectionState||(clearTimeout(self._reconnectTimeout),self._pcReady=!0,self._maybeReady()),"disconnected"===iceConnectionState&&(self.reconnectTimer?(clearTimeout(self._reconnectTimeout),self._reconnectTimeout=setTimeout(function(){self._destroy()},self.reconnectTimer)):self._destroy()),"failed"===iceConnectionState&&self._destroy(),"closed"===iceConnectionState&&self._destroy()}},Peer.prototype.getStats=function(cb){var self=this;self._pc.getStats?"undefined"!=typeof window&&window.mozRTCPeerConnection?self._pc.getStats(null,function(res){var items=[];res.forEach(function(item){items.push(item)}),cb(items)},function(err){self._onError(err)}):self._pc.getStats(function(res){var items=[];res.result().forEach(function(result){var item={};result.names().forEach(function(name){item[name]=result.stat(name)}),item.id=result.id,item.type=result.type,item.timestamp=result.timestamp,items.push(item)}),cb(items)}):cb([])},Peer.prototype._maybeReady=function(){var self=this;self._debug("maybeReady pc %s channel %s",self._pcReady,self._channelReady),!self.connected&&!self._connecting&&self._pcReady&&self._channelReady&&(self._connecting=!0,self.getStats(function(items){function setActiveCandidates(item){var local=localCandidates[item.localCandidateId],remote=remoteCandidates[item.remoteCandidateId];local?(self.localAddress=local.ipAddress,self.localPort=Number(local.portNumber)):"string"==typeof item.googLocalAddress&&(local=item.googLocalAddress.split(":"),self.localAddress=local[0],self.localPort=Number(local[1])),self._debug("connect local: %s:%s",self.localAddress,self.localPort),remote?(self.remoteAddress=remote.ipAddress,self.remotePort=Number(remote.portNumber),self.remoteFamily="IPv4"):"string"==typeof item.googRemoteAddress&&(remote=item.googRemoteAddress.split(":"),self.remoteAddress=remote[0],self.remotePort=Number(remote[1]),self.remoteFamily="IPv4"),self._debug("connect remote: %s:%s",self.remoteAddress,self.remotePort)}self._connecting=!1,self.connected=!0;var remoteCandidates={},localCandidates={};if(items.forEach(function(item){"remotecandidate"===item.type&&(remoteCandidates[item.id]=item),"localcandidate"===item.type&&(localCandidates[item.id]=item)}),items.forEach(function(item){var isCandidatePair="googCandidatePair"===item.type&&"true"===item.googActiveConnection||"candidatepair"===item.type&&item.selected;isCandidatePair&&setActiveCandidates(item)}),self._chunk){try{self.send(self._chunk)}catch(err){return self._onError(err)}self._chunk=null,self._debug('sent chunk from "write before connect"');var cb=self._cb;self._cb=null,cb(null)}self._interval=setInterval(function(){if(self._cb&&self._channel&&!(self._channel.bufferedAmount>self._maxBufferedAmount)){self._debug("ending backpressure: bufferedAmount %d",self._channel.bufferedAmount);var cb=self._cb;self._cb=null,cb(null)}},150),self._interval.unref&&self._interval.unref(),self._debug("connect"),self.emit("connect")}))},Peer.prototype._onSignalingStateChange=function(){var self=this;self.destroyed||(self._debug("signalingStateChange %s",self._pc.signalingState),self.emit("signalingStateChange",self._pc.signalingState))},Peer.prototype._onIceCandidate=function(event){var self=this;self.destroyed||(event.candidate&&self.trickle?self.emit("signal",{candidate:{candidate:event.candidate.candidate,sdpMLineIndex:event.candidate.sdpMLineIndex,sdpMid:event.candidate.sdpMid}}):event.candidate||(self._iceComplete=!0,self.emit("_iceComplete")))},Peer.prototype._onChannelMessage=function(event){var self=this;if(!self.destroyed){var data=event.data;self._debug("read: %d bytes",data.byteLength||data.length),data instanceof ArrayBuffer&&(data=new Buffer(data)),self.push(data)}},Peer.prototype._onChannelOpen=function(){var self=this;self.connected||self.destroyed||(self._debug("on channel open"),self._channelReady=!0,self._maybeReady())},Peer.prototype._onChannelClose=function(){var self=this;self.destroyed||(self._debug("on channel close"),self._destroy())},Peer.prototype._onAddStream=function(event){var self=this;self.destroyed||(self._debug("on add stream"),self.emit("stream",event.stream))},Peer.prototype._onError=function(err){var self=this;self.destroyed||(self._debug("error %s",err.message||err),self._destroy(err))},Peer.prototype._debug=function(){var self=this,args=[].slice.call(arguments),id=self.channelName&&self.channelName.substring(0,7);args[0]="["+id+"] "+args[0],debug.apply(null,args)}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";function PassThrough(options){return this instanceof PassThrough?void Transform.call(this,options):new PassThrough(options)}module.exports=PassThrough;var Transform=__webpack_require__(294),util=__webpack_require__(4);util.inherits=__webpack_require__(2),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},function(module,exports,__webpack_require__){(function(process){var Stream=function(){try{return __webpack_require__(6)}catch(_){}}();exports=module.exports=__webpack_require__(293),exports.Stream=Stream||exports,exports.Readable=exports,exports.Writable=__webpack_require__(295),exports.Duplex=__webpack_require__(87),exports.Transform=__webpack_require__(294),exports.PassThrough=__webpack_require__(741),!process.browser&&"disable"===process.env.READABLE_STREAM&&Stream&&(module.exports=Stream)}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){(function(process,Buffer){function Socket(url,opts){var self=this;if(!(self instanceof Socket))return new Socket(url,opts);opts||(opts={}),debug("new websocket: %s %o",url,opts),opts.allowHalfOpen=!1,null==opts.highWaterMark&&(opts.highWaterMark=1048576),stream.Duplex.call(self,opts),self.url=url,self.connected=!1,self.destroyed=!1,self._maxBufferedAmount=opts.highWaterMark,self._chunk=null,self._cb=null,self._interval=null;try{"undefined"==typeof WebSocket?self._ws=new _WebSocket(self.url,opts):self._ws=new _WebSocket(self.url)}catch(err){return void process.nextTick(function(){self._onError(err)})}self._ws.binaryType="arraybuffer",self._ws.onopen=function(){self._onOpen()},self._ws.onmessage=function(event){self._onMessage(event)},self._ws.onclose=function(){self._onClose()},self._ws.onerror=function(){self._onError(new Error("connection error to "+self.url))},self.on("finish",function(){self.connected?setTimeout(function(){self._destroy()},100):self.once("connect",function(){setTimeout(function(){self._destroy()},100)})})}module.exports=Socket;var debug=__webpack_require__(10)("simple-websocket"),inherits=__webpack_require__(2),stream=__webpack_require__(745),ws=__webpack_require__(801),_WebSocket="undefined"!=typeof WebSocket?WebSocket:ws;inherits(Socket,stream.Duplex),Socket.WEBSOCKET_SUPPORT=!!_WebSocket,Socket.prototype.send=function(chunk){var self=this,len=chunk.length||chunk.byteLength||chunk.size;self._ws.send(chunk),debug("write: %d bytes",len)},Socket.prototype.destroy=function(onclose){var self=this;self._destroy(null,onclose)},Socket.prototype._destroy=function(err,onclose){var self=this;if(!self.destroyed){if(onclose&&self.once("close",onclose),debug("destroy (error: %s)",err&&err.message),this.readable=this.writable=!1,self._readableState.ended||self.push(null),self._writableState.finished||self.end(),self.connected=!1,self.destroyed=!0,clearInterval(self._interval),self._interval=null,self._chunk=null,self._cb=null,self._ws){var ws=self._ws,onClose=function(){ws.onclose=null,self.emit("close")};if(ws.readyState===_WebSocket.CLOSED)onClose();else try{ws.onclose=onClose,ws.close()}catch(err){onClose()}ws.onopen=null,ws.onmessage=null,ws.onerror=null}self._ws=null,err&&self.emit("error",err)}},Socket.prototype._read=function(){},
Socket.prototype._write=function(chunk,encoding,cb){var self=this;if(self.destroyed)return cb(new Error("cannot write after socket is destroyed"));if(self.connected){try{self.send(chunk)}catch(err){return self._onError(err)}"function"!=typeof ws&&self._ws.bufferedAmount>self._maxBufferedAmount?(debug("start backpressure: bufferedAmount %d",self._ws.bufferedAmount),self._cb=cb):cb(null)}else debug("write before connect"),self._chunk=chunk,self._cb=cb},Socket.prototype._onMessage=function(event){var self=this;if(!self.destroyed){var data=event.data;debug("read: %d bytes",data.byteLength||data.length),data instanceof ArrayBuffer&&(data=new Buffer(data)),self.push(data)}},Socket.prototype._onOpen=function(){var self=this;if(!self.connected&&!self.destroyed){if(self.connected=!0,self._chunk){try{self.send(self._chunk)}catch(err){return self._onError(err)}self._chunk=null,debug('sent chunk from "write before connect"');var cb=self._cb;self._cb=null,cb(null)}"function"!=typeof ws&&(self._interval=setInterval(function(){if(self._cb&&self._ws&&!(self._ws.bufferedAmount>self._maxBufferedAmount)){debug("ending backpressure: bufferedAmount %d",self._ws.bufferedAmount);var cb=self._cb;self._cb=null,cb(null)}},150),self._interval.unref&&self._interval.unref()),debug("connect"),self.emit("connect")}},Socket.prototype._onClose=function(){var self=this;self.destroyed||(debug("on close"),self._destroy())},Socket.prototype._onError=function(err){var self=this;self.destroyed||(debug("error: %s",err.message||err),self._destroy(err))}}).call(exports,__webpack_require__(3),__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";function PassThrough(options){return this instanceof PassThrough?void Transform.call(this,options):new PassThrough(options)}module.exports=PassThrough;var Transform=__webpack_require__(297),util=__webpack_require__(4);util.inherits=__webpack_require__(2),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},function(module,exports,__webpack_require__){(function(process){var Stream=function(){try{return __webpack_require__(6)}catch(_){}}();exports=module.exports=__webpack_require__(296),exports.Stream=Stream||exports,exports.Readable=exports,exports.Writable=__webpack_require__(298),exports.Duplex=__webpack_require__(88),exports.Transform=__webpack_require__(297),exports.PassThrough=__webpack_require__(744),!process.browser&&"disable"===process.env.READABLE_STREAM&&Stream&&(module.exports=Stream)}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){function lookup(uri,opts){"object"==typeof uri&&(opts=uri,uri=void 0),opts=opts||{};var io,parsed=url(uri),source=parsed.source,id=parsed.id,path=parsed.path,sameNamespace=cache[id]&&path in cache[id].nsps,newConnection=opts.forceNew||opts["force new connection"]||!1===opts.multiplex||sameNamespace;return newConnection?(debug("ignoring socket cache for %s",source),io=Manager(source,opts)):(cache[id]||(debug("new io instance for %s",source),cache[id]=Manager(source,opts)),io=cache[id]),io.socket(parsed.path)}var url=__webpack_require__(747),parser=__webpack_require__(182),Manager=__webpack_require__(299),debug=__webpack_require__(10)("socket.io-client");module.exports=exports=lookup;var cache=exports.managers={};exports.protocol=parser.protocol,exports.connect=lookup,exports.Manager=__webpack_require__(299),exports.Socket=__webpack_require__(301)},function(module,exports,__webpack_require__){(function(global){function url(uri,loc){var obj=uri,loc=loc||global.location;null==uri&&(uri=loc.protocol+"//"+loc.host),"string"==typeof uri&&("/"==uri.charAt(0)&&(uri="/"==uri.charAt(1)?loc.protocol+uri:loc.host+uri),/^(https?|wss?):\/\//.test(uri)||(debug("protocol-less url %s",uri),uri="undefined"!=typeof loc?loc.protocol+"//"+uri:"https://"+uri),debug("parse %s",uri),obj=parseuri(uri)),obj.port||(/^(http|ws)$/.test(obj.protocol)?obj.port="80":/^(http|ws)s$/.test(obj.protocol)&&(obj.port="443")),obj.path=obj.path||"/";var ipv6=obj.host.indexOf(":")!==-1,host=ipv6?"["+obj.host+"]":obj.host;return obj.id=obj.protocol+"://"+host+":"+obj.port,obj.href=obj.protocol+"://"+host+(loc&&loc.port==obj.port?"":":"+obj.port),obj}var parseuri=__webpack_require__(281),debug=__webpack_require__(10)("socket.io-client:url");module.exports=url}).call(exports,__webpack_require__(9))},function(module,exports,__webpack_require__){(function(global){var isArray=__webpack_require__(304),isBuf=__webpack_require__(303);exports.deconstructPacket=function(packet){function _deconstructPacket(data){if(!data)return data;if(isBuf(data)){var placeholder={_placeholder:!0,num:buffers.length};return buffers.push(data),placeholder}if(isArray(data)){for(var newData=new Array(data.length),i=0;i<data.length;i++)newData[i]=_deconstructPacket(data[i]);return newData}if("object"==typeof data&&!(data instanceof Date)){var newData={};for(var key in data)newData[key]=_deconstructPacket(data[key]);return newData}return data}var buffers=[],packetData=packet.data,pack=packet;return pack.data=_deconstructPacket(packetData),pack.attachments=buffers.length,{packet:pack,buffers:buffers}},exports.reconstructPacket=function(packet,buffers){function _reconstructPacket(data){if(data&&data._placeholder){var buf=buffers[data.num];return buf}if(isArray(data)){for(var i=0;i<data.length;i++)data[i]=_reconstructPacket(data[i]);return data}if(data&&"object"==typeof data){for(var key in data)data[key]=_reconstructPacket(data[key]);return data}return data}return packet.data=_reconstructPacket(packet.data),packet.attachments=void 0,packet},exports.removeBlobs=function(data,callback){function _removeBlobs(obj,curKey,containingObject){if(!obj)return obj;if(global.Blob&&obj instanceof Blob||global.File&&obj instanceof File){pendingBlobs++;var fileReader=new FileReader;fileReader.onload=function(){containingObject?containingObject[curKey]=this.result:bloblessData=this.result,--pendingBlobs||callback(bloblessData)},fileReader.readAsArrayBuffer(obj)}else if(isArray(obj))for(var i=0;i<obj.length;i++)_removeBlobs(obj[i],i,obj);else if(obj&&"object"==typeof obj&&!isBuf(obj))for(var key in obj)_removeBlobs(obj[key],key,obj)}var pendingBlobs=0,bloblessData=data;_removeBlobs(bloblessData),pendingBlobs||callback(bloblessData)}}).call(exports,__webpack_require__(9))},function(module,exports,__webpack_require__){(function(module,global){var __WEBPACK_AMD_DEFINE_RESULT__;(function(){function runInContext(context,exports){function has(name){if(has[name]!==undef)return has[name];var isSupported;if("bug-string-char-index"==name)isSupported="a"!="a"[0];else if("json"==name)isSupported=has("json-stringify")&&has("json-parse");else{var value,serialized='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==name){var stringify=exports.stringify,stringifySupported="function"==typeof stringify&&isExtended;if(stringifySupported){(value=function(){return 1}).toJSON=value;try{stringifySupported="0"===stringify(0)&&"0"===stringify(new Number)&&'""'==stringify(new String)&&stringify(getClass)===undef&&stringify(undef)===undef&&stringify()===undef&&"1"===stringify(value)&&"[1]"==stringify([value])&&"[null]"==stringify([undef])&&"null"==stringify(null)&&"[null,null,null]"==stringify([undef,getClass,null])&&stringify({a:[value,!0,!1,null,"\0\b\n\f\r\t"]})==serialized&&"1"===stringify(null,value)&&"[\n 1,\n 2\n]"==stringify([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==stringify(new Date((-864e13)))&&'"+275760-09-13T00:00:00.000Z"'==stringify(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==stringify(new Date((-621987552e5)))&&'"1969-12-31T23:59:59.999Z"'==stringify(new Date((-1)))}catch(exception){stringifySupported=!1}}isSupported=stringifySupported}if("json-parse"==name){var parse=exports.parse;if("function"==typeof parse)try{if(0===parse("0")&&!parse(!1)){value=parse(serialized);var parseSupported=5==value.a.length&&1===value.a[0];if(parseSupported){try{parseSupported=!parse('"\t"')}catch(exception){}if(parseSupported)try{parseSupported=1!==parse("01")}catch(exception){}if(parseSupported)try{parseSupported=1!==parse("1.")}catch(exception){}}}}catch(exception){parseSupported=!1}isSupported=parseSupported}}return has[name]=!!isSupported}context||(context=root.Object()),exports||(exports=root.Object());var Number=context.Number||root.Number,String=context.String||root.String,Object=context.Object||root.Object,Date=context.Date||root.Date,SyntaxError=context.SyntaxError||root.SyntaxError,TypeError=context.TypeError||root.TypeError,Math=context.Math||root.Math,nativeJSON=context.JSON||root.JSON;"object"==typeof nativeJSON&&nativeJSON&&(exports.stringify=nativeJSON.stringify,exports.parse=nativeJSON.parse);var isProperty,forEach,undef,objectProto=Object.prototype,getClass=objectProto.toString,isExtended=new Date((-0xc782b5b800cec));try{isExtended=isExtended.getUTCFullYear()==-109252&&0===isExtended.getUTCMonth()&&1===isExtended.getUTCDate()&&10==isExtended.getUTCHours()&&37==isExtended.getUTCMinutes()&&6==isExtended.getUTCSeconds()&&708==isExtended.getUTCMilliseconds()}catch(exception){}if(!has("json")){var functionClass="[object Function]",dateClass="[object Date]",numberClass="[object Number]",stringClass="[object String]",arrayClass="[object Array]",booleanClass="[object Boolean]",charIndexBuggy=has("bug-string-char-index");if(!isExtended)var floor=Math.floor,Months=[0,31,59,90,120,151,181,212,243,273,304,334],getDay=function(year,month){return Months[month]+365*(year-1970)+floor((year-1969+(month=+(month>1)))/4)-floor((year-1901+month)/100)+floor((year-1601+month)/400)};if((isProperty=objectProto.hasOwnProperty)||(isProperty=function(property){var constructor,members={};return(members.__proto__=null,members.__proto__={toString:1},members).toString!=getClass?isProperty=function(property){var original=this.__proto__,result=property in(this.__proto__=null,this);return this.__proto__=original,result}:(constructor=members.constructor,isProperty=function(property){var parent=(this.constructor||constructor).prototype;return property in this&&!(property in parent&&this[property]===parent[property])}),members=null,isProperty.call(this,property)}),forEach=function(object,callback){var Properties,members,property,size=0;(Properties=function(){this.valueOf=0}).prototype.valueOf=0,members=new Properties;for(property in members)isProperty.call(members,property)&&size++;return Properties=members=null,size?forEach=2==size?function(object,callback){var property,members={},isFunction=getClass.call(object)==functionClass;for(property in object)isFunction&&"prototype"==property||isProperty.call(members,property)||!(members[property]=1)||!isProperty.call(object,property)||callback(property)}:function(object,callback){var property,isConstructor,isFunction=getClass.call(object)==functionClass;for(property in object)isFunction&&"prototype"==property||!isProperty.call(object,property)||(isConstructor="constructor"===property)||callback(property);(isConstructor||isProperty.call(object,property="constructor"))&&callback(property)}:(members=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],forEach=function(object,callback){var property,length,isFunction=getClass.call(object)==functionClass,hasProperty=!isFunction&&"function"!=typeof object.constructor&&objectTypes[typeof object.hasOwnProperty]&&object.hasOwnProperty||isProperty;for(property in object)isFunction&&"prototype"==property||!hasProperty.call(object,property)||callback(property);for(length=members.length;property=members[--length];hasProperty.call(object,property)&&callback(property));}),forEach(object,callback)},!has("json-stringify")){var Escapes={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},leadingZeroes="000000",toPaddedString=function(width,value){return(leadingZeroes+(value||0)).slice(-width)},unicodePrefix="\\u00",quote=function(value){for(var result='"',index=0,length=value.length,useCharIndex=!charIndexBuggy||length>10,symbols=useCharIndex&&(charIndexBuggy?value.split(""):value);index<length;index++){var charCode=value.charCodeAt(index);switch(charCode){case 8:case 9:case 10:case 12:case 13:case 34:case 92:result+=Escapes[charCode];break;default:if(charCode<32){result+=unicodePrefix+toPaddedString(2,charCode.toString(16));break}result+=useCharIndex?symbols[index]:value.charAt(index)}}return result+'"'},serialize=function(property,object,callback,properties,whitespace,indentation,stack){var value,className,year,month,date,time,hours,minutes,seconds,milliseconds,results,element,index,length,prefix,result;try{value=object[property]}catch(exception){}if("object"==typeof value&&value)if(className=getClass.call(value),className!=dateClass||isProperty.call(value,"toJSON"))"function"==typeof value.toJSON&&(className!=numberClass&&className!=stringClass&&className!=arrayClass||isProperty.call(value,"toJSON"))&&(value=value.toJSON(property));else if(value>-1/0&&value<1/0){if(getDay){for(date=floor(value/864e5),year=floor(date/365.2425)+1970-1;getDay(year+1,0)<=date;year++);for(month=floor((date-getDay(year,0))/30.42);getDay(year,month+1)<=date;month++);date=1+date-getDay(year,month),time=(value%864e5+864e5)%864e5,hours=floor(time/36e5)%24,minutes=floor(time/6e4)%60,seconds=floor(time/1e3)%60,milliseconds=time%1e3}else year=value.getUTCFullYear(),month=value.getUTCMonth(),date=value.getUTCDate(),hours=value.getUTCHours(),minutes=value.getUTCMinutes(),seconds=value.getUTCSeconds(),milliseconds=value.getUTCMilliseconds();value=(year<=0||year>=1e4?(year<0?"-":"+")+toPaddedString(6,year<0?-year:year):toPaddedString(4,year))+"-"+toPaddedString(2,month+1)+"-"+toPaddedString(2,date)+"T"+toPaddedString(2,hours)+":"+toPaddedString(2,minutes)+":"+toPaddedString(2,seconds)+"."+toPaddedString(3,milliseconds)+"Z"}else value=null;if(callback&&(value=callback.call(object,property,value)),null===value)return"null";if(className=getClass.call(value),className==booleanClass)return""+value;if(className==numberClass)return value>-1/0&&value<1/0?""+value:"null";if(className==stringClass)return quote(""+value);if("object"==typeof value){for(length=stack.length;length--;)if(stack[length]===value)throw TypeError();if(stack.push(value),results=[],prefix=indentation,indentation+=whitespace,className==arrayClass){for(index=0,length=value.length;index<length;index++)element=serialize(index,value,callback,properties,whitespace,indentation,stack),results.push(element===undef?"null":element);result=results.length?whitespace?"[\n"+indentation+results.join(",\n"+indentation)+"\n"+prefix+"]":"["+results.join(",")+"]":"[]"}else forEach(properties||value,function(property){var element=serialize(property,value,callback,properties,whitespace,indentation,stack);element!==undef&&results.push(quote(property)+":"+(whitespace?" ":"")+element)}),result=results.length?whitespace?"{\n"+indentation+results.join(",\n"+indentation)+"\n"+prefix+"}":"{"+results.join(",")+"}":"{}";return stack.pop(),result}};exports.stringify=function(source,filter,width){var whitespace,callback,properties,className;if(objectTypes[typeof filter]&&filter)if((className=getClass.call(filter))==functionClass)callback=filter;else if(className==arrayClass){properties={};for(var value,index=0,length=filter.length;index<length;value=filter[index++],className=getClass.call(value),(className==stringClass||className==numberClass)&&(properties[value]=1));}if(width)if((className=getClass.call(width))==numberClass){if((width-=width%1)>0)for(whitespace="",width>10&&(width=10);whitespace.length<width;whitespace+=" ");}else className==stringClass&&(whitespace=width.length<=10?width:width.slice(0,10));return serialize("",(value={},value[""]=source,value),callback,properties,whitespace,"",[])}}if(!has("json-parse")){var Index,Source,fromCharCode=String.fromCharCode,Unescapes={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},abort=function(){throw Index=Source=null,SyntaxError()},lex=function(){for(var value,begin,position,isSigned,charCode,source=Source,length=source.length;Index<length;)switch(charCode=source.charCodeAt(Index)){case 9:case 10:case 13:case 32:Index++;break;case 123:case 125:case 91:case 93:case 58:case 44:return value=charIndexBuggy?source.charAt(Index):source[Index],Index++,value;case 34:for(value="@",Index++;Index<length;)if(charCode=source.charCodeAt(Index),charCode<32)abort();else if(92==charCode)switch(charCode=source.charCodeAt(++Index)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:value+=Unescapes[charCode],Index++;break;case 117:for(begin=++Index,position=Index+4;Index<position;Index++)charCode=source.charCodeAt(Index),charCode>=48&&charCode<=57||charCode>=97&&charCode<=102||charCode>=65&&charCode<=70||abort();value+=fromCharCode("0x"+source.slice(begin,Index));break;default:abort()}else{if(34==charCode)break;for(charCode=source.charCodeAt(Index),begin=Index;charCode>=32&&92!=charCode&&34!=charCode;)charCode=source.charCodeAt(++Index);value+=source.slice(begin,Index)}if(34==source.charCodeAt(Index))return Index++,value;abort();default:if(begin=Index,45==charCode&&(isSigned=!0,charCode=source.charCodeAt(++Index)),charCode>=48&&charCode<=57){for(48==charCode&&(charCode=source.charCodeAt(Index+1),charCode>=48&&charCode<=57)&&abort(),isSigned=!1;Index<length&&(charCode=source.charCodeAt(Index),charCode>=48&&charCode<=57);Index++);if(46==source.charCodeAt(Index)){for(position=++Index;position<length&&(charCode=source.charCodeAt(position),charCode>=48&&charCode<=57);position++);position==Index&&abort(),Index=position}if(charCode=source.charCodeAt(Index),101==charCode||69==charCode){for(charCode=source.charCodeAt(++Index),43!=charCode&&45!=charCode||Index++,position=Index;position<length&&(charCode=source.charCodeAt(position),charCode>=48&&charCode<=57);position++);position==Index&&abort(),Index=position}return+source.slice(begin,Index)}if(isSigned&&abort(),"true"==source.slice(Index,Index+4))return Index+=4,!0;if("false"==source.slice(Index,Index+5))return Index+=5,!1;if("null"==source.slice(Index,Index+4))return Index+=4,null;abort()}return"$"},get=function(value){var results,hasMembers;if("$"==value&&abort(),"string"==typeof value){if("@"==(charIndexBuggy?value.charAt(0):value[0]))return value.slice(1);if("["==value){for(results=[];value=lex(),"]"!=value;hasMembers||(hasMembers=!0))hasMembers&&(","==value?(value=lex(),"]"==value&&abort()):abort()),","==value&&abort(),results.push(get(value));return results}if("{"==value){for(results={};value=lex(),"}"!=value;hasMembers||(hasMembers=!0))hasMembers&&(","==value?(value=lex(),"}"==value&&abort()):abort()),","!=value&&"string"==typeof value&&"@"==(charIndexBuggy?value.charAt(0):value[0])&&":"==lex()||abort(),results[value.slice(1)]=get(lex());return results}abort()}return value},update=function(source,property,callback){var element=walk(source,property,callback);element===undef?delete source[property]:source[property]=element},walk=function(source,property,callback){var length,value=source[property];if("object"==typeof value&&value)if(getClass.call(value)==arrayClass)for(length=value.length;length--;)update(value,length,callback);else forEach(value,function(property){update(value,property,callback)});return callback.call(source,property,value)};exports.parse=function(source,callback){var result,value;return Index=0,Source=""+source,result=get(lex()),"$"!=lex()&&abort(),Index=Source=null,callback&&getClass.call(callback)==functionClass?walk((value={},value[""]=result,value),"",callback):result}}}return exports.runInContext=runInContext,exports}var isLoader=__webpack_require__(790),objectTypes={function:!0,object:!0},freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,root=objectTypes[typeof window]&&window||this,freeGlobal=freeExports&&objectTypes[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!freeGlobal||freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal&&freeGlobal.self!==freeGlobal||(root=freeGlobal),freeExports&&!isLoader)runInContext(root,freeExports);else{var nativeJSON=root.JSON,previousJSON=root.JSON3,isRestored=!1,JSON3=runInContext(root,root.JSON3={noConflict:function(){return isRestored||(isRestored=!0,root.JSON=nativeJSON,root.JSON3=previousJSON,nativeJSON=previousJSON=null),JSON3}});root.JSON={parse:JSON3.parse,stringify:JSON3.stringify}}isLoader&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return JSON3}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}).call(this)}).call(exports,__webpack_require__(53)(module),__webpack_require__(9))},function(module,exports,__webpack_require__){"use strict";(function(Buffer,process){function Connection(socket,options){EventEmitter.call(this);var state={};this._spdyState=state,this.httpAllowHalfOpen=!0,state.timeout=new transport.utils.Timeout(this),state.protocol=transport.protocol[options.protocol],state.version=null,state.constants=state.protocol.constants,state.pair=null,state.isServer=options.isServer,state.priorityRoot=new transport.Priority({defaultWeight:state.constants.DEFAULT_WEIGHT,maxCount:transport.protocol.base.constants.MAX_PRIORITY_STREAMS}),state.maxStreams=options.maxStreams||state.constants.MAX_CONCURRENT_STREAMS,state.autoSpdy31="h2"!==options.protocol.name&&options.autoSpdy31,state.acceptPush=void 0===options.acceptPush?!state.isServer:options.acceptPush,options.maxChunk===!1?state.maxChunk=1/0:void 0===options.maxChunk?state.maxChunk=transport.protocol.base.constants.DEFAULT_MAX_CHUNK:state.maxChunk=options.maxChunk;var windowSize=options.windowSize||1<<20;state.window=new transport.Window({id:0,isServer:state.isServer,recv:{size:state.constants.DEFAULT_WINDOW,max:state.constants.MAX_INITIAL_WINDOW_SIZE},send:{size:state.constants.DEFAULT_WINDOW,max:state.constants.MAX_INITIAL_WINDOW_SIZE}}),state.window.recv.setMax(windowSize),state.streamWindow=new transport.Window({id:-1,isServer:state.isServer,recv:{size:windowSize,max:state.constants.MAX_INITIAL_WINDOW_SIZE},send:{size:state.constants.DEFAULT_WINDOW,max:state.constants.MAX_INITIAL_WINDOW_SIZE}}),state.maxChunk=void 0===options.maxChunk?8192:options.maxChunk,state.pool=state.protocol.compressionPool.create(options.headerCompression),state.counters={push:0,stream:0},state.stream={map:{},count:0,nextId:state.isServer?2:1,lastId:{both:0,received:0}},state.ping={nextId:state.isServer?2:1,map:{}},state.goaway=!1,state.debug=state.isServer?debug.server:debug.client,state.xForward=null,state.parser=state.protocol.parser.create({isServer:state.isServer,window:state.window}),state.framer=state.protocol.framer.create({window:state.window,timeout:state.timeout}),"spdy"===state.protocol.name&&state.framer.enablePush(state.isServer),state.isServer||state.parser.skipPreface(),this.socket=socket,this._init()}var util=__webpack_require__(14),transport=__webpack_require__(25),debug={server:__webpack_require__(10)("spdy:connection:server"),client:__webpack_require__(10)("spdy:connection:client")},EventEmitter=__webpack_require__(5).EventEmitter,Stream=transport.Stream;util.inherits(Connection,EventEmitter),exports.Connection=Connection,Connection.create=function(socket,options){return new Connection(socket,options)},Connection.prototype._init=function(){function _onWindowOverflow(){self._onWindowOverflow()}var self=this,state=this._spdyState,pool=state.pool;state.window.recv.on("drain",function(){self._onSessionWindowDrain()}),state.parser.on("data",function(frame){self._handleFrame(frame)}),state.parser.once("version",function(version){self._onVersion(version)}),state.parser.on("error",function(err){self._onParserError(err)}),state.framer.on("error",function(err){self.emit("error",err)}),this.socket.pipe(state.parser),state.framer.pipe(this.socket),this.socket.on("error",function(e){self.emit("error",e)}),this.socket.once("close",function(){var err=new Error("socket hang up");err.code="ECONNRESET",self.destroyStreams(err),self.emit("close",err),state.pair&&pool.put(state.pair)}),this.once("close",function(){self.setTimeout(0)}),state.window.recv.on("overflow",_onWindowOverflow),state.window.send.on("overflow",_onWindowOverflow),this.socket.allowHalfOpen=!1},Connection.prototype._onVersion=function(version){var state=this._spdyState,prev=state.version,parser=state.parser,framer=state.framer,pool=state.pool;state.version=version,state.debug("id=0 version=%d",version),prev||(state.pair=pool.get(version),parser.setCompression(state.pair),framer.setCompression(state.pair)),framer.setVersion(version),state.isServer||(framer.prefaceFrame(),null!==state.xForward&&framer.xForwardedFor({host:state.xForward})),framer.settingsFrame({max_header_list_size:state.constants.DEFAULT_MAX_HEADER_LIST_SIZE,max_concurrent_streams:state.maxStreams,enable_push:state.acceptPush?1:0,initial_window_size:state.window.recv.max}),(state.version>=3.1||state.isServer&&state.autoSpdy31)&&this._onSessionWindowDrain(),this.emit("version",version)},Connection.prototype._onParserError=function(err){var state=this._spdyState;state.parser.kill(),err instanceof transport.protocol.base.utils.ProtocolError&&this._goaway({lastId:state.stream.lastId.both,code:err.code,extra:err.message,send:!0}),this.emit("error",err)},Connection.prototype._handleFrame=function(frame){var state=this._spdyState;state.debug("id=0 frame",frame),state.timeout.reset(),this.emit("frame",frame);var stream;if("WINDOW_UPDATE"===frame.type&&0===frame.id)return state.version<3.1&&state.autoSpdy31&&(state.debug("id=0 switch version to 3.1"),state.version=3.1,this.emit("version",3.1)),void state.window.send.update(frame.delta);if(state.isServer&&"PUSH_PROMISE"===frame.type)return state.debug("id=0 server PUSH_PROMISE"),void this._goaway({lastId:state.stream.lastId.both,code:"PROTOCOL_ERROR",send:!0});if(!stream&&void 0!==frame.id&&(stream=state.stream.map[frame.id],!stream&&"HEADERS"!==frame.type&&"PRIORITY"!==frame.type&&"RST"!==frame.type)){if(this._isGoaway(frame.id))return;return state.debug("id=0 stream=%d not found",frame.id),void state.framer.rstFrame({id:frame.id,code:"INVALID_STREAM"})}return stream||"HEADERS"!==frame.type?void(stream?stream._handleFrame(frame):"SETTINGS"===frame.type?this._handleSettings(frame.settings):"ACK_SETTINGS"===frame.type||("PING"===frame.type?this._handlePing(frame):"GOAWAY"===frame.type?this._handleGoaway(frame):"X_FORWARDED_FOR"===frame.type?null===state.xForward&&(state.xForward=frame.host):"PRIORITY"===frame.type||state.debug("id=0 unknown frame type: %s",frame.type))):void this._handleHeaders(frame)},Connection.prototype._onWindowOverflow=function(){var state=this._spdyState;state.debug("id=0 window overflow"),this._goaway({lastId:state.stream.lastId.both,code:"FLOW_CONTROL_ERROR",send:!0})},Connection.prototype._isGoaway=function(id){var state=this._spdyState;return state.goaway!==!1&&state.goaway<id},Connection.prototype._getId=function(){var state=this._spdyState,id=state.stream.nextId;return state.stream.nextId+=2,id},Connection.prototype._createStream=function(uri){var state=this._spdyState,id=uri.id;void 0===id&&(id=this._getId());var isGoaway=this._isGoaway(id);uri.push&&!state.acceptPush&&(state.debug("id=0 push disabled promisedId=%d",id),this._goaway({lastId:state.stream.lastId.both,code:"PROTOCOL_ERROR",send:!0}),isGoaway=!0);var stream=new Stream(this,{id:id,request:uri.request!==!1,method:uri.method,path:uri.path,host:uri.host,priority:uri.priority,headers:uri.headers,parent:uri.parent,readable:!isGoaway&&uri.readable,writable:!isGoaway&&uri.writable}),self=this;return isGoaway?stream:(state.stream.lastId.both=Math.max(state.stream.lastId.both,id),state.debug("id=0 add stream=%d",stream.id),state.stream.map[stream.id]=stream,state.stream.count++,state.counters.stream++,null!==stream.parent&&state.counters.push++,stream.once("close",function(){self._removeStream(stream)}),stream)},Connection.prototype._handleHeaders=function(frame){var state=this._spdyState;if(!(frame.id<=state.stream.lastId.received)){if((frame.id+state.stream.nextId)%2===0)return void state.framer.rstFrame({id:frame.id,code:"PROTOCOL_ERROR"});var stream=this._createStream({id:frame.id,request:!1,method:frame.headers[":method"],path:frame.headers[":path"],host:frame.headers[":authority"],priority:frame.priority,headers:frame.headers,writable:frame.writable});if(!this._isGoaway(stream.id))return state.stream.lastId.received=Math.max(state.stream.lastId.received,stream.id),this.emit("stream",stream)?(frame.fin&&stream._handleFrame({type:"FIN",fin:!0}),stream):void stream.abort()}},Connection.prototype._onSessionWindowDrain=function(){var state=this._spdyState;if(!(state.version<3.1)||state.isServer&&state.autoSpdy31){var delta=state.window.recv.getDelta();0!==delta&&(state.debug("id=0 session window drain, update by %d",delta),state.framer.windowUpdateFrame({id:0,delta:delta}),state.window.recv.update(delta))}},Connection.prototype.start=function(version){this._spdyState.parser.setVersion(version)},Connection.prototype.getVersion=function(){return this._spdyState.version},Connection.prototype._handleSettings=function(settings){var state=this._spdyState;if(state.framer.ackSettingsFrame(),this._setDefaultWindow(settings),settings.max_frame_size&&state.framer.setMaxFrameSize(settings.max_frame_size),settings.header_table_size)try{state.pair.decompress.updateTableSize(settings.header_table_size)}catch(e){return void this._goaway({lastId:0,code:"PROTOCOL_ERROR",send:!0})}"spdy"!==state.protocol.name&&(void 0===settings.enable_push?state.framer.enablePush(state.isServer):state.framer.enablePush(1===settings.enable_push))},Connection.prototype._setDefaultWindow=function(settings){if(void 0!==settings.initial_window_size){var state=this._spdyState,window=state.streamWindow;window.send.setMax(settings.initial_window_size),Object.keys(state.stream.map).forEach(function(id){var stream=state.stream.map[id],window=stream._spdyState.window;window.send.updateMax(settings.initial_window_size)})}},Connection.prototype._handlePing=function(frame){var self=this,state=this._spdyState;if(!frame.ack)return state.framer.pingFrame({opaque:frame.opaque,ack:!0}),void self.emit("ping",frame.opaque);var hex=frame.opaque.toString("hex");if(state.ping.map[hex]){var ping=state.ping.map[hex];delete state.ping.map[hex],ping.cb&&ping.cb(null)}},Connection.prototype._handleGoaway=function(frame){this._goaway({lastId:frame.lastId,code:frame.code,send:!1})},Connection.prototype.ping=function(callback){var state=this._spdyState,opaque=new Buffer(state.constants.PING_OPAQUE_SIZE);opaque.fill(0),opaque.writeUInt32BE(state.ping.nextId,opaque.length-4),state.ping.nextId+=2,state.ping.map[opaque.toString("hex")]={cb:callback},state.framer.pingFrame({opaque:opaque,ack:!1})},Connection.prototype.getCounter=function(name){return this._spdyState.counters[name]},Connection.prototype.reserveStream=function(uri,callback){var stream=this._createStream(uri);if(this._isGoaway(stream.id)){var err=new Error("Can't send request after GOAWAY");return process.nextTick(function(){callback?callback(err):stream.emit("error",err)}),stream}return callback&&process.nextTick(function(){callback(null,stream)}),stream},Connection.prototype.request=function(uri,callback){var stream=this.reserveStream(uri,function(err){return err?void(callback?callback(err):stream.emit("error",err)):stream._wasSent()?void(callback&&callback(null,stream)):void stream.send(function(err){return err?callback?callback(err):stream.emit("error",err):void(callback&&callback(null,stream))})});return stream},Connection.prototype._removeStream=function(stream){var state=this._spdyState;state.debug("id=0 remove stream=%d",stream.id),delete state.stream.map[stream.id],state.stream.count--,0===state.stream.count&&this.emit("_streamDrain")},Connection.prototype._goaway=function(params){function finish(){return 0===state.stream.count||"OK"!==params.code?(state.parser.kill(),
void process.nextTick(function(){var err=new Error("Fatal error: "+params.code);self._onStreamDrain(err)})):void self.on("_streamDrain",self._onStreamDrain)}var state=this._spdyState,self=this;state.goaway=params.lastId,state.debug("id=0 goaway from=%d",state.goaway),Object.keys(state.stream.map).forEach(function(id){var stream=state.stream.map[id];stream.id<=params.lastId||(stream.abort(),stream.emit("error",new Error("New stream after GOAWAY")))}),params.send?state.framer.goawayFrame({lastId:params.lastId,code:params.code,extra:params.extra},finish):finish()},Connection.prototype._onStreamDrain=function(error){var state=this._spdyState;state.debug("id=0 _onStreamDrain"),state.framer.dump(),state.framer.unpipe(this.socket),this.socket.destroySoon&&this.socket.destroySoon(),this.emit("close",error)},Connection.prototype.end=function(callback){var state=this._spdyState;callback&&this.once("close",callback),this._goaway({lastId:state.stream.lastId.both,code:"OK",send:!0})},Connection.prototype.destroyStreams=function(err){var state=this._spdyState;Object.keys(state.stream.map).forEach(function(id){var stream=state.stream.map[id];stream.abort(),stream.emit("error",err)})},Connection.prototype.isServer=function(){return this._spdyState.isServer},Connection.prototype.getXForwardedFor=function(){return this._spdyState.xForward},Connection.prototype.sendXForwardedFor=function(host){var state=this._spdyState;null!==state.version?state.framer.xForwardedFor({host:host}):state.xForward=host},Connection.prototype.pushPromise=function(parent,uri,callback){var state=this._spdyState,stream=this._createStream({request:!1,parent:parent,method:uri.method,path:uri.path,host:uri.host,priority:uri.priority,headers:uri.headers,readable:!1});if(this._isGoaway(stream.id)){var err=new Error("Can't send PUSH_PROMISE after GOAWAY");return process.nextTick(function(){callback?callback(err):stream.emit("error",err)}),stream}if(uri.push&&!state.acceptPush){var err=new Error("Can't send PUSH_PROMISE, other side won't accept it");return process.nextTick(function(){callback?callback(err):stream.emit("error",err)}),stream}return stream._sendPush(uri.status,uri.response,function(err){return callback?err?callback(err):void callback(null,stream):void(err&&stream.emit("error",err))}),stream},Connection.prototype.setTimeout=function(delay,callback){var state=this._spdyState;state.timeout.set(delay,callback)}}).call(exports,__webpack_require__(0).Buffer,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";function PriorityNode(tree,options){this.tree=tree,this.id=options.id,this.parent=options.parent,this.weight=options.weight,this.priorityFrom=0,this.priorityTo=1,this.priority=1,this.children={list:[],weight:0},null!==this.parent&&this.parent.addChild(this)}function compareChildren(a,b){return a.weight===b.weight?a.id-b.id:a.weight-b.weight}function PriorityTree(options){this.map={},this.list=[],this.defaultWeight=options.defaultWeight||16,this.count=0,this.maxCount=options.maxCount,this.root=this.add({id:0,parent:null,weight:1})}var transport=__webpack_require__(25),utils=transport.utils,assert=__webpack_require__(28),debug=__webpack_require__(10)("spdy:priority");PriorityNode.prototype.toJSON=function(){return{parent:this.parent,weight:this.weight,exclusive:this.exclusive}},PriorityNode.prototype.getPriority=function(){return this.priority},PriorityNode.prototype.getPriorityRange=function(){return{from:this.priorityFrom,to:this.priorityTo}},PriorityNode.prototype.addChild=function(child){child.parent=this,utils.binaryInsert(this.children.list,child,compareChildren),this.children.weight+=child.weight,this._updatePriority(this.priorityFrom,this.priorityTo)},PriorityNode.prototype.remove=function(){assert(this.parent,"Can't remove root node"),this.parent.removeChild(this),this.tree._removeNode(this);for(var i=0;i<this.children.list.length;i++)this.parent.addChild(this.children.list[i])},PriorityNode.prototype.removeChild=function(child){this.children.weight-=child.weight;var index=utils.binarySearch(this.children.list,child,compareChildren);assert(index!==-1),this.children.list.splice(index,1)},PriorityNode.prototype.removeChildren=function(){var children=this.children.list;return this.children.list=[],this.children.weight=0,children},PriorityNode.prototype._updatePriority=function(from,to){this.priority=to-from,this.priorityFrom=from,this.priorityTo=to;for(var weight=0,i=0;i<this.children.list.length;i++){var node=this.children.list[i],nextWeight=weight+node.weight;node._updatePriority(from+this.priority*(weight/this.children.weight),from+this.priority*(nextWeight/this.children.weight)),weight=nextWeight}},module.exports=PriorityTree,PriorityTree.create=function(options){return new PriorityTree(options)},PriorityTree.prototype.add=function(options){if(options.id===options.parent)return this.addDefault(options.id);var parent=null===options.parent?null:this.map[options.parent];if(void 0===parent)return this.addDefault(options.id);debug("add node=%d parent=%d weight=%d exclusive=%d",options.id,null===options.parent?-1:options.parent,options.weight||this.defaultWeight,options.exclusive?1:0);var children;options.exclusive&&(children=parent.removeChildren());var node=new PriorityNode(this,{id:options.id,parent:parent,weight:options.weight||this.defaultWeight});if(this.map[options.id]=node,options.exclusive)for(var i=0;i<children.length;i++)node.addChild(children[i]);return this.count++,this.count>this.maxCount&&(debug("hit maximum remove id=%d",this.list[0].id),this.list.shift().remove()),null!==node.parent&&this.list.push(node),node},PriorityTree.prototype.get=function(id){return this.map[id]},PriorityTree.prototype.addDefault=function(id){return debug("creating default node"),this.add({id:id,parent:0,weight:this.defaultWeight})},PriorityTree.prototype._removeNode=function(node){delete this.map[node.id],this.count--}},function(module,exports){exports.DEFAULT_METHOD="GET",exports.DEFAULT_HOST="localhost",exports.MAX_PRIORITY_STREAMS=100,exports.DEFAULT_MAX_CHUNK=8192},function(module,exports,__webpack_require__){"use strict";(function(process){function Framer(options){Scheduler.call(this),this.version=null,this.compress=null,this.window=options.window,this.timeout=options.timeout,this.pushEnabled=null}var util=__webpack_require__(14),transport=__webpack_require__(25),base=__webpack_require__(183),Scheduler=base.Scheduler;util.inherits(Framer,Scheduler),module.exports=Framer,Framer.prototype.setVersion=function(version){this.version=version,this.emit("version")},Framer.prototype.setCompression=function(pair){this.compress=new transport.utils.LockStream(pair.compress)},Framer.prototype.enablePush=function(enable){this.pushEnabled=enable,this.emit("_pushEnabled")},Framer.prototype._checkPush=function(callback){if(null===this.pushEnabled)return void this.once("_pushEnabled",function(){this._checkPush(callback)});var err=null;this.pushEnabled||(err=new Error("PUSH_PROMISE disabled by other side")),process.nextTick(function(){return callback(err)})},Framer.prototype._resetTimeout=function(){this.timeout&&this.timeout.reset()}}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";(function(process){function Parser(options){Transform.call(this,{readableObjectMode:!0}),this.buffer=new OffsetBuffer,this.partial=!1,this.waiting=0,this.window=options.window,this.version=null,this.decompress=null,this.dead=!1}var transport=__webpack_require__(25),util=__webpack_require__(14),utils=__webpack_require__(183).utils,OffsetBuffer=__webpack_require__(130),Transform=__webpack_require__(184).Transform;module.exports=Parser,util.inherits(Parser,Transform),Parser.prototype.error=utils.error,Parser.prototype.kill=function(){this.dead=!0},Parser.prototype._transform=function(data,encoding,cb){this.dead||this.buffer.push(data),this._consume(cb)},Parser.prototype._consume=function(cb){function next(err,frame){if(err)return cb(err);if(Array.isArray(frame))for(var i=0;i<frame.length;i++)self.push(frame[i]);else frame&&self.push(frame);return sync?void process.nextTick(function(){self._consume(cb)}):self._consume(cb)}var self=this;if(this.dead)return cb();if(this.buffer.size<this.waiting){if(0===this.buffer.size)return cb();if(this.partial){var partial=this.buffer.clone(this.buffer.size);return this.buffer.skip(partial.size),this.waiting-=partial.size,void this.executePartial(partial,next)}return cb()}var sync=!0,content=this.buffer.clone(this.waiting);this.buffer.skip(this.waiting),this.execute(content,next),sync=!1},Parser.prototype.setVersion=function(version){this.version=version,this.emit("version",version)},Parser.prototype.setCompression=function(pair){this.decompress=new transport.utils.LockStream(pair.decompress)}}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";(function(process){function Scheduler(options){Readable.call(this),this.window=.25,options&&options.window&&(this.window=options.window),this.sync=[],this.list=[],this.count=0,this.pendingTick=!1}function insertCompare(a,b){return a.priority===b.priority?a.stream-b.stream:b.priority-a.priority}function SchedulerItem(stream,priority){this.stream=stream,this.priority=priority,this.queue=[]}var transport=__webpack_require__(25),utils=transport.utils,assert=__webpack_require__(28),util=__webpack_require__(14),debug=__webpack_require__(10)("spdy:scheduler"),Readable=__webpack_require__(184).Readable;util.inherits(Scheduler,Readable),module.exports=Scheduler,Scheduler.create=function(options){return new Scheduler(options)},Scheduler.prototype.schedule=function(data){var priority=data.priority,stream=data.stream,chunks=data.chunks;if(priority===!1)return debug("queue sync",chunks),this.sync.push(data),this.count+=chunks.length,void this._read();debug("queue async priority=%d stream=%d",priority,stream,chunks);var item=new SchedulerItem(stream,priority),index=utils.binaryLookup(this.list,item,insertCompare);index>=this.list.length||0!==insertCompare(this.list[index],item)?this.list.splice(index,0,item):item=this.list[index],item.push(data),this.count+=chunks.length,this._read()},Scheduler.prototype._read=function(){if(0!==this.count&&!this.pendingTick){this.pendingTick=!0;var self=this;process.nextTick(function(){self.pendingTick=!1,self.tick()})}},Scheduler.prototype.tick=function(){return!!this.tickSync()&&this.tickAsync()},Scheduler.prototype.tickSync=function(){var sync=this.sync,res=!0;this.sync=[];for(var i=0;i<sync.length;i++){var item=sync[i];debug("tick sync pending=%d",this.count,item.chunks);for(var j=0;j<item.chunks.length;j++)this.count--,res=this.push(item.chunks[j]);debug("after tick sync pending=%d",this.count),item.callback&&item.callback(null)}return res},Scheduler.prototype.tickAsync=function(){var res=!0,list=this.list;if(0===list.length)return res;for(var startPriority=list[0].priority,index=0;list.length>0;index++){index%=list.length,startPriority-list[index].priority>this.window&&(index=0),debug("tick async index=%d start=%d",index,startPriority);var current=list[index],item=current.shift();current.isEmpty()&&(list.splice(index,1),0===index&&list.length>0&&(startPriority=list[0].priority),index--),debug("tick async pending=%d",this.count,item.chunks);for(var i=0;i<item.chunks.length;i++)this.count--,res=this.push(item.chunks[i]);if(debug("after tick pending=%d",this.count),item.callback&&item.callback(null),!res)break}return res},Scheduler.prototype.dump=function(){for(this.tickSync();!this.tickAsync(););assert.equal(this.count,0)},SchedulerItem.prototype.push=function(chunks){this.queue.push(chunks)},SchedulerItem.prototype.shift=function(){return this.queue.shift()},SchedulerItem.prototype.isEmpty=function(){return 0===this.queue.length}}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";function ProtocolError(code,message){this.code=code,this.message=message}var utils=exports,util=__webpack_require__(14);util.inherits(ProtocolError,Error),utils.ProtocolError=ProtocolError,utils.error=function(code,message){return new ProtocolError(code,message)},utils.reverse=function(object){var result=[];return Object.keys(object).forEach(function(key){result[0|object[key]]=key}),result},utils.weightToPriority=function(weight){return Math.min(35,weight-1)/35*7|0},utils.priorityToWeight=function(priority){return(priority/7*35|0)+1},exports.addHeaderLine=function(field,value,dest){if(field=field.toLowerCase(),/^:/.test(field))return void(dest[field]=value);switch(field){case"set-cookie":void 0!==dest[field]?dest[field].push(value):dest[field]=[value];break;case"content-type":case"content-length":case"user-agent":case"referer":case"host":case"authorization":case"proxy-authorization":case"if-modified-since":case"if-unmodified-since":case"from":case"location":case"max-forwards":void 0===dest[field]&&(dest[field]=value);break;case"cookie":void 0!==dest[field]?dest[field]+="; "+value:dest[field]=value;break;default:void 0!==dest[field]?dest[field]+=", "+value:dest[field]=value}}},function(module,exports,__webpack_require__){"use strict";var transport=__webpack_require__(25),base=transport.protocol.base,util=__webpack_require__(14),Buffer=__webpack_require__(0).Buffer;exports.PREFACE_SIZE=24,exports.PREFACE="PRI * HTTP/2.0\r\n\r\nSM\r\n\r\n",exports.PREFACE_BUFFER=new Buffer(exports.PREFACE),exports.PING_OPAQUE_SIZE=8,exports.FRAME_HEADER_SIZE=9,exports.INITIAL_MAX_FRAME_SIZE=16384,exports.ABSOLUTE_MAX_FRAME_SIZE=16777215,exports.HEADER_TABLE_SIZE=4096,exports.DEFAULT_MAX_HEADER_LIST_SIZE=81920,exports.MAX_INITIAL_WINDOW_SIZE=2147483647,exports.DEFAULT_WEIGHT=16,exports.MAX_CONCURRENT_STREAMS=1/0,exports.frameType={DATA:0,HEADERS:1,PRIORITY:2,RST_STREAM:3,SETTINGS:4,PUSH_PROMISE:5,PING:6,GOAWAY:7,WINDOW_UPDATE:8,CONTINUATION:9,X_FORWARDED_FOR:222},exports.flags={ACK:1,END_STREAM:1,END_HEADERS:4,PADDED:8,PRIORITY:32},exports.settings={SETTINGS_HEADER_TABLE_SIZE:1,SETTINGS_ENABLE_PUSH:2,SETTINGS_MAX_CONCURRENT_STREAMS:3,SETTINGS_INITIAL_WINDOW_SIZE:4,SETTINGS_MAX_FRAME_SIZE:5,SETTINGS_MAX_HEADER_LIST_SIZE:6},exports.settingsIndex=[null,"header_table_size","enable_push","max_concurrent_streams","initial_window_size","max_frame_size","max_header_list_size"],exports.error={OK:0,NO_ERROR:0,PROTOCOL_ERROR:1,INTERNAL_ERROR:2,FLOW_CONTROL_ERROR:3,SETTINGS_TIMEOUT:4,STREAM_CLOSED:5,INVALID_STREAM:5,FRAME_SIZE_ERROR:6,REFUSED_STREAM:7,CANCEL:8,COMPRESSION_ERROR:9,CONNECT_ERROR:10,ENHANCE_YOUR_CALM:11,INADEQUATE_SECURITY:12,HTTP_1_1_REQUIRED:13},exports.errorByCode=base.utils.reverse(exports.error),exports.DEFAULT_WINDOW=65535,exports.goaway=exports.error,exports.goawayByCode=util._extend({},exports.errorByCode),exports.goawayByCode[0]="OK"},function(module,exports,__webpack_require__){"use strict";function Framer(options){base.Framer.call(this,options),this.maxFrameSize=constants.INITIAL_MAX_FRAME_SIZE}var transport=__webpack_require__(25),base=transport.protocol.base,constants=__webpack_require__(135).constants,assert=__webpack_require__(28),util=__webpack_require__(14),WriteBuffer=__webpack_require__(187),OffsetBuffer=__webpack_require__(130),debug=(__webpack_require__(0).Buffer,__webpack_require__(10)("spdy:framer")),debugExtra=__webpack_require__(10)("spdy:framer:extra");util.inherits(Framer,base.Framer),module.exports=Framer,Framer.create=function(options){return new Framer(options)},Framer.prototype.setMaxFrameSize=function(size){this.maxFrameSize=size},Framer.prototype._frame=function(frame,body,callback){debug("id=%d type=%s",frame.id,frame.type);var buffer=new WriteBuffer;buffer.reserve(constants.FRAME_HEADER_SIZE);var len=buffer.skip(3);buffer.writeUInt8(constants.frameType[frame.type]),buffer.writeUInt8(frame.flags),buffer.writeUInt32BE(2147483647&frame.id),body(buffer);var frameSize=buffer.size-constants.FRAME_HEADER_SIZE;len.writeUInt24BE(frameSize);var chunks=buffer.render(),toWrite={stream:frame.id,priority:void 0!==frame.priority&&frame.priority,chunks:chunks,callback:callback};if(this.window&&"DATA"===frame.type){var self=this;this._resetTimeout(),this.window.send.update(-frameSize,function(){self._resetTimeout(),self.schedule(toWrite)})}else this._resetTimeout(),this.schedule(toWrite);return chunks},Framer.prototype._split=function(frame){for(var buf=new OffsetBuffer,i=0;i<frame.chunks.length;i++)buf.push(frame.chunks[i]);for(var frames=[];!buf.isEmpty();){var size=this.maxFrameSize;0===frames.length&&(size-=frame.reserve),size=Math.min(size,buf.size);var frameBuf=buf.clone(size);buf.skip(size),frames.push({size:frameBuf.size,chunks:frameBuf.toChunks()})}return frames},Framer.prototype._continuationFrame=function(frame,body,callback){var frames=this._split(frame);frames.forEach(function(subFrame,i){var isFirst=0===i,isLast=i===frames.length-1,flags=isLast?constants.flags.END_HEADERS:0;isFirst&&(flags|=frame.flags),this._frame({id:frame.id,priority:!1,type:isFirst?frame.type:"CONTINUATION",flags:flags},function(buf){isFirst&&body&&body(buf),buf.reserve(subFrame.size);for(var i=0;i<subFrame.chunks.length;i++)buf.copyFrom(subFrame.chunks[i])},isLast?callback:null)},this),0===frames.length&&this._frame({id:frame.id,priority:!1,type:frame.type,flags:frame.flags|constants.flags.END_HEADERS},function(buf){body&&body(buf)},callback)},Framer.prototype._compressHeaders=function(headers,pairs,callback){Object.keys(headers||{}).forEach(function(name){var lowName=name.toLowerCase();if("host"!==lowName&&"connection"!==lowName&&!/^:/.test(lowName)){var neverIndex="cookie"===lowName||"set-cookie"===lowName,value=headers[name];if(Array.isArray(value))for(var i=0;i<value.length;i++)pairs.push({name:lowName,value:value[i]+"",neverIndex:neverIndex,huffman:!neverIndex});else pairs.push({name:lowName,value:value+"",neverIndex:neverIndex,huffman:!neverIndex})}});assert(null!==this.compress,"Framer version not initialized"),debugExtra("compressing headers=%j",pairs),this.compress.write([pairs],callback)},Framer.prototype._isDefaultPriority=function(priority){return!priority||!priority.parent&&priority.weight===constants.DEFAULT&&!priority.exclusive},Framer.prototype._defaultHeaders=function(frame,pairs){if(!frame.path)throw new Error("`path` is required frame argument");pairs.push({name:":method",value:frame.method||base.constants.DEFAULT_METHOD}),pairs.push({name:":path",value:frame.path}),pairs.push({name:":scheme",value:frame.scheme||"https"}),pairs.push({name:":authority",value:frame.host||frame.headers&&frame.headers.host||base.constants.DEFAULT_HOST})},Framer.prototype._headersFrame=function(kind,frame,callback){var pairs=[];"request"===kind?this._defaultHeaders(frame,pairs):"response"===kind&&pairs.push({name:":status",value:(frame.status||200)+""});var self=this;this._compressHeaders(frame.headers,pairs,function(err,chunks){if(err)return callback?callback(err):self.emit("error",err);var reserve=0,priority=frame.priority;self._isDefaultPriority(priority)||(reserve=5);var flags=0===reserve?0:constants.flags.PRIORITY;frame.fin&&(flags|=constants.flags.END_STREAM),self._continuationFrame({id:frame.id,type:"HEADERS",flags:flags,reserve:reserve,chunks:chunks},function(buf){0!==reserve&&(buf.writeUInt32BE((priority.exclusive?2147483648:0)|priority.parent),buf.writeUInt8((0|priority.weight)-1))},callback)})},Framer.prototype.requestFrame=function(frame,callback){return this._headersFrame("request",frame,callback)},Framer.prototype.responseFrame=function(frame,callback){return this._headersFrame("response",frame,callback)},Framer.prototype.headersFrame=function(frame,callback){return this._headersFrame("headers",frame,callback)},Framer.prototype.pushFrame=function(frame,callback){function compress(headers,pairs,callback){self._compressHeaders(headers,pairs,function(err,chunks){return err?callback?callback(err):self.emit("error",err):void callback(chunks)})}function sendPromise(chunks){self._continuationFrame({id:frame.id,type:"PUSH_PROMISE",reserve:4,chunks:chunks},function(buf){buf.writeUInt32BE(frame.promisedId)})}function sendResponse(chunks,callback){var priority=frame.priority,isDefaultPriority=self._isDefaultPriority(priority),flags=isDefaultPriority?0:constants.flags.PRIORITY;frame.fin&&(flags|=constants.flags.END_STREAM),self._continuationFrame({id:frame.promisedId,type:"HEADERS",flags:flags,reserve:isDefaultPriority?0:5,chunks:chunks},function(buf){isDefaultPriority||(buf.writeUInt32BE((priority.exclusive?2147483648:0)|priority.parent),buf.writeUInt8((0|priority.weight)-1))},callback)}var self=this;this._checkPush(function(err){if(err)return callback(err);var pairs={promise:[],response:[]};self._defaultHeaders(frame,pairs.promise),pairs.response.push({name:":status",value:(frame.status||200)+""}),compress(frame.headers,pairs.promise,function(promiseChunks){sendPromise(promiseChunks),compress(frame.response,pairs.response,function(responseChunks){sendResponse(responseChunks,callback)})})})},Framer.prototype.priorityFrame=function(frame,callback){this._frame({id:frame.id,priority:!1,type:"PRIORITY",flags:0},function(buf){var priority=frame.priority;buf.writeUInt32BE((priority.exclusive?2147483648:0)|priority.parent),buf.writeUInt8((0|priority.weight)-1)},callback)},Framer.prototype.dataFrame=function(frame,callback){var frames=this._split({reserve:0,chunks:[frame.data]}),fin=frame.fin?constants.flags.END_STREAM:0,self=this;frames.forEach(function(subFrame,i){var isLast=i===frames.length-1,flags=0;isLast&&(flags|=fin),self._frame({id:frame.id,priority:frame.priority,type:"DATA",flags:flags},function(buf){buf.reserve(subFrame.size);for(var i=0;i<subFrame.chunks.length;i++)buf.copyFrom(subFrame.chunks[i])},isLast?callback:null)}),0===frames.length&&this._frame({id:frame.id,priority:frame.priority,type:"DATA",flags:fin},function(buf){},callback)},Framer.prototype.pingFrame=function(frame,callback){this._frame({id:0,type:"PING",flags:frame.ack?constants.flags.ACK:0},function(buf){buf.copyFrom(frame.opaque)},callback)},Framer.prototype.rstFrame=function(frame,callback){this._frame({id:frame.id,type:"RST_STREAM",flags:0},function(buf){buf.writeUInt32BE(constants.error[frame.code])},callback)},Framer.prototype.prefaceFrame=function(callback){debug("preface"),this._resetTimeout(),this.schedule({stream:0,priority:!1,chunks:[constants.PREFACE_BUFFER],callback:callback})},Framer.prototype.settingsFrame=function(options,callback){var key=JSON.stringify(options),settings=Framer.settingsCache[key];if(settings)return debug("cached settings"),this._resetTimeout(),void this.schedule({id:0,priority:!1,chunks:settings,callback:callback});for(var params=[],i=0;i<constants.settingsIndex.length;i++){var name=constants.settingsIndex[i];name&&isFinite(options[name])&&void 0!==options[name]&&params.push({key:i,value:options[name]})}var bodySize=6*params.length,chunks=this._frame({id:0,type:"SETTINGS",flags:0},function(buffer){buffer.reserve(bodySize);for(var i=0;i<params.length;i++){var param=params[i];buffer.writeUInt16BE(param.key),buffer.writeUInt32BE(param.value)}},callback);Framer.settingsCache[key]=chunks},Framer.settingsCache={},Framer.prototype.ackSettingsFrame=function(callback){this._frame({id:0,type:"SETTINGS",flags:constants.flags.ACK},function(buffer){},callback)},Framer.prototype.windowUpdateFrame=function(frame,callback){this._frame({id:frame.id,type:"WINDOW_UPDATE",flags:0},function(buffer){buffer.reserve(4),buffer.writeInt32BE(frame.delta)},callback)},Framer.prototype.goawayFrame=function(frame,callback){this._frame({type:"GOAWAY",id:0,flags:0},function(buf){buf.reserve(8),buf.writeUInt32BE(2147483647&frame.lastId),buf.writeUInt32BE(constants.goaway[frame.code]),frame.extra&&buf.write(frame.extra)},callback)},Framer.prototype.xForwardedFor=function(frame,callback){this._frame({type:"X_FORWARDED_FOR",id:0,flags:0},function(buf){buf.write(frame.host)},callback)}},function(module,exports,__webpack_require__){"use strict";function Pool(){}var constants=(__webpack_require__(25),__webpack_require__(135).constants),hpack=__webpack_require__(78);module.exports=Pool,Pool.create=function(){return new Pool},Pool.prototype.get=function(version){var options={table:{maxSize:constants.HEADER_TABLE_SIZE}},compress=hpack.compressor.create(options),decompress=hpack.decompressor.create(options);return{version:version,compress:compress,decompress:decompress}},Pool.prototype.put=function(){}},function(module,exports,__webpack_require__){"use strict";function Parser(options){base.Parser.call(this,options),this.isServer=options.isServer,this.waiting=constants.PREFACE_SIZE,this.state="preface",this.pendingHeader=null,this._lastHeaderBlock=null,this.maxFrameSize=constants.INITIAL_MAX_FRAME_SIZE,this.maxHeaderListSize=constants.DEFAULT_MAX_HEADER_LIST_SIZE}var parser=exports,transport=__webpack_require__(25),base=transport.protocol.base,utils=base.utils,constants=__webpack_require__(135).constants,assert=__webpack_require__(28),util=__webpack_require__(14);util.inherits(Parser,base.Parser),parser.create=function(options){return new Parser(options)},Parser.prototype.setMaxFrameSize=function(size){this.maxFrameSize=size},Parser.prototype.setMaxHeaderListSize=function(size){this.maxHeaderListSize=size},Parser.prototype.skipPreface=function(){this.setVersion(4),this.state="frame-head",this.waiting=constants.FRAME_HEADER_SIZE},Parser.prototype.execute=function(buffer,callback){if("preface"===this.state)return this.onPreface(buffer,callback);if("frame-head"===this.state)return this.onFrameHead(buffer,callback);assert("frame-body"===this.state&&null!==this.pendingHeader);var self=this,header=this.pendingHeader;this.pendingHeader=null,this.onFrameBody(header,buffer,function(err,frame){return err?callback(err):(self.state="frame-head",self.partial=!1,self.waiting=constants.FRAME_HEADER_SIZE,void callback(null,frame))})},Parser.prototype.executePartial=function(buffer,callback){var header=this.pendingHeader;assert.equal(header.flags&constants.flags.PADDED,0),this.window&&this.window.recv.update(-buffer.size),callback(null,{type:"DATA",id:header.id,fin:!1,data:buffer.take(buffer.size)})},Parser.prototype.onPreface=function(buffer,callback){return buffer.take(buffer.size).toString()!==constants.PREFACE?callback(this.error(constants.error.PROTOCOL_ERROR,"Invalid preface")):(this.skipPreface(),void callback(null,null))},Parser.prototype.onFrameHead=function(buffer,callback){var header={length:buffer.readUInt24BE(),control:!0,type:buffer.readUInt8(),flags:buffer.readUInt8(),id:2147483647&buffer.readUInt32BE()};return header.length>this.maxFrameSize?callback(this.error(constants.error.FRAME_SIZE_ERROR,"Frame length OOB")):(header.control=header.type!==constants.frameType.DATA,this.state="frame-body",this.pendingHeader=header,this.waiting=header.length,this.partial=!header.control,this.partial&&(this.partial=0===(header.flags&constants.flags.PADDED)),void callback(null,null))},Parser.prototype.onFrameBody=function(header,buffer,callback){var frameType=constants.frameType;header.type===frameType.DATA?this.onDataFrame(header,buffer,callback):header.type===frameType.HEADERS?this.onHeadersFrame(header,buffer,callback):header.type===frameType.CONTINUATION?this.onContinuationFrame(header,buffer,callback):header.type===frameType.WINDOW_UPDATE?this.onWindowUpdateFrame(header,buffer,callback):header.type===frameType.RST_STREAM?this.onRSTFrame(header,buffer,callback):header.type===frameType.SETTINGS?this.onSettingsFrame(header,buffer,callback):header.type===frameType.PUSH_PROMISE?this.onPushPromiseFrame(header,buffer,callback):header.type===frameType.PING?this.onPingFrame(header,buffer,callback):header.type===frameType.GOAWAY?this.onGoawayFrame(header,buffer,callback):header.type===frameType.PRIORITY?this.onPriorityFrame(header,buffer,callback):header.type===frameType.X_FORWARDED_FOR?this.onXForwardedFrame(header,buffer,callback):this.onUnknownFrame(header,buffer,callback)},Parser.prototype.onUnknownFrame=function(header,buffer,callback){return null!==this._lastHeaderBlock?void callback(this.error(constants.error.PROTOCOL_ERROR,"Received unknown frame in the middle of a header block")):void callback(null,{type:"unknown: "+header.type})},Parser.prototype.unpadData=function(header,body,callback){var isPadded=0!==(header.flags&constants.flags.PADDED);if(!isPadded)return callback(null,body);if(!body.has(1))return callback(this.error(constants.error.FRAME_SIZE_ERROR,"Not enough space for padding"));var pad=body.readUInt8();if(!body.has(pad))return callback(this.error(constants.error.PROTOCOL_ERROR,"Invalid padding size"));var contents=body.clone(body.size-pad);body.skip(body.size),callback(null,contents)},Parser.prototype.onDataFrame=function(header,body,callback){var isEndStream=0!==(header.flags&constants.flags.END_STREAM);return 0===header.id?callback(this.error(constants.error.PROTOCOL_ERROR,"Received DATA frame with stream=0")):(this.window&&this.window.recv.update(-body.size),void this.unpadData(header,body,function(err,data){return err?callback(err):void callback(null,{type:"DATA",id:header.id,fin:isEndStream,data:data.take(data.size)})}))},Parser.prototype.initHeaderBlock=function(header,frame,block,callback){return this._lastHeaderBlock?callback(this.error(constants.error.PROTOCOL_ERROR,"Duplicate Stream ID")):(this._lastHeaderBlock={id:header.id,frame:frame,queue:[],size:0},void this.queueHeaderBlock(header,block,callback))},Parser.prototype.queueHeaderBlock=function(header,block,callback){var self=this,item=this._lastHeaderBlock;if(!this._lastHeaderBlock||item.id!==header.id)return callback(this.error(constants.error.PROTOCOL_ERROR,"No matching stream for continuation"));for(var fin=0!==(header.flags&constants.flags.END_HEADERS),chunks=block.toChunks(),i=0;i<chunks.length;i++){var chunk=chunks[i];item.queue.push(chunk),item.size+=chunk.length}return item.size>=self.maxHeaderListSize?callback(this.error(constants.error.PROTOCOL_ERROR,"Compressed header list is too large")):fin?(this._lastHeaderBlock=null,void this.decompress.write(item.queue,function(err,chunks){if(err)return callback(self.error(constants.error.COMPRESSION_ERROR,err.message));for(var headers={},size=0,i=0;i<chunks.length;i++){var header=chunks[i];if(size+=header.name.length+header.value.length+32,size>=self.maxHeaderListSize)return callback(self.error(constants.error.PROTOCOL_ERROR,"Header list is too large"));if(/[A-Z]/.test(header.name))return callback(self.error(constants.error.PROTOCOL_ERROR,"Header name must be lowercase"));utils.addHeaderLine(header.name,header.value,headers)}item.frame.headers=headers,item.frame.path=headers[":path"],callback(null,item.frame)})):callback(null,null)},Parser.prototype.onHeadersFrame=function(header,body,callback){var self=this;return 0===header.id?callback(this.error(constants.error.PROTOCOL_ERROR,"Invalid stream id for HEADERS")):void this.unpadData(header,body,function(err,data){if(err)return callback(err);var isPriority=0!==(header.flags&constants.flags.PRIORITY);if(!data.has(isPriority?5:0))return callback(self.error(constants.error.FRAME_SIZE_ERROR,"Not enough data for HEADERS"));var exclusive=!1,dependency=0,weight=constants.DEFAULT_WEIGHT;if(isPriority&&(dependency=data.readUInt32BE(),exclusive=0!==(2147483648&dependency),dependency&=2147483647,weight=data.readUInt8()+1),dependency===header.id)return callback(self.error(constants.error.PROTOCOL_ERROR,"Stream can't dependend on itself"));var streamInfo={type:"HEADERS",id:header.id,priority:{parent:dependency,exclusive:exclusive,weight:weight},fin:0!==(header.flags&constants.flags.END_STREAM),writable:!0,headers:null,path:null};self.initHeaderBlock(header,streamInfo,data,callback)})},Parser.prototype.onContinuationFrame=function(header,body,callback){this.queueHeaderBlock(header,body,callback)},Parser.prototype.onRSTFrame=function(header,body,callback){return 4!==body.size?callback(this.error(constants.error.FRAME_SIZE_ERROR,"RST_STREAM length not 4")):0===header.id?callback(this.error(constants.error.PROTOCOL_ERROR,"Invalid stream id for RST_STREAM")):void callback(null,{
type:"RST",id:header.id,code:constants.errorByCode[body.readUInt32BE()]})},Parser.prototype._validateSettings=function(settings){return void 0!==settings.enable_push&&0!==settings.enable_push&&1!==settings.enable_push?this.error(constants.error.PROTOCOL_ERROR,"SETTINGS_ENABLE_PUSH must be 0 or 1"):void 0!==settings.initial_window_size&&(settings.initial_window_size>constants.MAX_INITIAL_WINDOW_SIZE||settings.initial_window_size<0)?this.error(constants.error.FLOW_CONTROL_ERROR,"SETTINGS_INITIAL_WINDOW_SIZE is OOB"):void 0!==settings.max_frame_size&&(settings.max_frame_size>constants.ABSOLUTE_MAX_FRAME_SIZE||settings.max_frame_size<constants.INITIAL_MAX_FRAME_SIZE)?this.error(constants.error.PROTOCOL_ERROR,"SETTINGS_MAX_FRAME_SIZE is OOB"):void 0},Parser.prototype.onSettingsFrame=function(header,body,callback){if(0!==header.id)return callback(this.error(constants.error.PROTOCOL_ERROR,"Invalid stream id for SETTINGS"));var isAck=0!==(header.flags&constants.flags.ACK);if(isAck&&0!==body.size)return callback(this.error(constants.error.FRAME_SIZE_ERROR,"SETTINGS with ACK and non-zero length"));if(isAck)return callback(null,{type:"ACK_SETTINGS"});if(body.size%6!==0)return callback(this.error(constants.error.FRAME_SIZE_ERROR,"SETTINGS length not multiple of 6"));for(var settings={};!body.isEmpty();){var id=body.readUInt16BE(),value=body.readUInt32BE(),name=constants.settingsIndex[id];name&&(settings[name]=value)}var err=this._validateSettings(settings);return void 0!==err?callback(err):void callback(null,{type:"SETTINGS",settings:settings})},Parser.prototype.onPushPromiseFrame=function(header,body,callback){if(0===header.id)return callback(this.error(constants.error.PROTOCOL_ERROR,"Invalid stream id for PUSH_PROMISE"));var self=this;this.unpadData(header,body,function(err,data){if(err)return callback(err);if(!data.has(4))return callback(self.error(constants.error.FRAME_SIZE_ERROR,"PUSH_PROMISE length less than 4"));var streamInfo={type:"PUSH_PROMISE",id:header.id,fin:!1,promisedId:2147483647&data.readUInt32BE(),headers:null,path:null};self.initHeaderBlock(header,streamInfo,data,callback)})},Parser.prototype.onPingFrame=function(header,body,callback){if(8!==body.size)return callback(this.error(constants.error.FRAME_SIZE_ERROR,"PING length != 8"));if(0!==header.id)return callback(this.error(constants.error.PROTOCOL_ERROR,"Invalid stream id for PING"));var ack=0!==(header.flags&constants.flags.ACK);callback(null,{type:"PING",opaque:body.take(body.size),ack:ack})},Parser.prototype.onGoawayFrame=function(header,body,callback){if(!body.has(8))return callback(this.error(constants.error.FRAME_SIZE_ERROR,"GOAWAY length < 8"));if(0!==header.id)return callback(this.error(constants.error.PROTOCOL_ERROR,"Invalid stream id for GOAWAY"));var frame={type:"GOAWAY",lastId:body.readUInt32BE(),code:constants.goawayByCode[body.readUInt32BE()]};0!==body.size&&(frame.debug=body.take(body.size)),callback(null,frame)},Parser.prototype.onPriorityFrame=function(header,body,callback){if(5!==body.size)return callback(this.error(constants.error.FRAME_SIZE_ERROR,"PRIORITY length != 5"));if(0===header.id)return callback(this.error(constants.error.PROTOCOL_ERROR,"Invalid stream id for PRIORITY"));var dependency=body.readUInt32BE(),weight=body.readUInt8()+1;return dependency===header.id?callback(this.error(constants.error.PROTOCOL_ERROR,"Stream can't dependend on itself")):void callback(null,{type:"PRIORITY",id:header.id,priority:{exclusive:0!==(2147483648&dependency),parent:2147483647&dependency,weight:weight}})},Parser.prototype.onWindowUpdateFrame=function(header,body,callback){if(4!==body.size)return callback(this.error(constants.error.FRAME_SIZE_ERROR,"WINDOW_UPDATE length != 4"));var delta=body.readInt32BE();return 0===delta?callback(this.error(constants.error.PROTOCOL_ERROR,"WINDOW_UPDATE delta == 0")):void callback(null,{type:"WINDOW_UPDATE",id:header.id,delta:delta})},Parser.prototype.onXForwardedFrame=function(header,body,callback){callback(null,{type:"X_FORWARDED_FOR",host:body.take(body.size).toString()})}},function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(0).Buffer,dictionary={};module.exports=dictionary,dictionary[2]=new Buffer(["optionsgetheadpostputdeletetraceacceptaccept-charsetaccept-encodingaccept-","languageauthorizationexpectfromhostif-modified-sinceif-matchif-none-matchi","f-rangeif-unmodifiedsincemax-forwardsproxy-authorizationrangerefererteuser","-agent10010120020120220320420520630030130230330430530630740040140240340440","5406407408409410411412413414415416417500501502503504505accept-rangesageeta","glocationproxy-authenticatepublicretry-afterservervarywarningwww-authentic","ateallowcontent-basecontent-encodingcache-controlconnectiondatetrailertran","sfer-encodingupgradeviawarningcontent-languagecontent-lengthcontent-locati","oncontent-md5content-rangecontent-typeetagexpireslast-modifiedset-cookieMo","ndayTuesdayWednesdayThursdayFridaySaturdaySundayJanFebMarAprMayJunJulAugSe","pOctNovDecchunkedtext/htmlimage/pngimage/jpgimage/gifapplication/xmlapplic","ation/xhtmltext/plainpublicmax-agecharset=iso-8859-1utf-8gzipdeflateHTTP/1",".1statusversionurl\0"].join("")),dictionary[3]=new Buffer([0,0,0,7,111,112,116,105,111,110,115,0,0,0,4,104,101,97,100,0,0,0,4,112,111,115,116,0,0,0,3,112,117,116,0,0,0,6,100,101,108,101,116,101,0,0,0,5,116,114,97,99,101,0,0,0,6,97,99,99,101,112,116,0,0,0,14,97,99,99,101,112,116,45,99,104,97,114,115,101,116,0,0,0,15,97,99,99,101,112,116,45,101,110,99,111,100,105,110,103,0,0,0,15,97,99,99,101,112,116,45,108,97,110,103,117,97,103,101,0,0,0,13,97,99,99,101,112,116,45,114,97,110,103,101,115,0,0,0,3,97,103,101,0,0,0,5,97,108,108,111,119,0,0,0,13,97,117,116,104,111,114,105,122,97,116,105,111,110,0,0,0,13,99,97,99,104,101,45,99,111,110,116,114,111,108,0,0,0,10,99,111,110,110,101,99,116,105,111,110,0,0,0,12,99,111,110,116,101,110,116,45,98,97,115,101,0,0,0,16,99,111,110,116,101,110,116,45,101,110,99,111,100,105,110,103,0,0,0,16,99,111,110,116,101,110,116,45,108,97,110,103,117,97,103,101,0,0,0,14,99,111,110,116,101,110,116,45,108,101,110,103,116,104,0,0,0,16,99,111,110,116,101,110,116,45,108,111,99,97,116,105,111,110,0,0,0,11,99,111,110,116,101,110,116,45,109,100,53,0,0,0,13,99,111,110,116,101,110,116,45,114,97,110,103,101,0,0,0,12,99,111,110,116,101,110,116,45,116,121,112,101,0,0,0,4,100,97,116,101,0,0,0,4,101,116,97,103,0,0,0,6,101,120,112,101,99,116,0,0,0,7,101,120,112,105,114,101,115,0,0,0,4,102,114,111,109,0,0,0,4,104,111,115,116,0,0,0,8,105,102,45,109,97,116,99,104,0,0,0,17,105,102,45,109,111,100,105,102,105,101,100,45,115,105,110,99,101,0,0,0,13,105,102,45,110,111,110,101,45,109,97,116,99,104,0,0,0,8,105,102,45,114,97,110,103,101,0,0,0,19,105,102,45,117,110,109,111,100,105,102,105,101,100,45,115,105,110,99,101,0,0,0,13,108,97,115,116,45,109,111,100,105,102,105,101,100,0,0,0,8,108,111,99,97,116,105,111,110,0,0,0,12,109,97,120,45,102,111,114,119,97,114,100,115,0,0,0,6,112,114,97,103,109,97,0,0,0,18,112,114,111,120,121,45,97,117,116,104,101,110,116,105,99,97,116,101,0,0,0,19,112,114,111,120,121,45,97,117,116,104,111,114,105,122,97,116,105,111,110,0,0,0,5,114,97,110,103,101,0,0,0,7,114,101,102,101,114,101,114,0,0,0,11,114,101,116,114,121,45,97,102,116,101,114,0,0,0,6,115,101,114,118,101,114,0,0,0,2,116,101,0,0,0,7,116,114,97,105,108,101,114,0,0,0,17,116,114,97,110,115,102,101,114,45,101,110,99,111,100,105,110,103,0,0,0,7,117,112,103,114,97,100,101,0,0,0,10,117,115,101,114,45,97,103,101,110,116,0,0,0,4,118,97,114,121,0,0,0,3,118,105,97,0,0,0,7,119,97,114,110,105,110,103,0,0,0,16,119,119,119,45,97,117,116,104,101,110,116,105,99,97,116,101,0,0,0,6,109,101,116,104,111,100,0,0,0,3,103,101,116,0,0,0,6,115,116,97,116,117,115,0,0,0,6,50,48,48,32,79,75,0,0,0,7,118,101,114,115,105,111,110,0,0,0,8,72,84,84,80,47,49,46,49,0,0,0,3,117,114,108,0,0,0,6,112,117,98,108,105,99,0,0,0,10,115,101,116,45,99,111,111,107,105,101,0,0,0,10,107,101,101,112,45,97,108,105,118,101,0,0,0,6,111,114,105,103,105,110,49,48,48,49,48,49,50,48,49,50,48,50,50,48,53,50,48,54,51,48,48,51,48,50,51,48,51,51,48,52,51,48,53,51,48,54,51,48,55,52,48,50,52,48,53,52,48,54,52,48,55,52,48,56,52,48,57,52,49,48,52,49,49,52,49,50,52,49,51,52,49,52,52,49,53,52,49,54,52,49,55,53,48,50,53,48,52,53,48,53,50,48,51,32,78,111,110,45,65,117,116,104,111,114,105,116,97,116,105,118,101,32,73,110,102,111,114,109,97,116,105,111,110,50,48,52,32,78,111,32,67,111,110,116,101,110,116,51,48,49,32,77,111,118,101,100,32,80,101,114,109,97,110,101,110,116,108,121,52,48,48,32,66,97,100,32,82,101,113,117,101,115,116,52,48,49,32,85,110,97,117,116,104,111,114,105,122,101,100,52,48,51,32,70,111,114,98,105,100,100,101,110,52,48,52,32,78,111,116,32,70,111,117,110,100,53,48,48,32,73,110,116,101,114,110,97,108,32,83,101,114,118,101,114,32,69,114,114,111,114,53,48,49,32,78,111,116,32,73,109,112,108,101,109,101,110,116,101,100,53,48,51,32,83,101,114,118,105,99,101,32,85,110,97,118,97,105,108,97,98,108,101,74,97,110,32,70,101,98,32,77,97,114,32,65,112,114,32,77,97,121,32,74,117,110,32,74,117,108,32,65,117,103,32,83,101,112,116,32,79,99,116,32,78,111,118,32,68,101,99,32,48,48,58,48,48,58,48,48,32,77,111,110,44,32,84,117,101,44,32,87,101,100,44,32,84,104,117,44,32,70,114,105,44,32,83,97,116,44,32,83,117,110,44,32,71,77,84,99,104,117,110,107,101,100,44,116,101,120,116,47,104,116,109,108,44,105,109,97,103,101,47,112,110,103,44,105,109,97,103,101,47,106,112,103,44,105,109,97,103,101,47,103,105,102,44,97,112,112,108,105,99,97,116,105,111,110,47,120,109,108,44,97,112,112,108,105,99,97,116,105,111,110,47,120,104,116,109,108,43,120,109,108,44,116,101,120,116,47,112,108,97,105,110,44,116,101,120,116,47,106,97,118,97,115,99,114,105,112,116,44,112,117,98,108,105,99,112,114,105,118,97,116,101,109,97,120,45,97,103,101,61,103,122,105,112,44,100,101,102,108,97,116,101,44,115,100,99,104,99,104,97,114,115,101,116,61,117,116,102,45,56,99,104,97,114,115,101,116,61,105,115,111,45,56,56,53,57,45,49,44,117,116,102,45,44,42,44,101,110,113,61,48,46]),dictionary[3.1]=dictionary[3]},function(module,exports,__webpack_require__){"use strict";(function(process){function Framer(options){base.Framer.call(this,options)}var transport=__webpack_require__(25),constants=__webpack_require__(306).constants,base=transport.protocol.base,utils=base.utils,assert=__webpack_require__(28),util=__webpack_require__(14),Buffer=__webpack_require__(0).Buffer,WriteBuffer=__webpack_require__(187),debug=__webpack_require__(10)("spdy:framer");util.inherits(Framer,base.Framer),module.exports=Framer,Framer.create=function(options){return new Framer(options)},Framer.prototype.setMaxFrameSize=function(size){},Framer.prototype.headersToDict=function(headers,preprocess,callback){function stringify(value){return void 0!==value?Array.isArray(value)?value.join("\0"):"string"==typeof value?value:value.toString():""}var loweredHeaders={};Object.keys(headers||{}).map(function(key){loweredHeaders[key.toLowerCase()]=headers[key]}),preprocess&&preprocess(loweredHeaders);var size=2===this.version?2:4,len=size,pairs=Object.keys(loweredHeaders).filter(function(key){var lkey=key.toLowerCase();return!("host"===lkey&&this.version>=3)&&("connection"!==lkey&&"keep-alive"!==lkey&&"proxy-connection"!==lkey&&"transfer-encoding"!==lkey)},this).map(function(key){var klen=Buffer.byteLength(key),value=stringify(loweredHeaders[key]),vlen=Buffer.byteLength(value);return len+=2*size+klen+vlen,[klen,key,vlen,value]}),block=new WriteBuffer;block.reserve(len),2===this.version?block.writeUInt16BE(pairs.length):block.writeUInt32BE(pairs.length),pairs.forEach(function(pair){2===this.version?block.writeUInt16BE(pair[0]):block.writeUInt32BE(pair[0]),block.write(pair[1]),2===this.version?block.writeUInt16BE(pair[2]):block.writeUInt32BE(pair[2]),block.write(pair[3])},this),assert(null!==this.compress,"Framer version not initialized"),this.compress.write(block.render(),callback)},Framer.prototype._frame=function(frame,body,callback){if(!this.version)return void this.on("version",function(){this._frame(frame,body,callback)});debug("id=%d type=%s",frame.id,frame.type);var buffer=new WriteBuffer;buffer.writeUInt16BE(32768|this.version),buffer.writeUInt16BE(constants.frameType[frame.type]),buffer.writeUInt8(frame.flags);var len=buffer.skip(3);body(buffer);var frameSize=buffer.size-constants.FRAME_HEADER_SIZE;len.writeUInt24BE(frameSize);var chunks=buffer.render(),toWrite={stream:frame.id,priority:!1,chunks:chunks,callback:callback};return this._resetTimeout(),this.schedule(toWrite),chunks},Framer.prototype._synFrame=function(frame,callback){function preprocess(headers){var method=frame.method||base.constants.DEFAULT_METHOD,version=frame.version||"HTTP/1.1",scheme=frame.scheme||"https",host=frame.host||frame.headers&&frame.headers.host||base.constants.DEFAULT_HOST;2===self.version?(headers.method=method,headers.version=version,headers.url=frame.path,headers.scheme=scheme,headers.host=host,frame.status&&(headers.status=frame.status)):(headers[":method"]=method,headers[":version"]=version,headers[":path"]=frame.path,headers[":scheme"]=scheme,headers[":host"]=host,frame.status&&(headers[":status"]=frame.status))}var self=this;if(!frame.path)throw new Error("`path` is required frame argument");this.headersToDict(frame.headers,preprocess,function(err,chunks){return err?callback?callback(err):self.emit("error",err):void self._frame({type:"SYN_STREAM",id:frame.id,flags:frame.fin?constants.flags.FLAG_FIN:0},function(buf){buf.reserve(10),buf.writeUInt32BE(2147483647&frame.id),buf.writeUInt32BE(2147483647&frame.associated);var weight=frame.priority&&frame.priority.weight||constants.DEFAULT_WEIGHT,priority=utils.weightToPriority(weight);buf.writeUInt8(priority<<5),buf.writeUInt8(0);for(var i=0;i<chunks.length;i++)buf.copyFrom(chunks[i])},callback)})},Framer.prototype.requestFrame=function(frame,callback){this._synFrame({id:frame.id,fin:frame.fin,associated:0,method:frame.method,version:frame.version,scheme:frame.scheme,host:frame.host,path:frame.path,priority:frame.priority,headers:frame.headers},callback)},Framer.prototype.responseFrame=function(frame,callback){function preprocess(headers){2===self.version?(headers.status=frame.status+" "+reason,headers.version="HTTP/1.1"):(headers[":status"]=frame.status+" "+reason,headers[":version"]="HTTP/1.1")}var self=this,reason=frame.reason;reason||(reason=constants.statusReason[frame.status]),this.headersToDict(frame.headers,preprocess,function(err,chunks){return err?callback?callback(err):self.emit("error",err):void self._frame({type:"SYN_REPLY",id:frame.id,flags:0},function(buf){buf.reserve(2===self.version?6:4),buf.writeUInt32BE(2147483647&frame.id),2===self.version&&buf.writeUInt16BE(0);for(var i=0;i<chunks.length;i++)buf.copyFrom(chunks[i])},callback)})},Framer.prototype.pushFrame=function(frame,callback){var self=this;this._checkPush(function(err){return err?callback(err):void self._synFrame({id:frame.promisedId,associated:frame.id,method:frame.method,status:frame.status||200,version:frame.version,scheme:frame.scheme,host:frame.host,path:frame.path,priority:frame.priority,headers:util._extend(util._extend({},frame.headers),frame.response)},callback)})},Framer.prototype.headersFrame=function(frame,callback){var self=this;this.headersToDict(frame.headers,null,function(err,chunks){return err?callback?callback(err):self.emit("error",err):void self._frame({type:"HEADERS",id:frame.id,priority:!1,flags:0},function(buf){buf.reserve(4+(2===self.version?2:0)),buf.writeUInt32BE(2147483647&frame.id),2===self.version&&buf.writeUInt16BE(0);for(var i=0;i<chunks.length;i++)buf.copyFrom(chunks[i])},callback)})},Framer.prototype.dataFrame=function(frame,callback){if(!this.version)return this.on("version",function(){this.dataFrame(frame,callback)});debug("id=%d type=DATA",frame.id);var buffer=new WriteBuffer;buffer.reserve(8+frame.data.length),buffer.writeUInt32BE(2147483647&frame.id),buffer.writeUInt8(frame.fin?1:0),buffer.writeUInt24BE(frame.data.length),buffer.copyFrom(frame.data);var chunks=buffer.render(),toWrite={stream:frame.id,priority:frame.priority,chunks:chunks,callback:callback},self=this;this._resetTimeout();var bypass=this.version<3.1;this.window.send.update(-frame.data.length,bypass?function(){}:function(){self._resetTimeout(),self.schedule(toWrite)}),bypass&&(this._resetTimeout(),this.schedule(toWrite))},Framer.prototype.pingFrame=function(frame,callback){this._frame({type:"PING",id:0,flags:0},function(buf,callback){buf.reserve(4);var opaque=frame.opaque;buf.writeUInt32BE(opaque.readUInt32BE(opaque.length-4,!0))},callback)},Framer.prototype.rstFrame=function(frame,callback){this._frame({type:"RST_STREAM",id:frame.id,flags:0},function(buf){buf.reserve(8),buf.writeUInt32BE(2147483647&frame.id),buf.writeUInt32BE(constants.error[frame.code]),frame.extra&&buf.write(frame.extra)},callback)},Framer.prototype.prefaceFrame=function(){},Framer.prototype.settingsFrame=function(options,callback){var self=this,key=this.version+"/"+JSON.stringify(options),settings=Framer.settingsCache[key];if(settings)return debug("cached settings"),this._resetTimeout(),void this.schedule({stream:0,priority:!1,chunks:settings,callback:callback});for(var params=[],i=0;i<constants.settingsIndex.length;i++){var name=constants.settingsIndex[i];name&&isFinite(options[name])&&void 0!==options[name]&&params.push({key:i,value:options[name]})}var frame=this._frame({type:"SETTINGS",id:0,flags:0},function(buf){buf.reserve(4+8*params.length),buf.writeUInt32BE(params.length),params.forEach(function(param){var flag=constants.settings.FLAG_SETTINGS_PERSIST_VALUE<<24;2===self.version?buf.writeUInt32LE(flag|param.key):buf.writeUInt32BE(flag|param.key),buf.writeUInt32BE(2147483647&param.value)})},callback);Framer.settingsCache[key]=frame},Framer.settingsCache={},Framer.prototype.ackSettingsFrame=function(callback){callback&&process.nextTick(callback)},Framer.prototype.windowUpdateFrame=function(frame,callback){this._frame({type:"WINDOW_UPDATE",id:frame.id,flags:0},function(buf){buf.reserve(8),buf.writeUInt32BE(2147483647&frame.id),buf.writeInt32BE(frame.delta)},callback)},Framer.prototype.goawayFrame=function(frame,callback){this._frame({type:"GOAWAY",id:0,flags:0},function(buf){buf.reserve(8),buf.writeUInt32BE(2147483647&frame.lastId),buf.writeUInt32BE(constants.goaway[frame.code])},callback)},Framer.prototype.priorityFrame=function(frame,callback){callback&&process.nextTick(callback)},Framer.prototype.xForwardedFor=function(frame,callback){this._frame({type:"X_FORWARDED_FOR",id:0,flags:0},function(buf){buf.writeUInt32BE(Buffer.byteLength(frame.host)),buf.write(frame.host)},callback)}}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";function Parser(options){base.Parser.call(this,options),this.isServer=options.isServer,this.waiting=constants.FRAME_HEADER_SIZE,this.state="frame-head",this.pendingHeader=null}var parser=exports,transport=__webpack_require__(25),base=transport.protocol.base,utils=base.utils,constants=__webpack_require__(305),assert=__webpack_require__(28),util=__webpack_require__(14),OffsetBuffer=__webpack_require__(130);util.inherits(Parser,base.Parser),parser.create=function(options){return new Parser(options)},Parser.prototype.setMaxFrameSize=function(size){},Parser.prototype.setMaxHeaderListSize=function(size){},Parser.prototype.skipPreface=function(){},Parser.prototype.execute=function(buffer,callback){if("frame-head"===this.state)return this.onFrameHead(buffer,callback);assert("frame-body"===this.state&&null!==this.pendingHeader);var self=this,header=this.pendingHeader;this.pendingHeader=null,this.onFrameBody(header,buffer,function(err,frame){return err?callback(err):(self.state="frame-head",self.waiting=constants.FRAME_HEADER_SIZE,self.partial=!1,void callback(null,frame))})},Parser.prototype.executePartial=function(buffer,callback){var header=this.pendingHeader;this.window&&this.window.recv.update(-buffer.size),callback(null,{type:"DATA",id:header.id,fin:!1,data:buffer.take(buffer.size)})},Parser.prototype.onFrameHead=function(buffer,callback){var header={control:128===(128&buffer.peekUInt8()),version:null,type:null,id:null,flags:null,length:null};if(header.control?(header.version=32767&buffer.readUInt16BE(),header.type=buffer.readUInt16BE()):header.id=2147483647&buffer.readUInt32BE(0),header.flags=buffer.readUInt8(),header.length=buffer.readUInt24BE(),null===this.version&&header.control){if(2!==header.version&&3!==header.version)return callback(new Error("Unsupported SPDY version: "+header.version));this.setVersion(header.version)}this.state="frame-body",this.waiting=header.length,this.pendingHeader=header,this.partial=!header.control,callback(null,null)},Parser.prototype.onFrameBody=function(header,buffer,callback){return header.control?void(1===header.type||2===header.type?this.onSynHeadFrame(header.type,header.flags,buffer,callback):3===header.type?this.onRSTFrame(buffer,callback):4===header.type?this.onSettingsFrame(buffer,callback):5===header.type?callback(null,{type:"NOOP"}):6===header.type?this.onPingFrame(buffer,callback):7===header.type?this.onGoawayFrame(buffer,callback):8===header.type?this.onHeaderFrames(buffer,callback):9===header.type?this.onWindowUpdateFrame(buffer,callback):61440===header.type?this.onXForwardedFrame(buffer,callback):callback(null,{type:"unknown: "+header.type})):(this.window&&this.window.recv.update(-buffer.size),0!==(header.flags&constants.flags.FLAG_COMPRESSED)?callback(new Error("DATA compression not supported")):0===header.id?callback(this.error(constants.error.PROTOCOL_ERROR,"Invalid stream id for DATA")):callback(null,{type:"DATA",id:header.id,fin:0!==(header.flags&constants.flags.FLAG_FIN),data:buffer.take(buffer.size)}))},Parser.prototype._filterHeader=function(headers,name){for(var res={},keys=Object.keys(headers),i=0;i<keys.length;i++){var key=keys[i];key!==name&&(res[key]=headers[key])}return res},Parser.prototype.onSynHeadFrame=function(type,flags,body,callback){var self=this,stream=1===type,offset=stream?10:2===this.version?6:4;if(!body.has(offset))return callback(new Error("SynHead OOB"));var head=body.clone(offset);body.skip(offset),this.parseKVs(body,function(err,headers){if(err)return callback(err);if(stream&&(!headers[":method"]||!headers[":path"]))return callback(new Error("Missing `:method` and/or `:path` header"));var id=2147483647&head.readUInt32BE();if(0===id)return callback(self.error(constants.error.PROTOCOL_ERROR,"Invalid stream id for HEADERS"));var associated=stream?2147483647&head.readUInt32BE():0,priority=stream?head.readUInt8()>>5:utils.weightToPriority(constants.DEFAULT_WEIGHT),fin=0!==(flags&constants.flags.FLAG_FIN),unidir=0!==(flags&constants.flags.FLAG_UNIDIRECTIONAL),path=headers[":path"],isPush=stream&&0!==associated,weight=utils.priorityToWeight(priority),priorityInfo={weight:weight,exclusive:!1,parent:0};if(!isPush)return void callback(null,{type:"HEADERS",id:id,priority:priorityInfo,fin:fin,writable:!unidir,headers:headers,path:path});if(stream&&!headers[":status"])return callback(new Error("Missing `:status` header"));var filteredHeaders=self._filterHeader(headers,":status");callback(null,[{type:"PUSH_PROMISE",id:associated,fin:!1,promisedId:id,headers:filteredHeaders,path:path},{type:"HEADERS",id:id,fin:fin,priority:priorityInfo,writable:!0,path:void 0,headers:{":status":headers[":status"]}}])})},Parser.prototype.onHeaderFrames=function(body,callback){var offset=2===this.version?6:4;if(!body.has(offset))return callback(new Error("HEADERS OOB"));var streamId=2147483647&body.readUInt32BE();2===this.version&&body.skip(2),this.parseKVs(body,function(err,headers){return err?callback(err):void callback(null,{type:"HEADERS",priority:{parent:0,exclusive:!1,weight:constants.DEFAULT_WEIGHT},id:streamId,fin:!1,writable:!0,path:void 0,headers:headers})})},Parser.prototype.parseKVs=function(buffer,callback){var self=this;this.decompress.write(buffer.toChunks(),function(err,chunks){function readString(){if(!buffer.has(size))return null;var len=2===self.version?buffer.readUInt16BE():buffer.readUInt32BE();if(!buffer.has(len))return null;var value=buffer.take(len);return value.toString()}if(err)return callback(err);for(var buffer=new OffsetBuffer,i=0;i<chunks.length;i++)buffer.push(chunks[i]);var size=2===self.version?2:4;if(!buffer.has(size))return callback(new Error("KV OOB"));for(var count=2===self.version?buffer.readUInt16BE():buffer.readUInt32BE(),headers={};count>0;){var key=readString(),value=readString();if(null===key||null===value)return callback(new Error("Headers OOB"));if(self.version<3){var isInternal=/^(method|version|url|host|scheme|status)$/.test(key);"url"===key&&(key="path"),isInternal&&(key=":"+key)}if(":status"===key&&(value=value.split(/ /g,2)[0]),count--,":host"===key&&(key=":authority"),":version"!==key){value=value.split(/\0/g);for(var i=0;i<value.length;i++)utils.addHeaderLine(key,value[i],headers)}}callback(null,headers)})},Parser.prototype.onRSTFrame=function(body,callback){if(!body.has(8))return callback(new Error("RST OOB"));var frame={type:"RST",id:2147483647&body.readUInt32BE(),code:constants.errorByCode[body.readUInt32BE()]};return 0===frame.id?callback(this.error(constants.error.PROTOCOL_ERROR,"Invalid stream id for RST")):(0!==body.size&&(frame.extra=body.take(body.size)),void callback(null,frame))},Parser.prototype.onSettingsFrame=function(body,callback){if(!body.has(4))return callback(new Error("SETTINGS OOB"));var settings={},number=body.readUInt32BE(),idMap={1:"upload_bandwidth",2:"download_bandwidth",3:"round_trip_time",4:"max_concurrent_streams",5:"current_cwnd",6:"download_retrans_rate",7:"initial_window_size",8:"client_certificate_vector_size"};if(!body.has(8*number))return callback(new Error("SETTINGS OOB#2"));for(var i=0;i<number;i++){var id=2===this.version?body.readUInt32LE():body.readUInt32BE(),flags=id>>24&255;if(id=16777215&id,!(2&flags)){var name=idMap[id];settings[name]=body.readUInt32BE()}}callback(null,{type:"SETTINGS",settings:settings})},Parser.prototype.onPingFrame=function(body,callback){if(!body.has(4))return callback(new Error("PING OOB"));var isServer=this.isServer,opaque=body.clone(body.size).take(body.size),id=body.readUInt32BE(),ack=isServer?id%2===0:id%2===1;callback(null,{type:"PING",opaque:opaque,ack:ack})},Parser.prototype.onGoawayFrame=function(body,callback){return body.has(8)?void callback(null,{type:"GOAWAY",lastId:2147483647&body.readUInt32BE(),code:constants.goawayByCode[body.readUInt32BE()]}):callback(new Error("GOAWAY OOB"))},Parser.prototype.onWindowUpdateFrame=function(body,callback){return body.has(8)?void callback(null,{type:"WINDOW_UPDATE",id:2147483647&body.readUInt32BE(),delta:body.readInt32BE()}):callback(new Error("WINDOW_UPDATE OOB"))},Parser.prototype.onXForwardedFrame=function(body,callback){if(!body.has(4))return callback(new Error("X_FORWARDED OOB"));var len=body.readUInt32BE();return body.has(len)?void callback(null,{type:"X_FORWARDED_FOR",host:body.take(len).toString()}):callback(new Error("X_FORWARDED host length OOB"))}},function(module,exports,__webpack_require__){"use strict";function createDeflate(version,compression){var deflate=zlib.createDeflate({dictionary:transport.protocol.spdy.dictionary[version],flush:zlib.Z_SYNC_FLUSH,windowBits:11,level:compression?zlib.Z_DEFAULT_COMPRESSION:zlib.Z_NO_COMPRESSION});return deflate._flush=zlib.Z_SYNC_FLUSH,deflate}function createInflate(version){var inflate=zlib.createInflate({dictionary:transport.protocol.spdy.dictionary[version],flush:zlib.Z_SYNC_FLUSH,windowBits:0});return inflate._flush=zlib.Z_SYNC_FLUSH,inflate}function Pool(compression){this.compression=compression,this.pool={2:[],3:[],3.1:[]}}var zlibpool=exports,zlib=__webpack_require__(396),transport=__webpack_require__(25);zlibpool.create=function(compression){return new Pool(compression)},Pool.prototype.get=function(version){if(this.pool[version].length>0)return this.pool[version].pop();var id=version;return{version:version,compress:createDeflate(id,this.compression),decompress:createInflate(id)}},Pool.prototype.put=function(pair){this.pool[pair.version].push(pair)}},function(module,exports,__webpack_require__){"use strict";(function(process){function Stream(connection,options){function _onWindowOverflow(){self._onWindowOverflow()}Duplex.call(this);var connectionState=connection._spdyState,state={};this._spdyState=state,this.id=options.id,this.method=options.method,this.path=options.path,this.host=options.host,this.headers=options.headers||{},this.connection=connection,this.parent=options.parent||null,state.socket=null,state.protocol=connectionState.protocol,state.constants=state.protocol.constants,state.priority=null,state.version=this.connection.getVersion(),state.isServer=this.connection.isServer(),state.debug=state.isServer?debug.server:debug.client,state.framer=connectionState.framer,state.parser=connectionState.parser,state.request=options.request,state.needResponse=options.request,state.window=connectionState.streamWindow.clone(options.id),state.sessionWindow=connectionState.window,state.maxChunk=connectionState.maxChunk,state.sent=!state.request,state.readable=options.readable!==!1,state.writable=options.writable!==!1,state.aborted=!1,state.corked=0,state.corkQueue=[],state.timeout=new transport.utils.Timeout(this),this.on("finish",this._onFinish),this.on("end",this._onEnd);var self=this;state.window.recv.on("overflow",_onWindowOverflow),state.window.send.on("overflow",_onWindowOverflow),this._initPriority(options.priority),state.readable||this.push(null),state.writable||(this._writableState.ended=!0,this._writableState.finished=!0)}function checkAborted(stream,state,callback){return!!state.aborted&&(state.debug("id=%d abort write",stream.id),process.nextTick(function(){callback(new Error("Stream write aborted"))}),!0)}function _send(stream,state,data,callback){checkAborted(stream,state,callback)||(state.debug("id=%d presend=%d",stream.id,data.length),state.timeout.reset(),state.window.send.update(-data.length,function(){checkAborted(stream,state,callback)||(state.debug("id=%d send=%d",stream.id,data.length),state.timeout.reset(),state.framer.dataFrame({id:stream.id,priority:state.priority.getPriority(),fin:!1,data:data},function(err){state.debug("id=%d postsend=%d",stream.id,data.length),callback(err)}))}))}var transport=__webpack_require__(25),assert=__webpack_require__(28),util=__webpack_require__(14),debug={client:__webpack_require__(10)("spdy:stream:client"),server:__webpack_require__(10)("spdy:stream:server")},Buffer=__webpack_require__(0).Buffer,Duplex=__webpack_require__(184).Duplex;util.inherits(Stream,Duplex),exports.Stream=Stream,Stream.prototype._init=function(socket){this.socket=socket},Stream.prototype._initPriority=function(priority){var state=this._spdyState,connectionState=this.connection._spdyState,root=connectionState.priorityRoot;return priority?void(state.priority=root.add({id:this.id,parent:priority.parent,weight:priority.weight,exclusive:priority.exclusive})):void(state.priority=root.addDefault(this.id))},Stream.prototype._handleFrame=function(frame){var state=this._spdyState;return state.aborted?void state.debug("id=%d ignoring frame=%s after abort",this.id,frame.type):(state.timeout.reset(),"DATA"===frame.type?this._handleData(frame):"HEADERS"===frame.type?this._handleHeaders(frame):"RST"===frame.type?this._handleRST(frame):"WINDOW_UPDATE"===frame.type?this._handleWindowUpdate(frame):"PRIORITY"===frame.type?this._handlePriority(frame):"PUSH_PROMISE"===frame.type&&this._handlePushPromise(frame),void(frame.fin&&(state.debug("id=%d end",this.id),this.push(null))))},Stream.prototype._write=function(data,enc,callback){var state=this._spdyState;if(state.sent||this.send(),0!==state.corked){var self=this;return void state.corkQueue.push(function(){self._write(data,enc,callback)})}this._splitStart(data,_send,callback)},Stream.prototype._splitStart=function(data,onChunk,callback){return this._split(data,0,onChunk,callback)},Stream.prototype._split=function(data,offset,onChunk,callback){if(offset===data.length)return process.nextTick(callback);
var state=this._spdyState,local=state.window.send,session=state.sessionWindow.send,availSession=Math.max(0,session.getCurrent());0===availSession&&(availSession=session.getMax());var availLocal=Math.max(0,local.getCurrent());0===availLocal&&(availLocal=local.getMax());var avail=Math.min(availSession,availLocal);if(avail=Math.min(avail,state.maxChunk),0===avail){var self=this;return void state.window.send.update(0,function(){self._split(data,offset,onChunk,callback)})}var limit=avail,size=Math.min(data.length-offset,limit),chunk=data.slice(offset,offset+size),self=this;onChunk(this,state,chunk,function(err){return err?callback(err):void self._split(data,offset+size,onChunk,callback)})},Stream.prototype._read=function(){var state=this._spdyState;if(state.window.recv.isDraining()){var delta=state.window.recv.getDelta();state.debug("id=%d window emptying, update by %d",this.id,delta),state.window.recv.update(delta),state.framer.windowUpdateFrame({id:this.id,delta:delta})}},Stream.prototype._handleData=function(frame){var state=this._spdyState;return!state.readable||this._readableState.ended?void state.framer.rstFrame({id:this.id,code:"STREAM_CLOSED"}):(state.debug("id=%d recv=%d",this.id,frame.data.length),state.window.recv.update(-frame.data.length),void this.push(frame.data))},Stream.prototype._handleRST=function(frame){"CANCEL"!==frame.code&&this.emit("error",new Error("Got RST: "+frame.code)),this.abort()},Stream.prototype._handleWindowUpdate=function(frame){var state=this._spdyState;state.window.send.update(frame.delta)},Stream.prototype._onWindowOverflow=function(){var state=this._spdyState;state.debug("id=%d window overflow",this.id),state.framer.rstFrame({id:this.id,code:"FLOW_CONTROL_ERROR"}),this.aborted=!0,this.emit("error",new Error("HTTP2 window overflow"))},Stream.prototype._handlePriority=function(frame){var state=this._spdyState;state.priority.remove(),state.priority=null,this._initPriority(frame.priority),this.emit("priority",frame.priority)},Stream.prototype._handleHeaders=function(frame){var state=this._spdyState;return!state.readable||this._readableState.ended?void state.framer.rstFrame({id:this.id,code:"STREAM_CLOSED"}):state.needResponse?this._handleResponse(frame):void this.emit("headers",frame.headers)},Stream.prototype._handleResponse=function(frame){var state=this._spdyState;return void 0===frame.headers[":status"]?void state.framer.rstFrame({id:this.id,code:"PROTOCOL_ERROR"}):(state.needResponse=!1,void this.emit("response",0|frame.headers[":status"],frame.headers))},Stream.prototype._onFinish=function(){var state=this._spdyState;if(state.sent){if(0!==state.corked){var self=this;return void state.corkQueue.push(function(){self._onFinish()})}state.framer.dataFrame({id:this.id,priority:state.priority.getPriority(),fin:!0,data:new Buffer(0)})}else this.send();this._maybeClose()},Stream.prototype._onEnd=function(){this._maybeClose()},Stream.prototype._checkEnded=function(callback){var state=this._spdyState,ended=!1;if(state.aborted&&(ended=!0),state.writable&&!this._writableState.finished||(ended=!0),!ended)return!0;if(!callback)return!1;var err=new Error("Ended stream can't send frames");return process.nextTick(function(){callback(err)}),!1},Stream.prototype._maybeClose=function(){var state=this._spdyState;state.aborted||state.readable&&!this._readableState.ended||!this._writableState.finished||(state.timeout.set(0),this.emit("close"))},Stream.prototype._handlePushPromise=function(frame){var push=this.connection._createStream({id:frame.promisedId,parent:this,push:!0,request:!0,method:frame.headers[":method"],path:frame.headers[":path"],host:frame.headers[":authority"],priority:frame.priority,headers:frame.headers,writable:!1});this.connection._isGoaway(push.id)||this.emit("pushPromise",push)||push.abort()},Stream.prototype._hardCork=function(){var state=this._spdyState;this.cork(),state.corked++},Stream.prototype._hardUncork=function(){var state=this._spdyState;if(this.uncork(),state.corked--,0===state.corked){var queue=state.corkQueue;state.corkQueue=[];for(var i=0;i<queue.length;i++)queue[i]()}},Stream.prototype._sendPush=function(status,response,callback){var self=this,state=this._spdyState;this._hardCork(),state.framer.pushFrame({id:this.parent.id,promisedId:this.id,priority:state.priority.toJSON(),path:this.path,host:this.host,method:this.method,status:status,headers:this.headers,response:response},function(err){self._hardUncork(),callback(err)})},Stream.prototype._wasSent=function(){var state=this._spdyState;return state.sent},Stream.prototype.send=function(callback){var state=this._spdyState;if(state.sent){var err=new Error("Stream was already sent");return void process.nextTick(function(){callback&&callback(err)})}state.sent=!0,state.timeout.reset(),"GET"===this.method&&(this._writableState.ended=!0,this._writableState.finished=!0);var self=this;this._hardCork(),state.framer.requestFrame({id:this.id,method:this.method,path:this.path,host:this.host,priority:state.priority.toJSON(),headers:this.headers,fin:this._writableState.finished},function(err){self._hardUncork(),callback&&callback(err)})},Stream.prototype.respond=function(status,headers,callback){var self=this,state=this._spdyState;if(assert(!state.request,"Can't respond on request"),state.timeout.reset(),this._checkEnded(callback)){var frame={id:this.id,status:status,headers:headers};this._hardCork(),state.framer.responseFrame(frame,function(err){self._hardUncork(),callback&&callback(err)})}},Stream.prototype.setWindow=function(size){var state=this._spdyState;if(state.timeout.reset(),this._checkEnded()){state.debug("id=%d force window max=%d",this.id,size),state.window.recv.setMax(size);var delta=state.window.recv.getDelta();0!==delta&&(state.framer.windowUpdateFrame({id:this.id,delta:delta}),state.window.recv.update(delta))}},Stream.prototype.sendHeaders=function(headers,callback){var self=this,state=this._spdyState;if(state.timeout.reset(),this._checkEnded(callback)){if(!state.sent)return this.headers=util._extend({},this.headers),util._extend(this.headers,headers),void process.nextTick(function(){callback&&callback(null)});this._hardCork(),state.framer.headersFrame({id:this.id,headers:headers},function(err){self._hardUncork(),callback&&callback(err)})}},Stream.prototype.destroy=function(){this.abort()},Stream.prototype.abort=function(code,callback){var state=this._spdyState;if("function"==typeof code&&(callback=code,code=null),this._readableState.ended&&this._writableState.finished)return state.debug("id=%d already closed",this.id),void(callback&&process.nextTick(callback));if(state.aborted)return state.debug("id=%d already aborted",this.id),void(callback&&process.nextTick(callback));state.aborted=!0,state.debug("id=%d abort",this.id),this.setTimeout(0);var abortCode=code||"CANCEL";state.framer.rstFrame({id:this.id,code:abortCode});var self=this;process.nextTick(function(){callback&&callback(null),self.emit("close",new Error("Aborted, code: "+abortCode))})},Stream.prototype.setPriority=function(info){var state=this._spdyState;if(state.timeout.reset(),this._checkEnded()){state.debug("id=%d priority change",this.id,info);var frame={id:this.id,priority:info};this._handlePriority(frame),state.framer.priorityFrame(frame)}},Stream.prototype.pushPromise=function(uri,callback){if(this._checkEnded(callback)){var self=this;this._hardCork();var push=this.connection.pushPromise(this,uri,function(err){return self._hardUncork(),err||push._hardUncork(),callback?callback(err,push):void(err&&push.emit("error",err))});return push._hardCork(),push}},Stream.prototype.setMaxChunk=function(size){var state=this._spdyState;state.maxChunk=size},Stream.prototype.setTimeout=function(delay,callback){var state=this._spdyState;state.timeout.set(delay,callback)}}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";(function(process){function QueueItem(){this.prev=null,this.next=null}function Queue(){QueueItem.call(this),this.prev=this,this.next=this}function LockStream(stream){this.locked=!1,this.queue=[],this.stream=stream}function binaryLookup(list,item,compare){for(var start=0,end=list.length;start<end;){var pos=start+end>>1,cmp=compare(item,list[pos]);if(0===cmp){start=pos,end=pos;break}cmp<0?end=pos:start=pos+1}return start}function binaryInsert(list,item,compare){var index=binaryLookup(list,item,compare);list.splice(index,0,item)}function binarySearch(list,item,compare){var index=binaryLookup(list,item,compare);return index>=list.length?-1:0===compare(item,list[index])?index:-1}function Timeout(object){this.delay=0,this.timer=null,this.object=object}var util=__webpack_require__(14);exports.QueueItem=QueueItem,util.inherits(Queue,QueueItem),exports.Queue=Queue,Queue.prototype.insertTail=function(item){item.prev=this.prev,item.next=this,item.prev.next=item,item.next.prev=item},Queue.prototype.remove=function(item){var next=item.next,prev=item.prev;item.next=item,item.prev=item,next.prev=prev,prev.next=next},Queue.prototype.head=function(){return this.next},Queue.prototype.tail=function(){return this.prev},Queue.prototype.isEmpty=function(){return this.next===this},Queue.prototype.isRoot=function(item){return this===item},exports.LockStream=LockStream,LockStream.prototype.write=function(chunks,callback){function done(err,chunks){self.stream.removeListener("error",done),self.locked=!1,self.queue.length>0&&self.queue.shift()(),callback(err,chunks)}function onData(chunk){output.push(chunk)}function next(err){return self.stream.removeListener("data",onData),err?done(err):void done(null,output)}var self=this;if(this.locked)return void this.queue.push(function(){return self.write(chunks,callback)});this.locked=!0,this.stream.on("error",done);var output=[];this.stream.on("data",onData);for(var i=0;i<chunks.length-1;i++)this.stream.write(chunks[i]);chunks.length>0?this.stream.write(chunks[i],next):process.nextTick(next),this.stream.execute&&this.stream.execute(function(err){if(err)return done(err)})},exports.binaryLookup=binaryLookup,exports.binaryInsert=binaryInsert,exports.binarySearch=binarySearch,exports.Timeout=Timeout,Timeout.prototype.set=function(delay,callback){this.delay=delay,this.reset(),callback&&(0===this.delay?this.object.removeListener("timeout",callback):this.object.once("timeout",callback))},Timeout.prototype.reset=function(){if(null!==this.timer&&(clearTimeout(this.timer),this.timer=null),0!==this.delay){var self=this;this.timer=setTimeout(function(){self.timer=null,self.object.emit("timeout")},this.delay)}}}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";(function(process){function Side(window,name,options){EventEmitter.call(this),this.name=name,this.window=window,this.current=options.size,this.max=options.size,this.limit=options.max,this.lowWaterMark=void 0===options.lowWaterMark?this.max/2:options.lowWaterMark,this._refilling=!1,this._refillQueue=[]}function Window(options){this.id=options.id,this.isServer=options.isServer,this.debug=this.isServer?debug.server:debug.client,this.recv=new Side(this,"recv",options.recv),this.send=new Side(this,"send",options.send)}var util=__webpack_require__(14),EventEmitter=__webpack_require__(5).EventEmitter,debug={server:__webpack_require__(10)("spdy:window:server"),client:__webpack_require__(10)("spdy:window:client")};util.inherits(Side,EventEmitter),Side.prototype.setMax=function(max){this.window.debug("id=%d side=%s setMax=%d",this.window.id,this.name,max),this.max=max,this.lowWaterMark=this.max/2},Side.prototype.updateMax=function(max){var delta=max-this.max;this.window.debug("id=%d side=%s updateMax=%d delta=%d",this.window.id,this.name,max,delta),this.max=max,this.lowWaterMark=max/2,this.update(delta)},Side.prototype.setLowWaterMark=function(lwm){this.lowWaterMark=lwm},Side.prototype.update=function(size,callback){return size<=0&&callback&&this.isEmpty()?(this.window.debug("id=%d side=%s wait for refill=%d [%d/%d]",this.window.id,this.name,-size,this.current,this.max),void this._refillQueue.push({size:size,callback:callback})):(this.current+=size,this.current>this.limit?void this.emit("overflow"):(this.window.debug("id=%d side=%s update by=%d [%d/%d]",this.window.id,this.name,size,this.current,this.max),size<0&&this.isDraining()&&(this.window.debug("id=%d side=%s drained",this.window.id,this.name),this.emit("drain")),size>0&&this.current>0&&this.current<=size&&(this.window.debug("id=%d side=%s full",this.window.id,this.name),this.emit("full")),this._processRefillQueue(),void(callback&&process.nextTick(callback))))},Side.prototype.getCurrent=function(){return this.current},Side.prototype.getMax=function(){return this.max},Side.prototype.getDelta=function(){return this.max-this.current},Side.prototype.isDraining=function(){return this.current<=this.lowWaterMark},Side.prototype.isEmpty=function(){return this.current<=0},Side.prototype._processRefillQueue=function(){if(!this._refilling){for(this._refilling=!0;this._refillQueue.length>0;){var item=this._refillQueue[0];if(this.isEmpty())break;this.window.debug("id=%d side=%s refilled for size=%d",this.window.id,this.name,-item.size),this._refillQueue.shift(),this.update(item.size,item.callback)}this._refilling=!1}},module.exports=Window,Window.prototype.clone=function(id){return new Window({id:id,isServer:this.isServer,recv:{size:this.recv.max,max:this.recv.limit,lowWaterMark:this.recv.lowWaterMark},send:{size:this.send.max,max:this.send.limit,lowWaterMark:this.send.lowWaterMark}})}}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";function PassThrough(options){return this instanceof PassThrough?void Transform.call(this,options):new PassThrough(options)}module.exports=PassThrough;var Transform=__webpack_require__(308),util=__webpack_require__(4);util.inherits=__webpack_require__(2),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},function(module,exports,__webpack_require__){!function(){function exec(arr,comp){"function"!=typeof comp&&(comp=function(a,b){return String(a).localeCompare(b)});var len=arr.length;if(len<=1)return arr;for(var buffer=new Array(len),chk=1;chk<len;chk*=2){pass(arr,comp,chk,buffer);var tmp=arr;arr=buffer,buffer=tmp}return arr}var stable=function(arr,comp){return exec(arr.slice(),comp)};stable.inplace=function(arr,comp){var result=exec(arr,comp);return result!==arr&&pass(result,null,arr.length,arr),arr};var pass=function(arr,comp,chk,result){var l,r,e,li,ri,len=arr.length,i=0,dbl=2*chk;for(l=0;l<len;l+=dbl)for(r=l+chk,e=r+chk,r>len&&(r=len),e>len&&(e=len),li=l,ri=r;;)if(li<r&&ri<e)comp(arr[li],arr[ri])<=0?result[i++]=arr[li++]:result[i++]=arr[ri++];else if(li<r)result[i++]=arr[li++];else{if(!(ri<e))break;result[i++]=arr[ri++]}};module.exports=stable}()},function(module,exports,__webpack_require__){module.exports=__webpack_require__(66)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(310)},function(module,exports,__webpack_require__){(function(process){var Stream=function(){try{return __webpack_require__(6)}catch(_){}}();exports=module.exports=__webpack_require__(311),exports.Stream=Stream||exports,exports.Readable=exports,exports.Writable=__webpack_require__(186),exports.Duplex=__webpack_require__(66),exports.Transform=__webpack_require__(185),exports.PassThrough=__webpack_require__(310),!process.browser&&"disable"===process.env.READABLE_STREAM&&Stream&&(module.exports=Stream)}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){module.exports=__webpack_require__(185)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(186)},function(module,exports,__webpack_require__){"use strict";(function(Buffer){var util=__webpack_require__(14),stream=__webpack_require__(6);module.exports.createReadStream=function(object,options){return new MultiStream(object,options)};var MultiStream=function(object,options){object instanceof Buffer||"string"==typeof object?(options=options||{},stream.Readable.call(this,{highWaterMark:options.highWaterMark,encoding:options.encoding})):stream.Readable.call(this,{objectMode:!0}),this._object=object};util.inherits(MultiStream,stream.Readable),MultiStream.prototype._read=function(){this.push(this._object),this._object=null}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";(function(process){function ReadableState(options,stream){Duplex=Duplex||__webpack_require__(101),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=options.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=__webpack_require__(13).StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){return Duplex=Duplex||__webpack_require__(101),this instanceof Readable?(this._readableState=new ReadableState(options,this),this.readable=!0,options&&"function"==typeof options.read&&(this._read=options.read),void Stream.call(this)):new Readable(options)}function readableAddChunk(stream,state,chunk,encoding,addToFront){var er=chunkInvalid(state,chunk);if(er)stream.emit("error",er);else if(null===chunk)state.reading=!1,onEofChunk(stream,state);else if(state.objectMode||chunk&&chunk.length>0)if(state.ended&&!addToFront){var e=new Error("stream.push() after EOF");stream.emit("error",e)}else if(state.endEmitted&&addToFront){var e=new Error("stream.unshift() after end event");stream.emit("error",e)}else{var skipAdd;!state.decoder||addToFront||encoding||(chunk=state.decoder.write(chunk),skipAdd=!state.objectMode&&0===chunk.length),addToFront||(state.reading=!1),skipAdd||(state.flowing&&0===state.length&&!state.sync?(stream.emit("data",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream))),maybeReadMore(stream,state)}else addToFront||(state.reading=!1);return needMoreData(state)}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}function computeNewHighWaterMark(n){return n>=MAX_HWM?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}function howMuchToRead(n,state){return 0===state.length&&state.ended?0:state.objectMode?0===n?0:1:null===n||isNaN(n)?state.flowing&&state.buffer.length?state.buffer[0].length:state.length:n<=0?0:(n>state.highWaterMark&&(state.highWaterMark=computeNewHighWaterMark(n)),n>state.length?state.ended?state.length:(state.needReadable=!0,0):n)}function chunkInvalid(state,chunk){var er=null;return Buffer.isBuffer(chunk)||"string"==typeof chunk||null===chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er}function onEofChunk(stream,state){if(!state.ended){if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,emitReadable(stream)}}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,state.sync?processNextTick(emitReadable_,stream):emitReadable_(stream))}function emitReadable_(stream){debug("emit readable"),stream.emit("readable"),flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,processNextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(var len=state.length;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug("maybeReadMore read 0"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,"data")&&(state.flowing=!0,flow(src))}}function nReadingNextTick(self){debug("readable nexttick read 0"),self.read(0)}function resume(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,processNextTick(resume_,stream,state))}function resume_(stream,state){state.reading||(debug("resume read 0"),stream.read(0)),state.resumeScheduled=!1,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;if(debug("flow",state.flowing),state.flowing)do var chunk=stream.read();while(null!==chunk&&state.flowing)}function fromList(n,state){var ret,list=state.buffer,length=state.length,stringMode=!!state.decoder,objectMode=!!state.objectMode;if(0===list.length)return null;if(0===length)ret=null;else if(objectMode)ret=list.shift();else if(!n||n>=length)ret=stringMode?list.join(""):1===list.length?list[0]:Buffer.concat(list,length),list.length=0;else if(n<list[0].length){var buf=list[0];ret=buf.slice(0,n),list[0]=buf.slice(n)}else if(n===list[0].length)ret=list.shift();else{ret=stringMode?"":new Buffer(n);for(var c=0,i=0,l=list.length;i<l&&c<n;i++){var buf=list[0],cpy=Math.min(n-c,buf.length);stringMode?ret+=buf.slice(0,cpy):buf.copy(ret,c,0,cpy),cpy<buf.length?list[0]=buf.slice(cpy):list.shift(),c+=cpy}}return ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error("endReadable called on non-empty stream");state.endEmitted||(state.ended=!0,processNextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit("end"))}function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++)f(xs[i],i)}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}module.exports=Readable;var processNextTick=__webpack_require__(7),isArray=__webpack_require__(34),Buffer=__webpack_require__(0).Buffer;Readable.ReadableState=ReadableState;var Stream,EElistenerCount=(__webpack_require__(5),function(emitter,type){return emitter.listeners(type).length});!function(){try{Stream=__webpack_require__(6)}catch(_){}finally{Stream||(Stream=__webpack_require__(5).EventEmitter)}}();var Buffer=__webpack_require__(0).Buffer,util=__webpack_require__(4);util.inherits=__webpack_require__(2);var debugUtil=__webpack_require__(805),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var StringDecoder;util.inherits(Readable,Stream);var Duplex,Duplex;Readable.prototype.push=function(chunk,encoding){var state=this._readableState;return state.objectMode||"string"!=typeof chunk||(encoding=encoding||state.defaultEncoding,encoding!==state.encoding&&(chunk=new Buffer(chunk,encoding),encoding="")),readableAddChunk(this,state,chunk,encoding,!1)},Readable.prototype.unshift=function(chunk){var state=this._readableState;return readableAddChunk(this,state,chunk,"",!0)},Readable.prototype.isPaused=function(){return this._readableState.flowing===!1},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=__webpack_require__(13).StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};var MAX_HWM=8388608;Readable.prototype.read=function(n){debug("read",n);var state=this._readableState,nOrig=n;if(("number"!=typeof n||n>0)&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug("read: emitReadable",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(n=howMuchToRead(n,state),0===n&&state.ended)return 0===state.length&&endReadable(this),null;var doRead=state.needReadable;debug("need readable",doRead),(0===state.length||state.length-n<state.highWaterMark)&&(doRead=!0,debug("length less than watermark",doRead)),(state.ended||state.reading)&&(doRead=!1,debug("reading or ended",doRead)),doRead&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1),doRead&&!state.reading&&(n=howMuchToRead(nOrig,state));var ret;return ret=n>0?fromList(n,state):null,null===ret&&(state.needReadable=!0,n=0),state.length-=n,0!==state.length||state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&0===state.length&&endReadable(this),null!==ret&&this.emit("data",ret),ret},Readable.prototype._read=function(n){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(dest,pipeOpts){function onunpipe(readable){debug("onunpipe"),readable===src&&cleanup()}function onend(){debug("onend"),dest.end()}function cleanup(){debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",cleanup),src.removeListener("data",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain()}function ondata(chunk){debug("ondata");var ret=dest.write(chunk);!1===ret&&(1!==state.pipesCount||state.pipes[0]!==dest||1!==src.listenerCount("data")||cleanedUp||(debug("false write response, pause",src._readableState.awaitDrain),src._readableState.awaitDrain++),src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EElistenerCount(dest,"error")&&dest.emit("error",er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||pipeOpts.end!==!1)&&dest!==process.stdout&&dest!==process.stderr,endFn=doEnd?onend:cleanup;state.endEmitted?processNextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=!1;return src.on("data",ondata),dest._events&&dest._events.error?isArray(dest._events.error)?dest._events.error.unshift(onerror):dest._events.error=[onerror,dest._events.error]:dest.on("error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState;if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes?this:(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this),this);if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var _i=0;_i<len;_i++)dests[_i].emit("unpipe",this);return this}var i=indexOf(state.pipes,dest);return i===-1?this:(state.pipes.splice(i,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this),this)},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if("data"===ev&&!1!==this._readableState.flowing&&this.resume(),"readable"===ev&&!this._readableState.endEmitted){var state=this._readableState;state.readableListening||(state.readableListening=!0,state.emittedReadable=!1,state.needReadable=!0,state.reading?state.length&&emitReadable(this,state):processNextTick(nReadingNextTick,this))}return res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!0,resume(this,state)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(stream){var state=this._readableState,paused=!1,self=this;stream.on("end",function(){if(debug("wrapped end"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&self.push(chunk)}self.push(null)}),stream.on("data",function(chunk){if(debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),(!state.objectMode||null!==chunk&&void 0!==chunk)&&(state.objectMode||chunk&&chunk.length)){var ret=self.push(chunk);ret||(paused=!0,stream.pause())}});for(var i in stream)void 0===this[i]&&"function"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));var events=["error","close","destroy","pause","resume"];return forEach(events,function(ev){stream.on(ev,self.emit.bind(self,ev))}),self._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},self},Readable._fromList=fromList}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";function TransformState(stream){this.afterTransform=function(er,data){return afterTransform(stream,er,data)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(stream,er,data){var ts=stream._transformState;ts.transforming=!1;var cb=ts.writecb;if(!cb)return stream.emit("error",new Error("no writecb in Transform class"));ts.writechunk=null,ts.writecb=null,null!==data&&void 0!==data&&stream.push(data),cb(er);var rs=stream._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&stream._read(rs.highWaterMark)}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState=new TransformState(this);var stream=this;this._readableState.needReadable=!0,this._readableState.sync=!1,options&&("function"==typeof options.transform&&(this._transform=options.transform),"function"==typeof options.flush&&(this._flush=options.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(er){done(stream,er)}):done(stream)})}function done(stream,er){if(er)return stream.emit("error",er);var ws=stream._writableState,ts=stream._transformState;if(ws.length)throw new Error("calling transform done when ws.length != 0");if(ts.transforming)throw new Error("calling transform done when still transforming");return stream.push(null)}module.exports=Transform;var Duplex=__webpack_require__(101),util=__webpack_require__(4);util.inherits=__webpack_require__(2),util.inherits(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("not implemented")},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;null!==ts.writechunk&&ts.writecb&&!ts.transforming?(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)):ts.needTransform=!0}},function(module,exports,__webpack_require__){"use strict";(function(process,setImmediate){
function nop(){}function WriteReq(chunk,encoding,cb){this.chunk=chunk,this.encoding=encoding,this.callback=cb,this.next=null}function WritableState(options,stream){Duplex=Duplex||__webpack_require__(101),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var noDecode=options.decodeStrings===!1;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){onwrite(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this),this.corkedRequestsFree.next=new CorkedRequest(this)}function Writable(options){return Duplex=Duplex||__webpack_require__(101),this instanceof Writable||this instanceof Duplex?(this._writableState=new WritableState(options,this),this.writable=!0,options&&("function"==typeof options.write&&(this._write=options.write),"function"==typeof options.writev&&(this._writev=options.writev)),void Stream.call(this)):new Writable(options)}function writeAfterEnd(stream,cb){var er=new Error("write after end");stream.emit("error",er),processNextTick(cb,er)}function validChunk(stream,state,chunk,cb){var valid=!0;if(!Buffer.isBuffer(chunk)&&"string"!=typeof chunk&&null!==chunk&&void 0!==chunk&&!state.objectMode){var er=new TypeError("Invalid non-string/buffer chunk");stream.emit("error",er),processNextTick(cb,er),valid=!1}return valid}function decodeChunk(state,chunk,encoding){return state.objectMode||state.decodeStrings===!1||"string"!=typeof chunk||(chunk=new Buffer(chunk,encoding)),chunk}function writeOrBuffer(stream,state,chunk,encoding,cb){chunk=decodeChunk(state,chunk,encoding),Buffer.isBuffer(chunk)&&(encoding="buffer");var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(ret||(state.needDrain=!0),state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest=new WriteReq(chunk,encoding,cb),last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function onwriteError(stream,state,sync,er,cb){--state.pendingcb,sync?processNextTick(cb,er):cb(er),stream._writableState.errorEmitted=!0,stream.emit("error",er)}function onwriteStateUpdate(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}function onwrite(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if(onwriteStateUpdate(state),er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state);finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?asyncWrite(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}function afterWrite(stream,state,finished,cb){finished||onwriteDrain(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function onwriteDrain(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=new Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0;entry;)buffer[count]=entry,entry=entry.next,count+=1;doWrite(stream,state,!0,state.length,buffer,"",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,state.corkedRequestsFree=holder.next,holder.next=null}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback,len=state.objectMode?1:chunk.length;if(doWrite(stream,state,!1,len,chunk,encoding,cb),entry=entry.next,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequestCount=0,state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function prefinish(stream,state){state.prefinished||(state.prefinished=!0,stream.emit("prefinish"))}function finishMaybe(stream,state){var need=needFinish(state);return need&&(0===state.pendingcb?(prefinish(stream,state),state.finished=!0,stream.emit("finish")):prefinish(stream,state)),need}function endWritable(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?processNextTick(cb):stream.once("finish",cb)),state.ended=!0,stream.writable=!1}function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(err){var entry=_this.entry;for(_this.entry=null;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree?state.corkedRequestsFree.next=_this:state.corkedRequestsFree=_this}}module.exports=Writable;var processNextTick=__webpack_require__(7),asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:processNextTick,Buffer=__webpack_require__(0).Buffer;Writable.WritableState=WritableState;var util=__webpack_require__(4);util.inherits=__webpack_require__(2);var Stream,internalUtil={deprecate:__webpack_require__(37)};!function(){try{Stream=__webpack_require__(6)}catch(_){}finally{Stream||(Stream=__webpack_require__(5).EventEmitter)}}();var Buffer=__webpack_require__(0).Buffer;util.inherits(Writable,Stream);var Duplex;WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(_){}}();var Duplex;Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState,ret=!1;return"function"==typeof encoding&&(cb=encoding,encoding=null),Buffer.isBuffer(chunk)?encoding="buffer":encoding||(encoding=state.defaultEncoding),"function"!=typeof cb&&(cb=nop),state.ended?writeAfterEnd(this,cb):validChunk(this,state,chunk,cb)&&(state.pendingcb++,ret=writeOrBuffer(this,state,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){var state=this._writableState;state.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if("string"==typeof encoding&&(encoding=encoding.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);this._writableState.defaultEncoding=encoding},Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;"function"==typeof chunk?(cb=chunk,chunk=null,encoding=null):"function"==typeof encoding&&(cb=encoding,encoding=null),null!==chunk&&void 0!==chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||endWritable(this,state,cb)}}).call(exports,__webpack_require__(3),__webpack_require__(21).setImmediate)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(777)},function(module,exports){function toArray(list,index){var array=[];index=index||0;for(var i=index||0;i<list.length;i++)array[i-index]=list[i];return array}module.exports=toArray},function(module,exports,__webpack_require__){(function(Buffer){var isTypedArray=__webpack_require__(656).strict;module.exports=function(arr){if(isTypedArray(arr)){var buf=new Buffer(arr.buffer);return arr.byteLength!==arr.buffer.byteLength&&(buf=buf.slice(arr.byteOffset,arr.byteOffset+arr.byteLength)),buf}return new Buffer(arr)}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(module,global){var __WEBPACK_AMD_DEFINE_RESULT__;!function(root){function ucs2decode(string){for(var value,extra,output=[],counter=0,length=string.length;counter<length;)value=string.charCodeAt(counter++),value>=55296&&value<=56319&&counter<length?(extra=string.charCodeAt(counter++),56320==(64512&extra)?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--)):output.push(value);return output}function ucs2encode(array){for(var value,length=array.length,index=-1,output="";++index<length;)value=array[index],value>65535&&(value-=65536,output+=stringFromCharCode(value>>>10&1023|55296),value=56320|1023&value),output+=stringFromCharCode(value);return output}function checkScalarValue(codePoint){if(codePoint>=55296&&codePoint<=57343)throw Error("Lone surrogate U+"+codePoint.toString(16).toUpperCase()+" is not a scalar value")}function createByte(codePoint,shift){return stringFromCharCode(codePoint>>shift&63|128)}function encodeCodePoint(codePoint){if(0==(4294967168&codePoint))return stringFromCharCode(codePoint);var symbol="";return 0==(4294965248&codePoint)?symbol=stringFromCharCode(codePoint>>6&31|192):0==(4294901760&codePoint)?(checkScalarValue(codePoint),symbol=stringFromCharCode(codePoint>>12&15|224),symbol+=createByte(codePoint,6)):0==(4292870144&codePoint)&&(symbol=stringFromCharCode(codePoint>>18&7|240),symbol+=createByte(codePoint,12),symbol+=createByte(codePoint,6)),symbol+=stringFromCharCode(63&codePoint|128)}function utf8encode(string){for(var codePoint,codePoints=ucs2decode(string),length=codePoints.length,index=-1,byteString="";++index<length;)codePoint=codePoints[index],byteString+=encodeCodePoint(codePoint);return byteString}function readContinuationByte(){if(byteIndex>=byteCount)throw Error("Invalid byte index");var continuationByte=255&byteArray[byteIndex];if(byteIndex++,128==(192&continuationByte))return 63&continuationByte;throw Error("Invalid continuation byte")}function decodeSymbol(){var byte1,byte2,byte3,byte4,codePoint;if(byteIndex>byteCount)throw Error("Invalid byte index");if(byteIndex==byteCount)return!1;if(byte1=255&byteArray[byteIndex],byteIndex++,0==(128&byte1))return byte1;if(192==(224&byte1)){var byte2=readContinuationByte();if(codePoint=(31&byte1)<<6|byte2,codePoint>=128)return codePoint;throw Error("Invalid continuation byte")}if(224==(240&byte1)){if(byte2=readContinuationByte(),byte3=readContinuationByte(),codePoint=(15&byte1)<<12|byte2<<6|byte3,codePoint>=2048)return checkScalarValue(codePoint),codePoint;throw Error("Invalid continuation byte")}if(240==(248&byte1)&&(byte2=readContinuationByte(),byte3=readContinuationByte(),byte4=readContinuationByte(),codePoint=(15&byte1)<<18|byte2<<12|byte3<<6|byte4,codePoint>=65536&&codePoint<=1114111))return codePoint;throw Error("Invalid UTF-8 detected")}function utf8decode(byteString){byteArray=ucs2decode(byteString),byteCount=byteArray.length,byteIndex=0;for(var tmp,codePoints=[];(tmp=decodeSymbol())!==!1;)codePoints.push(tmp);return ucs2encode(codePoints)}var freeExports="object"==typeof exports&&exports,freeGlobal=("object"==typeof module&&module&&module.exports==freeExports&&module,"object"==typeof global&&global);freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal||(root=freeGlobal);var byteArray,byteCount,byteIndex,stringFromCharCode=String.fromCharCode,utf8={version:"2.0.0",encode:utf8encode,decode:utf8decode};__WEBPACK_AMD_DEFINE_RESULT__=function(){return utf8}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(this)}).call(exports,__webpack_require__(53)(module),__webpack_require__(9))},function(module,exports){module.exports=function(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},function(module,exports){function read(buf,offset){var b,res=0,offset=offset||0,shift=0,counter=offset,l=buf.length;do{if(counter>=l)return read.bytes=0,void(read.bytesRead=0);b=buf[counter++],res+=shift<28?(b&REST)<<shift:(b&REST)*Math.pow(2,shift),shift+=7}while(b>=MSB);return read.bytes=counter-offset,res}module.exports=read;var MSB=128,REST=127},function(module,exports){function encode(num,out,offset){out=out||[],offset=offset||0;for(var oldOffset=offset;num>=INT;)out[offset++]=255&num|MSB,num/=128;for(;num&MSBALL;)out[offset++]=255&num|MSB,num>>>=7;return out[offset]=0|num,encode.bytes=offset-oldOffset+1,out}module.exports=encode;var MSB=128,REST=127,MSBALL=~REST,INT=Math.pow(2,31)},function(module,exports){var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63);module.exports=function(value){return value<N1?1:value<N2?2:value<N3?3:value<N4?4:value<N5?5:value<N6?6:value<N7?7:value<N8?8:value<N9?9:10}},function(module,exports,__webpack_require__){function Context(){}var indexOf=__webpack_require__(171),Object_keys=function(obj){if(Object.keys)return Object.keys(obj);var res=[];for(var key in obj)res.push(key);return res},forEach=function(xs,fn){if(xs.forEach)return xs.forEach(fn);for(var i=0;i<xs.length;i++)fn(xs[i],i,xs)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(obj,name,value){Object.defineProperty(obj,name,{writable:!0,enumerable:!1,configurable:!0,value:value})}}catch(e){return function(obj,name,value){obj[name]=value}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(code){return this instanceof Script?void(this.code=code):new Script(code)};Script.prototype.runInContext=function(context){if(!(context instanceof Context))throw new TypeError("needs a 'context' argument.");var iframe=document.createElement("iframe");iframe.style||(iframe.style={}),iframe.style.display="none",document.body.appendChild(iframe);var win=iframe.contentWindow,wEval=win.eval,wExecScript=win.execScript;!wEval&&wExecScript&&(wExecScript.call(win,"null"),wEval=win.eval),forEach(Object_keys(context),function(key){win[key]=context[key]}),forEach(globals,function(key){context[key]&&(win[key]=context[key])});var winKeys=Object_keys(win),res=wEval.call(win,this.code);return forEach(Object_keys(win),function(key){(key in context||indexOf(winKeys,key)===-1)&&(context[key]=win[key])}),forEach(globals,function(key){key in context||defineProp(context,key,win[key])}),document.body.removeChild(iframe),res},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(context){var ctx=Script.createContext(context),res=this.runInContext(ctx);return forEach(Object_keys(ctx),function(key){context[key]=ctx[key]}),res},forEach(Object_keys(Script.prototype),function(name){exports[name]=Script[name]=function(code){var s=Script(code);return s[name].apply(s,[].slice.call(arguments,1))}}),exports.createScript=function(code){return exports.Script(code)},exports.createContext=Script.createContext=function(context){var copy=new Context;return"object"==typeof context&&forEach(Object_keys(context),function(key){copy[key]=context[key]}),copy}},function(module,exports,__webpack_require__){(function(global){var isNode=!global.window;isNode?module.exports=__webpack_require__(806):module.exports=__webpack_require__(244)}).call(exports,__webpack_require__(9))},function(module,exports){function wrappy(fn,cb){function wrapper(){for(var args=new Array(arguments.length),i=0;i<args.length;i++)args[i]=arguments[i];var ret=fn.apply(this,args),cb=args[args.length-1];return"function"==typeof ret&&ret!==cb&&Object.keys(cb).forEach(function(k){ret[k]=cb[k]}),ret}if(fn&&cb)return wrappy(fn)(cb);if("function"!=typeof fn)throw new TypeError("need wrapper function");return Object.keys(fn).forEach(function(k){wrapper[k]=fn[k]}),wrapper}module.exports=wrappy},function(module,exports){(function(__webpack_amd_options__){module.exports=__webpack_amd_options__}).call(exports,{})},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports,__webpack_require__){__webpack_require__(317),module.exports=__webpack_require__(316)}]);